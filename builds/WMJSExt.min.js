var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var m=0;return function(){return m<c.length?{done:!1,value:c[m++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,m,v){if(c==Array.prototype||c==Object.prototype)return c;c[m]=v.value;return c};$jscomp.getGlobal=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(c,m){var v=$jscomp.propertyToPolyfillSymbol[m];if(null==v)return c[m];v=c[v];return void 0!==v?v:c[m]};
$jscomp.polyfill=function(c,m,v,F){m&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(c,m,v,F):$jscomp.polyfillUnisolated(c,m,v,F))};$jscomp.polyfillUnisolated=function(c,m,v,F){v=$jscomp.global;c=c.split(".");for(F=0;F<c.length-1;F++){var D=c[F];if(!(D in v))return;v=v[D]}c=c[c.length-1];F=v[c];m=m(F);m!=F&&null!=m&&$jscomp.defineProperty(v,c,{configurable:!0,writable:!0,value:m})};
$jscomp.polyfillIsolated=function(c,m,v,F){var D=c.split(".");c=1===D.length;F=D[0];F=!c&&F in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var ea=0;ea<D.length-1;ea++){var J=D[ea];if(!(J in F))return;F=F[J]}D=D[D.length-1];v=$jscomp.IS_SYMBOL_NATIVE&&"es6"===v?F[D]:null;m=m(v);null!=m&&(c?$jscomp.defineProperty($jscomp.polyfills,D,{configurable:!0,writable:!0,value:m}):m!==v&&(void 0===$jscomp.propertyToPolyfillSymbol[D]&&(v=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[D]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(D):$jscomp.POLYFILL_PREFIX+v+"$"+D),$jscomp.defineProperty(F,$jscomp.propertyToPolyfillSymbol[D],{configurable:!0,writable:!0,value:m})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(c){if(c)return c;var m=function(ea,J){this.$jscomp$symbol$id_=ea;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:J})};m.prototype.toString=function(){return this.$jscomp$symbol$id_};var v="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",F=0,D=function(ea){if(this instanceof D)throw new TypeError("Symbol is not a constructor");return new m(v+(ea||"")+"_"+F++,ea)};return D},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var m="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),v=0;v<m.length;v++){var F=$jscomp.global[m[v]];"function"===typeof F&&"function"!=typeof F.prototype[c]&&$jscomp.defineProperty(F.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return c},"es6",
"es3");$jscomp.iteratorPrototype=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};$jscomp.createTemplateTagFirstArg=function(c){return c.raw=c};$jscomp.createTemplateTagFirstArgWithRaw=function(c,m){c.raw=m;return c};$jscomp.makeIterator=function(c){var m="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return m?m.call(c):$jscomp.arrayIterator(c)};$jscomp.arrayFromIterator=function(c){for(var m,v=[];!(m=c.next()).done;)v.push(m.value);return v};
$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(c){var m=function(){};m.prototype=c;return new m};
$jscomp.getConstructImplementation=function(){function c(){function v(){}new v;Reflect.construct(v,[],function(){});return new v instanceof v}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(c())return Reflect.construct;var m=Reflect.construct;return function(v,F,D){v=m(v,F);D&&Reflect.setPrototypeOf(v,D.prototype);return v}}return function(v,F,D){void 0===D&&(D=v);D=$jscomp.objectCreate(D.prototype||Object.prototype);return Function.prototype.apply.call(v,D,F)||
D}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var c={a:!0},m={};try{return m.__proto__=c,m.a}catch(v){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(c,m){c.__proto__=m;if(c.__proto__!==m)throw new TypeError(c+" is not extensible");return c}:null;
$jscomp.inherits=function(c,m){c.prototype=$jscomp.objectCreate(m.prototype);c.prototype.constructor=c;if($jscomp.setPrototypeOf){var v=$jscomp.setPrototypeOf;v(c,m)}else for(v in m)if("prototype"!=v)if(Object.defineProperties){var F=Object.getOwnPropertyDescriptor(m,v);F&&Object.defineProperty(c,v,F)}else c[v]=m[v];c.superClass_=m.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(c){if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(c){this.yieldResult=c};
$jscomp.generator.Context.prototype.throw_=function(c){this.abruptCompletion_={exception:c,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(c){this.abruptCompletion_={return:c};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(c){this.abruptCompletion_={jumpTo:c};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(c,m){this.nextAddress=m;return{value:c}};
$jscomp.generator.Context.prototype.yieldAll=function(c,m){c=$jscomp.makeIterator(c);var v=c.next();$jscomp.generator.ensureIteratorResultIsObject_(v);if(v.done)this.yieldResult=v.value,this.nextAddress=m;else return this.yieldAllIterator_=c,this.yield(v.value,m)};$jscomp.generator.Context.prototype.jumpTo=function(c){this.nextAddress=c};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(c,m){this.catchAddress_=c;void 0!=m&&(this.finallyAddress_=m)};$jscomp.generator.Context.prototype.setFinallyBlock=function(c){this.catchAddress_=0;this.finallyAddress_=c||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(c,m){this.nextAddress=c;this.catchAddress_=m||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(c){this.catchAddress_=c||0;c=this.abruptCompletion_.exception;this.abruptCompletion_=null;return c};$jscomp.generator.Context.prototype.enterFinallyBlock=function(c,m,v){v?this.finallyContexts_[v]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=c||0;this.finallyAddress_=m||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(c,m){m=this.finallyContexts_.splice(m||0)[0];if(m=this.abruptCompletion_=this.abruptCompletion_||m){if(m.isException)return this.jumpToErrorHandler_();void 0!=m.jumpTo&&this.finallyAddress_<m.jumpTo?(this.nextAddress=m.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=c};$jscomp.generator.Context.prototype.forIn=function(c){return new $jscomp.generator.Context.PropertyIterator(c)};
$jscomp.generator.Context.PropertyIterator=function(c){this.object_=c;this.properties_=[];for(var m in c)this.properties_.push(m);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var c=this.properties_.pop();if(c in this.object_)return c}return null};$jscomp.generator.Engine_=function(c){this.context_=new $jscomp.generator.Context;this.program_=c};
$jscomp.generator.Engine_.prototype.next_=function(c){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,c,this.context_.next_);this.context_.next_(c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(c){this.context_.start_();var m=this.context_.yieldAllIterator_;if(m)return this.yieldAllStep_("return"in m?m["return"]:function(v){return{value:v,done:!0}},c,this.context_.return);this.context_.return(c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(c){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],c,this.context_.next_);this.context_.throw_(c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(c,m,v){try{var F=c.call(this.context_.yieldAllIterator_,m);$jscomp.generator.ensureIteratorResultIsObject_(F);if(!F.done)return this.context_.stop_(),F;var D=F.value}catch(ea){return this.context_.yieldAllIterator_=null,this.context_.throw_(ea),this.nextStep_()}this.context_.yieldAllIterator_=null;v.call(this.context_,D);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var c=this.program_(this.context_);if(c)return this.context_.stop_(),{value:c.value,done:!1}}catch(m){this.context_.yieldResult=void 0,this.context_.throw_(m)}this.context_.stop_();if(this.context_.abruptCompletion_){c=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(c.isException)throw c.exception;return{value:c.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(c){this.next=function(m){return c.next_(m)};this.throw=function(m){return c.throw_(m)};this.return=function(m){return c.return_(m)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(c,m){m=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(m));$jscomp.setPrototypeOf&&c.prototype&&$jscomp.setPrototypeOf(m,c.prototype);return m};
$jscomp.asyncExecutePromiseGenerator=function(c){function m(F){return c.next(F)}function v(F){return c.throw(F)}return new Promise(function(F,D){function ea(J){J.done?F(J.value):Promise.resolve(J.value).then(m,v).then(ea,D)}ea(c.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(c){return $jscomp.asyncExecutePromiseGenerator(c())};$jscomp.asyncExecutePromiseGeneratorProgram=function(c){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c)))};
$jscomp.polyfill("Reflect",function(c){return c?c:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(c){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Reflect.setPrototypeOf",function(c){if(c)return c;if($jscomp.setPrototypeOf){var m=$jscomp.setPrototypeOf;return function(v,F){try{return m(v,F),!0}catch(D){return!1}}}return null},"es6","es5");
$jscomp.polyfill("Promise",function(c){function m(){this.batch_=null}function v(J){return J instanceof D?J:new D(function(N,K){N(J)})}if(c&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return c;m.prototype.asyncExecute=function(J){if(null==this.batch_){this.batch_=[];var N=this;this.asyncExecuteFunction(function(){N.executeBatch_()})}this.batch_.push(J)};
var F=$jscomp.global.setTimeout;m.prototype.asyncExecuteFunction=function(J){F(J,0)};m.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var J=this.batch_;this.batch_=[];for(var N=0;N<J.length;++N){var K=J[N];J[N]=null;try{K()}catch(Z){this.asyncThrow_(Z)}}}this.batch_=null};m.prototype.asyncThrow_=function(J){this.asyncExecuteFunction(function(){throw J;})};var D=function(J){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var N=this.createResolveAndReject_();
try{J(N.resolve,N.reject)}catch(K){N.reject(K)}};D.prototype.createResolveAndReject_=function(){function J(Z){return function(da){K||(K=!0,Z.call(N,da))}}var N=this,K=!1;return{resolve:J(this.resolveTo_),reject:J(this.reject_)}};D.prototype.resolveTo_=function(J){if(J===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(J instanceof D)this.settleSameAsPromise_(J);else{a:switch(typeof J){case "object":var N=null!=J;break a;case "function":N=!0;break a;default:N=!1}N?this.resolveToNonPromiseObj_(J):
this.fulfill_(J)}};D.prototype.resolveToNonPromiseObj_=function(J){var N=void 0;try{N=J.then}catch(K){this.reject_(K);return}"function"==typeof N?this.settleSameAsThenable_(N,J):this.fulfill_(J)};D.prototype.reject_=function(J){this.settle_(2,J)};D.prototype.fulfill_=function(J){this.settle_(1,J)};D.prototype.settle_=function(J,N){if(0!=this.state_)throw Error("Cannot settle("+J+", "+N+"): Promise already settled in state"+this.state_);this.state_=J;this.result_=N;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};D.prototype.scheduleUnhandledRejectionCheck_=function(){var J=this;F(function(){if(J.notifyUnhandledRejection_()){var N=$jscomp.global.console;"undefined"!==typeof N&&N.error(J.result_)}},1)};D.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var J=$jscomp.global.CustomEvent,N=$jscomp.global.Event,K=$jscomp.global.dispatchEvent;if("undefined"===typeof K)return!0;"function"===typeof J?J=new J("unhandledrejection",{cancelable:!0}):
"function"===typeof N?J=new N("unhandledrejection",{cancelable:!0}):(J=$jscomp.global.document.createEvent("CustomEvent"),J.initCustomEvent("unhandledrejection",!1,!0,J));J.promise=this;J.reason=this.result_;return K(J)};D.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var J=0;J<this.onSettledCallbacks_.length;++J)ea.asyncExecute(this.onSettledCallbacks_[J]);this.onSettledCallbacks_=null}};var ea=new m;D.prototype.settleSameAsPromise_=function(J){var N=this.createResolveAndReject_();
J.callWhenSettled_(N.resolve,N.reject)};D.prototype.settleSameAsThenable_=function(J,N){var K=this.createResolveAndReject_();try{J.call(N,K.resolve,K.reject)}catch(Z){K.reject(Z)}};D.prototype.then=function(J,N){function K(ca,sa){return"function"==typeof ca?function(qa){try{Z(ca(qa))}catch(ua){da(ua)}}:sa}var Z,da,U=new D(function(ca,sa){Z=ca;da=sa});this.callWhenSettled_(K(J,Z),K(N,da));return U};D.prototype.catch=function(J){return this.then(void 0,J)};D.prototype.callWhenSettled_=function(J,N){function K(){switch(Z.state_){case 1:J(Z.result_);
break;case 2:N(Z.result_);break;default:throw Error("Unexpected state: "+Z.state_);}}var Z=this;null==this.onSettledCallbacks_?ea.asyncExecute(K):this.onSettledCallbacks_.push(K);this.isRejectionHandled_=!0};D.resolve=v;D.reject=function(J){return new D(function(N,K){K(J)})};D.race=function(J){return new D(function(N,K){for(var Z=$jscomp.makeIterator(J),da=Z.next();!da.done;da=Z.next())v(da.value).callWhenSettled_(N,K)})};D.all=function(J){var N=$jscomp.makeIterator(J),K=N.next();return K.done?v([]):
new D(function(Z,da){function U(qa){return function(ua){ca[qa]=ua;sa--;0==sa&&Z(ca)}}var ca=[],sa=0;do ca.push(void 0),sa++,v(K.value).callWhenSettled_(U(ca.length-1),da),K=N.next();while(!K.done)})};return D},"es6","es3");$jscomp.findInternal=function(c,m,v){c instanceof String&&(c=String(c));for(var F=c.length,D=0;D<F;D++){var ea=c[D];if(m.call(v,ea,D,c))return{i:D,v:ea}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(m,v){return $jscomp.findInternal(this,m,v).v}},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(c){return c?c:function(m,v,F){var D=this.length||0;0>v&&(v=Math.max(0,D+v));if(null==F||F>D)F=D;F=Number(F);0>F&&(F=Math.max(0,D+F));for(v=Number(v||0);v<F;v++)this[v]=m;return this}},"es6","es3");$jscomp.typedArrayFill=function(c){return c?c:Array.prototype.fill};
$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Object.is",function(c){return c?c:function(m,v){return m===v?0!==m||1/m===1/v:m!==m&&v!==v}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(m,v){var F=this;F instanceof String&&(F=String(F));var D=F.length;v=v||0;for(0>v&&(v=Math.max(v+D,0));v<D;v++){var ea=F[v];if(ea===m||Object.is(ea,m))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(c,m,v){if(null==c)throw new TypeError("The 'this' value for String.prototype."+v+" must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype."+v+" must not be a regular expression");return c+""};$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(m,v){return-1!==$jscomp.checkStringArgs(this,m,"includes").indexOf(m,v||0)}},"es6","es3");
$jscomp.polyfill("Array.from",function(c){return c?c:function(m,v,F){v=null!=v?v:function(N){return N};var D=[],ea="undefined"!=typeof Symbol&&Symbol.iterator&&m[Symbol.iterator];if("function"==typeof ea){m=ea.call(m);for(var J=0;!(ea=m.next()).done;)D.push(v.call(F,ea.value,J++))}else for(ea=m.length,J=0;J<ea;J++)D.push(v.call(F,m[J],J));return D}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var c={},m=Object.create(new $jscomp.global.Proxy(c,{get:function(v,F,D){return v==c&&"q"==F&&D==m}}));return!0===m.q}catch(v){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(c,m){return Object.prototype.hasOwnProperty.call(c,m)};
$jscomp.polyfill("WeakMap",function(c){function m(){if(!c||!Object.seal)return!1;try{var Z=Object.seal({}),da=Object.seal({}),U=new c([[Z,2],[da,3]]);if(2!=U.get(Z)||3!=U.get(da))return!1;U.delete(Z);U.set(da,4);return!U.has(Z)&&4==U.get(da)}catch(ca){return!1}}function v(){}function F(Z){var da=typeof Z;return"object"===da&&null!==Z||"function"===da}function D(Z){if(!$jscomp.owns(Z,J)){var da=new v;$jscomp.defineProperty(Z,J,{value:da})}}function ea(Z){if(!$jscomp.ISOLATE_POLYFILLS){var da=Object[Z];
da&&(Object[Z]=function(U){if(U instanceof v)return U;Object.isExtensible(U)&&D(U);return da(U)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(m())return c;var J="$jscomp_hidden_"+Math.random();ea("freeze");ea("preventExtensions");ea("seal");var N=0,K=function(Z){this.id_=(N+=Math.random()+1).toString();if(Z){Z=$jscomp.makeIterator(Z);for(var da;!(da=Z.next()).done;)da=da.value,this.set(da[0],da[1])}};K.prototype.set=function(Z,da){if(!F(Z))throw Error("Invalid WeakMap key");
D(Z);if(!$jscomp.owns(Z,J))throw Error("WeakMap key fail: "+Z);Z[J][this.id_]=da;return this};K.prototype.get=function(Z){return F(Z)&&$jscomp.owns(Z,J)?Z[J][this.id_]:void 0};K.prototype.has=function(Z){return F(Z)&&$jscomp.owns(Z,J)&&$jscomp.owns(Z[J],this.id_)};K.prototype.delete=function(Z){return F(Z)&&$jscomp.owns(Z,J)&&$jscomp.owns(Z[J],this.id_)?delete Z[J][this.id_]:!1};return K},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(c){function m(){if($jscomp.ASSUME_NO_NATIVE_MAP||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var K=Object.seal({x:4}),Z=new c($jscomp.makeIterator([[K,"s"]]));if("s"!=Z.get(K)||1!=Z.size||Z.get({x:4})||Z.set({x:4},"t")!=Z||2!=Z.size)return!1;var da=Z.entries(),U=da.next();if(U.done||U.value[0]!=K||"s"!=U.value[1])return!1;U=da.next();return U.done||4!=U.value[0].x||"t"!=U.value[1]||!da.next().done?!1:!0}catch(ca){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(m())return c;var v=new WeakMap,F=function(K){this.data_={};this.head_=J();this.size=0;if(K){K=$jscomp.makeIterator(K);for(var Z;!(Z=K.next()).done;)Z=Z.value,this.set(Z[0],Z[1])}};F.prototype.set=function(K,Z){K=0===K?0:K;var da=D(this,K);da.list||(da.list=this.data_[da.id]=[]);da.entry?da.entry.value=Z:(da.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:K,value:Z},da.list.push(da.entry),
this.head_.previous.next=da.entry,this.head_.previous=da.entry,this.size++);return this};F.prototype.delete=function(K){K=D(this,K);return K.entry&&K.list?(K.list.splice(K.index,1),K.list.length||delete this.data_[K.id],K.entry.previous.next=K.entry.next,K.entry.next.previous=K.entry.previous,K.entry.head=null,this.size--,!0):!1};F.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=J();this.size=0};F.prototype.has=function(K){return!!D(this,K).entry};F.prototype.get=function(K){return(K=
D(this,K).entry)&&K.value};F.prototype.entries=function(){return ea(this,function(K){return[K.key,K.value]})};F.prototype.keys=function(){return ea(this,function(K){return K.key})};F.prototype.values=function(){return ea(this,function(K){return K.value})};F.prototype.forEach=function(K,Z){for(var da=this.entries(),U;!(U=da.next()).done;)U=U.value,K.call(Z,U[1],U[0],this)};F.prototype[Symbol.iterator]=F.prototype.entries;var D=function(K,Z){var da=Z&&typeof Z;"object"==da||"function"==da?v.has(Z)?
da=v.get(Z):(da=""+ ++N,v.set(Z,da)):da="p_"+Z;var U=K.data_[da];if(U&&$jscomp.owns(K.data_,da))for(K=0;K<U.length;K++){var ca=U[K];if(Z!==Z&&ca.key!==ca.key||Z===ca.key)return{id:da,list:U,index:K,entry:ca}}return{id:da,list:U,index:-1,entry:void 0}},ea=function(K,Z){var da=K.head_;return $jscomp.iteratorPrototype(function(){if(da){for(;da.head!=K.head_;)da=da.previous;for(;da.next!=da.head;)return da=da.next,{done:!1,value:Z(da)};da=null}return{done:!0,value:void 0}})},J=function(){var K={};return K.previous=
K.next=K.head=K},N=0;return F},"es6","es3");
$jscomp.polyfill("Set",function(c){function m(){if($jscomp.ASSUME_NO_NATIVE_SET||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var F=Object.seal({x:4}),D=new c($jscomp.makeIterator([F]));if(!D.has(F)||1!=D.size||D.add(F)!=D||1!=D.size||D.add({x:4})!=D||2!=D.size)return!1;var ea=D.entries(),J=ea.next();if(J.done||J.value[0]!=F||J.value[1]!=F)return!1;J=ea.next();return J.done||J.value[0]==F||4!=J.value[0].x||J.value[1]!=J.value[0]?!1:ea.next().done}catch(N){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(m())return c;var v=function(F){this.map_=new Map;if(F){F=$jscomp.makeIterator(F);for(var D;!(D=F.next()).done;)this.add(D.value)}this.size=this.map_.size};v.prototype.add=function(F){F=0===F?0:F;this.map_.set(F,F);this.size=this.map_.size;return this};v.prototype.delete=function(F){F=this.map_.delete(F);this.size=this.map_.size;return F};v.prototype.clear=function(){this.map_.clear();this.size=0};v.prototype.has=
function(F){return this.map_.has(F)};v.prototype.entries=function(){return this.map_.entries()};v.prototype.values=function(){return this.map_.values()};v.prototype.keys=v.prototype.values;v.prototype[Symbol.iterator]=v.prototype.values;v.prototype.forEach=function(F,D){var ea=this;this.map_.forEach(function(J){return F.call(D,J,J,ea)})};return v},"es6","es3");
$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(c,m){for(var v=1;v<arguments.length;v++){var F=arguments[v];if(F)for(var D in F)$jscomp.owns(F,D)&&(c[D]=F[D])}return c};$jscomp.polyfill("Object.assign",function(c){return c||$jscomp.assign},"es6","es3");$jscomp.polyfill("Object.values",function(c){return c?c:function(m){var v=[],F;for(F in m)$jscomp.owns(m,F)&&v.push(m[F]);return v}},"es8","es3");
$jscomp.polyfill("Math.hypot",function(c){return c?c:function(m){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var v,F,D;for(v=D=0;v<arguments.length;v++)D=Math.max(D,Math.abs(arguments[v]));if(1E100<D||1E-100>D){if(!D)return D;for(v=F=0;v<arguments.length;v++){var ea=Number(arguments[v])/D;F+=ea*ea}return Math.sqrt(F)*D}for(v=F=0;v<arguments.length;v++)ea=Number(arguments[v]),F+=ea*ea;return Math.sqrt(F)}},"es6","es3");
$jscomp.polyfill("Math.sign",function(c){return c?c:function(m){m=Number(m);return 0===m||isNaN(m)?m:0<m?1:-1}},"es6","es3");$jscomp.polyfill("Math.log1p",function(c){return c?c:function(m){m=Number(m);if(.25>m&&-.25<m){for(var v=m,F=1,D=m,ea=0,J=1;ea!=D;)v*=m,J*=-1,D=(ea=D)+J*v/++F;return D}return Math.log(1+m)}},"es6","es3");$jscomp.polyfill("Math.log10",function(c){return c?c:function(m){return Math.log(m)/Math.LN10}},"es6","es3");
$jscomp.polyfill("Math.log2",function(c){return c?c:function(m){return Math.log(m)/Math.LN2}},"es6","es3");$jscomp.polyfill("Math.expm1",function(c){return c?c:function(m){m=Number(m);if(.25>m&&-.25<m){for(var v=m,F=1,D=m,ea=0;ea!=D;)v*=m/++F,D=(ea=D)+v;return D}return Math.exp(m)-1}},"es6","es3");
$jscomp.iteratorFromArray=function(c,m){c instanceof String&&(c+="");var v=0,F=!1,D={next:function(){if(!F&&v<c.length){var ea=v++;return{value:m(ea,c[ea]),done:!1}}F=!0;return{done:!0,value:void 0}}};D[Symbol.iterator]=function(){return D};return D};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(m){return m})}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(c){return c?c:function(m,v){var F=$jscomp.checkStringArgs(this,m,"endsWith");m+="";void 0===v&&(v=F.length);v=Math.max(0,Math.min(v|0,F.length));for(var D=m.length;0<D&&0<v;)if(F[--v]!=m[--D])return!1;return 0>=D}},"es6","es3");var WMJSExtApplications=[];Ext.define("webmapjsext.WMJSExt.LayerPropertiesPanel",{extend:"Ext.tab.Panel",alias:"WMJSExtLayerPropertiesPanel",initComponent:function(){var c=this;c.applyColorScaleRange=function(){var v=c.getComponent("wmsextensions").getComponent("colorscalerangeminvalue").getValue(),F=c.getComponent("wmsextensions").getComponent("colorscalerangemaxvalue").getValue();c.WMJSLayerObject.wmsextensions({colorscalerange:v+","+F});c.WMJSLayerObject.draw("LayerPropertiesPanel::applyColorScaleRange")};c.applyWMSVersion=
function(){var v=c.getComponent("wmsversionpanel").getComponent("wmsversion").getValue();c.WMJSLayerObject.version=v;c.WMJSLayerObject.draw("LayerPropertiesPanel::applyWMSVersion")};c.projectionStore=Ext.create("Ext.data.Store",{fields:["title","srs","bbox"],data:{items:[]},proxy:{type:"memory",reader:{type:"json",root:"items"}}});var m=function(){Ext.create("Ext.window.Window",{width:"90%",height:"90%",autoDestroy:!0,closeAction:"close",maximizable:!0,layout:"fit",items:[Ext.create("WCSPanel",{autoDestroy:!0,
closeAction:"close",WMJSLayer:c.WMJSLayerObject})]}).show()};Ext.apply(this,{layout:"fit",frame:!1,border:!1,margin:0,items:[{xtype:"panel",title:I18n.color_range.text,margin:6,itemId:"wmsextensions",items:[{itemId:"colorscalerangeminvalue",xtype:"numberfield",fieldLabel:I18n.min_value.text,value:0,margin:6,listeners:{specialkey:function(v,F){F.getKey()==F.ENTER&&c.applyColorScaleRange()}}},{itemId:"colorscalerangemaxvalue",xtype:"numberfield",fieldLabel:I18n.max_value.text,value:"1.0",margin:6,listeners:{specialkey:function(v,
F){F.getKey()==F.ENTER&&c.applyColorScaleRange()}}}],buttons:[{xtype:"button",text:I18n.reset.text,handler:function(){c.WMJSLayerObject.wmsextensions({colorscalerange:""});c.WMJSLayerObject.draw("LayerPropertiesPanel::reset")}},{xtype:"button",text:I18n.apply.text,handler:function(){c.applyColorScaleRange()}}]},{xtype:"panel",title:I18n.wms_version.text,margin:6,itemId:"wmsversionpanel",items:[{itemId:"wmsversion",xtype:"textfield",labelWidth:250,margin:6,fieldLabel:I18n.wms_version.text,value:c.WMJSLayerObject.version,
listeners:{specialkey:function(v,F){F.getKey()==F.ENTER&&c.applyWMSVersion()}}},{xtype:"checkbox",itemId:"usewms130comaptmode",labelWidth:250,fieldLabel:I18n.wms_comp_mode.text,margin:6,listeners:{change:function(v,F){c.WMJSLayerObject.wms130bboxcompatibilitymode=F;c.WMJSLayerObject.draw("LayerPropertiesPanel::WMS1.3.0CompatMode")}}}]},{xtype:"panel",title:I18n.projections.text,margin:6,itemId:"wmsprojectionpanel",layout:"fit",items:[{xtype:"grid",border:!1,store:c.projectionStore,columns:[{text:I18n.title.text,
dataIndex:"title",flex:2},{text:I18n.epsg_code.text,dataIndex:"srs",flex:1},{text:I18n.bounding_box.text,dataIndex:"bbox",flex:2}],listeners:{select:{fn:function(v,F){v=F.get("bbox");F=F.get("srs");c.WMJSLayerObject.parentMaps[0].setProjection({srs:F,bbox:v});c.WMJSLayerObject.parentMaps[0].draw("wmsprojectionpanel")}}}}],listeners:{show:{fn:function(){c.projectionStore.removeAll();for(var v=0;v<c.WMJSLayerObject.projectionProperties.length;v++){var F=c.WMJSLayerObject.projectionProperties[v].srs;
try{F=epsgDescriptionLookup[c.WMJSLayerObject.projectionProperties[v].srs]}catch(D){}isDefined(F)||(F=c.WMJSLayerObject.projectionProperties[v].srs);c.projectionStore.add({title:F,srs:c.WMJSLayerObject.projectionProperties[v].srs,bbox:c.WMJSLayerObject.projectionProperties[v].bbox})}}}}},{xtype:"panel",title:I18n.file_metadata.text,margin:6,itemId:"wmsfilemetadatapanel",layout:"fit",listeners:{show:{fn:function(){c.getComponent("wmsfilemetadatapanel").update('<a target="_blank" href="'+c.WMJSLayerObject.service+
"&service=wms&request=getmetadata&format=image/png&srs=EPSG:4326&layer="+c.WMJSLayerObject.name+'">'+I18n.show_file_metadata.text+"</a>")}}}},{xtype:"panel",title:I18n.download_data_wcs.text,margin:6,itemId:"wcs",layout:"fit",items:[{xtype:"button",text:I18n.show.text,handler:function(){m()}}],listeners:{show:{fn:function(){m()}}}}],listeners:{afterlayout:{fn:function(){}}}});webmapjsext.WMJSExt.LayerPropertiesPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.StylePanel",{extend:"Ext.panel.Panel",alias:"WMJSExtStylePanel",initComponent:function(){var c=this;c.buildData=function(){var m=[];if(!this.WMJSLayerObject.styles)return{name:I18n.default.text,title:I18n.default.text,abstracttext:I18n.no_styles_available.text};for(var v=0;v<c.WMJSLayerObject.styles.length;v++){var F={title:c.WMJSLayerObject.styles[v].title,name:c.WMJSLayerObject.styles[v].name,abstracttext:c.WMJSLayerObject.styles[v].abstracttext,legend:c.WMJSLayerObject.styles[v].legendURL};
m.push(F);0==v&&(c.defaultStyle=F)}return m};c.store=Ext.create("Ext.data.Store",{fields:[{name:"title",type:"string"},{name:"name",type:"string"},{name:"legend",type:"string"},{name:"abstracttext",type:"string"}]});c.grid=Ext.create("Ext.grid.Panel",{store:c.store,columns:[{header:I18n.title.text,dataIndex:"title",width:180},{header:I18n.name.text,dataIndex:"name",width:100},{header:I18n.description.text,dataIndex:"abstracttext",flex:!0}],border:0,listeners:{itemclick:{fn:function(m,v,F,D,ea,J){c.itemclick&&
c.itemclick(c,{name:v.get("name"),title:v.get("title")})}},itemmouseenter:{fn:function(m,v,F,D,ea,J){m=v.get("legend");c.legendWindow||(c.legendWindow=Ext.create("Ext.window.Window",{header:!1,layout:"auto",width:200,minHeight:300,autoDestroy:!1,closeAction:"hide",autoScroll:!1}));v=c.getPosition()[0]+c.getWidth()+10;F=c.getPosition()[1];c.legendWindow.showAt([v,F]);c.legendWindow.update('<img class="legendimage" src="'+m+'&transparent=true"/>')}},itemmouseleave:{fn:function(){c.legendWindow.hide()}}}});
c.loadStyles=function(m){c.WMJSLayerObject=m;c.store.loadRawData(c.buildData())};Ext.apply(this,{closable:!0,border:!1,layout:"fit",maxHeight:300,autoScroll:!0,items:[this.grid]});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.DimensionPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtDimensionPanel",initComponent:function(c){var m=this;m.currentValue=void 0;m.currentSize=void 0;var v=0;try{v=this.dimension.getIndexForValue(this.dimension.defaultValue)}catch(D){}if(m.dimension.currentValue)try{v=this.dimension.getIndexForValue(m.dimension.currentValue)}catch(D){}-1==v&&(v=m.dimension.size()-1);m.currentIndex=v;try{m.dimension.currentValue=m.dimension.getValueForIndex(v)}catch(D){error("WMJSExtDimensionPanel: getValueForIndex "+
v+" failed")}m.dimSlider=Ext.create("Ext.slider.Single",{width:50,useTips:!1,region:"center",value:v,minValue:0,maxValue:m.dimension.size()-1,increment:1,listeners:{drag:{fn:function(D){m.sliderChanged(D.getValue())}},change:{fn:function(D){m.sliderChanged(D.getValue())}}}});m.setValue=function(D){if(D!==m.currentValue||m.dimension.size()!==m.currentSize)return m._setValue(D)};m._setValue=function(D){m.currentValue=D;m.currentSize=m.dimension.size();try{if(D==WMJSDateTooEarlyString)m.currentIndex=
0,m.dimensionValueLabel.setValueText(WMJSDateTooEarlyString);else if(D==WMJSDateTooLateString)m.currentIndex=m.dimension.size()-1,m.dimensionValueLabel.setValueText(WMJSDateTooLateString);else if(m.currentIndex=this.dimension.getIndexForValue(D),-1!=m.currentIndex)m.dimensionValueLabel.setValueText(m.getValue());else{var ea=parseISO8601DateToDate(D),J=parseISO8601DateToDate(m.dimension.get(0)),N=parseISO8601DateToDate(m.dimension.get(m.dimension.size()-1));ea.getTime()<J.getTime()?(m.dimensionValueLabel.setValueText(WMJSDateTooEarlyString),
m.layer.setDimension(m.dimension.name,WMJSDateTooEarlyString),m.currentIndex=0):ea.getTime()>N.getTime()?(m.dimensionValueLabel.setValueText(WMJSDateTooLateString),m.layer.setDimension(m.dimension.name,WMJSDateTooLateString),m.currentIndex=m.dimension.size()-1):(m.dimensionValueLabel.setValueText(WMJSDateOutSideRange),m.layer.setDimension(m.dimension.name,WMJSDateOutSideRange))}}catch(K){m.dimensionValueLabel.setValueText(WMJSDateOutSideRange),m.layer.setDimension(m.dimension.name,WMJSDateOutSideRange),
m.currentIndex=0}m.dimSlider.suspendEvents();m.dimSlider.setValue(m.currentIndex,!1);m.dimSlider.resumeEvents()};m.checkReferenceTime=function(D){for(var ea=-1,J=-1,N=0;N<m.dimensionPanels.length;N++){var K=m.layer.getDimension(m.dimensionPanels[N].dimension.name);"time"==K.name&&"ISO8601"==K.units&&(J=N);"reference_time"==K.name&&"ISO8601"==K.units&&(ea=N)}m.dimSlider.suspendEvents();if(-1!=J&&-1!=ea&&(N=m.layer.getDimension(m.dimensionPanels[J].dimension.name),K=m.layer.getDimension(m.dimensionPanels[ea].dimension.name),
N.getValue()<K.getValue()))if(m.dimensionPanels[ea].dimension.name==D.name){D=N.getValue();do D=N.get(N.getIndexForValue(D)+1);while(D<K.getValue());m.dimensionPanels[J].dimSlider.setValue(N.getIndexForValue(D),!1)}else if(m.dimensionPanels[J].dimension.name==D.name){D=K.getValue();do D=K.get(K.getIndexForValue(D)-1);while(D>K.getValue());m.dimensionPanels[ea].dimSlider.setValue(K.getIndexForValue(D),!1)}m.dimSlider.resumeEvents()};m.sliderChanged=function(D){try{m.layer.parentMaps[0].stopAnimating()}catch(ea){}m.currentIndex=
D;m.dimensionValueLabel.setValueText(m.getValue());m.layer.setDimension(m.dimension.name,m.getValue());m.layer.draw("DimensionPanel::sliderChanged");isDefined(m.dateTimeWindow)&&m.dateTimeWindow.setDimension(this.dimension)};m.getValue=function(){return m.dimension.get(m.currentIndex)};m.dimensionValueLabel=Ext.create("Ext.form.Label",{cls:"dimensionValueLabel",xtype:"label",region:"center",text:m.getValue()});m.dimensionTitleLabel=Ext.create("Ext.form.Label",{cls:"dimensionTitleLabel",xtype:"label",
region:"center",text:""});m.dimensionPositionLabel=Ext.create("Ext.form.Label",{cls:"dimensionPositionLabel",xtype:"label",region:"center",text:""});m.dimensionValueLabel.setValueText=function(D){if(D==WMJSDateOutSideRange||D==WMJSDateTooEarlyString||D==WMJSDateTooLateString){try{m.dimensionValueLabel.getEl().setStyle("backgroundColor","#FFAAAA")}catch(ea){}m.dimensionPositionLabel.setText(" - (-/"+(m.dimension.size()-1+1)+")")}else{try{m.dimensionValueLabel.getEl().setStyle("backgroundColor","white")}catch(ea){}m.dimensionPositionLabel.setText(" - ("+
(m.currentIndex+1)+"/"+(m.dimension.size()-1+1)+")")}m.dimensionValueLabel.setText(D);m.dimensionTitleLabel.setText(I18n.dimension.text+" "+m.dimension.name+" in "+m.dimension.units)};m.dimensionValueLabel.setValueText(m.getValue());v=[];v.push(m.dimensionValueLabel);m.dimensionOptionsList=[];if("ISO8601"==m.dimension.units){var F=Ext.create(Ext.button.Button,{xtype:"button",text:"Set time",region:"east",handler:function(){timeselectorWindow.show()}});v.push(F);F=!1;m.layer.name&&-1!=m.layer.name.indexOf("GOME")&&
(F=!0);F&&(F=Ext.create("Ext.data.Store",{fields:[{name:"title",type:"string"},{name:"name",type:"string"}],data:[{title:"No duration",name:""},{title:"1 Second",name:"PT1S"},{title:"10 Seconds",name:"PT10S"},{title:"12 Seconds",name:"PT12S"},{title:"30 Seconds",name:"PT30S"},{title:"1 Minute",name:"PT1M"},{title:"5 Minutes",name:"PT5M"},{title:"10 Minutes",name:"PT10M"},{title:"15 Minutes",name:"PT15M"},{title:"30 Minutes",name:"PT30M"},{title:"60 Minutes",name:"PT1H"},{title:"90 Minutes",name:"PT1H30M"},
{title:"180 Minutes",name:"PT3H"},{title:"360 Minutes",name:"PT6H"},{title:"Daily",name:"P1D"}]}),F=Ext.create("Ext.form.ComboBox",{fieldLabel:"Choose duration",store:F,queryMode:"local",displayField:"title",valueField:"name",region:"center",listeners:{select:function(D,ea){m.timeRangeDuration=ea[0].get("name");D=m.dimension.getValue();try{D=m.layer.parentMaps[0].getDimension(m.dimension.name).currentValue}catch(J){}-1!=D.indexOf("/")&&(D=D.split("/")[0]);m.dimension.setTimeRangeDuration(m.timeRangeDuration);
m.dimSlider.setMaxValue(m.dimension.size()-1);console.log("Setting value back:"+D);m.layer.setDimension(m.dimension.name,D);m._setValue(D);m.layer.draw("DimensionPanel::sliderChanged")}}}),m.dimensionOptionsList.push(F))}m.dimensionValuePanel={type:"panel",layout:"border",background:"white",bodyStyle:{"background-color":"white"},border:!1,items:v};Ext.apply(this,{margin:"0",padding:"5 3 5 3",border:!1,frame:!1,plain:!0,bodyStyle:{"background-color":"white"},layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",
height:22,plain:!0,border:!1,layout:"hbox",items:[m.dimensionTitleLabel,m.dimensionPositionLabel]},{xtype:"panel",height:24,margin:"0 0 0 0",frame:!1,border:!1,plain:!0,layout:"border",bodyStyle:{"background-color":"white"},items:[{xtype:"panel",region:"west",width:13,frame:!1,border:!1,layout:"border",items:[{margin:"0 0 0 0",xtype:"checkbox",bodyStyle:{"background-color":"white"},frame:!1,border:!1,plain:!0,checked:m.dimension.linked,handler:function(D,ea){m.dimension.linked=ea}}]},{xtype:"panel",
region:"center",frame:!1,border:!1,plain:!0,layout:"border",items:[{xtype:"panel",layout:"fit",frame:!1,border:!1,plain:!0,region:"center",items:[m.dimSlider],bodyStyle:{"background-color":"white"}},{xtype:"panel",region:"east",width:40,layout:"hbox",border:!1,frame:!1,bodyStyle:{"background-color":"white"},items:[{xtype:"button",text:"&lt;",width:20,height:22,handler:function(){m.dimSlider.setValue(m.dimSlider.getValue()-1)}},{xtype:"button",text:"&gt;",width:20,height:22,handler:function(){m.dimSlider.setValue(m.dimSlider.getValue()+
1)}}]}]}]},{xtype:"panel",height:22,plain:!0,border:!1,layout:"fit",items:[m.dimensionValuePanel]},{xtype:"panel",plain:!0,border:!1,layout:"fit",items:m.dimensionOptionsList}]});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.MapPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtMapPanel",initComponent:function(){var c=this;c.webmapjsid=c.id+"wmjs";c.pointinfobutton=c.id+"pib";c.baseLayer=void 0;Ext.apply(this,{html:'<div id="'+c.webmapjsid+'"/>',layout:"fit",frame:!1,border:!1,margin:0,listeners:{afterlayout:{fn:function(){if(!c.webMapJS){initWMJS();c.webMapJS=new WMJSMap(Ext.fly(c.webmapjsid).dom);c.webMapJS.setWMJSTileRendererTileSettings(WMJSTileRendererTileSettings);c.webMapJS.setBaseURL("./webmapjs/");
c.webMapJS.requestProxy="./webmapjs_php/MakeRequest.php?";for(var m=[],v=0;v<baseLayerConfiguration.length;v++)if(new WMJSLayer(baseLayerConfiguration[v]),0==v){var F=new WMJSLayer(baseLayerConfiguration[v]);c.baseLayer=F;m.push(F);F=new WMJSLayer(baseLayerConfiguration[v]);F.enabled=!1;m.push(F)}else F=new WMJSLayer(baseLayerConfiguration[v]),m.push(F);c.webMapJS.setBaseLayers(m);m=c.getSize();c.webMapJS.setSize(m.width,m.height);c.webMapJS.setProjection(defaultProjection);c.webMapJS.draw("resize event")}}},
resize:{fn:function(m,v,F){isDefined(c.webMapJS)&&(m=c.getSize(),c.webMapJS.setSize(m.width,m.height),c.webMapJS.draw("resize event"))}}}});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.ServicePanel",{extend:"Ext.panel.Panel",alias:"WMJSExtServicePanel",initComponent:function(){var c=this;c.store=Ext.create("Ext.data.TreeStore",{root:{text:"Ext JS",id:"src",name:"test",expanded:!0},fields:["text","name"],folderSort:!0,sorters:[{property:"text",direction:"ASC"}]});c.selectedLayerName=c.name;c.tree=Ext.create("Ext.tree.Panel",{store:c.store,hideHeaders:!0,rootVisible:!1,fields:["text","name"],border:0,listeners:{itemclick:{fn:function(m,v,F,D,ea,J){c.itemclick&&
(c.selectedLayerName=v.get("name"),1==v.get("leaf")&&c.itemclick(c,c.selectedLayerName,c.service))}}}});c.buildTreeFromNodes=function(m){if(0!=isDefined(c.service)&&0!=c.service.length){c.setLoading("Reading getCapabilities ...");c.WMSService=WMJSGetServiceFromStore(c.service,xml2jsonrequestURL);var v=function(D){c.tree.getRootNode().removeAll();c.tree.getRootNode().appendChild(D);c.setLoading(!1)},F=function(D){error("WMJSExtServicePanel: Unable to do GetCapabilities: "+D);Ext.Msg.alert("WMJSExtServicePanel",
"Exception:\n"+D);c.tree.getRootNode().removeAll();c.setLoading(!1)};try{c.WMSService.getNodes(v,F,m,xml2jsonrequestURL)}catch(D){F(D)}}};Ext.apply(this,{closable:!1,border:!1,layout:"fit",autoScroll:!0,listeners:{afterrender:{fn:function(){c.buildTreeFromNodes()}}},items:[this.tree]});this.superclass.initComponent.apply(this,arguments)}});var webmapjsext_WMJSExt_ServicePanels=[];
Ext.define("webmapjsext.WMJSExt.ServicePanelManager",{extend:"Ext.panel.Panel",alias:"WMJSExtServicePanelManager",requires:["webmapjsext.WMJSExt.ServicePanel"],initComponent:function(){this.getServicePanel=function(c,m){for(var v=0;v<webmapjsext_WMJSExt_ServicePanels.length;v++)if(webmapjsext_WMJSExt_ServicePanels[v].service==c)return webmapjsext_WMJSExt_ServicePanels[v].layerpanel=m,webmapjsext_WMJSExt_ServicePanels[v].window;var F=[];webmapjsext_WMJSExt_ServicePanels.push(F);F.layerpanel=m;F.service=
c;F.servicePanel=Ext.create("webmapjsext.WMJSExt.ServicePanel",{header:!1,constrain:!0,autoDestroy:!1,height:400,service:F.layerpanel.WMJSLayer.service,name:F.layerpanel.WMJSLayer.name,border:0,itemclick:function(D,ea){F.layerpanel.setLayer(ea)}});F.window=Ext.create("webmapjsext.WMJSExt.WindowFader",{title:I18n.layers.text,autoDestroy:!1,closeAction:"hide",autoScroll:!0,floating:!0,animate:!0,constrain:!0,width:500,items:[F.servicePanel],bbar:[{iconCls:"button_refresh",handler:function(){F.window.refresh()}},
{text:I18n.embed.text,tooltip:"Embed layer view",handler:function(){F.window.hide();F.layerpanel.add(Ext.create("webmapjsext.WMJSExt.ServicePanel",{title:I18n.layers.text,header:!0,collapsible:!0,service:F.layerpanel.WMJSLayer.service,name:F.layerpanel.WMJSLayer.name,border:2,itemclick:function(D,ea,J){F.layerpanel.setLayer(ea,J)}}))}},{scale:"small",tooltip:I18n.add_new_layer.tooltip,iconCls:"layer_logos button_layerlist_layernew",handler:function(){Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:function(D){F.layerpanel.service=
D.service;F.layerpanel.name=D.layer;F.layerpanel.WMJSLayer.service=F.layerpanel.service;F.layerpanel.WMJSLayer.name=F.layerpanel.name;F.layerpanel.parseLayer(!0,function(ea,J){isDefined(D.ready)&&D.ready(m,F.layerpanel.parentWebMapJS)});return m},webMapJS:F.layerpanel.parentWebMapJS}).show()}}]});F.window.refresh=function(){F.servicePanel.buildTreeFromNodes(!0)};return F.window}}});var webmapjsext_WMJSExt_LayerPanel_ServicePanelManager,getServicePanelManager=function(){webmapjsext_WMJSExt_LayerPanel_ServicePanelManager||(webmapjsext_WMJSExt_LayerPanel_ServicePanelManager=Ext.create("webmapjsext.WMJSExt.ServicePanelManager",{}));return webmapjsext_WMJSExt_LayerPanel_ServicePanelManager};
Ext.define("webmapjsext.WMJSExt.LayerPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtLayerPanel",requires:"webmapjsext.WMJSExt.DimensionPanel webmapjsext.WMJSExt.StylePanel webmapjsext.WMJSExt.LayerPropertiesPanel Ext.form.field.Checkbox Ext.form.Label Ext.layout.container.Border Ext.slider.Single Ext.grid.Panel".split(" "),initComponent:function(){var c=this;isDefined(c.opacity)||(c.opacity=1);c.WMJSLayer=new WMJSLayer({service:c.service,name:c.name,style:c.style,opacity:c.opacity,transparent:c.transparent,
enabled:c.enabled});c.opacitySliderChanged=function(m){c.WMJSLayer&&(c.WMJSLayer.setOpacity(m/100),c.opacity=m,0==c.WMJSLayer.enabled?0<m&&(c.WMJSLayer.display(!0),c.hideShowButton.setIconCls("button_layer_visible"),c.WMJSLayer.draw("LayerPanel::Opacity")):0==m&&(c.opacity_backup=100,c.hideShowButton.setIconCls("button_layer_hidden"),c.WMJSLayer.display(!1),c.WMJSLayer.draw("LayerPanel::Opacity")))};c.opacitySlider=Ext.create("Ext.slider.Single",{width:50,useTips:!1,animate:!1,value:100*c.opacity,
minValue:0,maxValue:100,increment:1,tooltip:"transparency",listeners:{drag:{fn:function(m){c.opacitySliderChanged(m.getValue())}},change:{fn:function(m){c.opacitySliderChanged(m.getValue())}}}});c.hideShowButton=Ext.create("Ext.button.Button",{xtype:"button",tooltip:I18n.hide_or_display_layer.tooltip,iconCls:!0===c.WMJSLayer.enabled?"button_layer_visible":"button_layer_hidden",handler:function(m,v){c.WMJSLayer.display(!c.WMJSLayer.enabled);0==c.WMJSLayer.enabled?(this.setIconCls("button_layer_hidden"),
c.opacity_backup=c.opacitySlider.getValue(),c.opacitySlider.setValue(0)):(this.setIconCls("button_layer_visible"),c.opacitySlider.setValue(c.opacity_backup));c.WMJSLayer.draw("LayerPanel::HideShow")}});c.hideShowLegendButton=Ext.create("Ext.button.Button",{xtype:"button",tooltip:I18n.hide_or_display_legend.tooltip,iconCls:!0===c.WMJSLayer.displayLegendInMapEnable?"button_scale_on":"button_scale_off",handler:function(m,v){c.WMJSLayer.displayLegendInMap(!c.WMJSLayer.displayLegendInMapEnable);0==c.WMJSLayer.displayLegendInMapEnable?
this.setIconCls("button_scale_off"):this.setIconCls("button_scale_on");c.WMJSLayer.draw("LayerPanel::HideShow")}});c.select=function(){for(var m=c.parentPanelList.items,v=0;v<m.getCount();v++)m.get(v).unselect();try{c.getEl().dom.style.border="3px solid #8080FF"}catch(F){}c.selected=!0};c.unselect=function(){try{c.getEl().dom.style.border="3px solid #777"}catch(m){}c.selected=!1};c.setOpacity=function(m){c.opacitySlider.setValue(100*m);c.opacity=100*m};c.dimCallBackAdded=!1;c.dimensionPanels=[];c.parseLayer=
function(m,v){if(0!=isDefined(this.WMJSLayer.service)&&0!=this.WMJSLayer.service.length){c.setLoading("Reading GetCapabilities ...");for(var F=[],D=0;D<c.WMJSLayer.dimensions.length;D++)F.push(this.WMJSLayer.dimensions[D].clone());c.dimensionPanels=[];c.dimUpdate=function(){for(var J=0;J<c.dimensionPanels.length;J++){var N=c.WMJSLayer.getDimension(c.dimensionPanels[J].dimension.name);c.dimensionPanels[J].setValue(N.getValue())}};c.setDimension=function(J,N){var K=c.getDimensionPanel(J);isDefined(K)?
(c.WMJSLayer.setDimension(J,N),K.setValue(N)):error("WMJSExtLayerPanel::Dimension "+J+" not found")};c.getDimensionPanel=function(J){for(var N=0;N<c.dimensionPanels.length;N++)if(c.dimensionPanels[N].dimension.name===J)return c.dimensionPanels[N]};var ea=function(J){var N=J;J.message&&(N=J.message);c.setLoading(!1);J="Unable to parse layer "+c.WMJSLayer.name+"\n"+N;c.WMJSLayer.hasError=!0;error(J)};D=function(J){if(void 0!=c.WMJSLayer.parentMaps[0])if(c.WMJSLayer!=J)isDefined(J)&&ea("WMJSExtLayerPanel internal error:\n"+
J),v&&v(c),c.afterlayerready&&c.afterlayerready(c);else if(c.WMJSLayer.hasError){c.setLoading(!1);c.productButton.setText(c.WMJSLayer.path+c.WMJSLayer.title);c.styleButton.setText("");var N=c.WMJSLayer.lastError;isDefined(N)||(N="An error occurred connecting to WMS server");c.setTitle(N);error(N);J=new WMJSTimer;N=N.replaceAll("\n","<br/>");J.init(10,function(){Ext.Msg.alert(I18n.unable_to_connect_server.text,I18n.unable_to_connect_server.text+"<br/><br/>"+N)});v&&v(c);c.afterlayerready&&c.afterlayerready(c)}else{c.WMJSLayer.getLayerRelative(function(U,
ca,sa){c.productButton.setText("("+(ca+1)+"/"+sa+") "+c.WMJSLayer.title)},function(U){c.productButton.setText(c.WMJSLayer.path+c.WMJSLayer.title)});c.setStyleText(c.WMJSLayer.getStyleObject(c.WMJSLayer.currentStyle));c.dimensionPanels=[];c.dimensionPanelContainer.removeAll();var K="";for(J=0;J<c.WMJSLayer.dimensions.length;J++){for(var Z=0;Z<F.length;Z++)F[Z].name==c.WMJSLayer.dimensions[J].name&&(c.WMJSLayer.dimensions[J].currentValue=F[Z].currentValue);Z=Ext.create("WMJSExtDimensionPanel",{dimension:c.WMJSLayer.dimensions[J],
layer:c.WMJSLayer,dimensionPanels:c.dimensionPanels});c.dimensionPanels.push(Z);c.dimensionPanelContainer.add(Z);0<K.length&&(K+=", ");K+=c.WMJSLayer.dimensions[J].name}c.afterlayerready&&(v&&v(c),c.afterlayerready(c));c.setLoading(!1);for(J=0;J<c.WMJSLayer.dimensions.length;J++)K=c.WMJSLayer.parentMaps[0].getDimension(c.WMJSLayer.dimensions[J].name),isDefined(K)&&c.WMJSLayer.dimensions[J].setClosestValue(K.currentValue);for(J=0;J<c.WMJSLayer.dimensions.length;J++)c.dimensionPanels[J].setValue(c.WMJSLayer.dimensions[J].currentValue);
c.WMJSLayer.parentMaps[0].rebuildMapDimensions();0==c.dimCallBackAdded&&(c.WMJSLayer.parentMaps[0].addListener("ondimchange",c.dimUpdate,!0),c.dimCallBackAdded=!0);try{c.styleButton.loadStyles()}catch(U){}var da=!1;isDefined(c.name)&&0<c.name.length&&(da=!0);c.setTitle("Layer "+c.WMJSLayer.name);if(!1===da){if(1==c.autoChooseLayer){c.autoChooseLayer=!1;c.WMJSLayer.autoSelectLayer(function(U){c.setLayer(U.name);c.WMJSLayer.zoomToLayer();da=!0});return}c.productButton.showService()}c.WMJSLayer.WMJSService?
c.layerAbstractPanel.update("<span style='margin:5px;display:block;padding:5px;'><b>"+I18n.layer.text+"</b><table class='adagucviewer_wmsjsext_layerpanel_abstract'><tr><td style='width:50px;'><i>"+I18n.title.text+"</i></td><td>"+c.WMJSLayer.title+"</td></tr><tr><td><i>"+I18n.name.text+"</i></td><td>"+c.WMJSLayer.name+"</td></tr><tr><td><i>"+I18n.abstract.text+"</i></td><td>"+c.WMJSLayer.abstract+"</td></tr></table><hr/><b>"+I18n.service.text+"</b><table class='adagucviewer_wmsjsext_layerpanel_abstract'><tr><td><i>"+
I18n.title.text+"</i></td><td> "+c.WMJSLayer.WMJSService.title+"</td></tr><tr><td><i>"+I18n.service.text+"</i></td><td>"+c.WMJSLayer.WMJSService.onlineresource+"</td></tr><tr><td><i>"+I18n.abstract.text+"</i></td><td>"+c.WMJSLayer.WMJSService.abstract+"</td></tr></table></span>"):c.layerAbstractPanel.update("...");J=function(){var U=c.WMJSLayer.parentMaps[0].getLegendGraphicURLForLayer(c.WMJSLayer),ca=c.WMJSLayer.parentMaps[0].getLegendStore();if(c.layerLegendPanel.getEl()){var sa=$(c.layerLegendPanel.getEl().dom).find("canvas")[0].getContext("2d");
(U=ca.getImageForSrc(U))?(sa.rect(0,0,90,250),sa.fillStyle="white",sa.fill(),sa.drawImage(U.getElement()[0],0,0)):(sa.rect(0,0,90,250),sa.fillStyle="gray",sa.fill())}};c.WMJSLayer.parentMaps[0].getListener().addToCallback("onlegendready",J,!0);J()}};try{if(c.WMJSLayer.parseLayer(D,m,"LayerPanel::parseLayer",xml2jsonrequestURL),!0===m)try{console.log("clearing cache"),c.WMJSLayer&&c.WMJSLayer.parentMaps&&0<c.WMJSLayer.parentMaps.length&&(c.WMJSLayer.parentMaps[0].clearImageStore(),c.WMJSLayer.parentMaps[0].loadLegendInline(!0))}catch(J){console.error(J)}}catch(J){ea(J)}}};
c.duplicateLayer=function(){createNewLayerPanel(c.parentWebMapJS,c.WMJSLayer)};c.productButton=Ext.create("Ext.button.Button",{text:I18n.please_select_product.text,textAlign:"left",iconAlign:"right",iconCls:"button_combobox",tooltip:I18n.select_layer_product_from_service.tooltip,handler:function(m){void 0==c.service||0==c.service.length?Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:function(v){c.service=v.service;c.name=v.layer;c.WMJSLayer.service=c.service;c.WMJSLayer.name=c.name;
c.parseLayer(!0,function(F,D){isDefined(v.ready)&&v.ready(c,c.parentWebMapJS)});return c},webMapJS:c.parentWebMapJS}).show():m.showService()}});c.productButton.showService=function(){var m=getServicePanelManager();c.servicePanelWindow=m.getServicePanel(c.service,c);c.servicePanelWindow.showAt([this.getPosition()[0]+32,this.getPosition()[1]])};c.styleButton=Ext.create("Ext.button.Button",{text:I18n.default.text,textAlign:"left",iconAlign:"right",iconCls:"button_combobox",tooltip:I18n.change_style_layer.tooltip,
handler:function(){c.styleButton.loadStyles();c.stylePanel.showAt([this.getPosition()[0]+32,this.getPosition()[1]])},listeners:{afterrender:{fn:function(){c.stylePanel||(c.stylePanel=Ext.create("webmapjsext.WMJSExt.WindowFader",{title:I18n.available_styles.text,width:650,autoDestroy:!1,closeAction:"hide",items:[Ext.create("WMJSExtStylePanel",{header:!1,WMJSLayerObject:c.WMJSLayer,border:0,itemclick:function(m,v){c.setStyle(c.WMJSLayer.getStyleObject(v.name))}})]}));c.styleButton.loadStyles=function(){if(c.stylePanel&&
(c.stylePanel.getComponent(0).loadStyles(c.WMJSLayer),c.styleButton.setText("default"),0<c.WMJSLayer.currentStyle.length)){var m=c.WMJSLayer.currentStyle;c.styleButton.setText(m);try{c.setStyleText(c.WMJSLayer.getStyleObject(c.WMJSLayer.currentStyle))}catch(v){}}}}}}});c.dimensionPanelContainer=Ext.create("Ext.panel.Panel",{border:!1,padding:1,collapsed:!1,collapsible:!0,title:I18n.dimensions.text,cls:"WMJSExtLayerPanelDimensionHeader"});c.servicePanelContainer=Ext.create("webmapjsext.WMJSExt.ServicePanel",
{title:I18n.layers.text,cls:"WMJSExtLayerPanelDimensionHeader",header:!0,collapsible:!0,collapsed:!0,service:c.WMJSLayer.service,name:c.WMJSLayer.name,border:2,itemclick:function(m,v,F){c.setLayer(v,F)}});c.layerInfoPanelContainer=Ext.create("Ext.panel.Panel",{border:!1,frame:!1,height:35,padding:"3 3 3 3",layout:"border",items:[{xtype:"panel",region:"center",layout:"fit",border:!1,frame:!1,items:[c.productButton]},{style:{borderColor:"#EEE",borderStyle:"solid",borderWidth:"0px",backgroundColor:"#FFF"},
xtype:"panel",region:"east",itemId:"layerinfo",width:40,layout:"hbox",border:!1,frame:!1,padding:"0 0 0 0",items:[{xtype:"button",text:"&lt;",width:20,height:29,handler:function(){c.WMJSLayer.getPreviousLayer(function(m){c.setLayer(m.name)})}},{xtype:"button",text:"&gt;",width:20,height:29,handler:function(){c.WMJSLayer.getNextLayer(function(m){c.setLayer(m.name)})}}]}]});c.setLayer=function(m,v){c.WMJSLayer.name=m;isDefined(v)&&(c.WMJSLayer.service=v);c.parseLayer();c.WMJSLayer.draw("LayerPanel::setLayer");
c.servicePanelWindow&&c.servicePanelWindow.hide();c.stylePanel&&c.styleButton.loadStyles()};c.setStyleText=function(m){0==isDefined(m)?c.styleButton.setText("default"):c.styleButton.setText("("+(m.index+1)+"/"+m.nrOfStyles+") "+m.title)};c.setStyle=function(m){try{c.WMJSLayer.setStyle(m.name)}catch(v){}c.WMJSLayer.draw("LayerPanel::setStyle");c.stylePanel.hide();c.setStyleText(m)};c.styleInfoPanelContainer=Ext.create("Ext.panel.Panel",{border:!1,frame:!1,height:32,padding:"0 3 3 3",layout:"border",
items:[{xtype:"panel",region:"center",layout:"fit",border:!1,frame:!1,items:[c.styleButton]},{style:{borderColor:"#EEE",borderStyle:"solid",borderWidth:"0px",backgroundColor:"#FFF"},xtype:"panel",region:"east",width:40,layout:"hbox",border:!1,frame:!1,items:[{xtype:"button",text:"&lt;",width:20,height:29,handler:function(){c.setStyle(c.WMJSLayer.getStyleObject(c.WMJSLayer.currentStyle,-1))}},{xtype:"button",text:"&gt;",width:20,height:29,handler:function(){c.setStyle(c.WMJSLayer.getStyleObject(c.WMJSLayer.currentStyle,
1))}}]}]});c.animationButton={listeners:{afterrender:{fn:function(m){c.WMJSLayer.parentMaps[0].isAnimating&&m.setIconCls("button_stop_animation");c.WMJSLayer.parentMaps[0].addListener("onstopanimation",function(){m.setIconCls("button_play_animation")},!0);c.WMJSLayer.parentMaps[0].addListener("onstartanimation",function(){m.setIconCls("button_stop_animation")},!0)}}},scale:"small",iconCls:"button_play_animation",tooltip:I18n.start_or_stop_animation.tooltip,handler:function(m){if(c.WMJSLayer.parentMaps[0].isAnimating)c.WMJSLayer.parentMaps[0].stopAnimating(),
m.setIconCls("button_play_animation");else if(m.setIconCls("button_stop_animation"),m=c.WMJSLayer.getDimension("time"),void 0==m)alert(I18n.no_time_dimension_in_layer.text);else{var v=[],F=m.size(),D=F-24,ea=F,J=m.getIndexForValue(m.currentValue);J=ea-1-J;D-=J;ea-=J;0>D&&(ea+=-D,D=0);0>ea&&(ea=0);D>F-1&&(D=F-1);ea>F&&(ea=F);for(F=D;F<ea;F++)v.push({name:m.name,value:m.getValueForIndex(F)});c.WMJSLayer.parentMaps[0].draw(v)}}};c.moveUp=function(){var m=c.up("panel"),v=m.items.indexOf(c);0<v&&(m.move(v,
v-1),c.WMJSLayer.moveUp())};c.moveDown=function(){var m=c.up("panel"),v=m.items.indexOf(c);v<m.items.length-1&&(m.move(v,v+1),c.WMJSLayer.moveDown())};c.layerLegendPanel=Ext.create("Ext.panel.Panel",{xtype:"panel",region:"west",html:"<canvas width=90 height=250></canvas>",border:!1,frame:!1,plain:!0,width:90});c.layerAbstractPanel=Ext.create("Ext.panel.Panel",{xtype:"panel",region:"center",layout:"fit",autoScroll:!0,border:!1,frame:!1,plain:!0});Ext.apply(this,{margin:"0 0 2 0",frame:!0,plain:!0,
padding:"0 0 0 0",collapsible:!1,closable:!0,hideCollapseTool:!1,header:!0,layout:{type:"vbox",align:"stretch"},items:[c.layerInfoPanelContainer,c.styleInfoPanelContainer,c.dimensionPanelContainer,c.servicePanelContainer,{xtype:"panel",layout:"border",frame:!1,border:!1,plain:!0,title:"Service info",cls:"WMJSExtLayerPanelDimensionHeader",collapsible:!0,collapsed:!0,height:250,region:"center",items:[c.layerAbstractPanel,c.layerLegendPanel]}],bbar:[{xtype:"button",tooltip:I18n.move_layer_up.tooltip,
iconCls:"button_layerlist_layerup",handler:function(m,v){c.moveUp()}},{xtype:"button",tooltip:I18n.move_layer_down.tooltip,iconCls:"button_layerlist_layerdown",handler:function(m,v){c.moveDown()}},{iconCls:"button_settings_icon",tooltip:I18n.layer_properties.tooltip,handler:function(m,v){c.propertiesPanel||(c.propertiesPanel=Ext.create("Ext.window.Window",{title:I18n.properties_for.text+c.WMJSLayer.title,width:600,autoDestroy:!1,closeAction:"hide",layout:"fit",items:[Ext.create("WMJSExtLayerPropertiesPanel",
{header:!1,WMJSLayerObject:c.WMJSLayer,border:0,itemclick:function(F,D){}})]}));c.propertiesPanel.showAt(m.getPosition())}},{iconCls:"button_refresh",tooltip:I18n.reload_this_layer.tooltip,handler:function(){isDefined(c.servicePanelWindow)&&c.servicePanelWindow.refresh(!0);c.parseLayer(!0)}},c.animationButton,,{xtype:"tbfill"},{xtype:"label",text:I18n.opacity.text},c.opacitySlider,c.hideShowButton,c.hideShowLegendButton,{scale:"small",iconCls:"button_zoomfullextent",tooltip:I18n.zoom_to_this_layer.tooltip,
handler:function(){c.WMJSLayer.zoomToLayer()}}],listeners:{render:function(m){if(m.header)m.header.on("click",function(){c.select()});c.select()},afterrender:{fn:function(){c.parseLayer()}},beforeclose:function(m){c.WMJSLayer.parentMaps[0].stopAnimating();c.WMJSLayer.remove()}}});this.callParent(arguments);c.parseLayer()}});Ext.define("webmapjsext.WMJSExt.DataPanel",{extend:"Ext.window.Window",alias:"WMJSExtDataPanel",initComponent:function(){var c=this,m=this.dataPanelClicked;DataSelectorModel=Ext.define("DataSelectorModel",{extend:"Ext.data.Model",fields:[{name:"title"},{name:"abs"},{name:"thumbnail"},{name:"service"},{name:"layer"},{name:"style"},{name:"srs"},{name:"bbox"},{name:"baselayerservice"},{name:"baselayername"},{name:"opacity"}]});var v=Ext.create("Ext.data.Store",{model:"DataSelectorModel",data:dataChooserConfiguration}),
F=function(D,ea){var J=function(Z){Z=K.getComponent("AddCustomWMSPanel").getComponent("customwmsurltextarea").getValue();Z=WMJScheckURL(Z);if(5>Z.length)alert("Invalid url given.");else{try{Ext.state.Manager.set("formFieldValues",Z)}catch(da){console.log(da)}c.layerPanel=D({service:Z,ready:function(da,U){isDefined(da)?da.WMJSLayer.hasError?(new WMJSTimer).init(10,function(){Ext.Msg.alert(I18n.unable_to_connect_server.text,I18n.unable_to_connect_server.text+"<br/><br/>"+layerPanel.WMJSLayer.lastError)}):
K.hide():K.hide()}})}},N=Ext.create("Ext.form.field.Text",{itemId:"customwmsurltextarea",emptyText:I18n.enter_wms_version_url.text,height:25,margin:10,stateful:!0,listeners:{specialkey:function(Z,da){da.getKey()==da.ENTER&&J(ea)},afterrender:function(Z){if(Z=Ext.state.Manager.get("formFieldValues"))console.log(Z),N.setValue(Z)}}});var K=Ext.create("Ext.window.Window",{title:I18n.add_custom_service.text,width:620,height:200,autoDestroy:!0,autoScroll:!1,modal:!0,layout:"border",items:[{xtype:"panel",
region:"north",layout:"fit",border:!1,itemId:"AddCustomWMSPanel",items:[N]},{xtype:"label",margin:10,html:"Add your own WMS version 1.1.1 server address in the box above. For example:<br> https://geoservices.knmi.nl/cgi-bin/RADNL_OPER_R___25PCPRR_L3.cgi? ",region:"center"}],buttons:[{text:I18n.add.text,handler:function(){J(ea)}}]});K.show()};c.showCustomWMSWindow=function(){F(c.dataPanelClicked,c.webMapJS)};Ext.apply(this,{title:I18n.add_layers_and_services.text,width:.8*$(window).width(),height:.8*
$(window).height(),autoDestroy:!0,modal:!0,autoScroll:!0,id:"images-view",buttons:[{scale:"large",text:"BACK",handler:function(){c.close();Ext.create("webmapjsext.WMJSExt.FolderPanel",{dataPanelClicked:m,webMapJS:mainWebmapJS.webMapJS}).show()}},{scale:"large",text:I18n.add_custom_wms_service.text,handler:function(){c.close();F(c.dataPanelClicked,c.webMapJS)}},{scale:"large",text:"CLOSE",handler:function(){c.close()}}],items:Ext.create("Ext.view.View",{store:v,tpl:'<tpl for=".">;<div class="thumb-wrap" id="{title}">;<div class="thumb"><img src="{thumbnail}" title="{abs}"></div>;<span class="x-editable">{title}</span></div>;</tpl>;<div class="x-clear"></div>'.split(";"),
trackOver:!0,overItemCls:"x-item-over",itemSelector:"div.thumb-wrap",emptyText:"No images to display",listeners:{itemclick:function(D,ea){c.dataPanelClicked({title:ea.get("title"),thumbnail:ea.get("thumbnail"),service:ea.get("service"),layer:ea.get("layer"),srs:ea.get("srs"),bbox:ea.get("bbox"),style:ea.get("style"),baselayerservice:ea.get("baselayerservice"),baselayername:ea.get("baselayername"),opacity:ea.get("opacity")});c.close()}}})});webmapjsext.WMJSExt.DataPanel.superclass.initComponent.apply(this,
arguments)}});var defaultBaselayer={service:"https://geoservices.knmi.nl/cgi-bin/worldmaps.cgi?",name:"world_line"};
Ext.define("webmapjsext.WMJSExt.BaseMapSelector",{extend:"Ext.panel.Panel",alias:"WMJSExtBaseMapSelector",requires:["Ext.form.field.Checkbox","Ext.form.Label","Ext.layout.container.Border","Ext.slider.Single","Ext.grid.Panel"],initComponent:function(){var c=this.webmapjsext;OverlaySelectorModel=Ext.define("OverlaySelectorModel",{extend:"Ext.data.Model",fields:[{name:"title"},{name:"enabled",type:"bool"},{name:"type"},{name:"layer",type:"object"},{name:"name"}]});var m=Ext.create("Ext.data.Store",
{model:"OverlaySelectorModel"});Ext.apply(this,{autoScroll:!0,plain:!0,frame:!1,border:!1,bodyCls:"layerlistbg",title:" ",tooltip:I18n.basemaps_overlays.tooltip,iconCls:"button_basemaps32",defaultType:"checkbox",layout:"anchor",items:Ext.create("Ext.grid.Panel",{header:!1,bodyCls:"layerlistbg",autoScroll:!1,plain:!0,frame:!1,border:!1,store:m,columns:[{text:"",dataIndex:"enabled",xtype:"checkcolumn",width:30,listeners:{checkchange:function(v,F,D){m.getAt(F).get("layer").enabled=D;c.webMapJS.draw("WMJSExtMapTypePanel::enableLayer")}}},
{text:I18n.title.text,dataIndex:"title",flex:2},{text:I18n.layer.text,dataIndex:"name",flex:1},{text:I18n.type.text,dataIndex:"type"}],columnLines:!0,iconCls:"icon-grid"}),listeners:{show:{fn:function(){for(var v=[],F=c.webMapJS.getBaseLayers(),D=0;D<F.length;D++){var ea=F[D].title;0==D&&(ea="Default base layer");v.push({title:ea,layer:F[D],name:F[D].name,enabled:F[D].enabled,type:1==F[D].keepOnTop?"overlay":"baselayer"})}m.loadRawData(v)}}}});this.superclass.initComponent.apply(this,arguments)}});defaultBaselayer={service:"https://geoservices.knmi.nl/wms?DATASET=baselayers&",name:"countryborders"};
Ext.define("webmapjsext.WMJSExt.MapTypeSelector",{extend:"Ext.panel.Panel",alias:"WMJSExtMapTypeSelector",requires:["Ext.form.field.Checkbox","Ext.form.Label","Ext.layout.container.Border","Ext.slider.Single","Ext.grid.Panel"],initComponent:function(){var c=this.maptypeclicked;MapTypeSelectorModel=Ext.define("MapTypeSelectorModel",{extend:"Ext.data.Model",fields:[{name:"title"},{name:"bbox"},{name:"srs"},{name:"url"},{name:"baselayer"}]});var m=Ext.create("Ext.data.Store",{model:"MapTypeSelectorModel",
data:mapTypeConfiguration});Ext.apply(this,{id:"maptypeselector",title:" ",tooltip:I18n.predefined_areas.tooltip,iconCls:"button_maptype32",autoScroll:!0,plain:!0,frame:!1,border:!1,baseCls:"layerlistbg",cls:"layerlistbg",items:[Ext.create("Ext.view.View",{title:"Baselayers",plain:!0,frame:!1,border:!1,cls:"layerlistbg",store:m,tpl:'<tpl for=".">;<div class="thumb-wrap" id="{title}">;<div class="thumb"><img src="{url}" title="{title}"></div>;<span class="x-editable">{title}</span></div>;</tpl>;<div class="x-clear"></div>'.split(";"),
trackOver:!0,overItemCls:"x-item-over",itemSelector:"div.thumb-wrap",emptyText:"No images to display",prepareData:function(v){var F=[v.bbox[0],v.bbox[1],v.bbox[2],v.bbox[3]];if(1.375<(v.bbox[2]-v.bbox[0])/(v.bbox[3]-v.bbox[1])){var D=(v.bbox[2]-v.bbox[0])/1.375;D=(D-(v.bbox[3]-v.bbox[1]))/2;F[1]=v.bbox[1]-D;F[3]=v.bbox[3]+D}else D=1.375*(v.bbox[3]-v.bbox[1]),D=(D-(v.bbox[2]-v.bbox[0]))/2,F[0]=v.bbox[0]-D,F[2]=v.bbox[2]+D;D=defaultBaselayer.service;var ea=defaultBaselayer.name;v.baselayer.service&&
v.baselayer.name&&(D=v.baselayer.service,ea=v.baselayer.name);v.url=D+"service=WMS&request=GetMap&styles=&width=160&height=120&format=image/png";v.url+="&layers="+ea;v.url+="&version=1.1.1";v.url+="&bbox="+F[0]+","+F[1]+","+F[2]+","+F[3];v.url+="&srs="+v.srs;return v},listeners:{itemclick:function(v,F){c(F)}}})]});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.AnimationPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtAnimationPanel",requires:["Ext.form.field.ComboBox","Ext.form.field.Picker","Ext.form.field.Trigger","Ext.layout.container.Form"],initComponent:function(){var c=this,m=Ext.create("Ext.data.Store",{fields:[{type:"string",name:"name"},{type:"string",name:"title"},{type:"object",name:"wmjslayer"}]}),v=Ext.create("Ext.data.Store",{fields:[{type:"string",name:"name"},{type:"object",name:"wmjsdimension"}]}),F=function(){var N=
c.mappanel.webMapJS.getLayers();m.removeAll();for(var K=0;K<N.length;K++)m.add({name:N[K].service+N[K].name,title:N[K].title,wmjslayer:N[K]})},D=function(N){if(isDefined(N)){c.selectedLayer=N;var K=c.getComponent("dimensionpanel").getComponent("dimensioncombobox");K.disable();v.removeAll();for(var Z=0;Z<N.dimensions.length;Z++)v.add({name:N.dimensions[Z].name,wmjsdimension:N.dimensions[Z]});0<v.getCount()&&(K.setValue(v.getAt(0).get("name")),ea(v.getAt(0).get("wmjsdimension")),K.enable())}},ea=function(N){isDefined(N)&&
(c.getComponent("dimensionvaluespanel").getComponent("dimensioncurrentvalue").setValue(N.getValue()),c.dimension=N)},J=function(){isDefined(c.dimensionName)&&isDefined(c.currentValue)&&(c.mappanel.webMapJS.stopAnimating(),c.mappanel.webMapJS.setDimension(c.dimensionName,c.currentValue),c.mappanel.webMapJS.draw("AnimationPanel::stop"))};Ext.apply(this,{border:!1,frame:!0,items:[{xtype:"panel",itemId:"layerpanel",layout:"border",frame:!0,border:!1,margin:3,height:36,items:[{margin:3,xtype:"combobox",
itemId:"layercombo",region:"center",fieldLabel:I18n.select_layer.text,labelWidth:110,displayField:"title",valuefield:"name",store:m,queryMode:"local",listeners:{select:{fn:function(N,K){N=K[0].get("wmjslayer");D(N)}}}},{xtype:"button",region:"east",width:23,iconCls:"button_refresh",handler:function(){F()}}]},{xtype:"panel",itemId:"dimensionpanel",layout:"fit",frame:!0,border:!1,margin:3,height:36,items:[{margin:3,xtype:"combobox",itemId:"dimensioncombobox",region:"center",fieldLabel:I18n.select_dimension.text,
labelWidth:110,disabled:!0,store:v,displayField:"name",valuefield:"name",queryMode:"local",listeners:{select:{fn:function(N,K){ea(K[0].get("wmjsdimension"))}}}}]},{xtype:"panel",itemId:"dimensionvaluespanel",frame:!0,border:!1,margin:3,layout:"border",height:36,items:[{xtype:"label",text:I18n.start_at.text+":",width:110,region:"west",margin:3},{itemId:"dimensioncurrentvalue",xtype:"textfield",region:"center",frame:!1,border:!1,margin:3},{xtype:"button",region:"east",width:23,iconCls:"button_refresh",
handler:function(){0<m.getCount()&&D(c.selectedLayer)}}]},{xtype:"panel",layout:"border",itemId:"numberofstepspanel",border:!1,frame:!0,height:36,margin:3,items:[{xtype:"label",text:I18n.number_of_steps.text+":",width:110,region:"west",margin:3},{xtype:"numberfield",itemId:"numberofstepsnumberfield",region:"center",value:12}]},{xtype:"panel",layout:"border",itemId:"delaypanel",border:!1,frame:!0,height:36,margin:3,items:[{xtype:"label",text:I18n.delay_ms.text+":",width:110,region:"west",margin:3},
{xtype:"numberfield",itemId:"delaynumberfield",region:"center",value:300}]}],buttons:[{text:I18n.stop.text,handler:J},{text:I18n.start.text,handler:function(){var N=c.getComponent("dimensionvaluespanel").getComponent("dimensioncurrentvalue").getValue(),K=c.getComponent("numberofstepspanel").getComponent("numberofstepsnumberfield").getValue(),Z=c.getComponent("delaypanel").getComponent("delaynumberfield").getValue();N=c.dimension.getIndexForValue(N);var da=c.mappanel.webMapJS.getMaxNumberOfAnimations();
K>da&&(K=da,c.getComponent("numberofstepspanel").getComponent("numberofstepsnumberfield").setValue(K));K--;0>K&&(K=0);K=N+K;K>=c.dimension.size()&&(da=c.dimension.size()-(K+1),N+=da,K+=da);0>N&&(N=0);0>K&&(K=0);for(da=[];N<K+1;N++)da.push({name:c.dimension.name,value:c.dimension.getValueForIndex(N)});0==c.mappanel.webMapJS.isAnimating&&(c.dimensionName=c.dimension.name,c.currentValue=c.dimension.currentValue);c.mappanel.webMapJS.setAnimationDelay(Z);c.mappanel.webMapJS.draw(da)}}],listeners:{afterrender:{fn:function(){F();
0<m.getCount()&&(c.getComponent("layerpanel").getComponent("layercombo").setValue(m.getAt(0)),D(m.getAt(0).get("wmjslayer")))}},destroy:{fn:function(){J()}}}});webmapjsext.WMJSExt.AnimationPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.PermaLinkPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtPermaLinkPanel",initComponent:function(){var c=this;Ext.apply(this,{border:!1,frame:!0,layout:"fit",items:[{xtype:"panel",layout:"border",frame:!0,border:!1,items:[{frame:!0,border:0,xtype:"panel",height:28,region:"north",html:"<h1>Paste the link below in an email or chat message</h1>"},{xtype:"displayfield",region:"center",itemId:"mainTextField"}]}],listeners:{afterrender:{fn:function(){var m=c.getComponent(0).getComponent("mainTextField");
var v=location.href.split("?")[0];v=v.split("#")[0];-1!=v.indexOf("/index.html")&&(v=v.substring(0,v.indexOf("/index.html")),v+="/");-1!=v.indexOf("/index.jsp")&&(v=v.substring(0,v.indexOf("/index.jsp")),v+="/");-1!=v.indexOf("/index.php")&&(v=v.substring(0,v.indexOf("/index.php")),v+="/");var F=c.mappanel.webMapJS,D=0,ea=F.getActiveLayer(),J=F.getLayers();isDefined(void 0)&&(J=[],J.push(void 0));var N=F.getProjection();var K="?srs="+URLEncode(N.srs);K+="&bbox="+URLEncode(N.bbox);if(0<J.length){var Z=
[],da=[];for(N=0;N<J.length;N++)if(J[N].name&&J[N].title!=WMJSEmptyLayerName){var U=Z.indexOf(J[N].service);-1==U&&(Z.push(J[N].service),U=Z.length-1);da.push(J[N].name.replace(/,/g,".")+"$"+J[N].format+"$"+J[N].enabled+"$"+J[N].getStyle()+"$"+J[N].opacity+"$"+U);ea==J[N]&&(D=N)}ea=URLEncode(Z[0]);for(N=1;N<Z.length;N++)ea+=","+URLEncode(Z[N]);K+="&service="+ea;ea=URLEncode(da[0]);for(N=1;N<da.length;N++)ea+=","+URLEncode(da[N]);K=K+("&layer="+ea)+("&selected="+D);D=F.getDimensionList();isDefined(void 0)&&
(D=(void 0).dimensions);if(0<D.length)for(K+="&dims=",N=0;N<D.length;N++)0<N&&(K+=","),K+=D[N].name+"$"+D[N].currentValue}F.isMapPinVisible();F=F.getBaseLayers();D="";for(N=0;N<F.length;N++)F[N].enabled&&(0<D.length&&(D+="$"),D+=URLEncode(F[N].name));""==D&&(D="none");v+=K+("&baselayers="+D);m.setValue('<a href="'+v+'" target="_blank">'+v+" </a>")}}}});webmapjsext.WMJSExt.PermaLinkPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.SpinnerSlider",{extend:"Ext.panel.Panel",alias:["widget.spinnerslider"],requires:["Ext.slider.Single"],initComponent:function(){var c=this;c.slidertitle=c.title;c.title=void 0;c.setValue=function(m){c.slider.suspendEvents();c.slider.setValue(m);c.slider.resumeEvents();c.label.setText(""+decimalFormatter(m,c.ndecs))};c.getValue=function(){return c.slider.getValue()};c.setValueByEvent=function(m){c.setValue(m);c.trigger&&c.trigger(m)};Ext.apply(this,{border:!1,height:15,
margin:"8 5 8 5",frame:!1,layout:"border",items:[{xtype:"panel",region:"west",width:44,border:!1,items:[{xtype:"label",text:c.slidertitle}]},{xtype:"panel",region:"center",layout:"fit",border:!1,items:[{xtype:"slider",useTips:!1,animate:!1,minValue:c.min,maxValue:c.max,itemId:"slider",margin:"0 4 0 4",listeners:{drag:{fn:function(m){c.setValueByEvent(m.getValue())}},change:{fn:function(m){c.setValueByEvent(m.getValue())}}}}]},{xtype:"panel",layout:"border",border:!1,frame:!1,region:"east",width:75,
bodyStyle:{"background-color":"white"},items:[{region:"west",scale:"small",xtype:"button",text:"&lt;",width:20,handler:function(){c.setValueByEvent(c.queryById("slider").getValue()-1)}},{xtype:"label",itemId:"label",region:"center",cls:"test-lbl-text-align"},{region:"east",scale:"small",xtype:"button",text:"&gt;",width:20,handler:function(){c.setValueByEvent(c.queryById("slider").getValue()+1)}}]}]});this.superclass.initComponent.apply(this,arguments);this.label=this.queryById("label");this.slider=
this.queryById("slider")}});
Ext.define("Ext.ux.form.field.DateTime",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.datetimefield",layout:{type:"vbox",align:"stretch"},border:!1,width:220,msgTarget:"side",dateCfg:{},timeCfg:{},initComponent:function(){this.buildField(this);this.callParent();this.dateField=this.down("datefield");this.timeField=this.down("timefield");this.initField();this.yearslider=this.queryById("yearslider");this.monthslider=this.queryById("monthslider");this.dayslider=
this.queryById("dayslider");this.hourslider=this.queryById("hourslider");this.minuteslider=this.queryById("minuteslider");this.secondslider=this.queryById("secondslider")},buildField:function(c){_this=this;_this.slidersTriggered=function(){var m=new Date(Date.UTC(_this.yearslider.getValue(),_this.monthslider.getValue()-1,_this.dayslider.getValue(),_this.hourslider.getValue(),_this.minuteslider.getValue(),_this.secondslider.getValue()));_this.setValue(m);_this.triggerEvent()};this.items=[{xtype:"panel",
border:!1,layout:{type:"hbox"},items:[{xtype:"datefield",format:"Y-m-d",validateOnChange:!0,validateOnBlur:!0,validateBlank:!1,emptyText:"yyyy-mm-dd",anchor:"100%",maskRe:/^([0-9]|-)$/,width:110,listeners:{change:{fn:function(m,v){c.datePart=v;c.triggerEvent()}}}},{xtype:"timefield",format:"H:i:s UTC",width:110,listeners:{change:{fn:function(m,v){c.timePart=v;c.triggerEvent()}}}}]},{xtype:"panel",border:!1,items:[{xtype:"spinnerslider",title:"Year",itemId:"yearslider",min:parseISO8601DateToDate(_this.minTimeValue).getUTCFullYear(),
max:parseISO8601DateToDate(_this.maxTimeValue).getUTCFullYear(),ndecs:4,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Month",itemId:"monthslider",min:1,max:12,ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Day",itemId:"dayslider",min:1,max:31,ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Hour",itemId:"hourslider",min:0,max:23,ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Minute",itemId:"minuteslider",min:0,max:59,
ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Second",itemId:"secondslider",min:0,max:59,ndecs:2,trigger:_this.slidersTriggered}]}]},triggerEvent:function(){if(0!=_this.triggerEvents&&this.datePart&&this.timePart)try{var c=decimalFormatter(this.datePart.getFullYear(),4)+"-"+decimalFormatter(this.datePart.getMonth()+1,2)+"-"+decimalFormatter(this.datePart.getDate(),2)+"T"+decimalFormatter(this.timePart.getUTCHours(),2)+":"+decimalFormatter(this.timePart.getUTCMinutes(),2)+":"+
decimalFormatter(this.timePart.getUTCSeconds(),2)+"Z",m=parseISO8601DateToDate(c);this.setValue(m);this.fireEvent("change",this,m)}catch(v){}},getValue:function(){var c=this.dateField.getSubmitValue(),m=this.timeField.getSubmitValue();if(c)if(m){var v=this.getFormat();v=Ext.Date.parse(c+" "+m,v)}else v=this.dateField.getValue();return v},setValue:function(c){_this.suspendEvents();_this.triggerEvents=!1;if(isDefined(c)&&c!=_this.currentValue){_this.currentValue=c;var m=parseISO8601DateToDate(_this.minTimeValue),
v=parseISO8601DateToDate(_this.maxTimeValue);c<m&&(c=m);c>v&&(c=v);m=c.getUTCFullYear();_this.dateField.setValue(new Date(Date.UTC(m,c.getUTCMonth(),c.getUTCDate(),0,0,0)));_this.yearslider.setValue(c.getUTCFullYear());_this.monthslider.setValue(c.getUTCMonth()+1);_this.dayslider.setValue(c.getUTCDate());_this.hourslider.setValue(c.getUTCHours());_this.minuteslider.setValue(c.getUTCMinutes());_this.secondslider.setValue(c.getUTCSeconds());_this.timeField.setValue(c)}_this.triggerEvents=!0;_this.resumeEvents()}});Ext.define("webmapjsext.WMJSExt.CheckColumn",{extend:"Ext.grid.column.Column",alias:"widget.checkcolumn",constructor:function(){this.addEvents("checkchange");this.callParent(arguments)},processEvent:function(c,m,v,F,D,ea){if("mousedown"==c||"keydown"==c&&(ea.getKey()==ea.ENTER||ea.getKey()==ea.SPACE)){var J=m.panel.store.getAt(F),N=this.dataIndex,K=!J.get(N);J.set(N,K);this.fireEvent("checkchange",this,F,K);return!1}return this.callParent(arguments)},renderer:function(c){var m=Ext.baseCSSPrefix,v=
[m+"grid-checkheader"];c&&v.push(m+"grid-checkheader-checked");return'<div class="'+v.join(" ")+'">&#160;</div>'}});Ext.define("webmapjsext.WMJSExt.IFramePanel",{extend:"Ext.Panel",src:"about:blank",loadingText:"Loading ...",initComponent:function(){this.updateHTML();this.callParent(arguments)},updateHTML:function(){this.html='<iframe id="iframe-'+this.id+'" style="overflow:auto;width:100%;height:100%;" frameborder="0"  src="'+this.src+'"></iframe>'},reload:function(){this.setSrc(this.src)},getIframeId:function(){return"iframe-"+this.id},reset:function(){var c=this.getDOM(),m=c.parentNode;c&&m&&(c.src="about:blank",
c.parentNode.removeChild(c));c=document.createElement("iframe");c.frameBorder=0;c.src=this.src;c.id="iframe-"+this.id;c.style.overflow="auto";c.style.width="100%";c.style.height="100%";m.appendChild(c)},setSrc:function(c,m){this.src=c;if(m=this.getDOM())m.src=c},getSrc:function(){return this.src},getDOM:function(){return document.getElementById("iframe-"+this.id)},getDocument:function(){var c=this.getDOM();c=c.contentWindow?c.contentWindow:c.contentDocument.document?c.contentDocument.document:c.contentDocument;
return c.document},destroy:function(){var c=this.getDOM();c&&c.parentNode&&(c.src="about:blank",c.parentNode.removeChild(c));this.callParent(arguments)},update:function(c){this.setSrc("about:blank");try{var m=this.getDocument();m.open();m.write(c);m.close()}catch(v){this.reset(),m=this.getDocument(),m.open(),m.write(c),m.close()}}});Ext.define("webmapjsext.WMJSExt.WCSPanel",{extend:"Ext.panel.Panel",alias:"WCSPanel",initComponent:function(){var c=new function(){this.bbox=this.srs=void 0;this.coverages=[]};c.srs=this.WMJSLayer.parentMaps[0].getProjection().srs;c.bbox=this.WMJSLayer.parentMaps[0].getProjection().bbox.toString();var m=new WMJSCoverage({service:this.WMJSLayer.WMJSService.service,name:this.WMJSLayer.name});c.coverages.push(m);m.dimensions=this.WMJSLayer.dimensions;var v="EPSG:4326",F="AAIGRID",D="-180,-90,180,90",
ea=Ext.create("Ext.data.Store",{fields:["title","srs","bbox"],data:{items:[]},proxy:{type:"memory",reader:{type:"json",root:"items"}}}),J=Ext.create("Ext.grid.Panel",{border:!1,store:ea,columns:[{text:"Title",dataIndex:"title",flex:1},{text:"ESPG Code",dataIndex:"srs"}],listeners:{select:{fn:function(ua,xa){ua=xa.get("bbox");v=xa.get("srs");D=ua;Z.getComponent("column2").getComponent("areaPanel").getComponent("bboxtop").setValue(ua.split(",")[3]);Z.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxwest").setValue(ua.split(",")[0]);
Z.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxeast").setValue(ua.split(",")[2]);Z.getComponent("column2").getComponent("areaPanel").getComponent("bboxbottom").setValue(ua.split(",")[1]);xa=Math.abs(D.split(",")[2]-D.split(",")[0]);ua=Math.abs(D.split(",")[3]-D.split(",")[1]);var Da=c.coverages[0];Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").setValue(xa/Da.width);Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").setValue(ua/
Da.height);qa()}}}}),N=Ext.create("Ext.data.Store",{fields:["title","format"],data:{items:[]},proxy:{type:"memory",reader:{type:"json",root:"items"}}}),K=Ext.create("Ext.grid.Panel",{border:!1,store:N,columns:[{text:I18n.format.text,dataIndex:"format"},{text:I18n.title.text,dataIndex:"title",flex:1}],listeners:{select:{fn:function(ua,xa){F=xa.get("format");qa()}}}});c.onReady=function(){J.setLoading(!1);for(var ua=this.coverages[0],xa=0;xa<ua.supportedProjections.length;xa++){var Da=ua.supportedProjections[xa].srs;
try{Da=epsgDescriptionLookup[ua.supportedProjections[xa].srs]}catch(Ia){}isDefined(Da)||(Da=ua.supportedProjections[xa].srs);ea.add({title:Da,srs:ua.supportedProjections[xa].srs,bbox:ua.supportedProjections[xa].bbox})}xa=ea.find("srs",ua.nativeCRS);-1==xa&&(xa=ea.find("srs","EPSG:4326"));-1==xa&&(xa=0);J.getView().select(xa);ea.add({title:"Viewer window projection and area",srs:this.srs,bbox:this.bbox});Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").setValue(ua.width);
Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").setValue(ua.height);Da=Z.getComponent("column3").getComponent("dimensionPanel");for(xa=0;xa<ua.dimensions.length;xa++)Da.add({xtype:"textfield",fieldLabel:ua.dimensions[xa].name,value:ua.dimensions[xa].currentValue,labelWidth:40,padding:"30",width:200,itemId:"dimtextfield_"+ua.dimensions[xa].name,listeners:{change:{fn:function(){qa()}}}});for(xa=0;xa<ua.formats.length;xa++){Da=ua.formats[xa];
var Ea=ua.formats[xa].toUpperCase();try{Da=formatDescriptionLookup[Ea]}catch(Ia){}isDefined(Da)||(Da=ua.formats[xa]);N.add({title:Da,format:ua.formats[xa]});"AAIGRID"==Ea&&K.getView().select(xa)}qa();sa.update('<table style="margin:5px;"><tr><td><b>Coverage:</b></td><td>'+ua.name+"</td></tr><tr><td><b>Title:</b></td><td>"+ua.title+"</td></tr><tr><td><b>Description:</b></td><td>"+ua["abstract"]+"</td></tr></table>")};Ext.create("Ext.panel.Panel",{region:"west",border:!0,width:100});var Z=Ext.create("Ext.panel.Panel",
{region:"center",border:!1,layout:{type:"hbox",align:"stretch"},defaults:{border:!0},items:[{xtype:"panel",flex:2,title:I18n.coordinate_reference_system.text,itemId:"projectionPanel",layout:"fit",items:[J],border:!0,split:!0},{xtype:"panel",layout:"border",itemId:"column2",split:!0,autoScroll:!0,border:!1,flex:1,items:[{itemId:"areaPanel",height:"50%",xtype:"panel",title:I18n.area_bounding_box.text,region:"center",autoScroll:!0,layout:{type:"vbox",columns:3},items:[{xtype:"textfield",fieldLabel:I18n.north.text,
itemId:"bboxtop",labelWidth:20,padding:"30 5 5 130",width:180,listeners:{change:{fn:function(){qa()}}}},{xtype:"panel",itemId:"bbox",border:!1,layout:"hbox",items:[{xtype:"textfield",fieldLabel:I18n.west.text,itemId:"bboxwest",labelWidth:30,padding:"15 0 0 15",width:180,listeners:{change:{fn:function(){qa()}}}},{xtype:"textfield",fieldLabel:I18n.east.text,itemId:"bboxeast",labelWidth:30,padding:"15 0 0 15",width:180,listeners:{change:{fn:function(){qa()}}}}]},{xtype:"textfield",fieldLabel:I18n.south.text,
itemId:"bboxbottom",labelWidth:40,padding:"15 5 5 110",width:200,listeners:{change:{fn:function(){qa()}}}}]},{xtype:"panel",region:"south",height:"50%",title:"Grid properties",split:!0,autoScroll:!0,itemId:"gridproperties",items:{xtype:"fieldcontainer",itemId:"field",items:[{xtype:"radiofield",boxLabel:"Cell size",name:"resolution",checked:!0,itemId:"radioselectcellsize",padding:"15 15 15 15",handler:function(ua,xa){!0===xa&&(Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").disable(),
Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").disable(),Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").enable(),Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").enable());qa()}},{xtype:"textfield",fieldLabel:"X resolution",padding:"0 0 0 40",itemId:"xresolution",width:170,listeners:{change:{fn:function(){qa()}}}},{xtype:"textfield",
fieldLabel:"Y resolution",padding:"0 0 0 40",itemId:"yresolution",width:170,listeners:{change:{fn:function(){qa()}}}},{xtype:"radiofield",boxLabel:"Raster size",name:"resolution",padding:15,handler:function(ua,xa){!0===xa&&(Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").enable(),Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").enable(),Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").disable(),
Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").disable())}},{xtype:"textfield",fieldLabel:"Raster Width",padding:"0 0 0 40",disabled:!0,itemId:"rasterwidth",width:170,listeners:{change:{fn:function(){qa()}}}},{xtype:"textfield",fieldLabel:"Raster Height",padding:"0 0 0 40",disabled:!0,itemId:"rasterheight",width:170,listeners:{change:{fn:function(){qa()}}}}]}}]},{itemId:"column3",xtype:"panel",layout:"border",border:!1,split:!0,flex:1,items:[{xtype:"panel",
region:"center",height:"50%",itemId:"dimensionPanel",title:I18n.dimensions.text,autoScroll:!0},{xtype:"panel",split:!0,autoScroll:!0,region:"south",height:"50%",title:I18n.formats.text,items:[K]}]}]}),da=Ext.create("Ext.panel.Panel",{layout:"border",region:"center",border:!0,width:300,items:[Z]}),U=Ext.create("Ext.panel.Panel",{border:!1,padding:20}),ca=Ext.create("Ext.panel.Panel",{title:"GetCoverage request link",region:"south",border:!0,height:100,layout:"fit",items:[U]}),sa=Ext.create("Ext.panel.Panel",
{region:"north",border:!1,height:80,frame:!1});Ext.apply(this,{layout:"border",padding:0,frame:!1,border:!0,items:[da,sa,ca]});J.setLoading(!0);var qa=function(){var ua=c.coverages[0].service;ua=WMJScheckURL(ua);var xa=c.coverages[0].name,Da=Z.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxwest").getValue()+","+Z.getComponent("column2").getComponent("areaPanel").getComponent("bboxbottom").getValue()+","+Z.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxeast").getValue()+
","+Z.getComponent("column2").getComponent("areaPanel").getComponent("bboxtop").getValue();-1==ua.indexOf("?")?ua+="?":"&"!=ua.charAt(ua.length-1)&&(ua+="&");ua=ua+"SERVICE=WCS&REQUEST=GetCoverage&COVERAGE="+xa+"&CRS="+URLEncode(v)+"&FORMAT="+F+"&BBOX="+Da;1==Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("radioselectcellsize").getValue()?(ua+="&RESX="+Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").getValue(),
ua+="&RESY="+Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").getValue()):(ua+="&WIDTH="+Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").getValue(),ua+="&HEIGHT="+Z.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").getValue());for(xa=0;xa<c.coverages[0].dimensions.length;xa++)try{var Ea=Z.getComponent("column3").getComponent("dimensionPanel").getComponent("dimtextfield_"+
c.coverages[0].dimensions[xa].name).getValue(),Ia=c.coverages[0].dimensions[xa].name;Ia=Ia.toUpperCase();"ELEVATION"!=Ia&&"TIME"!=Ia&&(Ia="DIM_"+Ia);ua+="&"+Ia+"="+Ea}catch(Xa){}U.update('<a target="_blank" href="'+ua+'">'+ua+"</a>");return v};WCJSRequest(c.coverages[0].service,c.coverages[0].name,function(ua){c.coverages[0]=parseDescribeCoverage(ua,m);c.onReady()},function(ua){alert("failed:\n "+ua)});webmapjsext.WMJSExt.WCSPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.WindowFader",{extend:"Ext.window.Window",alias:"WMJSExtWindowFader",requires:[],initComponent:function(){var c=this;c.timer=new WMJSTimer;c.fadeOut=function(){100!=c.opacity&&(0<c.opacity?(c.timer.init(50,c.fadeOut),c.opacity-=(100-c.opacity)/10+.5,c.getEl().dom.style.opacity=c.opacity/100):c.close())};Ext.apply(this,{listeners:{render:{fn:function(){c.el.on("mouseenter",function(){c.getEl().dom.style.opacity="1";c.opacity=100});c.el.on("mouseleave",function(){c.opacity=
95;c.timer.init(100,c.fadeOut)})}},show:{fn:function(){c.getEl().dom.style.opacity=1;c.opacity=100}}}});this.callParent(arguments)}});initWMJS();var error=function(c){console.error(c)},debug=function(c){console.log(c)},versionInfo="ADAGUC viewer version 4.0.3.",mainWebmapJS;function decimalFormatter(c,m){c=parseInt(c)+"";m=parseInt(m)-c.length;var v,F="";for(v=0;v<m;v++)F+="0";return F+c}
function Console(c){function m(D){D=(D+"").replace(/&/g,"&amp;");D=D.replace(/</g,"&lt;");D=D.replace(/>/g,"&gt;");D=D.replace(/"/g,"&quot;");return D=D.replace(/\n/g,"<br>")}var v=c,F="";this.println=function(D,ea){F=0==ea?F+("<p class='stdoutmessage'>"+D+"</p>"):F+("<p class='stdoutmessage'>"+m(D)+"</p>");isDefined(v)&&(v.innerHTML=F,v.scrollTop=v.scrollHeight);17824<F.length&&(F=F.substring(F.length-13368))};this.errprintln=function(D,ea){F=0==ea?F+("<p class='stderrmessage'>"+D+"</p>"):F+("<p class='stderrmessage'>"+
m(D)+"</p>");isDefined(v)&&(v.innerHTML=F,v.scrollTop=v.scrollHeight)};this.cls=function(){F="";isDefined(v)&&(v.innerHTML=F)};this.setSize=function(D,ea){isDefined(v)&&(v.scrollTop=v.scrollHeight,v.style.width=D+"px",v.style.height=ea+"px",v.width=D+"px",v.height=ea+"px")};this.setElement=function(D){v=D;initWMJS();isDefined(v)&&(v.style.overflow="scroll",v.style.display="inline-block",v.style.position="absolute",v.style.width="100%",v.style.height="100%",v.style.font="normal 12px courier",v.noWrap=
!0,v.style.whiteSpace="nowrap",v.innerHTML=F,v.scrollTop=v.scrollHeight)};this.setElement(c)}
var myUTCDateParser=function(c,m){c=parseISO8601DateToDate(c+"T00:00:00Z");c.add(parseISO8601IntervalToDateInterval("P0D"));return c},myUTCDateFormatter=function(){if(void 0!=this)return decimalFormatter(this.getFullYear(),4)+"-"+decimalFormatter(this.getMonth()+1,2)+"-"+decimalFormatter(this.getDate(),2)},myUTCTimeFormatter=function(){if(void 0!=this)return decimalFormatter(this.getUTCHours(),2)+":"+decimalFormatter(this.getUTCMinutes(),2)+":"+decimalFormatter(this.getUTCSeconds(),2)},myUTCTimeParser=
function(c,m){return parseISO8601DateToDate("2000-01-01T"+c+"Z")};Ext.Date.formatFunctions["Y-m-d UTC"]=myUTCDateFormatter;Ext.Date.parseFunctions["Y-m-d UTC"]=myUTCDateParser;Ext.Date.formatFunctions["H:i:s UTC"]=myUTCTimeFormatter;Ext.Date.parseFunctions["H:i:s UTC"]=myUTCTimeParser;Ext.state.Manager.setProvider(new Ext.state.CookieProvider({expires:new Date((new Date).getTime()+6048E5)}));
var firstTimeOpening=!1,clearLayers=function(c){Ext.getCmp("layerlistpanel").removeAll();c.removeAllLayers()},updateLayers=function(){for(var c=Ext.getCmp("layerlistpanel").items,m=0;m<c.getCount();m++)c.get(m).parseLayer(!0)},getLayerObjects=function(){for(var c=[],m=Ext.getCmp("layerlistpanel").items,v=0;v<m.getCount();v++)c.push(m.get(v));return c},getSelectedLayer=function(){for(var c=getLayerObjects(),m=0;m<c.length;m++)if(1==c[m].selected)return c[m]},removeLayer=function(){for(var c=getLayerObjects(),
m=-2,v=0;v<c.length;v++)if(1==c[v].selected){m=v-1;c[v].close();break}c=getLayerObjects();0<c.length&&-2!=m&&(0>m&&(m=0),m>c.length-1&&(m=c.length-1),c[m].select())},createNewLayerPanel=function(c,m){0==isDefined(m)&&(m=[]);var v=void 0;isDefined(m.service)&&(v=m.service);var F=void 0;isDefined(m.name)&&(F=m.name);var D=void 0;isDefined(m.style)&&(D=m.style);var ea=void 0;isDefined(m.opacity)&&0<(""+m.opacity).length&&(ea=m.opacity);var J=void 0;isDefined(m.enabled)&&(J=m.enabled);var N=void 0;isDefined(m.autoChooseLayer)&&
(N=m.autoChooseLayer);isDefined(J)||(J=!0);var K=Ext.getCmp("layerlistpanel");K.removeLayer=removeLayer;v=Ext.create("webmapjsext.WMJSExt.LayerPanel",{parentPanelList:K,title:F,service:v,name:F,style:D,opacity:ea,enabled:J,autoChooseLayer:N,parentWebMapJS:c,afterlayerready:function(Z){1!=Z.layerAddedToWebMapJS&&(Z.WMJSLayer.enabled=this.enabled,Z.layerAddedToWebMapJS=!0);m.ready?(m.ready(Z,c),m.ready=void 0):(1==m.zoomtolayer&&(m.zoomtolayer=!1,c.setProjection(Z.WMJSLayer.getProjection("EPSG:4326"))),
c.draw("createNewLayerPanel"),1==m.notifyadded&&(m.notifyadded=!1))}});v.WMJSLayer.enabled=!1;c.addLayer(v.WMJSLayer);K.insert(0,v);v.select();return v},timeselectorWindow=Ext.create("Ext.window.Window",{title:"Time selection",width:310,height:624,constrain:!0,autoDestroy:!1,collapsible:!0,frame:!1,plain:!0,border:!1,closeAction:"hide",html:"<div class='timeselector'/>",listeners:{afterrender:{fn:function(c){var m=new WMJSTimeSelector($(this.getEl().dom).find(".timeselector"),function(v){mainWebmapJS.webMapJS.setDimension("time",
v);mainWebmapJS.webMapJS.draw("timeselectorWindow")});mainWebmapJS.webMapJS.addListener("onmapdimupdate",function(){m.dimensionUpdate(mainWebmapJS.webMapJS)},!0);mainWebmapJS.webMapJS.addListener("ondimchange",function(){m.dimensionChange(mainWebmapJS.webMapJS)},!0);mainWebmapJS.webMapJS.addListener("onimageload",function(){m.loadingComplete(mainWebmapJS.webMapJS)},!0);m.dimensionUpdate(mainWebmapJS.webMapJS)}},show:{fn:function(){mainWebmapJS.webMapJS.stopAnimating()}}}}),timeselectorPanel=Ext.create("Ext.panel.Panel",
{iconCls:"button_time32",title:" ",bodyCls:"layerlistbg",autoDestroy:!1,collapsible:!1,frame:!1,plain:!0,border:!1,closeAction:"hide",html:"<div class='timeselector layerlistbg'/>",listeners:{afterrender:{fn:function(c){var m=new WMJSTimeSelector($(this.getEl().dom).find(".timeselector"),function(v){mainWebmapJS.webMapJS.setDimension("time",v);mainWebmapJS.webMapJS.draw("timeselectorPanel")});mainWebmapJS.webMapJS.addListener("onmapdimupdate",function(){m.dimensionUpdate(mainWebmapJS.webMapJS)},!0);
mainWebmapJS.webMapJS.addListener("ondimchange",function(){m.dimensionChange(mainWebmapJS.webMapJS)},!0);mainWebmapJS.webMapJS.addListener("onimageload",function(){m.loadingComplete(mainWebmapJS.webMapJS)},!0);m.dimensionUpdate(mainWebmapJS.webMapJS)}},show:{fn:function(){mainWebmapJS.webMapJS.stopAnimating()}}}});
Ext.onReady(function(){Ext.tip.QuickTipManager.init();mainWebmapJS=Ext.create("webmapjsext.WMJSExt.MapPanel",{region:"center",border:!0});var c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{3}))?(Z|[\+-]\d{2}(?::\d{2})?)$/;Ext.create("Ext.form.field.Text",{value:"1000-01-01T00:00:00Z",regex:c,regexText:"Format should be YYYY-MM-DDThh:mm:ssZ"});Ext.create("Ext.form.field.Text",{value:"3000-01-01T00:00:00Z",regex:c,regexText:"Format should be YYYY-MM-DDThh:mm:ssZ"});var m=Ext.create("Ext.panel.Panel",
{region:"east",collapsible:!0,closable:!0,split:!0,header:!1,hidden:!0,width:600,autoScroll:!0,layout:"fit",title:"test",tbar:[{xtype:"label",text:"App",scale:"large",itemId:"paneltitle"},{xtype:"tbfill",scale:"large"},{xtype:"tool",scale:"large",type:"close",handler:function(){m.hide()}}],listeners:{show:{fn:function(){m.getDockedComponent(0).getComponent("paneltitle").setText("App '"+m.applicationSettings.name||m.applicationSettings.title+"'");m.update('<div id="webmapjs_customapplication" class="webmapjs_customapplication"></div>');
var U=WMJSExtApplications[m.applicationSettings.name];U?(m.applicationSettings.app=new U($("#webmapjs_customapplication"),mainWebmapJS.webMapJS),m.applicationSettings.app.enable(m.width,mainWebmapJS.webMapJS.getHeight()-24)):alert("Application with name "+m.applicationSettings.name+" not registered")}},hide:{fn:function(){m.applicationSettings.app&&(m.applicationSettings.app.disable(),m.applicationSettings.app=void 0);mainWebmapJS.webMapJS.enableInlineGetFeatureInfo(!0);mainWebmapJS.webMapJS.removeListener("mouseclicked")}},
resize:{fn:function(){m.applicationSettings.app&&m.applicationSettings.app.resize(m.width,mainWebmapJS.webMapJS.getHeight())}}},setApplication:function(U){m.applicationSettings=U}});c=Ext.create("Ext.panel.Panel",{region:"center",layout:"border",split:!0,frame:!1,border:!1,margin:0,items:[mainWebmapJS,m]});var v=function(U){console.log(U.slot);var ca=createNewLayerPanel(mainWebmapJS.webMapJS,{service:U.service,name:U.layer,style:U.style,opacity:U.opacity,ready:function(sa,qa){var ua=U.srs,xa=U.bbox,
Da=U.baselayername,Ea=U.baselayerservice;ua&&!xa?qa.setProjection(sa.getProjection(ua)):ua&&xa&&qa.setProjection({srs:ua,bbox:xa});Da&&Ea?(mainWebmapJS.baseLayer.setService(Ea),mainWebmapJS.baseLayer.name=Da,mainWebmapJS.baseLayer.parseLayer(function(){qa.draw("dataPanelClicked::parseLayer")},void 0,"WMJSExtMain::dataPanelClicked")):qa.draw("dataPanelClicked");isDefined(ca)&&isDefined(U.ready)&&(U.ready(ca,qa),1==ca.WMJSLayer.hasError&&ca.close())}});return ca},F,D=new Console;Ext.create("Ext.panel.Panel",
{html:'<div id="debuginfodiv"></div>',layout:"fit",listeners:{afterrender:{fn:function(){D.setElement(document.getElementById("debuginfodiv"))}}}});var ea=[{text:I18n.show_time_selection_window.text,iconCls:"button_settings_icon",handler:function(){timeselectorWindow.show()}},{text:I18n.create_animation.text+"&hellip;",iconCls:"button_settings_icon",handler:function(){Ext.create("Ext.window.Window",{title:I18n.create_animation.text,width:460,height:300,layout:"form",autoDestroy:!0,closeAction:"destroy",
autoScroll:!0,collapsible:!0,items:[Ext.create("webmapjsext.WMJSExt.AnimationPanel",{mappanel:mainWebmapJS})]}).show()}},{text:I18n.create_link.text,iconCls:"button_makeLink",handler:function(){F=Ext.create("Ext.window.Window",{title:I18n.create_permanent_links.text,width:800,height:260,layout:"fit",autoDestroy:!0,closeAction:"destroy",autoScroll:!0,modal:!1,items:[Ext.create("webmapjsext.WMJSExt.PermaLinkPanel",{mappanel:mainWebmapJS})]});F.show()}},{text:I18n.add_custom_wms_service.text,iconCls:"button_layerlist_layernew",
handler:function(){Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:v,webMapJS:mainWebmapJS.webMapJS}).showCustomWMSWindow()}},{text:I18n.undo_zoom_pan_action.text,iconCls:"button_undo",handler:function(){mainWebmapJS.webMapJS.setPreviousExtent()}},{text:I18n.redo_zoom_pan_action.text,iconCls:"button_redo",handler:function(){mainWebmapJS.webMapJS.setNextExtent()}},{text:I18n.abort_loading.text,iconCls:"button_stoploading",handler:function(){mainWebmapJS.webMapJS.abort()}}];try{isDefined(getFeatureInfoApplications)}catch(U){getFeatureInfoApplications=
[]}for(var J={},N=0;N<getFeatureInfoApplications.length;J={$jscomp$loop$prop$location$77$278:J.$jscomp$loop$prop$location$77$278},N++)J.$jscomp$loop$prop$location$77$278=getFeatureInfoApplications[N],ea.push({text:getFeatureInfoApplications[N].name,iconCls:getFeatureInfoApplications[N].iconCls,location:getFeatureInfoApplications[N].location,handler:function(U){return function(){console.log(U.$jscomp$loop$prop$location$77$278);m.setApplication(U.$jscomp$loop$prop$location$77$278);m.hide();m.show()}}(J)}),
getFeatureInfoApplications.open&&J.$jscomp$loop$prop$location$77$278.name===getFeatureInfoApplications.open&&m.setApplication(J.$jscomp$loop$prop$location$77$278);ea.push({text:I18n.about_the_adaguc_viewer.text,iconCls:"button_info",tooltip:I18n.about_the_adaguc_viewer.tooltip,handler:function(){Ext.create("Ext.window.Window",{title:I18n.about_adaguc.text,height:200,width:400,modal:!0,layout:"fit",items:{xtype:"panel",html:'<div class="about_adaguc" style="position:absolute;top:0px;left:0px;height:100px;width:520px;"/><div style="position:absolute;top:100px;padding:10px;margin:10px;">'+
versionInfo+I18n.about_adaguc_more_information.text}}).show()}});N=Ext.create("Ext.panel.Panel",{header:!1,title:" ",frame:!1,border:0,split:!1,id:"layerlistpanel",tooltip:I18n.layers.tooltip,overflowY:"auto",bodyCls:"layerlistbg",iconCls:"button_layers32",bbar:[{scale:"small",tooltip:I18n.add_new_layer.tooltip,iconCls:"layer_logos button_layerlist_layernew",handler:function(){createNewLayerPanel(mainWebmapJS.webMapJS,{service:""})}},{iconCls:"button_duplicate",tooltip:I18n.clone_this_layer.tooltip,
handler:function(){var U=getSelectedLayer();isDefined(U)&&U.duplicateLayer()}},{xtype:"button",tooltip:I18n.remove_this_layer.tooltip,iconCls:"button_layerlist_layerdelete",handler:function(U,ca){removeLayer()}},{xtype:"button",tooltip:I18n.move_layer_up.tooltip,iconCls:"button_layerlist_layerup",handler:function(U,ca){U=getSelectedLayer();isDefined(U)&&U.moveUp()}},{xtype:"button",tooltip:I18n.move_layer_down.tooltip,iconCls:"button_layerlist_layerdown",handler:function(U,ca){U=getSelectedLayer();
isDefined(U)&&U.moveDown()}},{xtype:"tbfill"},{iconCls:"button_settings_icon",tooltip:I18n.settings_and_options.tooltip,menu:{xtype:"menu",items:ea}}]});J=Ext.create("webmapjsext.WMJSExt.MapTypeSelector",{maptypeclicked:function(U){mainWebmapJS.webMapJS.setProjection({bbox:U.get("bbox"),srs:U.get("srs")});(U=U.get("baselayer"))&&U.service&&U.name&&(U.enabled=!0,mainWebmapJS.baseLayer.setService(U.service),mainWebmapJS.baseLayer.name=U.name,mainWebmapJS.baseLayer.enabled=!0,isDefined(U.transparent)&&
(mainWebmapJS.baseLayer.transparent=U.transparent),mainWebmapJS.baseLayer.parseLayer(function(){mainWebmapJS.webMapJS.draw("maptypeclicked")},void 0,"WMJSExtMain::maptypeclicked"))},webmapjsext:mainWebmapJS});var K=Ext.create("webmapjsext.WMJSExt.BaseMapSelector",{webmapjsext:mainWebmapJS});J={id:"viewportwestpanel",width:320,region:"west",layout:"border",collapsible:!0,animCollapse:!0,border:!0,split:!0,header:!1,autoScroll:!1,frame:!0,items:[{layout:"fit",border:!1,autoScroll:!1,region:"center",
xtype:"tabpanel",scale:"large",cls:"LayersAndMapsTab",items:[N,J,K,timeselectorPanel]}],tbar:[{scale:"large",text:"Add",tooltip:I18n.add_layers.tooltip,iconCls:"button_adddata32",handler:function(){dataChooserConfiguration=dataChooserConfigurationAdd;Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:v,webMapJS:mainWebmapJS.webMapJS}).show()}}]};for(N=0;N<dataChooser.length;N++)0!==dataChooser[N].dataChooserConfiguration.length&&(J.tbar.push({scale:"large",text:dataChooser[N].title,tooltip:I18n.add_layers.tooltip,
iconCls:"button_adddata32",ind:N,handler:function(){dataChooserConfiguration=dataChooser[this.ind].dataChooserConfiguration;Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:v,webMapJS:mainWebmapJS.webMapJS}).show()}}),J.width+=30);for(N=0;N<folderChooser.length;N++)0!==folderChooser[N].dataChooserConfigurationFolder.length&&(J.tbar.push({scale:"large",text:folderChooser[N].title,tooltip:I18n.add_layers.tooltip,iconCls:"folder_adddata32",ind:N,handler:function(){dataChooserConfigurationFolder=
folderChooser[this.ind].dataChooserConfigurationFolder;Ext.create("webmapjsext.WMJSExt.FolderPanel",{dataPanelClicked:v,webMapJS:mainWebmapJS.webMapJS}).show()}}),J.width+=30);J.tbar.push({iconCls:"button_settings32",tooltip:I18n.settings_and_options.tooltip,scale:"large",menu:{xtype:"menu",items:ea}});var Z=Ext.create("Ext.Viewport",{layout:"border",items:[J,c],renderTo:Ext.getBody(),listeners:{resize:{fn:function(){try{var U=viewportwestpanelwindow.y+viewportwestpanelwindow.height;U>Z.height&&(U=
Z.height-70,70>U&&(U=70));viewportwestpanelwindow.setSize(viewportwestpanelwindow.width,U)}catch(ca){}}}}}),da=function(U){var ca=!0,sa=!1;isDefined(U.collapse)&&"1"==U.collapse&&Ext.getCmp("viewportwestpanel").collapse();isDefined(U.zoomtolayer)&&"1"==U.zoomtolayer&&(ca=!0);isDefined(U.srs)&&isDefined(U.bbox)&&mainWebmapJS.webMapJS.setProjection({srs:U.srs,bbox:U.bbox});if(isDefined(U.service)){clearLayers(mainWebmapJS.webMapJS);var qa=URLDecode(U.service).split(","),ua=[""];isDefined(U.layer)?ua=
URLDecode(U.layer).split(","):1==ca&&(sa=!0);isDefined(U.selected);for(var xa=ua.length,Da=0;Da<ua.length;Da++)try{var Ea=ua[ua.length-1-Da].split("$"),Ia=Ea+"",Xa=!0,Ta="",Ya=1,ab=qa[0]+"";6==Ea.length&&(Ia=Ea[0],Xa=Ea[2],Ta=Ea[3],Ya=Ea[4],isDefined(Xa)&&("true"===Xa&&(Xa=!0),"false"===Xa&&(Xa=!1)),ab=qa[Ea[5]]);createNewLayerPanel(mainWebmapJS.webMapJS,{service:ab,name:Ia,style:Ta,enabled:Xa,opacity:Ya,ready:function(jb,qb){xa--;if(0==xa){if(isDefined(U.dims))for(var Ab=U.dims.split(","),wb=0;wb<
Ab.length;wb++){var rb=Ab[wb].split("$");2==rb.length&&mainWebmapJS.webMapJS.setDimension(rb[0],rb[1])}1==ca&&jb.WMJSLayer.zoomToLayer();qb.draw("index.html::numlayers=0")}},autoChooseLayer:sa})}catch(jb){error("Unable to parse layer nr "+Da)}if(isDefined(U.baselayers)){qa=U.baselayers.split("$");sa=[];for(Da=ua=0;Da<qa.length;Da++){Ea=!1;for(Ia=0;Ia<mapTypeConfiguration.length;Ia++)if(mapTypeConfiguration[Ia].baselayer.name==qa[Da]){mapTypeConfiguration[Ia].baselayer.enabled=!0;sa.push(mapTypeConfiguration[Ia].baselayer);
Ea=!0;ua++;break}if(!Ea)for(Ia=0;Ia<baseLayerConfiguration.length;Ia++)if(baseLayerConfiguration[Ia].name==qa[Da]){baseLayerConfiguration[Ia].enabled=!0;sa.push(baseLayerConfiguration[Ia]);Ea=!0;ua++;break}Ea||error("Warning: unable to find baselayer "+qa[Da])}for(Da=0;Da<baseLayerConfiguration.length;Da++)0==baseLayerConfiguration[Da].enabled?sa.push(baseLayerConfiguration[Da]):0==ua&&sa.push(baseLayerConfiguration[Da]);baseLayers=[];for(Da=0;Da<sa.length;Da++)qa=new WMJSLayer(sa[Da]),0==Da&&(mainWebmapJS.baseLayer=
qa),baseLayers.push(qa);0<baseLayers.length&&mainWebmapJS.webMapJS.setBaseLayers(baseLayers)}}U&&U.autowms&&(autowmsURL=U.autowms+"",-1===autowmsURL.indexOf("?")&&(autowmsURL+="?"),window.setTimeout(function(){m.setApplication(getFeatureInfoApplications.filter(function(jb){return"AutoWMS"===jb.name})[0]);m.hide();m.show()},100));U&&U.wms&&(console.log("wms found",U.wms),createNewLayerPanel(mainWebmapJS.webMapJS,{service:U.wms}))};0==window.location.hash.length&&da(getUrlVars());checkIfHashTagChanged(function(U,
ca){if(0<=U.indexOf("addlayer('")){if(ca=U.substring(U.indexOf("addlayer('")+10,U.indexOf("',")),U=U.substring(U.indexOf(",'")+2,U.indexOf("')")),ca&&U){for(var sa=!1,qa=mainWebmapJS.webMapJS.getLayers(),ua=0;ua<qa.length;ua++)if(qa[ua].service==ca&&qa[ua].name==U){sa=!0;break}0==sa&&(isDefined(hashLocationNotfiyAddLayer),firstTimeOpening=!0,createNewLayerPanel(mainWebmapJS.webMapJS,{service:ca,name:U,zoomtolayer:!1,notifyadded:!0}))}}else 0<=U.indexOf("positionmappinbylatlon(")?(debug(U),ca=U.substring(23,
U.indexOf(")")),debug(ca),ca=ca.split(","),debug(ca[0]+" "+ca[1]),mainWebmapJS.webMapJS.positionMapPinByLatLon({x:parseFloat(ca[0]),y:parseFloat(ca[1])})):0<=U.indexOf("refreshlayers")?updateLayers():da(ca)});getFeatureInfoApplications.open&&m.show()});var gfiapp_d3c3=function(c,m){var v=function(da,U){$("#"+U).empty();$("#"+U).append("<div style='height=240px;border=2px solid blue;' class='chart'>a</div>");$("#"+U).append("<div style='height=40px;border=2px solid red;' class='controls gfiapp_d3c3_export_to_csv_button'>b</div>");var ca=$("#"+U).find(".chart");U=$("#"+U).find(".controls");ca.html("graph");U.button({label:"Export to CSV"}).click(function(){console.log("Export to CSV");for(var sa="",qa=da.datatoplot,ua=0;ua<qa[0].length;ua++){for(var xa=
0;xa<qa.length;xa++)0<xa&&(sa+=";"),sa+=JSON.stringify(qa[xa][ua]);sa+="\n\r"}qa=document.createElement("a");qa.setAttribute("download","export.csv");qa.setAttribute("href",encodeURI("data:text/csv;charset=utf-8,"+sa));console.log("Clicking link");document.body.appendChild(qa);qa.click();qa.remove()});c3.generate({bindto:ca.get(0),data:{x:"x",x_format:"%Y%m%d",columns:da.datatoplot,types:{x:"area"}},axis:{x:{type:"timeseries",tick:{format:da.timeFormat}},y:{label:da.ylabel}},zoom:{enabled:!0},subchart:{show:!1}})},
F=function(da,U){return da>U?1:da<U?-1:0},D=function(da,U){var ca;for(ca=0;ca<U.length;ca++)try{if(U[ca].getTime()===da.getTime())return ca}catch(sa){}return-1},ea=function(da,U){var ca=1;"string"!=typeof da[0].dims&&(ca=da[0].dims.length);for(var sa=[],qa=function(Ea,Ia,Xa){var Ta=["x"];Ea=[Ia.name+" "+Ea];for(var Ya in Xa){Ia=d3.time.format("%Y-%m-%dT%H:%M:%SZ").parse(Ya);var ab=parseFloat(Xa[Ya]);Ta.push(Ia);Ea.push(ab)}sa.push({date:Ta,value:Ea})},ua=function(Ea,Ia,Xa,Ta){if(1==ca)qa("",Ia,Xa);
else if(Ea+2<ca)for(d in Xa)ua(Ea+1,Ia,Xa[d],Ta+"["+d+"]");else for(d in Xa)qa("["+d+"]",Ia,Xa[d])},xa=0;xa<da.length;xa++)ua(0,da[xa],da[xa].data,"");xa=function(Ea){for(var Ia=[],Xa=Ea.length,Ta=0;Ta<Xa;Ta++)for(var Ya=Ea[Ta].date,ab=1;ab<Ya.length;ab++){var jb=Ya[ab],qb=D(jb,Ia);-1==qb&&Ia.push(jb)}Ia.sort(F);Ia.unshift("x");Ya=[];for(ab=0;ab<Xa;ab++)Ya.push([]);for(Ta=0;Ta<Xa;Ta++)for(Ya[Ta].push(Ea[Ta].value[0]),ab=1;ab<Ia.length;ab++)qb=D(Ia[ab],Ea[Ta].date),qb==ab?(jb=Ea[Ta].value[qb],"nodata"==
jb&&(jb=NaN),Ya[Ta].push(parseFloat(jb))):Ya[Ta].push(NaN);Ea=[];Ea.push(Ia);for(Ta=0;Ta<Xa;Ta++)Ea.push(Ya[Ta]);return Ea}(sa);var Da=da[0].name;da[0].units&&(Da+=" in "+da[0].units);v({datatoplot:xa,ylabel:Da,timeFormat:"%Y-%m-%d %H:%M"},U)},J=function(da,U){console.log(da);da.includes("time=")&&(i=da.indexOf("time="),mURL0=da.slice(0,i+5),mURLF=da.slice(i+5,da.length),da=mURL0+"/"+mURLF);$.ajax({type:"GET",url:da+"&JSONP=?",dataType:"jsonp",cache:!1,success:function(ca){try{ea(ca,U)}catch(sa){$("#"+
U).html("Sorry! An error occurred while parsing JSON data: ["+sa+"]")}},error:function(ca,sa,qa){$("#"+U).html("Sorry! An error occurred while receiving JSON data from the server: ["+qa+"]");console.log("Error "+qa)}})},N=!0,K=[];K.set=!1;var Z=function(da){if(0!=N){K.x=da.x;K.y=da.y;K.set=!0;var U=m.getLatLongFromPixelCoord({x:da.x,y:da.y});$("#chart").html('<img src="./img/ajax-loader.gif" alt="Loading..."/>');var ca=m.getLayers();if(isDefined(ca)){U="timeseries graph for location ["+Math.round(100*
U.x)/100+","+Math.round(100*U.y)/100+"]<br/>";$("#chart").empty();for(var sa=0;sa<ca.length;sa++){var qa=m.getWMSGetFeatureInfoRequestURL(ca[sa],da.x,da.y);qa=composeUrlObjectFromURL(qa);var ua=qa.location+"?";for(key in qa.kvp){var xa=qa.kvp[key];"info_format"==key&&(xa="application/json");"time"==key&&(xa="1000-01-01T00:00:00Z/3000-01-01T00:00:00Z");"dim_member"==key&&(xa="*");"dim_ensemble_member"==key&&(xa="*");"dim_percentile"==key&&(xa="*");ua+=key+"="+URLEncode(xa)+"&"}$("#chart").append("<div class='chartstyle' id='chart"+
sa+"'></div>");$("#chart"+sa).html('<img src="./img/ajax-loader.gif" alt="Loading..."/>');J(ua,"chart"+sa)}$("#info").html(U)}else $("#info").html("No valid data received:<br/>"+data)}};m.addListener("mouseclicked",Z,!0);this.enable=function(){c.html('<div id="info"></div><div id="chart" class="gfiapp_d3c3"></div>');$("#info").html("Click on the map to create a timeseries graph.");console.log("init");m.enableInlineGetFeatureInfo(!1);N=!0};this.disable=function(){N=!1;m.enableInlineGetFeatureInfo(!0);
K.set=!1};this.resize=function(da,U){console.log("w="+da);$("#chart").width(da);K.set&&Z(K)};this.enable()};try{WMJSExtApplications["Time series mode"]=gfiapp_d3c3}catch(c){};(function(c,m){"object"===typeof exports&&"undefined"!==typeof module?m(exports):"function"===typeof define&&define.amd?define(["exports"],m):(c="undefined"!==typeof globalThis?globalThis:c||self,m(c.s3=c.s3||{}))})(this,function(c){function m(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function v(a){function b(g,h,n,l){null==n&&(n=0);null==l&&(l=g.length);for(;n<l;){var p=n+l>>>1;0>f(g[p],h)?n=p+1:l=p}return n}var e=a,f=a;1===a.length&&(e=function(g,h){return a(g)-h},f=F(a));return{left:b,center:function(g,
h,n,l){null==n&&(n=0);null==l&&(l=g.length);l=b(g,h,n,l-1);return l>n&&e(g[l-1],h)>-e(g[l],h)?l-1:l},right:function(g,h,n,l){null==n&&(n=0);null==l&&(l=g.length);for(;n<l;){var p=n+l>>>1;0<f(g[p],h)?l=p:n=p+1}return n}}}function F(a){return function(b,e){return m(a(b),e)}}function D(a){return null===a?NaN:+a}function ea(a,b){var e,f,g,h,n,l;return $jscomp.generator.createGenerator(ea,function(p){switch(p.nextAddress){case 1:if(void 0===b){p.jumpTo(2);break}e=-1;f=$jscomp.makeIterator(a);g=f.next();
case 4:if(g.done){p.jumpTo(0);break}h=g.value;if(!(null!=(h=b(h,++e,a))&&(h=+h)>=h)){p.jumpTo(5);break}return p.yield(h,5);case 5:g=f.next();p.jumpTo(4);break;case 2:n=$jscomp.makeIterator(a),g=n.next();case 9:if(g.done){p.jumpTo(0);break}l=g.value;if(!(null!=l&&(l=+l)>=l)){p.jumpTo(10);break}return p.yield(l,10);case 10:g=n.next(),p.jumpTo(9)}})}function J(a,b){var e=0;if(void 0===b){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(b=+b)>=b&&++e}else{var g=-1,h=
$jscomp.makeIterator(a);for(f=h.next();!f.done;f=h.next())f=f.value,null!=(f=b(f,++g,a))&&(f=+f)>=f&&++e}return e}function N(a){return a.length|0}function K(a){return!(0<a)}function Z(a){return"object"!==typeof a||"length"in a?a:Array.from(a)}function da(a){return function(b){return a.apply(null,$jscomp.arrayFromIterable(b))}}function U(a,b){var e=0,f,g=0,h=0;if(void 0===b)for(a=$jscomp.makeIterator(a),f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(b=+b)>=b&&(f=b-g,g+=f/++e,h+=f*(b-g));else{var n=
-1,l=$jscomp.makeIterator(a);for(f=l.next();!f.done;f=l.next()){var p=f.value;null!=(p=b(p,++n,a))&&(p=+p)>=p&&(f=p-g,g+=f/++e,h+=f*(p-g))}}if(1<e)return h/(e-1)}function ca(a,b){return(a=U(a,b))?Math.sqrt(a):a}function sa(a,b){var e,f;if(void 0===b){a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())b=g.value,null!=b&&(void 0===e?b>=b&&(e=f=b):(e>b&&(e=b),f<b&&(f=b)))}else{var h=-1,n=$jscomp.makeIterator(a);for(g=n.next();!g.done;g=n.next())g=g.value,null!=(g=b(g,++h,a))&&(void 0===
e?g>=g&&(e=f=g):(e>g&&(e=g),f<g&&(f=g)))}return[e,f]}function qa(a,b){var e=a._intern;a=a._key;a=a(b);return e.has(a)?e.get(a):b}function ua(a,b){var e=a._intern;a=a._key;a=a(b);if(e.has(a))return e.get(a);e.set(a,b);return b}function xa(a,b){var e=a._intern;a=a._key;a=a(b);e.has(a)&&(b=e.get(b),e.delete(a));return b}function Da(a){return null!==a&&"object"===typeof a?a.valueOf():a}function Ea(a){return a}function Ia(a,b){for(var e=[],f=1;f<arguments.length;++f)e[f-1]=arguments[f];return Ya(a,Ea,
Ea,e)}function Xa(a,b,e){for(var f=[],g=2;g<arguments.length;++g)f[g-2]=arguments[g];return Ya(a,Ea,b,f)}function Ta(a){if(1!==a.length)throw Error("duplicate key");return a[0]}function Ya(a,b,e,f){return function l(h,n){if(n>=f.length)return e(h);for(var p=new bd,y=f[n++],C=-1,t=$jscomp.makeIterator(h),u=t.next();!u.done;u=t.next()){u=u.value;var w=y(u,++C,h),z=p.get(w);z?z.push(u):p.set(w,[u])}h=$jscomp.makeIterator(p);for(y=h.next();!y.done;y=h.next())C=$jscomp.makeIterator(y.value),y=C.next().value,
C=C.next().value,p.set(y,l(C,n));return b(p)}(a,0)}function ab(a,b){return Array.from(b,function(e){return a[e]})}function jb(a,b){for(var e=[],f=1;f<arguments.length;++f)e[f-1]=arguments[f];var g=e;if("function"!==typeof a[Symbol.iterator])throw new TypeError("values is not iterable");a=Array.from(a);e=$jscomp.makeIterator(g).next().value;var h=void 0===e?m:e;return 1===h.length||1<g.length?(e=Uint32Array.from(a,function(n,l){return l}),1<g.length?(g=g.map(function(n){return a.map(n)}),e.sort(function(n,
l){for(var p=$jscomp.makeIterator(g),y=p.next();!y.done;y=p.next())if(y=y.value,y=m(y[n],y[l]))return y})):(h=a.map(h),e.sort(function(n,l){return m(h[n],h[l])})),ab(a,e)):a.sort(h)}function qb(a){return function(){return a}}function Ab(a,b,e){var f,g=-1,h;b=+b;a=+a;e=+e;if(a===b&&0<e)return[a];if(f=b<a){var n=a;a=b;b=n}if(0===(h=wb(a,b,e))||!isFinite(h))return[];if(0<h)for(e=Math.round(a/h),n=Math.round(b/h),e*h<a&&++e,n*h>b&&--n,a=Array(n=n-e+1);++g<n;)a[g]=(e+g)*h;else for(h=-h,e=Math.round(a*
h),n=Math.round(b*h),e/h<a&&++e,n/h>b&&--n,a=Array(n=n-e+1);++g<n;)a[g]=(e+g)/h;f&&a.reverse();return a}function wb(a,b,e){b=(b-a)/Math.max(0,e);a=Math.floor(Math.log(b)/Math.LN10);b/=Math.pow(10,a);return 0<=a?(b>=Vg?10:b>=Wg?5:b>=Xg?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(b>=Vg?10:b>=Wg?5:b>=Xg?2:1)}function rb(a,b,e){var f=Math.abs(b-a)/Math.max(0,e);e=Math.pow(10,Math.floor(Math.log(f)/Math.LN10));f/=e;f>=Vg?e*=10:f>=Wg?e*=5:f>=Xg&&(e*=2);return b<a?-e:e}function cd(a,b,e){for(var f;;){var g=wb(a,
b,e);if(g===f||0===g||!isFinite(g))return[a,b];0<g?(a=Math.floor(a/g)*g,b=Math.ceil(b/g)*g):0>g&&(a=Math.ceil(a*g)/g,b=Math.floor(b*g)/g);f=g}}function Nc(a){return Math.ceil(Math.log(J(a))/Math.LN2)+1}function dd(){function a(g){Array.isArray(g)||(g=Array.from(g));var h,n=g.length,l=Array(n);for(h=0;h<n;++h)l[h]=b(g[h],h,g);var p=e(l),y=p[0];p=p[1];var C=f(l,y,p);if(!Array.isArray(C)){h=p;var t=+C;e===sa&&(p=$jscomp.makeIterator(cd(y,p,t)),y=p.next().value,p=p.next().value);C=Ab(y,p,t);C[C.length-
1]>=p&&(h>=p&&e===sa?(h=wb(y,p,t),isFinite(h)&&(0<h?p=(Math.floor(p/h)+1)*h:0>h&&(p=(Math.ceil(p*-h)+1)/-h))):C.pop())}for(t=C.length;C[0]<=y;)C.shift(),--t;for(;C[t-1]>p;)C.pop(),--t;var u=Array(t+1);for(h=0;h<=t;++h){var w=u[h]=[];w.x0=0<h?C[h-1]:y;w.x1=h<t?C[h]:p}for(h=0;h<n;++h)w=l[h],y<=w&&w<=p&&u[Oc(C,w,0,t)].push(g[h]);return u}var b=Ea,e=sa,f=Nc;a.value=function(g){return arguments.length?(b="function"===typeof g?g:qb(g),a):b};a.domain=function(g){return arguments.length?(e="function"===typeof g?
g:qb([g[0],g[1]]),a):e};a.thresholds=function(g){return arguments.length?(f="function"===typeof g?g:Array.isArray(g)?qb(sp.call(g)):qb(g),a):f};return a}function Cc(a,b){var e;if(void 0===b){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(e<b||void 0===e&&b>=b)&&(e=b)}else{var g=-1,h=$jscomp.makeIterator(a);for(f=h.next();!f.done;f=h.next())f=f.value,null!=(f=b(f,++g,a))&&(e<f||void 0===e&&f>=f)&&(e=f)}return e}function Dc(a,b){var e;if(void 0===b){a=$jscomp.makeIterator(a);
for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(e>b||void 0===e&&b>=b)&&(e=b)}else{var g=-1,h=$jscomp.makeIterator(a);for(f=h.next();!f.done;f=h.next())f=f.value,null!=(f=b(f,++g,a))&&(e>f||void 0===e&&f>=f)&&(e=f)}return e}function Pc(a,b,e,f,g){e=void 0===e?0:e;f=void 0===f?a.length-1:f;for(g=void 0===g?m:g;f>e;){if(600<f-e){var h=f-e+1,n=b-e+1,l=Math.log(h),p=.5*Math.exp(2*l/3);l=.5*Math.sqrt(l*p*(h-p)/h)*(0>n-h/2?-1:1);Pc(a,b,Math.max(e,Math.floor(b-n*p/h+l)),Math.min(f,Math.floor(b+
(h-n)*p/h+l)),g)}h=a[b];n=e;p=f;pc(a,e,b);for(0<g(a[f],h)&&pc(a,e,f);n<p;){pc(a,n,p);++n;for(--p;0>g(a[n],h);)++n;for(;0<g(a[p],h);)--p}0===g(a[e],h)?pc(a,e,p):(++p,pc(a,p,f));p<=b&&(e=p+1);b<=p&&(f=p-1)}return a}function pc(a,b,e){var f=a[b];a[b]=a[e];a[e]=f}function qc(a,b,e){a=Float64Array.from(ea(a,e));if(e=a.length){if(0>=(b=+b)||2>e)return Dc(a);if(1<=b)return Cc(a);b*=e-1;e=Math.floor(b);var f=Cc(Pc(a,e).subarray(0,e+1));a=Dc(a.subarray(e+1));return f+(a-f)*(b-e)}}function ed(a,b,e){e=void 0===
e?D:e;if(f=a.length){if(0>=(b=+b)||2>f)return+e(a[0],0,a);if(1<=b)return+e(a[f-1],f-1,a);var f;b*=f-1;f=Math.floor(b);var g=+e(a[f],f,a);a=+e(a[f+1],f+1,a);return g+(a-g)*(b-f)}}function fd(a,b){var e=-1,f=-1;if(void 0===b){a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())if(b=g.value,++f,null!=b&&(h<b||void 0===h&&b>=b)){var h=b;e=f}}else{var n=$jscomp.makeIterator(a);for(g=n.next();!g.done;g=n.next())g=g.value,null!=(g=b(g,++f,a))&&(h<g||void 0===h&&g>=g)&&(h=g,e=f)}return e}function Cd(a){var b,
e,f;return $jscomp.generator.createGenerator(Cd,function(g){1==g.nextAddress&&(b=$jscomp.makeIterator(a),e=b.next());if(3!=g.nextAddress){if(e.done)return g.jumpTo(0);f=e.value;return g.yieldAll(f,3)}e=b.next();return g.jumpTo(2)})}function gd(a){return Array.from(Cd(a))}function Dd(a,b){var e=-1,f=-1;if(void 0===b){a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())if(b=g.value,++f,null!=b&&(h>b||void 0===h&&b>=b)){var h=b;e=f}}else{var n=$jscomp.makeIterator(a);for(g=n.next();!g.done;g=
n.next())g=g.value,null!=(g=b(g,++f,a))&&(h>g||void 0===h&&g>=g)&&(h=g,e=f)}return e}function ne(a,b){return[a,b]}function Yb(a,b,e){a=+a;b=+b;e=2>(g=arguments.length)?(b=a,a=0,1):3>g?1:+e;for(var f=-1,g=Math.max(0,Math.ceil((b-a)/e))|0,h=Array(g);++f<g;)h[f]=a+f*e;return h}function Ed(a,b){b=void 0===b?m:b;if(1===b.length)return Dd(a,b);var e=-1,f=-1;a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())if(g=g.value,++f,0>e?0===b(g,g):0>b(g,h)){var h=g;e=f}return e}function oe(a){return function(b,
e,f){e=void 0===e?0:e;f=void 0===f?b.length:f;for(f-=e=+e;f;){var g=a()*f--|0,h=b[f+e];b[f+e]=b[g+e];b[g+e]=h}return b}}function cf(a){if(!(h=a.length))return[];for(var b=-1,e=Dc(a,Yg),f=Array(e);++b<e;)for(var g=-1,h,n=f[b]=Array(h);++g<h;)n[g]=a[g][b];return f}function Yg(a){return a.length}function Zg(a){return a instanceof Set?a:new Set(a)}function df(a,b){var e=a[Symbol.iterator]();a=new Set;var f={};b=$jscomp.makeIterator(b);for(var g=b.next();!g.done;f={$jscomp$loop$prop$value$283:f.$jscomp$loop$prop$value$283,
$jscomp$loop$prop$done$284:f.$jscomp$loop$prop$done$284},g=b.next())if(g=g.value,!a.has(g))for(f.$jscomp$loop$prop$value$283=void 0,f.$jscomp$loop$prop$done$284=void 0;function(h){return function(){var n=e.next();h.$jscomp$loop$prop$value$283=n.value;h.$jscomp$loop$prop$done$284=n.done;return n}}(f)();){if(f.$jscomp$loop$prop$done$284)return!1;a.add(f.$jscomp$loop$prop$value$283);if(Object.is(g,f.$jscomp$loop$prop$value$283))break}return!0}function ef(a){return a}function $g(a){return"translate("+
a+",0)"}function ff(a){return"translate(0,"+a+")"}function xj(a){return function(b){return+a(b)}}function tp(a,b){b=Math.max(0,a.bandwidth()-2*b)/2;a.round()&&(b=Math.round(b));return function(e){return+a(e)+b}}function up(){return!this.__axis}function gf(a,b){function e(w){var z=null==g?b.ticks?b.ticks.apply(b,f):b.domain():g,q=null==h?b.tickFormat?b.tickFormat.apply(b,f):ef:h,r=Math.max(n,0)+p,x=b.range(),B=+x[0]+y;x=+x[x.length-1]+y;var E=(b.bandwidth?tp:xj)(b.copy(),y),L=w.selection?w.selection():
w,P=L.selectAll(".domain").data([null]);z=L.selectAll(".tick").data(z,b).order();var R=z.exit(),Y=z.enter().append("g").attr("class","tick"),ia=z.select("line"),T=z.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));z=z.merge(Y);ia=ia.merge(Y.append("line").attr("stroke","currentColor").attr(t+"2",C*n));T=T.merge(Y.append("text").attr("fill","currentColor").attr(t,C*r).attr("dy",1===a?"0em":3===a?"0.71em":"0.32em"));w!==L&&(P=P.transition(w),
z=z.transition(w),ia=ia.transition(w),T=T.transition(w),R=R.transition(w).attr("opacity",1E-6).attr("transform",function(V){return isFinite(V=E(V))?u(V+y):this.getAttribute("transform")}),Y.attr("opacity",1E-6).attr("transform",function(V){var ma=this.parentNode.__axis;return u((ma&&isFinite(ma=ma(V))?ma:E(V))+y)}));R.remove();P.attr("d",4===a||2===a?l?"M"+C*l+","+B+"H"+y+"V"+x+"H"+C*l:"M"+y+","+B+"V"+x:l?"M"+B+","+C*l+"V"+y+"H"+x+"V"+C*l:"M"+B+","+y+"H"+x);z.attr("opacity",1).attr("transform",function(V){return u(E(V)+
y)});ia.attr(t+"2",C*n);T.attr(t,C*r).text(q);L.filter(up).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===a?"start":4===a?"end":"middle");L.each(function(){this.__axis=E})}var f=[],g=null,h=null,n=6,l=6,p=3,y="undefined"!==typeof window&&1<window.devicePixelRatio?0:.5,C=1===a||4===a?-1:1,t=4===a||2===a?"x":"y",u=1===a||3===a?$g:ff;e.scale=function(w){return arguments.length?(b=w,e):b};e.ticks=function(){return f=ah.call(arguments),e};e.tickArguments=
function(w){return arguments.length?(f=null==w?[]:ah.call(w),e):f.slice()};e.tickValues=function(w){return arguments.length?(g=null==w?null:ah.call(w),e):g&&g.slice()};e.tickFormat=function(w){return arguments.length?(h=w,e):h};e.tickSize=function(w){return arguments.length?(n=l=+w,e):n};e.tickSizeInner=function(w){return arguments.length?(n=+w,e):n};e.tickSizeOuter=function(w){return arguments.length?(l=+w,e):l};e.tickPadding=function(w){return arguments.length?(p=+w,e):p};e.offset=function(w){return arguments.length?
(y=+w,e):y};return e}function hd(){for(var a=0,b=arguments.length,e={},f;a<b;++a){if(!(f=arguments[a]+"")||f in e||/[\s.]/.test(f))throw Error("illegal type: "+f);e[f]=[]}return new hf(e)}function hf(a){this._=a}function vp(a,b){return a.trim().split(/^|\s+/).map(function(e){var f="",g=e.indexOf(".");0<=g&&(f=e.slice(g+1),e=e.slice(0,g));if(e&&!b.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:f}})}function yj(a,b,e){for(var f=0,g=a.length;f<g;++f)if(a[f].name===b){a[f]=wp;a=
a.slice(0,f).concat(a.slice(f+1));break}null!=e&&a.push({name:b,value:e});return a}function pe(a){var b=a+="",e=b.indexOf(":");0<=e&&"xmlns"!==(b=a.slice(0,e))&&(a=a.slice(e+1));return bh.hasOwnProperty(b)?{space:bh[b],local:a}:a}function xp(a){return function(){var b=this.ownerDocument,e=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===e&&"http://www.w3.org/1999/xhtml"===b.documentElement.namespaceURI?b.createElement(a):b.createElementNS(e,a)}}function yp(a){return function(){return this.ownerDocument.createElementNS(a.space,
a.local)}}function jf(a){a=pe(a);return(a.local?yp:xp)(a)}function zp(){}function kf(a){return null==a?zp:function(){return this.querySelector(a)}}function ch(a){return"object"===typeof a&&"length"in a?a:Array.from(a)}function Ap(){return[]}function dh(a){return null==a?Ap:function(){return this.querySelectorAll(a)}}function Bp(a){return function(){var b=a.apply(this,arguments);return null==b?[]:ch(b)}}function eh(a){return function(){return this.matches(a)}}function zj(a){return function(b){return b.matches(a)}}
function Cp(a){return function(){return Dp.call(this.children,a)}}function Ep(){return this.firstElementChild}function Fp(){return this.children}function Gp(a){return function(){return Hp.call(this.children,a)}}function Aj(a){return Array(a.length)}function lf(a,b){this.ownerDocument=a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=b}function Ip(a){return function(){return a}}function Jp(a,b,e,f,g,h){for(var n=0,l,p=b.length,y=h.length;n<y;++n)(l=b[n])?
(l.__data__=h[n],f[n]=l):e[n]=new lf(a,h[n]);for(;n<p;++n)if(l=b[n])g[n]=l}function Kp(a,b,e,f,g,h,n){var l,p,y=new Map,C=b.length,t=h.length,u=Array(C),w;for(l=0;l<C;++l)if(p=b[l])u[l]=w=n.call(p,p.__data__,l,b)+"",y.has(w)?g[l]=p:y.set(w,p);for(l=0;l<t;++l)w=n.call(a,h[l],l,h)+"",(p=y.get(w))?(f[l]=p,p.__data__=h[l],y.delete(w)):e[l]=new lf(a,h[l]);for(l=0;l<C;++l)(p=b[l])&&y.get(u[l])===p&&(g[l]=p)}function Lp(a){return a.__data__}function Mp(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function Np(a){return function(){this.removeAttribute(a)}}
function Op(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Pp(a,b){return function(){this.setAttribute(a,b)}}function Qp(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function Rp(a,b){return function(){var e=b.apply(this,arguments);null==e?this.removeAttribute(a):this.setAttribute(a,e)}}function Sp(a,b){return function(){var e=b.apply(this,arguments);null==e?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,e)}}function fh(a){return a.ownerDocument&&
a.ownerDocument.defaultView||a.document&&a||a.defaultView}function Tp(a){return function(){this.style.removeProperty(a)}}function Up(a,b,e){return function(){this.style.setProperty(a,b,e)}}function Vp(a,b,e){return function(){var f=b.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,f,e)}}function id(a,b){return a.style.getPropertyValue(b)||fh(a).getComputedStyle(a,null).getPropertyValue(b)}function Wp(a){return function(){delete this[a]}}function Xp(a,b){return function(){this[a]=
b}}function Yp(a,b){return function(){var e=b.apply(this,arguments);null==e?delete this[a]:this[a]=e}}function gh(a){return a.classList||new Bj(a)}function Bj(a){this._node=a;this._names=(a.getAttribute("class")||"").trim().split(/^|\s+/)}function Cj(a,b){a=gh(a);for(var e=-1,f=b.length;++e<f;)a.add(b[e])}function Dj(a,b){a=gh(a);for(var e=-1,f=b.length;++e<f;)a.remove(b[e])}function Zp(a){return function(){Cj(this,a)}}function $p(a){return function(){Dj(this,a)}}function aq(a,b){return function(){(b.apply(this,
arguments)?Cj:Dj)(this,a)}}function bq(){this.textContent=""}function cq(a){return function(){this.textContent=a}}function dq(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function eq(){this.innerHTML=""}function fq(a){return function(){this.innerHTML=a}}function gq(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function hq(){this.nextSibling&&this.parentNode.appendChild(this)}function iq(){this.previousSibling&&this.parentNode.insertBefore(this,
this.parentNode.firstChild)}function jq(){return null}function kq(){var a=this.parentNode;a&&a.removeChild(this)}function lq(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function mq(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function nq(a){return function(b){a.call(this,b,this.__data__)}}function oq(a){return a.trim().split(/^|\s+/).map(function(b){var e="",f=b.indexOf(".");0<=f&&(e=b.slice(f+1),b=b.slice(0,
f));return{type:b,name:e}})}function pq(a){return function(){var b=this.__on;if(b){for(var e=0,f=-1,g=b.length,h;e<g;++e)(h=b[e],a.type&&h.type!==a.type||h.name!==a.name)?b[++f]=h:this.removeEventListener(h.type,h.listener,h.options);++f?b.length=f:delete this.__on}}}function qq(a,b,e){return function(){var f=this.__on,g,h=nq(b);if(f)for(var n=0,l=f.length;n<l;++n)if((g=f[n]).type===a.type&&g.name===a.name){this.removeEventListener(g.type,g.listener,g.options);this.addEventListener(g.type,g.listener=
h,g.options=e);g.value=b;return}this.addEventListener(a.type,h,e);g={type:a.type,name:a.name,value:b,listener:h,options:e};f?f.push(g):this.__on=[g]}}function Ej(a,b,e){var f=fh(a),g=f.CustomEvent;"function"===typeof g?g=new g(b,e):(g=f.document.createEvent("Event"),e?(g.initEvent(b,e.bubbles,e.cancelable),g.detail=e.detail):g.initEvent(b,!1,!1));a.dispatchEvent(g)}function rq(a,b){return function(){return Ej(this,a,b)}}function sq(a,b){return function(){return Ej(this,a,b.apply(this,arguments))}}
function Fj(){var a=this,b,e,f,g,h,n,l;return $jscomp.generator.createGenerator(Fj,function(p){switch(p.nextAddress){case 1:b=a._groups,e=0,f=b.length;case 2:if(!(e<f)){p.jumpTo(0);break}g=b[e];h=0;n=g.length;case 5:if(!(h<n)){++e;p.jumpTo(2);break}if(!(l=g[h])){p.jumpTo(6);break}return p.yield(l,6);case 6:++h,p.jumpTo(5)}})}function Jb(a,b){this._groups=a;this._parents=b}function jd(){return new Jb([[document.documentElement]],hh)}function Kb(a){return"string"===typeof a?new Jb([[document.querySelector(a)]],
[document.documentElement]):new Jb([[a]],hh)}function Gj(){return new ih}function ih(){this._="@"+(++tq).toString(36)}function Hj(a){for(var b;b=a.sourceEvent;)a=b;return a}function ac(a,b){a=Hj(a);void 0===b&&(b=a.currentTarget);if(b){var e=b.ownerSVGElement||b;if(e.createSVGPoint)return e=e.createSVGPoint(),e.x=a.clientX,e.y=a.clientY,e=e.matrixTransform(b.getScreenCTM().inverse()),[e.x,e.y];if(b.getBoundingClientRect)return e=b.getBoundingClientRect(),[a.clientX-e.left-b.clientLeft,a.clientY-e.top-
b.clientTop]}return[a.pageX,a.pageY]}function Fd(a){a.preventDefault();a.stopImmediatePropagation()}function mf(a){var b=a.document.documentElement;a=Kb(a).on("dragstart.drag",Fd,!0);if("onselectstart"in b)a.on("selectstart.drag",Fd,!0);else b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none"}function nf(a,b){var e=a.document.documentElement,f=Kb(a).on("dragstart.drag",null);b&&(f.on("click.drag",Fd,!0),setTimeout(function(){f.on("click.drag",null)},0));if("onselectstart"in e)f.on("selectstart.drag",
null);else e.style.MozUserSelect=e.__noselect,delete e.__noselect}function jh(a,b){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b.sourceEvent,enumerable:!0,configurable:!0},subject:{value:b.subject,enumerable:!0,configurable:!0},target:{value:b.target,enumerable:!0,configurable:!0},identifier:{value:b.identifier,enumerable:!0,configurable:!0},active:{value:b.active,enumerable:!0,configurable:!0},x:{value:b.x,enumerable:!0,configurable:!0},y:{value:b.y,
enumerable:!0,configurable:!0},dx:{value:b.dx,enumerable:!0,configurable:!0},dy:{value:b.dy,enumerable:!0,configurable:!0},_:{value:b.dispatch}})}function uq(a){return!a.ctrlKey&&!a.button}function vq(){return this.parentNode}function wq(a,b){return null==b?{x:a.x,y:a.y}:b}function xq(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gd(a,b,e){a.prototype=b.prototype=e;e.constructor=a}function qe(a,b){a=Object.create(a.prototype);for(var e in b)a[e]=b[e];return a}function Qc(){}function Ij(){return this.rgb().formatHex()}
function Jj(){return this.rgb().formatRgb()}function Rc(a){var b,e;a=(a+"").trim().toLowerCase();return(b=yq.exec(a))?(e=b[1].length,b=parseInt(b[1],16),6===e?Kj(b):3===e?new Hb(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1):8===e?of(b>>24&255,b>>16&255,b>>8&255,(b&255)/255):4===e?of(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|b&240,((b&15)<<4|b&15)/255):null):(b=zq.exec(a))?new Hb(b[1],b[2],b[3],1):(b=Aq.exec(a))?new Hb(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=Bq.exec(a))?of(b[1],b[2],b[3],
b[4]):(b=Cq.exec(a))?of(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=Dq.exec(a))?Lj(b[1],b[2]/100,b[3]/100,1):(b=Eq.exec(a))?Lj(b[1],b[2]/100,b[3]/100,b[4]):Mj.hasOwnProperty(a)?Kj(Mj[a]):"transparent"===a?new Hb(NaN,NaN,NaN,0):null}function Kj(a){return new Hb(a>>16&255,a>>8&255,a&255,1)}function of(a,b,e,f){0>=f&&(a=b=e=NaN);return new Hb(a,b,e,f)}function kh(a){a instanceof Qc||(a=Rc(a));if(!a)return new Hb;a=a.rgb();return new Hb(a.r,a.g,a.b,a.opacity)}function Hd(a,b,e,f){return 1===arguments.length?
kh(a):new Hb(a,b,e,null==f?1:f)}function Hb(a,b,e,f){this.r=+a;this.g=+b;this.b=+e;this.opacity=+f}function Nj(){return"#"+lh(this.r)+lh(this.g)+lh(this.b)}function Oj(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function lh(a){a=Math.max(0,Math.min(255,Math.round(a)||0));return(16>
a?"0":"")+a.toString(16)}function Lj(a,b,e,f){0>=f?a=b=e=NaN:0>=e||1<=e?a=b=NaN:0>=b&&(a=NaN);return new rc(a,b,e,f)}function Pj(a){if(a instanceof rc)return new rc(a.h,a.s,a.l,a.opacity);a instanceof Qc||(a=Rc(a));if(!a)return new rc;if(a instanceof rc)return a;a=a.rgb();var b=a.r/255,e=a.g/255,f=a.b/255,g=Math.min(b,e,f),h=Math.max(b,e,f),n=NaN,l=h-g,p=(h+g)/2;l?(n=b===h?(e-f)/l+6*(e<f):e===h?(f-b)/l+2:(b-e)/l+4,l/=.5>p?h+g:2-h-g,n*=60):l=0<p&&1>p?0:n;return new rc(n,l,p,a.opacity)}function pf(a,
b,e,f){return 1===arguments.length?Pj(a):new rc(a,b,e,null==f?1:f)}function rc(a,b,e,f){this.h=+a;this.s=+b;this.l=+e;this.opacity=+f}function mh(a,b,e){return 255*(60>a?b+(e-b)*a/60:180>a?e:240>a?b+(e-b)*(240-a)/60:b)}function Qj(a){if(a instanceof kc)return new kc(a.l,a.a,a.b,a.opacity);if(a instanceof sc)return Rj(a);a instanceof Hb||(a=kh(a));var b=nh(a.r),e=nh(a.g),f=nh(a.b),g=oh(.2225045*b+.7168786*e+.0606169*f);if(b===e&&e===f)var h=b=g;else h=oh((.4360747*b+.3850649*e+.1430804*f)/.96422),
b=oh((.0139322*b+.0971045*e+.7141733*f)/.82521);return new kc(116*g-16,500*(h-g),200*(g-b),a.opacity)}function qf(a,b,e,f){return 1===arguments.length?Qj(a):new kc(a,b,e,null==f?1:f)}function kc(a,b,e,f){this.l=+a;this.a=+b;this.b=+e;this.opacity=+f}function oh(a){return a>Fq?Math.pow(a,1/3):a/Sj+Tj}function ph(a){return a>Id?a*a*a:Sj*(a-Tj)}function qh(a){return 255*(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function nh(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Uj(a){if(a instanceof
sc)return new sc(a.h,a.c,a.l,a.opacity);a instanceof kc||(a=Qj(a));if(0===a.a&&0===a.b)return new sc(NaN,0<a.l&&100>a.l?0:NaN,a.l,a.opacity);var b=Math.atan2(a.b,a.a)*Vj;return new sc(0>b?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function rf(a,b,e,f){return 1===arguments.length?Uj(a):new sc(a,b,e,null==f?1:f)}function sc(a,b,e,f){this.h=+a;this.c=+b;this.l=+e;this.opacity=+f}function Rj(a){if(isNaN(a.h))return new kc(a.l,0,0,a.opacity);var b=a.h*Wj;return new kc(a.l,Math.cos(b)*a.c,Math.sin(b)*
a.c,a.opacity)}function lc(a,b,e,f){if(1===arguments.length){var g=a;if(g instanceof kd)g=new kd(g.h,g.s,g.l,g.opacity);else{g instanceof Hb||(g=kh(g));var h=g.g/255,n=g.b/255,l=(Xj*n+g.r/255*-1.7884503806-3.5172982438*h)/(Xj+-1.7884503806-3.5172982438);n-=l;var p=(1.97294*(h-l)- -.29227*n)/-.90649;n=(h=Math.sqrt(p*p+n*n)/(1.97294*l*(1-l)))?Math.atan2(p,n)*Vj-120:NaN;g=new kd(0>n?n+360:n,h,l,g.opacity)}}else g=new kd(a,b,e,null==f?1:f);return g}function kd(a,b,e,f){this.h=+a;this.s=+b;this.l=+e;this.opacity=
+f}function Yj(a,b,e,f,g){var h=a*a,n=h*a;return((1-3*a+3*h-n)*b+(4-6*h+3*n)*e+(1+3*a+3*h-3*n)*f+n*g)/6}function Zj(a){var b=a.length-1;return function(e){var f=0>=e?e=0:1<=e?(e=1,b-1):Math.floor(e*b),g=a[f],h=a[f+1];return Yj((e-f/b)*b,0<f?a[f-1]:2*g-h,g,h,f<b-1?a[f+2]:2*h-g)}}function ak(a){var b=a.length;return function(e){var f=Math.floor((0>(e%=1)?++e:e)*b);return Yj((e-f/b)*b,a[(f+b-1)%b],a[f%b],a[(f+1)%b],a[(f+2)%b])}}function bk(a,b){return function(e){return a+e*b}}function Gq(a,b,e){return a=
Math.pow(a,e),b=Math.pow(b,e)-a,e=1/e,function(f){return Math.pow(a+f*b,e)}}function sf(a,b){var e=b-a;return e?bk(a,180<e||-180>e?e-360*Math.round(e/360):e):tf(isNaN(a)?b:a)}function Hq(a){return 1===(a=+a)?Eb:function(b,e){return e-b?Gq(b,e,a):tf(isNaN(b)?e:b)}}function Eb(a,b){var e=b-a;return e?bk(a,e):tf(isNaN(a)?b:a)}function ck(a){return function(b){var e=b.length,f=Array(e),g=Array(e),h=Array(e),n;for(n=0;n<e;++n){var l=Hd(b[n]);f[n]=l.r||0;g[n]=l.g||0;h[n]=l.b||0}f=a(f);g=a(g);h=a(h);l.opacity=
1;return function(p){l.r=f(p);l.g=g(p);l.b=h(p);return l+""}}}function rh(a,b){b||(b=[]);var e=a?Math.min(b.length,a.length):0,f=b.slice(),g;return function(h){for(g=0;g<e;++g)f[g]=a[g]*(1-h)+b[g]*h;return f}}function dk(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function ek(a,b){var e=b?b.length:0,f=a?Math.min(e,a.length):0,g=Array(f),h=Array(e),n;for(n=0;n<f;++n)g[n]=Sc(a[n],b[n]);for(;n<e;++n)h[n]=b[n];return function(l){for(n=0;n<f;++n)h[n]=g[n](l);return h}}function fk(a,b){var e=
new Date;return a=+a,b=+b,function(f){return e.setTime(a*(1-f)+b*f),e}}function ec(a,b){return a=+a,b=+b,function(e){return a*(1-e)+b*e}}function gk(a,b){var e={},f={},g;if(null===a||"object"!==typeof a)a={};if(null===b||"object"!==typeof b)b={};for(g in b)g in a?e[g]=Sc(a[g],b[g]):f[g]=b[g];return function(h){for(g in e)f[g]=e[g](h);return f}}function Iq(a){return function(){return a}}function Jq(a){return function(b){return a(b)+""}}function sh(a,b){var e=th.lastIndex=uh.lastIndex=0,f,g,h,n=-1,
l=[],p=[];a+="";for(b+="";(f=th.exec(a))&&(g=uh.exec(b));)(h=g.index)>e&&(h=b.slice(e,h),l[n]?l[n]+=h:l[++n]=h),(f=f[0])===(g=g[0])?l[n]?l[n]+=g:l[++n]=g:(l[++n]=null,p.push({i:n,x:ec(f,g)})),e=uh.lastIndex;e<b.length&&(h=b.slice(e),l[n]?l[n]+=h:l[++n]=h);return 2>l.length?p[0]?Jq(p[0].x):Iq(b):(b=p.length,function(y){for(var C=0,t;C<b;++C)l[(t=p[C]).i]=t.x(y);return l.join("")})}function Sc(a,b){var e=typeof b,f;return null==b||"boolean"===e?tf(b):("number"===e?ec:"string"===e?(f=Rc(b))?(b=f,re):
sh:b instanceof Rc?re:b instanceof Date?fk:dk(b)?rh:Array.isArray(b)?ek:"function"!==typeof b.valueOf&&"function"!==typeof b.toString||isNaN(b)?gk:ec)(a,b)}function uf(a,b){return a=+a,b=+b,function(e){return Math.round(a*(1-e)+b*e)}}function hk(a,b,e,f,g,h){var n,l,p;if(n=Math.sqrt(a*a+b*b))a/=n,b/=n;if(p=a*e+b*f)e-=a*p,f-=b*p;if(l=Math.sqrt(e*e+f*f))e/=l,f/=l,p/=l;a*f<b*e&&(a=-a,b=-b,p=-p,n=-n);return{translateX:g,translateY:h,rotate:Math.atan2(b,a)*ik,skewX:Math.atan(p)*ik,scaleX:n,scaleY:l}}function jk(a,
b,e,f){function g(y){return y.length?y.pop()+" ":""}function h(y,C,t,u,w,z){y!==t||C!==u?(w=w.push("translate(",null,b,null,e),z.push({i:w-4,x:ec(y,t)},{i:w-2,x:ec(C,u)})):(t||u)&&w.push("translate("+t+b+u+e)}function n(y,C,t,u){y!==C?(180<y-C?C+=360:180<C-y&&(y+=360),u.push({i:t.push(g(t)+"rotate(",null,f)-2,x:ec(y,C)})):C&&t.push(g(t)+"rotate("+C+f)}function l(y,C,t,u){y!==C?u.push({i:t.push(g(t)+"skewX(",null,f)-2,x:ec(y,C)}):C&&t.push(g(t)+"skewX("+C+f)}function p(y,C,t,u,w,z){y!==t||C!==u?(w=
w.push(g(w)+"scale(",null,",",null,")"),z.push({i:w-4,x:ec(y,t)},{i:w-2,x:ec(C,u)})):1===t&&1===u||w.push(g(w)+"scale("+t+","+u+")")}return function(y,C){var t=[],u=[];y=a(y);C=a(C);h(y.translateX,y.translateY,C.translateX,C.translateY,t,u);n(y.rotate,C.rotate,t,u);l(y.skewX,C.skewX,t,u);p(y.scaleX,y.scaleY,C.scaleX,C.scaleY,t,u);y=C=null;return function(w){for(var z=-1,q=u.length,r;++z<q;)t[(r=u[z]).i]=r.x(w);return t.join("")}}}function kk(a){return((a=Math.exp(a))+1/a)/2}function lk(a){return function(b,
e){var f=a((b=pf(b)).h,(e=pf(e)).h),g=Eb(b.s,e.s),h=Eb(b.l,e.l),n=Eb(b.opacity,e.opacity);return function(l){b.h=f(l);b.s=g(l);b.l=h(l);b.opacity=n(l);return b+""}}}function mk(a){return function(b,e){var f=a((b=rf(b)).h,(e=rf(e)).h),g=Eb(b.c,e.c),h=Eb(b.l,e.l),n=Eb(b.opacity,e.opacity);return function(l){b.h=f(l);b.c=g(l);b.l=h(l);b.opacity=n(l);return b+""}}}function nk(a){return function f(e){function g(h,n){var l=a((h=lc(h)).h,(n=lc(n)).h),p=Eb(h.s,n.s),y=Eb(h.l,n.l),C=Eb(h.opacity,n.opacity);
return function(t){h.h=l(t);h.s=p(t);h.l=y(Math.pow(t,e));h.opacity=C(t);return h+""}}e=+e;g.gamma=f;return g}(1)}function ok(a,b){void 0===b&&(b=a,a=Sc);for(var e=0,f=b.length-1,g=b[0],h=Array(0>f?0:f);e<f;)h[e]=a(g,g=b[++e]);return function(n){var l=Math.max(0,Math.min(f-1,Math.floor(n*=f)));return h[l](n-l)}}function se(){return ld||(pk(Kq),ld=te.now()+vf)}function Kq(){ld=0}function ue(){this._call=this._time=this._next=null}function wf(a,b,e){var f=new ue;f.restart(a,b,e);return f}function qk(){se();
++Jd;for(var a=xf,b;a;)0<=(b=ld-a._time)&&a._call.call(null,b),a=a._next;--Jd}function rk(){ld=(yf=te.now())+vf;Jd=ve=0;try{qk()}finally{Jd=0;for(var a,b=xf,e,f=Infinity;b;)b._call?(f>b._time&&(f=b._time),a=b,b=b._next):(e=b._next,b._next=null,b=a?a._next=e:xf=e);we=a;vh(f);ld=0}}function Lq(){var a=te.now(),b=a-yf;1E3<b&&(vf-=b,yf=a)}function vh(a){Jd||(ve&&(ve=clearTimeout(ve)),24<a-ld?(Infinity>a&&(ve=setTimeout(rk,a-te.now()-vf)),xe&&(xe=clearInterval(xe))):(xe||(yf=te.now(),xe=setInterval(Lq,
1E3)),Jd=1,pk(rk)))}function wh(a,b,e){var f=new ue;b=null==b?0:+b;f.restart(function(g){f.stop();a(g+b)},b,e);return f}function zf(a,b,e,f,g,h){var n=a.__transition;if(!n)a.__transition={};else if(e in n)return;Mq(a,e,{name:b,index:f,group:g,on:Nq,tween:Oq,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:0})}function xh(a,b){a=mc(a,b);if(0<a.state)throw Error("too late; already scheduled");return a}function tc(a,b){a=mc(a,b);if(3<a.state)throw Error("too late; already running");
return a}function mc(a,b){a=a.__transition;if(!a||!(a=a[b]))throw Error("transition not found");return a}function Mq(a,b,e){function f(p){var y,C;if(1!==e.state)return h();for(u in n){var t=n[u];if(t.name===e.name){if(3===t.state)return wh(f);4===t.state?(t.state=6,t.timer.stop(),t.on.call("interrupt",a,a.__data__,t.index,t.group),delete n[u]):+u<b&&(t.state=6,t.timer.stop(),t.on.call("cancel",a,a.__data__,t.index,t.group),delete n[u])}}wh(function(){3===e.state&&(e.state=4,e.timer.restart(g,e.delay,
e.time),g(p))});e.state=2;e.on.call("start",a,a.__data__,e.index,e.group);if(2===e.state){e.state=3;l=Array(C=e.tween.length);var u=0;for(y=-1;u<C;++u)if(t=e.tween[u].value.call(a,a.__data__,e.index,e.group))l[++y]=t;l.length=y+1}}function g(p){p=p<e.duration?e.ease.call(null,p/e.duration):(e.timer.restart(h),e.state=5,1);for(var y=-1,C=l.length;++y<C;)l[y].call(a,p);5===e.state&&(e.on.call("end",a,a.__data__,e.index,e.group),h())}function h(){e.state=6;e.timer.stop();delete n[b];for(var p in n)return;
delete a.__transition}var n=a.__transition,l;n[b]=e;e.timer=wf(function(p){e.state=1;e.timer.restart(f,e.delay,e.time);e.delay<=p&&f(p-e.delay)},0,e.time)}function md(a,b){var e=a.__transition,f,g=!0,h;if(e){b=null==b?null:b+"";for(h in e)if((f=e[h]).name!==b)g=!1;else{var n=2<f.state&&5>f.state;f.state=6;f.timer.stop();f.on.call(n?"interrupt":"cancel",a,a.__data__,f.index,f.group);delete e[h]}g&&delete a.__transition}}function Pq(a,b){var e,f;return function(){var g=tc(this,a),h=g.tween;if(h!==e){f=
e=h;h=0;for(var n=f.length;h<n;++h)if(f[h].name===b){f=f.slice();f.splice(h,1);break}}g.tween=f}}function Qq(a,b,e){var f,g;if("function"!==typeof e)throw Error();return function(){var h=tc(this,a),n=h.tween;if(n!==f){g=(f=n).slice();n={name:b,value:e};for(var l=0,p=g.length;l<p;++l)if(g[l].name===b){g[l]=n;break}l===p&&g.push(n)}h.tween=g}}function yh(a,b,e){var f=a._id;a.each(function(){var g=tc(this,f);(g.value||(g.value={}))[b]=e.apply(this,arguments)});return function(g){return mc(g,f).value[b]}}
function sk(a,b){var e;return("number"===typeof b?ec:b instanceof Rc?re:(e=Rc(b))?(b=e,re):sh)(a,b)}function Rq(a){return function(){this.removeAttribute(a)}}function Sq(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Tq(a,b,e){var f,g=e+"",h;return function(){var n=this.getAttribute(a);return n===g?null:n===f?h:h=b(f=n,e)}}function Uq(a,b,e){var f,g=e+"",h;return function(){var n=this.getAttributeNS(a.space,a.local);return n===g?null:n===f?h:h=b(f=n,e)}}function Vq(a,b,e){var f,
g,h;return function(){var n=e(this);if(null==n)return void this.removeAttribute(a);var l=this.getAttribute(a);var p=n+"";return l===p?null:l===f&&p===g?h:(g=p,h=b(f=l,n))}}function Wq(a,b,e){var f,g,h;return function(){var n=e(this);if(null==n)return void this.removeAttributeNS(a.space,a.local);var l=this.getAttributeNS(a.space,a.local);var p=n+"";return l===p?null:l===f&&p===g?h:(g=p,h=b(f=l,n))}}function Xq(a,b){return function(e){this.setAttribute(a,b.call(this,e))}}function Yq(a,b){return function(e){this.setAttributeNS(a.space,
a.local,b.call(this,e))}}function Zq(a,b){function e(){var h=b.apply(this,arguments);h!==g&&(f=(g=h)&&Yq(a,h));return f}var f,g;e._value=b;return e}function $q(a,b){function e(){var h=b.apply(this,arguments);h!==g&&(f=(g=h)&&Xq(a,h));return f}var f,g;e._value=b;return e}function ar(a,b){return function(){xh(this,a).delay=+b.apply(this,arguments)}}function br(a,b){return b=+b,function(){xh(this,a).delay=b}}function cr(a,b){return function(){tc(this,a).duration=+b.apply(this,arguments)}}function dr(a,
b){return b=+b,function(){tc(this,a).duration=b}}function er(a,b){if("function"!==typeof b)throw Error();return function(){tc(this,a).ease=b}}function fr(a,b){return function(){var e=b.apply(this,arguments);if("function"!==typeof e)throw Error();tc(this,a).ease=e}}function gr(a){return(a+"").trim().split(/^|\s+/).every(function(b){var e=b.indexOf(".");0<=e&&(b=b.slice(0,e));return!b||"start"===b})}function hr(a,b,e){var f,g,h=gr(b)?xh:tc;return function(){var n=h(this,a),l=n.on;if(l!==f)(g=(f=l).copy()).on(b,
e);n.on=g}}function ir(a){return function(){var b=this.parentNode,e;for(e in this.__transition)if(+e!==a)return;b&&b.removeChild(this)}}function jr(a,b){var e,f,g;return function(){var h=id(this,a),n=(this.style.removeProperty(a),id(this,a));return h===n?null:h===e&&n===f?g:g=b(e=h,f=n)}}function tk(a){return function(){this.style.removeProperty(a)}}function kr(a,b,e){var f,g=e+"",h;return function(){var n=id(this,a);return n===g?null:n===f?h:h=b(f=n,e)}}function lr(a,b,e){var f,g,h;return function(){var n=
id(this,a),l=e(this),p=l+"";null==l&&(p=l=(this.style.removeProperty(a),id(this,a)));return n===p?null:n===f&&p===g?h:(g=p,h=b(f=n,l))}}function mr(a,b){var e,f,g,h="style."+b,n="end."+h,l;return function(){var p=tc(this,a),y=p.on,C=null==p.value[h]?l||(l=tk(b)):void 0;if(y!==e||g!==C)(f=(e=y).copy()).on(n,g=C);p.on=f}}function nr(a,b,e){return function(f){this.style.setProperty(a,b.call(this,f),e)}}function or(a,b,e){function f(){var n=b.apply(this,arguments);n!==h&&(g=(h=n)&&nr(a,n,e));return g}
var g,h;f._value=b;return f}function pr(a){return function(){this.textContent=a}}function qr(a){return function(){var b=a(this);this.textContent=null==b?"":b}}function rr(a){return function(b){this.textContent=a.call(this,b)}}function sr(a){function b(){var g=a.apply(this,arguments);g!==f&&(e=(f=g)&&rr(g));return e}var e,f;b._value=a;return b}function uc(a,b,e,f){this._groups=a;this._parents=b;this._name=e;this._id=f}function uk(a){return jd().transition(a)}function vk(a){return(1>=(a*=2)?a*a:--a*
(2-a)+1)/2}function zh(a){return(1>=(a*=2)?a*a*a:(a-=2)*a*a+2)/2}function wk(a){return(1-Math.cos(xk*a))/2}function Tc(a){return 1.0009775171065494*(Math.pow(2,-10*a)-9.765625E-4)}function yk(a){return(1>=(a*=2)?Tc(1-a):2-Tc(a-1))/2}function zk(a){return(1>=(a*=2)?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}function ye(a){return(a=+a)<Ah?Af*a*a:a<tr?Af*(a-=ur)*a+.75:a<vr?Af*(a-=wr)*a+.9375:Af*(a-=xr)*a+.984375}function yr(a,b){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},
sourceEvent:{value:b.sourceEvent,enumerable:!0,configurable:!0},target:{value:b.target,enumerable:!0,configurable:!0},selection:{value:b.selection,enumerable:!0,configurable:!0},mode:{value:b.mode,enumerable:!0,configurable:!0},_:{value:b.dispatch}})}function Ak(a){return[+a[0],+a[1]]}function Bh(a){return[Ak(a[0]),Ak(a[1])]}function ze(a){return{type:a}}function zr(a){return!a.ctrlKey&&!a.button}function Ar(){var a=this.ownerSVGElement||this;return a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,
[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function Br(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ch(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function Dh(a){function b(r){var x=r.property("__brush",p).selectAll(".overlay").data([ze("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ec.overlay).merge(x).each(function(){var B=Ch(this).extent;Kb(this).attr("x",
B[0][0]).attr("y",B[0][1]).attr("width",B[1][0]-B[0][0]).attr("height",B[1][1]-B[0][1])});r.selectAll(".selection").data([ze("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ec.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");x=r.selectAll(".handle").data(a.handles,function(B){return B.type});x.exit().remove();x.enter().append("rect").attr("class",function(B){return"handle handle--"+B.type}).attr("cursor",
function(B){return Ec[B.type]});r.each(e).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(t).on("touchstart.brush",h).on("touchmove.brush",n).on("touchend.brush touchcancel.brush",l).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){var r=Kb(this),x=Ch(this).selection;x?(r.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),r.selectAll(".handle").style("display",
null).attr("x",function(B){return"e"===B.type[B.type.length-1]?x[1][0]-z/2:x[0][0]-z/2}).attr("y",function(B){return"s"===B.type[0]?x[1][1]-z/2:x[0][1]-z/2}).attr("width",function(B){return"n"===B.type||"s"===B.type?x[1][0]-x[0][0]+z:z}).attr("height",function(B){return"e"===B.type||"w"===B.type?x[1][1]-x[0][1]+z:z})):r.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(r,x,B){var E=r.__brush.emitter;return!E||B&&
E.clean?new g(r,x,B):E}function g(r,x,B){this.that=r;this.args=x;this.state=r.__brush;this.active=0;this.clean=B}function h(r){function x(Q){for(var aa=$jscomp.makeIterator(Q.changedTouches||[Q]),oa=aa.next();!oa.done;oa=aa.next()){oa=oa.value;for(var ba=$jscomp.makeIterator(G),wa=ba.next();!wa.done;wa=ba.next())wa=wa.value,wa.identifier===oa.identifier&&(wa.cur=ac(oa,R))}!k||A||H||1!==G.length||(aa=G[0],Bk(aa.cur[0]-aa[0])>Bk(aa.cur[1]-aa[1])?H=!0:A=!0);aa=$jscomp.makeIterator(G);for(oa=aa.next();!oa.done;oa=
aa.next())oa=oa.value,oa.cur&&(oa[0]=oa.cur[0],oa[1]=oa.cur[1]);Va=!0;Q.preventDefault();Q.stopImmediatePropagation();B(Q)}function B(Q){var aa=G[0],oa=aa.point0;Fa=aa[0]-oa[0];Ma=aa[1]-oa[1];switch(ia){case Eh:case Ck:T&&(Fa=Lb(Ja-pa,Mb(O-X,Fa)),I=pa+Fa,W=X+Fa);V&&(Ma=Lb(Ga-Qa,Mb(Ba-Ka,Ma)),M=Qa+Ma,S=Ka+Ma);break;case Kd:G[1]?(T&&(I=Lb(Ja,Mb(O,G[0][0])),W=Lb(Ja,Mb(O,G[1][0])),T=1),V&&(M=Lb(Ga,Mb(Ba,G[0][1])),S=Lb(Ga,Mb(Ba,G[1][1])),V=1)):(0>T?(Fa=Lb(Ja-pa,Mb(O-pa,Fa)),I=pa+Fa,W=X):0<T&&(Fa=Lb(Ja-
X,Mb(O-X,Fa)),I=pa,W=X+Fa),0>V?(Ma=Lb(Ga-Qa,Mb(Ba-Qa,Ma)),M=Qa+Ma,S=Ka):0<V&&(Ma=Lb(Ga-Ka,Mb(Ba-Ka,Ma)),M=Qa,S=Ka+Ma));break;case Ld:T&&(I=Lb(Ja,Mb(O,pa-Fa*T)),W=Lb(Ja,Mb(O,X+Fa*T))),V&&(M=Lb(Ga,Mb(Ba,Qa-Ma*V)),S=Lb(Ga,Mb(Ba,Ka+Ma*V)))}W<I&&(T*=-1,aa=pa,pa=X,X=aa,aa=I,I=W,W=aa,Y in Dk&&ha.attr("cursor",Ec[Y=Dk[Y]]));S<M&&(V*=-1,aa=Qa,Qa=Ka,Ka=aa,aa=M,M=S,S=aa,Y in Ek&&ha.attr("cursor",Ec[Y=Ek[Y]]));ma.selection&&(ra=ma.selection);A&&(I=ra[0][0],W=ra[1][0]);H&&(M=ra[0][1],S=ra[1][1]);if(ra[0][0]!==
I||ra[0][1]!==M||ra[1][0]!==W||ra[1][1]!==S)ma.selection=[[I,M],[W,S]],e.call(R),na.brush(Q,ia.name)}function E(Q){Q.stopImmediatePropagation();if(Q.touches){if(Q.touches.length)return;q&&clearTimeout(q);q=setTimeout(function(){q=null},500)}else nf(Q.view,Va),ta.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);fa.attr("pointer-events","all");ha.attr("cursor",Ec.overlay);ma.selection&&(ra=ma.selection);if(ra[0][0]===ra[1][0]||ra[0][1]===ra[1][1])ma.selection=null,e.call(R);na.end(Q,
ia.name)}function L(Q){switch(Q.keyCode){case 16:k=T&&V;break;case 18:ia===Kd&&(T&&(X=W-Fa*T,pa=I+Fa*T),V&&(Ka=S-Ma*V,Qa=M+Ma*V),ia=Ld,B());break;case 32:if(ia===Kd||ia===Ld)0>T?X=W-Fa:0<T&&(pa=I-Fa),0>V?Ka=S-Ma:0<V&&(Qa=M-Ma),ia=Eh,ha.attr("cursor",Ec.selection),B();break;default:return}Q.preventDefault();Q.stopImmediatePropagation()}function P(Q){switch(Q.keyCode){case 16:k&&(A=H=k=!1,B());break;case 18:ia===Ld&&(0>T?X=W:0<T&&(pa=I),0>V?Ka=S:0<V&&(Qa=M),ia=Kd,B());break;case 32:ia===Eh&&(Q.altKey?
(T&&(X=W-Fa*T,pa=I+Fa*T),V&&(Ka=S-Ma*V,Qa=M+Ma*V),ia=Ld):(0>T?X=W:0<T&&(pa=I),0>V?Ka=S:0<V&&(Qa=M),ia=Kd),ha.attr("cursor",Ec[Y]),B());break;default:return}Q.preventDefault();Q.stopImmediatePropagation()}if((!q||r.touches)&&C.apply(this,arguments)){var R=this,Y=r.target.__data__.type,ia="selection"===(u&&r.metaKey?Y="overlay":Y)?Ck:u&&r.altKey?Ld:Kd,T=a===Bf?null:Cr[Y],V=a===Cf?null:Dr[Y],ma=Ch(R),ka=ma.extent,ra=ma.selection,Ja=ka[0][0],pa,Ga=ka[0][1],Qa,O=ka[1][0],X,Ba=ka[1][1],Ka,Fa=0,Ma=0,Va,
k=T&&V&&u&&r.shiftKey,A,H,G=Array.from(r.touches||[r],function(Q){var aa=Q.identifier;Q=ac(Q,R);Q.point0=Q.slice();Q.identifier=aa;return Q});"overlay"===Y?(ra&&(Va=!0),ka=[G[0],G[1]||G[0]],ma.selection=ra=[[pa=a===Bf?Ja:Mb(ka[0][0],ka[1][0]),Qa=a===Cf?Ga:Mb(ka[0][1],ka[1][1])],[X=a===Bf?O:Lb(ka[0][0],ka[1][0]),Ka=a===Cf?Ba:Lb(ka[0][1],ka[1][1])]],1<G.length&&B()):(pa=ra[0][0],Qa=ra[0][1],X=ra[1][0],Ka=ra[1][1]);var I=pa;var M=Qa;var W=X;var S=Ka;var fa=Kb(R).attr("pointer-events","none"),ha=fa.selectAll(".overlay").attr("cursor",
Ec[Y]);md(R);var na=f(R,arguments,!0).beforestart();if(r.touches)na.moved=x,na.ended=E;else{var ta=Kb(r.view).on("mousemove.brush",x,!0).on("mouseup.brush",E,!0);if(u)ta.on("keydown.brush",L,!0).on("keyup.brush",P,!0);mf(r.view)}e.call(R);na.start(r,ia.name)}}function n(r){f(this,arguments).moved(r)}function l(r){f(this,arguments).ended(r)}function p(){var r=this.__brush||{selection:null};r.extent=Bh(y.apply(this,arguments));r.dim=a;return r}var y=Ar,C=zr,t=Br,u=!0,w=hd("start","brush","end"),z=6,
q;b.move=function(r,x){r.tween?r.on("start.brush",function(B){f(this,arguments).beforestart().start(B)}).on("interrupt.brush end.brush",function(B){f(this,arguments).end(B)}).tween("brush",function(){function B(T){L.selection=1===T&&null===Y?null:ia(T);e.call(E);P.brush()}var E=this,L=E.__brush,P=f(E,arguments),R=L.selection,Y=a.input("function"===typeof x?x.apply(this,arguments):x,L.extent),ia=Sc(R,Y);return null!==R&&null!==Y?B:B(1)}):r.each(function(){var B=arguments,E=this.__brush,L=a.input("function"===
typeof x?x.apply(this,B):x,E.extent);B=f(this,B).beforestart();md(this);E.selection=null===L?null:L;e.call(this);B.start().brush().end()})};b.clear=function(r){b.move(r,null)};g.prototype={beforestart:function(){1===++this.active&&(this.state.emitter=this,this.starting=!0);return this},start:function(r,x){this.starting?(this.starting=!1,this.emit("start",r,x)):this.emit("brush",r);return this},brush:function(r,x){this.emit("brush",r,x);return this},end:function(r,x){0===--this.active&&(delete this.state.emitter,
this.emit("end",r,x));return this},emit:function(r,x,B){var E=Kb(this.that).datum();w.call(r,this.that,new yr(r,{sourceEvent:x,target:b,selection:a.output(this.state.selection),mode:B,dispatch:w}),E)}};b.extent=function(r){return arguments.length?(y="function"===typeof r?r:Fh(Bh(r)),b):y};b.filter=function(r){return arguments.length?(C="function"===typeof r?r:Fh(!!r),b):C};b.touchable=function(r){return arguments.length?(t="function"===typeof r?r:Fh(!!r),b):t};b.handleSize=function(r){return arguments.length?
(z=+r,b):z};b.keyModifiers=function(r){return arguments.length?(u=!!r,b):u};b.on=function(){var r=w.on.apply(w,arguments);return r===w?b:r};return b}function Gh(a,b){return Array.from({length:b-a},function(e,f){return a+f})}function Er(a){return function(b,e){return a(b.source.value+b.target.value,e.source.value+e.target.value)}}function Hh(a,b){function e(l){var p=l.length,y=Array(p),C=Gh(0,p),t=Array(p*p),u=Array(p),w=0,z;l=Float64Array.from({length:p*p},b?function(P,R){return l[R%p][R/p|0]}:function(P,
R){return l[R/p|0][R%p]});for(z=0;z<p;++z){for(var q=0,r=0;r<p;++r)q+=l[z*p+r]+a*l[r*p+z];w+=y[z]=q}z=(w=Fk(0,Gk-f*p)/w)?f:Gk/p;q=0;g&&C.sort(function(P,R){return g(y[P],y[R])});r={};C=$jscomp.makeIterator(C);for(var x=C.next();!x.done;r={$jscomp$loop$prop$i$142$289:r.$jscomp$loop$prop$i$142$289},x=C.next()){r.$jscomp$loop$prop$i$142$289=x.value;x=q;if(a){var B=Gh(~p+1,p).filter(function(P){return function(R){return 0>R?l[~R*p+P.$jscomp$loop$prop$i$142$289]:l[P.$jscomp$loop$prop$i$142$289*p+R]}}(r));
h&&B.sort(function(P){return function(R,Y){return h(0>R?-l[~R*p+P.$jscomp$loop$prop$i$142$289]:l[P.$jscomp$loop$prop$i$142$289*p+R],0>Y?-l[~Y*p+P.$jscomp$loop$prop$i$142$289]:l[P.$jscomp$loop$prop$i$142$289*p+Y])}}(r));B=$jscomp.makeIterator(B);for(var E=B.next();!E.done;E=B.next())E=E.value,0>E?(t[~E*p+r.$jscomp$loop$prop$i$142$289]||(t[~E*p+r.$jscomp$loop$prop$i$142$289]={source:null,target:null})).target={index:r.$jscomp$loop$prop$i$142$289,startAngle:q,endAngle:q+=l[~E*p+r.$jscomp$loop$prop$i$142$289]*
w,value:l[~E*p+r.$jscomp$loop$prop$i$142$289]}:(t[r.$jscomp$loop$prop$i$142$289*p+E]||(t[r.$jscomp$loop$prop$i$142$289*p+E]={source:null,target:null})).source={index:r.$jscomp$loop$prop$i$142$289,startAngle:q,endAngle:q+=l[r.$jscomp$loop$prop$i$142$289*p+E]*w,value:l[r.$jscomp$loop$prop$i$142$289*p+E]}}else for(B=Gh(0,p).filter(function(P){return function(R){return l[P.$jscomp$loop$prop$i$142$289*p+R]||l[R*p+P.$jscomp$loop$prop$i$142$289]}}(r)),h&&B.sort(function(P){return function(R,Y){return h(l[P.$jscomp$loop$prop$i$142$289*
p+R],l[P.$jscomp$loop$prop$i$142$289*p+Y])}}(r)),B=$jscomp.makeIterator(B),E=B.next();!E.done;E=B.next()){var L=E.value;E=void 0;r.$jscomp$loop$prop$i$142$289<L?(E=t[r.$jscomp$loop$prop$i$142$289*p+L]||(t[r.$jscomp$loop$prop$i$142$289*p+L]={source:null,target:null}),E.source={index:r.$jscomp$loop$prop$i$142$289,startAngle:q,endAngle:q+=l[r.$jscomp$loop$prop$i$142$289*p+L]*w,value:l[r.$jscomp$loop$prop$i$142$289*p+L]}):(E=t[L*p+r.$jscomp$loop$prop$i$142$289]||(t[L*p+r.$jscomp$loop$prop$i$142$289]=
{source:null,target:null}),E.target={index:r.$jscomp$loop$prop$i$142$289,startAngle:q,endAngle:q+=l[r.$jscomp$loop$prop$i$142$289*p+L]*w,value:l[r.$jscomp$loop$prop$i$142$289*p+L]},r.$jscomp$loop$prop$i$142$289===L&&(E.source=E.target));E.source&&E.target&&E.source.value<E.target.value&&(L=E.source,E.source=E.target,E.target=L)}u[r.$jscomp$loop$prop$i$142$289]={index:r.$jscomp$loop$prop$i$142$289,startAngle:x,endAngle:q,value:y[r.$jscomp$loop$prop$i$142$289]};q+=z}t=Object.values(t);t.groups=u;return n?
t.sort(n):t}var f=0,g=null,h=null,n=null;e.padAngle=function(l){return arguments.length?(f=Fk(0,l),e):f};e.sortGroups=function(l){return arguments.length?(g=l,e):g};e.sortSubgroups=function(l){return arguments.length?(h=l,e):h};e.sortChords=function(l){return arguments.length?(null==l?n=null:(n=Er(l))._=l,e):n&&n._};return e}function Ih(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function Uc(){return new Ih}function nd(a){return function(){return a}}function Fr(a){return a.source}function Gr(a){return a.target}
function Hk(a){return a.radius}function Hr(a){return a.startAngle}function Ir(a){return a.endAngle}function Jr(){return 0}function Kr(){return 10}function Ik(a){function b(){var C,t=e.apply(this,arguments),u=f.apply(this,arguments),w=p.apply(this,arguments)/2,z=Lr.call(arguments);t=+g.apply(this,(z[0]=t,z));var q=n.apply(this,z)-Df,r=l.apply(this,z)-Df;u=+h.apply(this,(z[0]=u,z));var x=n.apply(this,z)-Df;z=l.apply(this,z)-Df;y||(y=C=Uc());1E-12<w&&(Jk(r-q)>2*w+1E-12?r>q?(q+=w,r-=w):(q-=w,r+=w):q=
r=(q+r)/2,Jk(z-x)>2*w+1E-12?z>x?(x+=w,z-=w):(x-=w,z+=w):x=z=(x+z)/2);y.moveTo(t*Md(q),t*Nd(q));y.arc(0,0,t,q,r);if(q!==x||r!==z)a?(w=+a.apply(this,arguments),w=u-w,r=(x+z)/2,y.quadraticCurveTo(0,0,w*Md(x),w*Nd(x)),y.lineTo(u*Md(r),u*Nd(r)),y.lineTo(w*Md(z),w*Nd(z))):(y.quadraticCurveTo(0,0,u*Md(x),u*Nd(x)),y.arc(0,0,u,x,z));y.quadraticCurveTo(0,0,t*Md(q),t*Nd(q));y.closePath();if(C)return y=null,C+""||null}var e=Fr,f=Gr,g=Hk,h=Hk,n=Hr,l=Ir,p=Jr,y=null;a&&(b.headRadius=function(C){return arguments.length?
(a="function"===typeof C?C:nd(+C),b):a});b.radius=function(C){return arguments.length?(g=h="function"===typeof C?C:nd(+C),b):g};b.sourceRadius=function(C){return arguments.length?(g="function"===typeof C?C:nd(+C),b):g};b.targetRadius=function(C){return arguments.length?(h="function"===typeof C?C:nd(+C),b):h};b.startAngle=function(C){return arguments.length?(n="function"===typeof C?C:nd(+C),b):n};b.endAngle=function(C){return arguments.length?(l="function"===typeof C?C:nd(+C),b):l};b.padAngle=function(C){return arguments.length?
(p="function"===typeof C?C:nd(+C),b):p};b.source=function(C){return arguments.length?(e=C,b):e};b.target=function(C){return arguments.length?(f=C,b):f};b.context=function(C){return arguments.length?(y=null==C?null:C,b):y};return b}function Mr(a,b){return a-b}function Nr(){}function Kk(){function a(p){var y=n(p);if(Array.isArray(y))y=y.slice().sort(Mr);else{var C=sa(p),t=C[0];C=C[1];y=rb(t,C,y);y=Yb(Math.floor(t/y)*y,Math.floor(C/y)*y,y)}return y.map(function(u){return b(p,u)})}function b(p,y){var C=
[],t=[];e(p,y,function(u){l(u,p,y);for(var w=0,z=u.length,q=u[z-1][1]*u[0][0]-u[z-1][0]*u[0][1];++w<z;)q+=u[w-1][1]*u[w][0]-u[w-1][0]*u[w][1];0<q?C.push([u]):t.push(u)});t.forEach(function(u){for(var w=0,z=C.length,q;w<z;++w){a:{var r=(q=C[w])[0];for(var x=u,B=-1,E=x.length;++B<E;){b:{var L=r;for(var P=x[B],R=P[0],Y=P[1],ia=-1,T=0,V=L.length,ma=V-1;T<V;ma=T++){var ka=L[T],ra=ka[0],Ja=ka[1],pa=L[ma];ma=pa[0];var Ga=pa[1],Qa,O=ka;ka=pa;pa=P;if(Qa=(ka[0]-O[0])*(pa[1]-O[1])===(pa[0]-O[0])*(ka[1]-O[1]))O=
O[Qa=+(O[0]===ka[0])],pa=pa[Qa],ka=ka[Qa],Qa=O<=pa&&pa<=ka||ka<=pa&&pa<=O;if(Qa){L=0;break b}Ja>Y!==Ga>Y&&R<(ma-ra)*(Y-Ja)/(Ga-Ja)+ra&&(ia=-ia)}L=ia}if(L){r=L;break a}}r=0}if(-1!==r){q.push(u);break}}});return{type:"MultiPolygon",value:y,coordinates:C}}function e(p,y,C){function t(L){var P=[L[0][0]+q,L[0][1]+z];L=[L[1][0]+q,L[1][1]+z];var R=2*P[0]+P[1]*(g+1)*4,Y=2*L[0]+L[1]*(g+1)*4,ia,T;(ia=w[R])?(T=u[Y])?(delete w[ia.end],delete u[T.start],ia===T?(ia.ring.push(L),C(ia.ring)):u[ia.start]=w[T.end]=
{start:ia.start,end:T.end,ring:ia.ring.concat(T.ring)}):(delete w[ia.end],ia.ring.push(L),w[ia.end=Y]=ia):(ia=u[Y])?(T=w[R])?(delete u[ia.start],delete w[T.end],ia===T?(ia.ring.push(L),C(ia.ring)):u[T.start]=w[ia.end]={start:T.start,end:ia.end,ring:T.ring.concat(ia.ring)}):(delete u[ia.start],ia.ring.unshift(P),u[ia.start=R]=ia):u[R]=w[Y]={start:R,end:Y,ring:[P,L]}}var u=[],w=[],z;var q=z=-1;var r=p[0]>=y;for(Fc[r<<1].forEach(t);++q<g-1;){var x=r;r=p[q+1]>=y;Fc[x|r<<1].forEach(t)}for(Fc[r<<0].forEach(t);++z<
h-1;){q=-1;r=p[z*g+g]>=y;var B=p[z*g]>=y;for(Fc[r<<1|B<<2].forEach(t);++q<g-1;){x=r;r=p[z*g+g+q+1]>=y;var E=B;B=p[z*g+q+1]>=y;Fc[x|r<<1|B<<2|E<<3].forEach(t)}Fc[r|B<<3].forEach(t)}q=-1;B=p[z*g]>=y;for(Fc[B<<2].forEach(t);++q<g-1;)E=B,B=p[z*g+q+1]>=y,Fc[B<<2|E<<3].forEach(t);Fc[B<<3].forEach(t)}function f(p,y,C){p.forEach(function(t){var u=t[0],w=t[1],z=u|0,q=w|0,r=y[q*g+z];if(0<u&&u<g&&z===u){var x=y[q*g+z-1];t[0]=u+(C-x)/(r-x)-.5}0<w&&w<h&&q===w&&(x=y[(q-1)*g+z],t[1]=w+(C-x)/(r-x)-.5)})}var g=1,
h=1,n=Nc,l=f;a.contour=b;a.size=function(p){if(!arguments.length)return[g,h];var y=Math.floor(p[0]),C=Math.floor(p[1]);if(!(0<=y&&0<=C))throw Error("invalid size");return g=y,h=C,a};a.thresholds=function(p){return arguments.length?(n="function"===typeof p?p:Array.isArray(p)?Vc(Lk.call(p)):Vc(p),a):n};a.smooth=function(p){return arguments.length?(l=p?f:Nr,a):l===f};return a}function Jh(a,b,e){for(var f=a.width,g=a.height,h=(e<<1)+1,n=0;n<g;++n)for(var l=0,p=0;l<f+e;++l)l<f&&(p+=a.data[l+n*f]),l>=e&&
(l>=h&&(p-=a.data[l-h+n*f]),b.data[l-e+n*f]=p/Math.min(l+1,f-1+h-l,h))}function Kh(a,b,e){for(var f=a.width,g=a.height,h=(e<<1)+1,n=0;n<f;++n)for(var l=0,p=0;l<g+e;++l)l<g&&(p+=a.data[n+l*f]),l>=e&&(l>=h&&(p-=a.data[n+(l-h)*f]),b.data[n+(l-e)*f]=p/Math.min(l+1,g-1+h-l,h))}function Or(a){return a[0]}function Pr(a){return a[1]}function Qr(){return 1}function Lh(a,b,e,f){a-=e;b-=f;return a*a+b*b}function Mh(a,b,e,f,g,h){f=(f-b)*(g-a);a=(e-a)*(h-b);return Math.abs(f-a)>=3.3306690738754716E-16*Math.abs(f+
a)?f-a:0}function Ef(a,b,e,f,g,h){return 0>(Mh(g,h,a,b,e,f)||Mh(a,b,e,f,g,h)||Mh(e,f,g,h,a,b))}function Od(a,b,e,f){if(20>=f-e)for(var g=e+1;g<=f;g++){for(var h=a[g],n=b[h],l=g-1;l>=e&&b[a[l]]>n;)a[l+1]=a[l--];a[l+1]=h}else{g=e+1;h=f;Ae(a,e+f>>1,g);b[a[e]]>b[a[f]]&&Ae(a,e,f);b[a[g]]>b[a[f]]&&Ae(a,g,f);b[a[e]]>b[a[g]]&&Ae(a,e,g);n=a[g];for(l=b[n];;){do g++;while(b[a[g]]<l);do h--;while(b[a[h]]>l);if(h<g)break;Ae(a,g,h)}a[e+1]=a[h];a[h]=n;f-g+1>=h-e?(Od(a,b,g,f),Od(a,b,e,h-1)):(Od(a,b,e,h-1),Od(a,b,
g,f))}}function Ae(a,b,e){var f=a[b];a[b]=a[e];a[e]=f}function Rr(a){return a[0]}function Sr(a){return a[1]}function Tr(a){return a[0]}function Ur(a){return a[1]}function Vr(a){var b=a.triangles;a=a.coords;for(var e=0;e<b.length;e+=3){var f=2*b[e],g=2*b[e+1],h=2*b[e+2];if(1E-10<(a[h]-a[f])*(a[g+1]-a[f+1])-(a[g]-a[f])*(a[h+1]-a[f+1]))return!1}return!0}function Wr(a,b,e){return[a+Math.sin(a+b)*e,b+Math.cos(a-b)*e]}function Mk(a,b,e,f){var g,h,n,l;return $jscomp.generator.createGenerator(Mk,function(p){switch(p.nextAddress){case 1:g=
0,h=$jscomp.makeIterator(a),n=h.next();case 2:if(n.done){p.jumpTo(0);break}l=n.value;return p.yield(b.call(f,l,g,a),5);case 5:return p.yield(e.call(f,l,g,a),6);case 6:++g,n=h.next(),p.jumpTo(2)}})}function Nk(a){return new Function("d","return {"+a.map(function(b,e){return JSON.stringify(b)+": d["+e+'] || ""'}).join(",")+"}")}function Xr(a,b){var e=Nk(a);return function(f,g){return b(e(f),g,a)}}function Ok(a){var b=Object.create(null),e=[];a.forEach(function(f){for(var g in f)g in b||e.push(b[g]=
g)});return e}function Zb(a,b){a+="";var e=a.length;return e<b?Array(b-e+1).join(0)+a:a}function Ff(a){function b(l,p){function y(){if(q)return Nh;if(r)return r=!1,Pk;var B,E=u,L;if(34===l.charCodeAt(E)){for(;u++<t&&34!==l.charCodeAt(u)||34===l.charCodeAt(++u););(B=u)>=t?q=!0:10===(L=l.charCodeAt(u++))?r=!0:13===L&&(r=!0,10===l.charCodeAt(u)&&++u);return l.slice(E+1,B-1).replace(/""/g,'"')}for(;u<t;){if(10===(L=l.charCodeAt(B=u++)))r=!0;else if(13===L)r=!0,10===l.charCodeAt(u)&&++u;else if(L!==n)continue;
return l.slice(E,B)}return q=!0,l.slice(E,t)}var C=[],t=l.length,u=0,w=0,z,q=0>=t,r=!1;10===l.charCodeAt(t-1)&&--t;for(13===l.charCodeAt(t-1)&&--t;(z=y())!==Nh;){for(var x=[];z!==Pk&&z!==Nh;)x.push(z),z=y();p&&null==(x=p(x,w++))||C.push(x)}return C}function e(l,p){return l.map(function(y){return p.map(function(C){return g(y[C])}).join(a)})}function f(l){return l.map(g).join(a)}function g(l){if(null==l)l="";else{if(l instanceof Date){var p=l.getUTCHours();var y=l.getUTCMinutes(),C=l.getUTCSeconds(),
t=l.getUTCMilliseconds();if(isNaN(l))l="Invalid Date";else{var u=l.getUTCFullYear();l=(0>u?"-"+Zb(-u,6):9999<u?"+"+Zb(u,6):Zb(u,4))+"-"+Zb(l.getUTCMonth()+1,2)+"-"+Zb(l.getUTCDate(),2)+(t?"T"+Zb(p,2)+":"+Zb(y,2)+":"+Zb(C,2)+"."+Zb(t,3)+"Z":C?"T"+Zb(p,2)+":"+Zb(y,2)+":"+Zb(C,2)+"Z":y||p?"T"+Zb(p,2)+":"+Zb(y,2)+"Z":"")}p=l}else p=h.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l;l=p}return l}var h=new RegExp('["'+a+"\n\r]"),n=a.charCodeAt(0);return{parse:function(l,p){var y,C;l=b(l,function(t,u){if(y)return y(t,
u-1);C=t;y=p?Xr(t,p):Nk(t)});l.columns=C||[];return l},parseRows:b,format:function(l,p){null==p&&(p=Ok(l));return[p.map(g).join(a)].concat(e(l,p)).join("\n")},formatBody:function(l,p){null==p&&(p=Ok(l));return e(l,p).join("\n")},formatRows:function(l){return l.map(f).join("\n")},formatRow:f,formatValue:g}}function Yr(a){if(!a.ok)throw Error(a.status+" "+a.statusText);return a.blob()}function Zr(a){if(!a.ok)throw Error(a.status+" "+a.statusText);return a.arrayBuffer()}function $r(a){if(!a.ok)throw Error(a.status+
" "+a.statusText);return a.text()}function Gf(a,b){return fetch(a,b).then($r)}function Qk(a){return function(b,e,f){2===arguments.length&&"function"===typeof e&&(f=e,e=void 0);return Gf(b,e).then(function(g){return a(g,f)})}}function as(a){if(!a.ok)throw Error(a.status+" "+a.statusText);if(204!==a.status&&205!==a.status)return a.json()}function Oh(a){return function(b,e){return Gf(b,e).then(function(f){return(new DOMParser).parseFromString(f,a)})}}function Rk(a,b,e,f){if(isNaN(b)||isNaN(e))return a;
var g,h=a._root;f={data:f};var n=a._x0,l=a._y0,p=a._x1,y=a._y1,C,t,u,w;if(!h)return a._root=f,a;for(;h.length;)if((u=b>=(C=(n+p)/2))?n=C:p=C,(w=e>=(t=(l+y)/2))?l=t:y=t,g=h,!(h=h[u|=w<<1]))return g[u]=f,a;var z=+a._x.call(null,h.data);var q=+a._y.call(null,h.data);if(b===z&&e===q)return f.next=h,g?g[u]=f:a._root=f,a;do g=g?g[u]=Array(4):a._root=Array(4),(u=b>=(C=(n+p)/2))?n=C:p=C,(w=e>=(t=(l+y)/2))?l=t:y=t;while((u|=w<<1)===(w=(q>=t)<<1|z>=C));return g[w]=h,g[u]=f,a}function Qb(a,b,e,f,g){this.node=
a;this.x0=b;this.y0=e;this.x1=f;this.y1=g}function bs(a){return a[0]}function cs(a){return a[1]}function Hf(a,b,e){b=new Ph(null==b?bs:b,null==e?cs:e,NaN,NaN,NaN,NaN);return null==a?b:b.addAll(a)}function Ph(a,b,e,f,g,h){this._x=a;this._y=b;this._x0=e;this._y0=f;this._x1=g;this._y1=h;this._root=void 0}function Sk(a){for(var b={data:a.data},e=b;a=a.next;)e=e.next={data:a.data};return b}function Bb(a){return function(){return a}}function ds(a){return a.x+a.vx}function es(a){return a.y+a.vy}function fs(a){return a.index}
function Tk(a,b){a=a.get(b);if(!a)throw Error("node not found: "+b);return a}function gs(){var a=1;return function(){return(a=(1664525*a+1013904223)%4294967296)/4294967296}}function hs(a){return a.x}function is(a){return a.y}function If(a,b){if(0>(b=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;var e=a.slice(0,b);return[1<e.length?e[0]+e.slice(2):e,+a.slice(b+1)]}function Pd(a){return a=If(Math.abs(a)),a?a[1]:NaN}function js(a,b){return function(e,f){for(var g=e.length,h=
[],n=0,l=a[0],p=0;0<g&&0<l;){p+l+1>f&&(l=Math.max(1,f-p));h.push(e.substring(g-=l,g+l));if((p+=l+1)>f)break;l=a[n=(n+1)%a.length]}return h.reverse().join(b)}}function ks(a){return function(b){return b.replace(/[0-9]/g,function(e){return a[+e]})}}function Be(a){if(!(b=ls.exec(a)))throw Error("invalid format: "+a);var b;return new Jf({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function Jf(a){this.fill=void 0===a.fill?
" ":a.fill+"";this.align=void 0===a.align?">":a.align+"";this.sign=void 0===a.sign?"-":a.sign+"";this.symbol=void 0===a.symbol?"":a.symbol+"";this.zero=!!a.zero;this.width=void 0===a.width?void 0:+a.width;this.comma=!!a.comma;this.precision=void 0===a.precision?void 0:+a.precision;this.trim=!!a.trim;this.type=void 0===a.type?"":a.type+""}function Uk(a,b){b=If(a,b);if(!b)return a+"";a=b[0];b=b[1];return 0>b?"0."+Array(-b).join("0")+a:a.length>b+1?a.slice(0,b+1)+"."+a.slice(b+1):a+Array(b-a.length+
2).join("0")}function Vk(a){return a}function Wk(a){function b(C){function t(V){var ma=R,ka=Y,ra,Ja;if("c"===P)ka=ia(V)+ka,V="";else{V=+V;var pa=0>V||0>1/V;V=isNaN(V)?y:ia(Math.abs(V),E);if(L){var Ga=V.length,Qa=1,O=-1;a:for(;Qa<Ga;++Qa)switch(V[Qa]){case ".":O=ra=Qa;break;case "0":0===O&&(O=Qa);ra=Qa;break;default:if(!+V[Qa])break a;0<O&&(O=0)}V=0<O?V.slice(0,O)+V.slice(ra+1):V}pa&&0===+V&&"+"!==z&&(pa=!1);ma=(pa?"("===z?z:p:"-"===z||"("===z?"":z)+ma;ka=("s"===P?Xk[8+Yk/3]:"")+ka+(pa&&"("===z?")":
"");if(T)for(pa=-1,ra=V.length;++pa<ra;)if(Ja=V.charCodeAt(pa),48>Ja||57<Ja){ka=(46===Ja?h+V.slice(pa+1):V.slice(pa))+ka;V=V.slice(0,pa);break}}B&&!r&&(V=e(V,Infinity));Ja=ma.length+V.length+ka.length;pa=Ja<x?Array(x-Ja+1).join(u):"";B&&r&&(V=e(pa+V,pa.length?x-ka.length:Infinity),pa="");switch(w){case "<":V=ma+V+ka+pa;break;case "=":V=ma+pa+V+ka;break;case "^":V=pa.slice(0,Ja=pa.length>>1)+ma+V+ka+pa.slice(Ja);break;default:V=pa+ma+V+ka}return n(V)}C=Be(C);var u=C.fill,w=C.align,z=C.sign,q=C.symbol,
r=C.zero,x=C.width,B=C.comma,E=C.precision,L=C.trim,P=C.type;"n"===P?(B=!0,P="g"):Zk[P]||(void 0===E&&(E=12),L=!0,P="g");if(r||"0"===u&&"="===w)r=!0,u="0",w="=";var R="$"===q?f:"#"===q&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",Y="$"===q?g:/[%p]/.test(P)?l:"",ia=Zk[P],T=/[defgprs%]/.test(P);E=void 0===E?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));t.toString=function(){return C+""};return t}var e=void 0===a.grouping||void 0===a.thousands?Vk:js($k.call(a.grouping,Number),
a.thousands+""),f=void 0===a.currency?"":a.currency[0]+"",g=void 0===a.currency?"":a.currency[1]+"",h=void 0===a.decimal?".":a.decimal+"",n=void 0===a.numerals?Vk:ks($k.call(a.numerals,String)),l=void 0===a.percent?"%":a.percent+"",p=void 0===a.minus?"\u2212":a.minus+"",y=void 0===a.nan?"NaN":a.nan+"";return{format:b,formatPrefix:function(C,t){var u=b((C=Be(C),C.type="f",C));C=3*Math.max(-8,Math.min(8,Math.floor(Pd(t)/3)));var w=Math.pow(10,-C),z=Xk[8+C/3];return function(q){return u(w*q)+z}}}}function al(a){Kf=
Wk(a);c.format=Kf.format;c.formatPrefix=Kf.formatPrefix;return Kf}function bl(a){return Math.max(0,-Pd(Math.abs(a)))}function cl(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Pd(b)/3)))-Pd(Math.abs(a)))}function dl(a,b){a=Math.abs(a);b=Math.abs(b)-a;return Math.max(0,Pd(b)-Pd(a))+1}function el(a){return 1<a?0:-1>a?eb:Math.acos(a)}function Rb(a){return 1<a?ob:-1>a?-ob:Math.asin(a)}function fl(a){return(a=Oa(a/2))*a}function sb(){}function Lf(a,b){if(a&&gl.hasOwnProperty(a.type))gl[a.type](a,
b)}function Qh(a,b,e){var f=-1;e=a.length-e;for(b.lineStart();++f<e;){var g=a[f];b.point(g[0],g[1],g[2])}b.lineEnd()}function hl(a,b){var e=-1,f=a.length;for(b.polygonStart();++e<f;)Qh(a[e],b,1);b.polygonEnd()}function nc(a,b){if(a&&il.hasOwnProperty(a.type))il[a.type](a,b);else Lf(a,b)}function ms(){vc.point=ns}function os(){jl(kl,ll)}function ns(a,b){vc.point=jl;kl=a;ll=b;a*=Ua;b*=Ua;Rh=a;Sh=Ra(b=b/2+Mf);Th=Oa(b)}function jl(a,b){a*=Ua;b*=Ua;b=b/2+Mf;var e=a-Rh,f=0<=e?1:-1,g=f*e;e=Ra(b);b=Oa(b);
var h=Th*b,n=Sh*e+h*Ra(g);f=h*f*Oa(g);Nf.add(Sb(f,n));Rh=a;Sh=e;Th=b}function Of(a){return[Sb(a[1],a[0]),Rb(a[2])]}function od(a){var b=a[0];a=a[1];var e=Ra(a);return[e*Ra(b),e*Oa(b),Oa(a)]}function Pf(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Qd(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Uh(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Qf(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Rf(a){var b=Fb(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=
b}function Vh(a,b){Wc.push(Gc=[tb=a,ub=a]);b<$b&&($b=b);b>bc&&(bc=b)}function ml(a,b){var e=od([a*Ua,b*Ua]);if(Rd){var f=Qd(Rd,e);f=Qd([f[1],-f[0],0],f);Rf(f);f=Of(f);var g=a-pd,h=0<g?1:-1,n=f[0]*lb*h;g=180<gb(g);g^(h*pd<n&&n<h*a)?(f=f[1]*lb,f>bc&&(bc=f)):(n=(n+360)%360-180,g^(h*pd<n&&n<h*a))?(f=-f[1]*lb,f<$b&&($b=f)):(b<$b&&($b=b),b>bc&&(bc=b));g?a<pd?cc(tb,a)>cc(tb,ub)&&(ub=a):cc(a,ub)>cc(tb,ub)&&(tb=a):ub>=tb?(a<tb&&(tb=a),a>ub&&(ub=a)):a>pd?cc(tb,a)>cc(tb,ub)&&(ub=a):cc(a,ub)>cc(tb,ub)&&(tb=a)}else Wc.push(Gc=
[tb=a,ub=a]);b<$b&&($b=b);b>bc&&(bc=b);Rd=e;pd=a}function nl(){Hc.point=ml}function ol(){Gc[0]=tb;Gc[1]=ub;Hc.point=Vh;Rd=null}function pl(a,b){if(Rd){var e=a-pd;Ce.add(180<gb(e)?e+(0<e?360:-360):e)}else ql=a,rl=b;vc.point(a,b);ml(a,b)}function ps(){vc.lineStart()}function qs(){pl(ql,rl);vc.lineEnd();1E-6<gb(Ce)&&(tb=-(ub=180));Gc[0]=tb;Gc[1]=ub;Rd=null}function cc(a,b){return 0>(b-=a)?b+360:b}function rs(a,b){return a[0]-b[0]}function sl(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function Wh(a,
b){a*=Ua;b*=Ua;var e=Ra(b);De(e*Ra(a),e*Oa(a),Oa(b))}function De(a,b,e){++Ee;Sf+=(a-Sf)/Ee;Tf+=(b-Tf)/Ee;Uf+=(e-Uf)/Ee}function tl(){oc.point=ss}function ss(a,b){a*=Ua;b*=Ua;var e=Ra(b);Tb=e*Ra(a);Ub=e*Oa(a);Vb=Oa(b);oc.point=ts;De(Tb,Ub,Vb)}function ts(a,b){a*=Ua;b*=Ua;var e=Ra(b),f=e*Ra(a);a=e*Oa(a);b=Oa(b);var g=Sb(Fb((g=Ub*b-Vb*a)*g+(g=Vb*f-Tb*b)*g+(g=Tb*a-Ub*f)*g),Tb*f+Ub*a+Vb*b);Vf+=g;Wf+=g*(Tb+(Tb=f));Xf+=g*(Ub+(Ub=a));Yf+=g*(Vb+(Vb=b));De(Tb,Ub,Vb)}function ul(){oc.point=Wh}function us(){oc.point=
vs}function ws(){vl(wl,xl);oc.point=Wh}function vs(a,b){wl=a;xl=b;a*=Ua;b*=Ua;oc.point=vl;var e=Ra(b);Tb=e*Ra(a);Ub=e*Oa(a);Vb=Oa(b);De(Tb,Ub,Vb)}function vl(a,b){a*=Ua;b*=Ua;var e=Ra(b),f=e*Ra(a);a=e*Oa(a);b=Oa(b);e=Ub*b-Vb*a;var g=Vb*f-Tb*b,h=Tb*a-Ub*f,n=Xh(e,g,h),l=Rb(n);n=n&&-l/n;Yh.add(n*e);Zh.add(n*g);$h.add(n*h);Vf+=l;Wf+=l*(Tb+(Tb=f));Xf+=l*(Ub+(Ub=a));Yf+=l*(Vb+(Vb=b));De(Tb,Ub,Vb)}function Sd(a){return function(){return a}}function ai(a,b){function e(f,g){return f=a(f,g),b(f[0],f[1])}a.invert&&
b.invert&&(e.invert=function(f,g){return f=b.invert(f,g),f&&a.invert(f[0],f[1])});return e}function bi(a,b){return[gb(a)>eb?a+Math.round(-a/Wb)*Wb:a,b]}function ci(a,b,e){return(a%=Wb)?b||e?ai(yl(a),zl(b,e)):yl(a):b||e?zl(b,e):bi}function Al(a){return function(b,e){return b+=a,[b>eb?b-Wb:b<-eb?b+Wb:b,e]}}function yl(a){var b=Al(a);b.invert=Al(-a);return b}function zl(a,b){function e(l,p){var y=Ra(p),C=Ra(l)*y;l=Oa(l)*y;p=Oa(p);y=p*f+C*g;return[Sb(l*h-y*n,C*f-p*g),Rb(y*h+l*n)]}var f=Ra(a),g=Oa(a),
h=Ra(b),n=Oa(b);e.invert=function(l,p){var y=Ra(p),C=Ra(l)*y;l=Oa(l)*y;p=Oa(p);y=p*h-l*n;return[Sb(l*h+p*n,C*f+y*g),Rb(y*f-C*g)]};return e}function Bl(a){function b(e){e=a(e[0]*Ua,e[1]*Ua);return e[0]*=lb,e[1]*=lb,e}a=ci(a[0]*Ua,a[1]*Ua,2<a.length?a[2]*Ua:0);b.invert=function(e){e=a.invert(e[0]*Ua,e[1]*Ua);return e[0]*=lb,e[1]*=lb,e};return b}function Cl(a,b,e,f,g,h){if(e){var n=Ra(b),l=Oa(b);e*=f;if(null==g)g=b+f*Wb,h=b-e/2;else if(g=Dl(n,g),h=Dl(n,h),0<f?g<h:g>h)g+=f*Wb;for(;0<f?g>h:g<h;g-=e)b=
Of([n,-l*Ra(g),-l*Oa(g)]),a.point(b[0],b[1])}}function Dl(a,b){b=od(b);b[0]-=a;Rf(b);a=el(-b[1]);return((0>-b[2]?-a:a)+Wb-1E-6)%Wb}function El(){var a=[],b;return{point:function(e,f,g){b.push([e,f,g])},lineStart:function(){a.push(b=[])},lineEnd:sb,rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))},result:function(){var e=a;a=[];b=null;return e}}}function Zf(a,b){return 1E-6>gb(a[0]-b[0])&&1E-6>gb(a[1]-b[1])}function $f(a,b,e,f){this.x=a;this.z=b;this.o=e;this.e=f;this.v=!1;this.n=this.p=
null}function Fl(a,b,e,f,g){var h=[],n=[];a.forEach(function(t){if(!(0>=(u=t.length-1))){var u,w=t[0],z=t[u];if(Zf(w,z)){if(!w[2]&&!z[2]){g.lineStart();for(l=0;l<u;++l)g.point((w=t[l])[0],w[1]);g.lineEnd();return}z[0]+=2E-6}h.push(u=new $f(w,t,null,!0));n.push(u.o=new $f(w,null,u,!1));h.push(u=new $f(z,t,null,!1));n.push(u.o=new $f(z,null,u,!0))}});if(h.length){n.sort(b);Gl(h);Gl(n);var l=0;for(a=n.length;l<a;++l)n[l].e=e=!e;e=h[0];for(var p;;){for(var y=e,C=!0;y.v;)if((y=y.n)===e)return;b=y.z;g.lineStart();
do{y.v=y.o.v=!0;if(y.e){if(C)for(l=0,a=b.length;l<a;++l)g.point((p=b[l])[0],p[1]);else f(y.x,y.n.x,1,g);y=y.n}else{if(C)for(b=y.p.z,l=b.length-1;0<=l;--l)g.point((p=b[l])[0],p[1]);else f(y.x,y.p.x,-1,g);y=y.p}y=y.o;b=y.z;C=!C}while(!y.v);g.lineEnd()}}}function Gl(a){if(b=a.length){for(var b,e=0,f=a[0],g;++e<b;)f.n=g=a[e],g.p=f,f=g;f.n=g=a[0];g.p=f}}function di(a){return gb(a[0])<=eb?a[0]:fc(a[0])*((gb(a[0])+eb)%Wb-eb)}function Hl(a,b){var e=di(b);b=b[1];var f=Oa(b),g=[Oa(e),-Ra(e),0],h=0,n=0,l=new xb;
1===f?b=ob+1E-6:-1===f&&(b=-ob-1E-6);f=0;for(var p=a.length;f<p;++f)if(C=(y=a[f]).length){var y,C,t=y[C-1],u=di(t),w=t[1]/2+Mf,z=Oa(w),q=Ra(w);for(w=0;w<C;++w,u=x,z=B,q=E,t=r){var r=y[w],x=di(r);E=r[1]/2+Mf;var B=Oa(E),E=Ra(E),L=x-u,P=0<=L?1:-1,R=P*L,Y=R>eb;z*=B;l.add(Sb(z*P*Oa(R),q*E+z*Ra(R)));h+=Y?L+P*Wb:L;Y^u>=e^x>=e&&(t=Qd(od(t),od(r)),Rf(t),u=Qd(g,t),Rf(u),u=(Y^0<=L?-1:1)*Rb(u[2]),b>u||b===u&&(t[0]||t[1]))&&(n+=Y^0<=L?1:-1)}}return(-1E-6>h||1E-6>h&&-1E-12>l)^n&1}function Il(a,b,e,f){return function(g){function h(L,
P){a(L,P)&&g.point(L,P)}function n(L,P){u.point(L,P)}function l(){E.point=n;u.lineStart()}function p(){E.point=h;u.lineEnd()}function y(L,P){B.push([L,P]);z.point(L,P)}function C(){z.lineStart();B=[]}function t(){y(B[0][0],B[0][1]);z.lineEnd();var L=z.clean(),P=w.result(),R=P.length,Y;B.pop();r.push(B);B=null;if(R)if(L&1){if(R=P[0],0<(P=R.length-1)){q||(g.polygonStart(),q=!0);g.lineStart();for(L=0;L<P;++L)g.point((Y=R[L])[0],Y[1]);g.lineEnd()}}else 1<R&&L&2&&P.push(P.pop().concat(P.shift())),x.push(P.filter(xs))}
var u=b(g),w=El(),z=b(w),q=!1,r,x,B,E={point:h,lineStart:l,lineEnd:p,polygonStart:function(){E.point=y;E.lineStart=C;E.lineEnd=t;x=[];r=[]},polygonEnd:function(){E.point=h;E.lineStart=l;E.lineEnd=p;x=gd(x);var L=Hl(r,f);x.length?(q||(g.polygonStart(),q=!0),Fl(x,ys,L,e,g)):L&&(q||(g.polygonStart(),q=!0),g.lineStart(),e(null,null,1,g),g.lineEnd());q&&(g.polygonEnd(),q=!1);x=r=null},sphere:function(){g.polygonStart();g.lineStart();e(null,null,1,g);g.lineEnd();g.polygonEnd()}};return E}}function xs(a){return 1<
a.length}function ys(a,b){return(0>(a=a.x)[0]?a[1]-ob-1E-6:ob-a[1])-(0>(b=b.x)[0]?b[1]-ob-1E-6:ob-b[1])}function Jl(a){function b(p,y){return Ra(p)*Ra(y)>g}function e(p,y,C){var t=od(p),u=od(y),w=[1,0,0];u=Qd(t,u);var z=Pf(u,u);t=u[0];var q=z-t*t;if(!q)return!C&&p;z=g*z/q;q=-g*t/q;t=Qd(w,u);w=Qf(w,z);u=Qf(u,q);Uh(w,u);u=Pf(w,t);z=Pf(t,t);q=u*u-z*(Pf(w,w)-1);if(!(0>q)){var r=Fb(q);q=Qf(t,(-u-r)/z);Uh(q,w);q=Of(q);if(!C)return q;C=p[0];var x=y[0];p=p[1];y=y[1];if(x<C){var B=C;C=x;x=B}var E=x-C,L=1E-6>
gb(E-eb);!L&&y<p&&(B=p,p=y,y=B);if(L||1E-6>E?L?0<p+y^q[1]<(1E-6>gb(q[0]-C)?p:y):p<=q[1]&&q[1]<=y:E>eb^(C<=q[0]&&q[0]<=x))return y=Qf(t,(-u+r)/z),Uh(y,w),[q,Of(y)]}}function f(p,y){var C=n?a:eb-a,t=0;p<-C?t|=1:p>C&&(t|=2);y<-C?t|=4:y>C&&(t|=8);return t}var g=Ra(a),h=6*Ua,n=0<g,l=1E-6<gb(g);return Il(b,function(p){var y,C,t,u,w;return{lineStart:function(){u=t=!1;w=1},point:function(z,q){var r=[z,q],x=b(z,q);q=n?x?0:f(z,q):x?f(z+(0>z?eb:-eb),q):0;!y&&(u=t=x)&&p.lineStart();x!==t&&(z=e(y,r),!z||Zf(y,
z)||Zf(r,z))&&(r[2]=1);if(x!==t)w=0,x?(p.lineStart(),z=e(r,y),p.point(z[0],z[1])):(z=e(y,r),p.point(z[0],z[1],2),p.lineEnd()),y=z;else if(l&&y&&n^x){var B;q&C||!(B=e(r,y,!0))||(w=0,n?(p.lineStart(),p.point(B[0][0],B[0][1]),p.point(B[1][0],B[1][1]),p.lineEnd()):(p.point(B[1][0],B[1][1]),p.lineEnd(),p.lineStart(),p.point(B[0][0],B[0][1],3)))}!x||y&&Zf(y,r)||p.point(r[0],r[1]);y=r;t=x;C=q},lineEnd:function(){t&&p.lineEnd();y=null},clean:function(){return w|(u&&t)<<1}}},function(p,y,C,t){Cl(t,a,h,C,p,
y)},n?[0,-a]:[-eb,a-eb])}function zs(a,b,e,f,g,h){var n=a[0],l=a[1],p=0,y=1,C=b[0]-n,t=b[1]-l;e-=n;if(C||!(0<e)){e/=C;if(0>C){if(e<p)return;e<y&&(y=e)}else if(0<C){if(e>y)return;e>p&&(p=e)}e=g-n;if(C||!(0>e)){e/=C;if(0>C){if(e>y)return;e>p&&(p=e)}else if(0<C){if(e<p)return;e<y&&(y=e)}e=f-l;if(t||!(0<e)){e/=t;if(0>t){if(e<p)return;e<y&&(y=e)}else if(0<t){if(e>y)return;e>p&&(p=e)}e=h-l;if(t||!(0>e)){e/=t;if(0>t){if(e>y)return;e>p&&(p=e)}else if(0<t){if(e<p)return;e<y&&(y=e)}0<p&&(a[0]=n+p*C,a[1]=l+
p*t);1>y&&(b[0]=n+y*C,b[1]=l+y*t);return!0}}}}}function ag(a,b,e,f){function g(p,y,C,t){var u=0,w=0;if(null==p||(u=h(p,C))!==(w=h(y,C))||0>l(p,y)^0<C){do t.point(0===u||3===u?a:e,1<u?f:b);while((u=(u+C+4)%4)!==w)}else t.point(y[0],y[1])}function h(p,y){return 1E-6>gb(p[0]-a)?0<y?0:3:1E-6>gb(p[0]-e)?0<y?2:1:1E-6>gb(p[1]-b)?0<y?1:0:0<y?3:2}function n(p,y){return l(p.x,y.x)}function l(p,y){var C=h(p,1),t=h(y,1);return C!==t?C-t:0===C?y[1]-p[1]:1===C?p[0]-y[0]:2===C?p[1]-y[1]:y[0]-p[0]}return function(p){function y(T,
V){a<=T&&T<=e&&b<=V&&V<=f&&t.point(T,V)}function C(T,V){var ma=a<=T&&T<=e&&b<=V&&V<=f;z&&q.push([T,V]);if(R)r=T,x=V,B=ma,R=!1,ma&&(t.lineStart(),t.point(T,V));else if(ma&&P)t.point(T,V);else{var ka=[E=Math.max(-1E9,Math.min(1E9,E)),L=Math.max(-1E9,Math.min(1E9,L))],ra=[T=Math.max(-1E9,Math.min(1E9,T)),V=Math.max(-1E9,Math.min(1E9,V))];zs(ka,ra,a,b,e,f)?(P||(t.lineStart(),t.point(ka[0],ka[1])),t.point(ra[0],ra[1]),ma||t.lineEnd(),Y=!1):ma&&(t.lineStart(),t.point(T,V),Y=!1)}E=T;L=V;P=ma}var t=p,u=El(),
w,z,q,r,x,B,E,L,P,R,Y,ia={point:y,lineStart:function(){ia.point=C;z&&z.push(q=[]);R=!0;P=!1;E=L=NaN},lineEnd:function(){w&&(C(r,x),B&&P&&u.rejoin(),w.push(u.result()));ia.point=y;P&&t.lineEnd()},polygonStart:function(){t=u;w=[];z=[];Y=!0},polygonEnd:function(){for(var T,V=T=0,ma=z.length;V<ma;++V){var ka=z[V],ra=1,Ja=ka.length,pa=ka[0],Ga=pa[0];for(pa=pa[1];ra<Ja;++ra){var Qa=Ga;var O=pa;pa=ka[ra];Ga=pa[0];pa=pa[1];O<=f?pa>f&&(Ga-Qa)*(f-O)>(pa-O)*(a-Qa)&&++T:pa<=f&&(Ga-Qa)*(f-O)<(pa-O)*(a-Qa)&&--T}}V=
Y&&T;ma=(w=gd(w)).length;if(V||ma)p.polygonStart(),V&&(p.lineStart(),g(null,null,1,p),p.lineEnd()),ma&&Fl(w,n,T,g,p),p.polygonEnd();t=p;w=z=q=null}};return ia}}function As(){Td.point=Td.lineEnd=sb}function Bs(a,b){a*=Ua;b*=Ua;ei=a;bg=Oa(b);cg=Ra(b);Td.point=Cs}function Cs(a,b){a*=Ua;b*=Ua;var e=Oa(b);b=Ra(b);var f=gb(a-ei),g=Ra(f);f=Oa(f);f*=b;var h=cg*e-bg*b*g;g=bg*e+cg*b*g;fi.add(Sb(Fb(f*f+h*h),g));ei=a;bg=e;cg=b}function Kl(a){fi=new xb;nc(a,Td);return+fi}function Fe(a,b){gi[0]=a;gi[1]=b;return Kl(Ds)}
function dg(a,b){return a&&Ll.hasOwnProperty(a.type)?Ll[a.type](a,b):!1}function Ml(a,b){for(var e,f,g,h=0,n=a.length;h<n;h++){f=Fe(a[h],b);if(0===f||0<h&&(g=Fe(a[h],a[h-1]),0<g&&e<=g&&f<=g&&(e+f-g)*(1-Math.pow((e-f)/g,2))<1E-12*g))return!0;e=f}return!1}function Nl(a,b){return!!Hl(a.map(Es),Ol(b))}function Es(a){return a=a.map(Ol),a.pop(),a}function Ol(a){return[a[0]*Ua,a[1]*Ua]}function Pl(a,b,e){var f=Yb(a,b-1E-6,e).concat(b);return function(g){return f.map(function(h){return[g,h]})}}function Ql(a,
b,e){var f=Yb(a,b-1E-6,e).concat(b);return function(g){return f.map(function(h){return[h,g]})}}function Rl(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return Yb(eg(h/u)*u,g,u).map(r).concat(Yb(eg(y/w)*w,p,w).map(x)).concat(Yb(eg(f/C)*C,e,C).filter(function(E){return 1E-6<gb(E%u)}).map(z)).concat(Yb(eg(l/t)*t,n,t).filter(function(E){return 1E-6<gb(E%w)}).map(q))}var e,f,g,h,n,l,p,y,C=10,t=C,u=90,w=360,z,q,r,x,B=2.5;a.lines=function(){return b().map(function(E){return{type:"LineString",
coordinates:E}})};a.outline=function(){return{type:"Polygon",coordinates:[r(h).concat(x(p).slice(1),r(g).reverse().slice(1),x(y).reverse().slice(1))]}};a.extent=function(E){return arguments.length?a.extentMajor(E).extentMinor(E):a.extentMinor()};a.extentMajor=function(E){if(!arguments.length)return[[h,y],[g,p]];h=+E[0][0];g=+E[1][0];y=+E[0][1];p=+E[1][1];h>g&&(E=h,h=g,g=E);y>p&&(E=y,y=p,p=E);return a.precision(B)};a.extentMinor=function(E){if(!arguments.length)return[[f,l],[e,n]];f=+E[0][0];e=+E[1][0];
l=+E[0][1];n=+E[1][1];f>e&&(E=f,f=e,e=E);l>n&&(E=l,l=n,n=E);return a.precision(B)};a.step=function(E){return arguments.length?a.stepMajor(E).stepMinor(E):a.stepMinor()};a.stepMajor=function(E){if(!arguments.length)return[u,w];u=+E[0];w=+E[1];return a};a.stepMinor=function(E){if(!arguments.length)return[C,t];C=+E[0];t=+E[1];return a};a.precision=function(E){if(!arguments.length)return B;B=+E;z=Pl(l,n,90);q=Ql(f,e,B);r=Pl(y,p,90);x=Ql(h,g,B);return a};return a.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,
-80.000001],[180,80.000001]])}function Fs(){Ic.point=Gs}function Gs(a,b){Ic.point=Sl;Tl=hi=a;Ul=ii=b}function Sl(a,b){ji.add(ii*a-hi*b);hi=a;ii=b}function Hs(){Sl(Tl,Ul)}function qd(a,b){ki+=a;li+=b;++Ge}function Vl(){gc.point=Is}function Is(a,b){gc.point=Js;qd(wc=a,xc=b)}function Js(a,b){var e=a-wc,f=b-xc;e=Fb(e*e+f*f);fg+=e*(wc+a)/2;gg+=e*(xc+b)/2;Ud+=e;qd(wc=a,xc=b)}function Wl(){gc.point=qd}function Ks(){gc.point=Ls}function Ms(){Xl(Yl,Zl)}function Ls(a,b){gc.point=Xl;qd(Yl=wc=a,Zl=xc=b)}function Xl(a,
b){var e=a-wc,f=b-xc;e=Fb(e*e+f*f);fg+=e*(wc+a)/2;gg+=e*(xc+b)/2;Ud+=e;e=xc*a-wc*b;mi+=e*(wc+a);ni+=e*(xc+b);He+=3*e;qd(wc=a,xc=b)}function $l(a){this._context=a}function Ns(a,b){Ie.point=am;bm=Je=a;cm=Ke=b}function am(a,b){Je-=a;Ke-=b;oi.add(Fb(Je*Je+Ke*Ke));Je=a;Ke=b}function dm(){this._string=[]}function em(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Le(a){return function(b){var e=new pi,f;for(f in a)e[f]=a[f];e.stream=b;return e}}function pi(){}function qi(a,
b,e){var f=a.clipExtent&&a.clipExtent();a.scale(150).translate([0,0]);null!=f&&a.clipExtent(null);nc(e,a.stream(hg));b(hg.result());null!=f&&a.clipExtent(f);return a}function Vd(a,b,e){return qi(a,function(f){var g=b[1][0]-b[0][0],h=b[1][1]-b[0][1],n=Math.min(g/(f[1][0]-f[0][0]),h/(f[1][1]-f[0][1]));g=+b[0][0]+(g-n*(f[1][0]+f[0][0]))/2;f=+b[0][1]+(h-n*(f[1][1]+f[0][1]))/2;a.scale(150*n).translate([g,f])},e)}function ri(a,b,e){return qi(a,function(f){var g=+b,h=g/(f[1][0]-f[0][0]);g=(g-h*(f[1][0]+
f[0][0]))/2;f=-h*f[0][1];a.scale(150*h).translate([g,f])},e)}function si(a,b,e){return qi(a,function(f){var g=+b,h=g/(f[1][1]-f[0][1]),n=-h*f[0][0];f=(g-h*(f[1][1]+f[0][1]))/2;a.scale(150*h).translate([n,f])},e)}function fm(a){return Le({point:function(b,e){b=a(b,e);this.stream.point(b[0],b[1])}})}function gm(a,b){function e(f,g,h,n,l,p,y,C,t,u,w,z,q,r){var x=y-f,B=C-g,E=x*x+B*B;if(E>4*b&&q--){var L=n+u,P=l+w,R=p+z,Y=Fb(L*L+P*P+R*R),ia=Rb(R/=Y),T=1E-6>gb(gb(R)-1)||1E-6>gb(h-t)?(h+t)/2:Sb(P,L),V=a(T,
ia);ia=V[0];V=V[1];var ma=ia-f,ka=V-g,ra=B*ma-x*ka;if(ra*ra/E>b||.3<gb((x*ma+B*ka)/E-.5)||n*u+l*w+p*z<Os)e(f,g,h,n,l,p,ia,V,T,L/=Y,P/=Y,R,q,r),r.point(ia,V),e(ia,V,T,L,P,R,y,C,t,u,w,z,q,r)}}return function(f){function g(ia,T){ia=a(ia,T);f.point(ia[0],ia[1])}function h(){B=NaN;Y.point=n;f.lineStart()}function n(ia,T){var V=od([ia,T]);T=a(ia,T);e(B,E,x,L,P,R,B=T[0],E=T[1],x=ia,L=V[0],P=V[1],R=V[2],16,f);f.point(B,E)}function l(){Y.point=g;f.lineEnd()}function p(){h();Y.point=y;Y.lineEnd=C}function y(ia,
T){n(t=ia,T);u=B;w=E;z=L;q=P;r=R;Y.point=n}function C(){e(B,E,x,L,P,R,u,w,t,z,q,r,16,f);Y.lineEnd=l;l()}var t,u,w,z,q,r,x,B,E,L,P,R,Y={point:g,lineStart:h,lineEnd:l,polygonStart:function(){f.polygonStart();Y.lineStart=p},polygonEnd:function(){f.polygonEnd();Y.lineStart=h}};return Y}}function Ps(a){return Le({point:function(b,e){b=a(b,e);return this.stream.point(b[0],b[1])}})}function Qs(a,b,e,f,g){function h(n,l){n*=f;l*=g;return[b+a*n,e-a*l]}h.invert=function(n,l){return[(n-b)/a*f,(e-l)/a*g]};return h}
function hm(a,b,e,f,g,h){function n(z,q){z*=f;q*=g;return[p*z-y*q+b,e-y*z-p*q]}if(!h)return Qs(a,b,e,f,g);var l=Ra(h);h=Oa(h);var p=l*a,y=h*a,C=l/a,t=h/a,u=(h*e-l*b)/a,w=(h*b+l*e)/a;n.invert=function(z,q){return[f*(C*z-t*q+u),g*(w-t*z-C*q)]};return n}function yc(a){return ti(function(){return a})()}function ti(a){function b(pa){return ka(pa[0]*Ua,pa[1]*Ua)}function e(pa){return(pa=ka.invert(pa[0],pa[1]))&&[pa[0]*lb,pa[1]*lb]}function f(){var pa=hm(n,0,0,r,x,q).apply(null,h(y,C));pa=hm(n,l-pa[0],p-
pa[1],r,x,q);z=ci(t,u,w);ma=ai(h,pa);ka=ai(z,ma);pa=ma;V=+T?gm(pa,T):fm(pa);return g()}function g(){ra=Ja=null;return b}var h,n=150,l=480,p=250,y=0,C=0,t=0,u=0,w=0,z,q=0,r=1,x=1,B=null,E=ui,L=null,P,R,Y,ia=Me,T=.5,V,ma,ka,ra,Ja;b.stream=function(pa){return ra&&Ja===pa?ra:ra=Rs(Ps(z)(E(V(ia(Ja=pa)))))};b.preclip=function(pa){return arguments.length?(E=pa,B=void 0,g()):E};b.postclip=function(pa){return arguments.length?(ia=pa,L=P=R=Y=null,g()):ia};b.clipAngle=function(pa){return arguments.length?(E=
+pa?Jl(B=pa*Ua):(B=null,ui),g()):B*lb};b.clipExtent=function(pa){return arguments.length?(ia=null==pa?(L=P=R=Y=null,Me):ag(L=+pa[0][0],P=+pa[0][1],R=+pa[1][0],Y=+pa[1][1]),g()):null==L?null:[[L,P],[R,Y]]};b.scale=function(pa){return arguments.length?(n=+pa,f()):n};b.translate=function(pa){return arguments.length?(l=+pa[0],p=+pa[1],f()):[l,p]};b.center=function(pa){return arguments.length?(y=pa[0]%360*Ua,C=pa[1]%360*Ua,f()):[y*lb,C*lb]};b.rotate=function(pa){return arguments.length?(t=pa[0]%360*Ua,
u=pa[1]%360*Ua,w=2<pa.length?pa[2]%360*Ua:0,f()):[t*lb,u*lb,w*lb]};b.angle=function(pa){return arguments.length?(q=pa%360*Ua,f()):q*lb};b.reflectX=function(pa){return arguments.length?(r=pa?-1:1,f()):0>r};b.reflectY=function(pa){return arguments.length?(x=pa?-1:1,f()):0>x};b.precision=function(pa){if(arguments.length){var Ga=ma;var Qa=T=pa*pa;Ga=(V=+Qa?gm(Ga,Qa):fm(Ga),g())}else Ga=Fb(T);return Ga};b.fitExtent=function(pa,Ga){return Vd(b,pa,Ga)};b.fitSize=function(pa,Ga){return Vd(b,[[0,0],pa],Ga)};
b.fitWidth=function(pa,Ga){return ri(b,pa,Ga)};b.fitHeight=function(pa,Ga){return si(b,pa,Ga)};return function(){h=a.apply(this,arguments);b.invert=h.invert&&e;return f()}}function vi(a){var b=0,e=eb/3,f=ti(a);a=f(b,e);a.parallels=function(g){return arguments.length?f(b=g[0]*Ua,e=g[1]*Ua):[b*lb,e*lb]};return a}function Ss(a){function b(f,g){return[f*e,Oa(g)/e]}var e=Ra(a);b.invert=function(f,g){return[f/e,Rb(g*e)]};return b}function im(a,b){function e(l,p){p=Fb(h-2*g*Oa(p))/g;return[p*Oa(l*=g),n-
p*Ra(l)]}var f=Oa(a),g=(f+Oa(b))/2;if(1E-6>gb(g))return Ss(a);var h=1+f*(2*g-f),n=Fb(h)/g;e.invert=function(l,p){p=n-p;var y=Sb(l,gb(p))*fc(p);0>p*g&&(y-=eb*fc(l)*fc(p));return[y/g,Rb((h-(l*l+p*p)*g*g)/(2*g))]};return e}function ig(){return vi(im).scale(155.424).center([0,33.6442])}function jm(){return ig().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ts(a){var b=a.length;return{point:function(e,f){for(var g=-1;++g<b;)a[g].point(e,f)},sphere:function(){for(var e=
-1;++e<b;)a[e].sphere()},lineStart:function(){for(var e=-1;++e<b;)a[e].lineStart()},lineEnd:function(){for(var e=-1;++e<b;)a[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<b;)a[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<b;)a[e].polygonEnd()}}}function km(a){return function(b,e){var f=Ra(b),g=Ra(e);f=a(f*g);return Infinity===f?[2,0]:[f*g*Oa(b),f*Oa(e)]}}function Ne(a){return function(b,e){var f=Fb(b*b+e*e),g=a(f),h=Oa(g);g=Ra(g);return[Sb(b*h,f*g),Rb(f&&e*h/f)]}}function Oe(a,
b){return[a,jg(Wd((ob+b)/2))]}function lm(a){function b(){var t=eb*g(),u=e(Bl(e.rotate()).invert([0,0]));return n(null==l?[[u[0]-t,u[1]-t],[u[0]+t,u[1]+t]]:a===Oe?[[Math.max(u[0]-t,l),p],[Math.min(u[0]+t,y),C]]:[[l,Math.max(u[1]-t,p)],[y,Math.min(u[1]+t,C)]])}var e=yc(a),f=e.center,g=e.scale,h=e.translate,n=e.clipExtent,l=null,p,y,C;e.scale=function(t){return arguments.length?(g(t),b()):g()};e.translate=function(t){return arguments.length?(h(t),b()):h()};e.center=function(t){return arguments.length?
(f(t),b()):f()};e.clipExtent=function(t){return arguments.length?(null==t?l=p=y=C=null:(l=+t[0][0],p=+t[0][1],y=+t[1][0],C=+t[1][1]),b()):null==l?null:[[l,p],[y,C]]};return b()}function mm(a,b){function e(n,l){0<h?l<-ob+1E-6&&(l=-ob+1E-6):l>ob-1E-6&&(l=ob-1E-6);l=h/wi(Wd((ob+l)/2),g);return[l*Oa(g*n),h-l*Ra(g*n)]}var f=Ra(a),g=a===b?Oa(a):jg(f/Ra(b))/jg(Wd((ob+b)/2)/Wd((ob+a)/2)),h=f*wi(Wd((ob+a)/2),g)/g;if(!g)return Oe;e.invert=function(n,l){l=h-l;var p=fc(g)*Fb(n*n+l*l),y=Sb(n,gb(l))*fc(l);0>l*
g&&(y-=eb*fc(n)*fc(l));return[y/g,2*Xd(wi(h/p,1/g))-ob]};return e}function Pe(a,b){return[a,b]}function nm(a,b){function e(n,l){l=h-l;n*=g;return[l*Oa(n),h-l*Ra(n)]}var f=Ra(a),g=a===b?Oa(a):(f-Ra(b))/(b-a),h=f/g+a;if(1E-6>gb(g))return Pe;e.invert=function(n,l){l=h-l;var p=Sb(n,gb(l))*fc(l);0>l*g&&(p-=eb*fc(n)*fc(l));return[p/g,h-fc(g)*Fb(n*n+l*l)]};return e}function xi(a,b){b=Rb(kg*Oa(b));var e=b*b,f=e*e*e;return[a*Ra(b)/(kg*(1.340264+3*-.081106*e+f*(7*8.93E-4+.034164*e))),b*(1.340264+-.081106*e+
f*(8.93E-4+.003796*e))]}function yi(a,b){var e=Ra(b),f=Ra(a)*e;return[e*Oa(a)/f,Oa(b)/f]}function zi(a,b){var e=b*b,f=e*e;return[a*(.8707-.131979*e+f*(-.013791+f*(.003971*e-.001529*f))),b*(1.007226+e*(.015085+f*(-.044475+.028874*e-.005916*f)))]}function Ai(a,b){return[Ra(b)*Oa(a),Oa(b)]}function Bi(a,b){var e=Ra(b),f=1+Ra(a)*e;return[e*Oa(a)/f,Oa(b)/f]}function Ci(a,b){return[jg(Wd((ob+b)/2)),-a]}function Us(a,b){return a.parent===b.parent?1:2}function Vs(a,b){return a+b.x}function Ws(a,b){return Math.max(a,
b.y)}function Xs(a){for(var b;b=a.children;)a=b[0];return a}function Ys(a){for(var b;b=a.children;)a=b[b.length-1];return a}function Zs(a){var b=0,e=a.children,f=e&&e.length;if(f)for(;0<=--f;)b+=e[f].value;else b=1;a.value=b}function om(){var a=this,b,e,f,g,h,n;return $jscomp.generator.createGenerator(om,function(l){switch(l.nextAddress){case 1:b=a,f=[b];case 2:e=f.reverse(),f=[];case 5:if(!(b=e.pop())){l.jumpTo(4);break}return l.yield(b,7);case 7:if(g=b.children)for(h=0,n=g.length;h<n;++h)f.push(g[h]);
l.jumpTo(5);break;case 4:f.length?l.jumpTo(2):l.jumpToEnd()}})}function Di(a,b){a instanceof Map?(a=[void 0,a],void 0===b&&(b=$s)):void 0===b&&(b=at);a=new Yd(a);for(var e,f=[a],g,h,n,l;e=f.pop();)if((h=b(e.data))&&(l=(h=Array.from(h)).length))for(e.children=h,n=l-1;0<=n;--n)f.push(g=h[n]=new Yd(h[n])),g.parent=e,g.depth=e.depth+1;return a.eachBefore(pm)}function at(a){return a.children}function $s(a){return Array.isArray(a)?a[1]:null}function bt(a){void 0!==a.data.value&&(a.value=a.data.value);a.data=
a.data.data}function pm(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function Yd(a){this.data=a;this.depth=this.height=0;this.parent=null}function qm(a){var b=0;a=Array.from(a);for(var e=a.length,f,g;e;)g=Math.random()*e--|0,f=a[e],a[e]=a[g],a[g]=f;e=a.length;f=[];for(var h;b<e;)if(g=a[b],h&&rm(h,g))++b;else{a:if(b=f,Ei(g,b))b=[g];else{for(f=0;f<b.length;++f)if(lg(g,b[f])&&Ei(Qe(b[f],g),b)){b=[b[f],g];break a}for(f=0;f<b.length-1;++f)for(h=f+1;h<b.length;++h)if(lg(Qe(b[f],b[h]),g)&&
lg(Qe(b[f],g),b[h])&&lg(Qe(b[h],g),b[f])&&Ei(sm(b[f],b[h],g),b)){b=[b[f],b[h],g];break a}throw Error();}a:{b=f=b;switch(b.length){case 1:b=b[0];b={x:b.x,y:b.y,r:b.r};break a;case 2:b=Qe(b[0],b[1]);break a;case 3:b=sm(b[0],b[1],b[2]);break a}b=void 0}h=b;b=0}return h}function lg(a,b){var e=a.r-b.r,f=b.x-a.x;a=b.y-a.y;return 0>e||e*e<f*f+a*a}function rm(a,b){var e=a.r-b.r+1E-9*Math.max(a.r,b.r,1),f=b.x-a.x;a=b.y-a.y;return 0<e&&e*e>f*f+a*a}function Ei(a,b){for(var e=0;e<b.length;++e)if(!rm(a,b[e]))return!1;
return!0}function Qe(a,b){var e=a.x,f=a.y;a=a.r;var g=b.x,h=b.y;b=b.r;var n=g-e,l=h-f,p=b-a,y=Math.sqrt(n*n+l*l);return{x:(e+g+n/y*p)/2,y:(f+h+l/y*p)/2,r:(y+a+b)/2}}function sm(a,b,e){var f=a.x,g=a.y;a=a.r;var h=b.x,n=b.y,l=b.r,p=e.x,y=e.y,C=e.r;e=f-h;b=f-p;var t=g-n,u=g-y,w=l-a,z=C-a,q=f*f+g*g-a*a;n=q-h*h-n*n+l*l;y=q-p*p-y*y+C*C;p=b*t-e*u;h=(t*y-u*n)/(2*p)-f;t=(u*w-t*z)/p;u=(b*n-e*y)/(2*p)-g;e=(e*z-b*w)/p;b=t*t+e*e-1;w=2*(a+h*t+u*e);a=h*h+u*u-a*a;a=-(b?(w+Math.sqrt(w*w-4*b*a))/(2*b):a/w);return{x:f+
h+t*a,y:g+u+e*a,r:a}}function tm(a,b,e){var f=a.x-b.x,g=a.y-b.y,h=f*f+g*g;if(h){var n=b.r+e.r;n*=n;var l=a.r+e.r;l*=l;if(n>l){var p=(h+l-n)/(2*h);n=Math.sqrt(Math.max(0,l/h-p*p));e.x=a.x-p*f-n*g;e.y=a.y-p*g+n*f}else p=(h+n-l)/(2*h),n=Math.sqrt(Math.max(0,n/h-p*p)),e.x=b.x+p*f-n*g,e.y=b.y+p*g+n*f}else e.x=b.x+e.r,e.y=b.y}function um(a,b){var e=a.r+b.r-1E-6,f=b.x-a.x;a=b.y-a.y;return 0<e&&e*e>f*f+a*a}function vm(a){var b=a._,e=a.next._,f=b.r+e.r;a=(b.x*e.r+e.x*b.r)/f;b=(b.y*e.r+e.y*b.r)/f;return a*
a+b*b}function mg(a){this._=a;this.previous=this.next=null}function wm(a){if(!(e=(a="object"===typeof a&&"length"in a?a:Array.from(a)).length))return 0;var b,e;var f=a[0];f.x=0;f.y=0;if(!(1<e))return f.r;var g=a[1];f.x=-g.r;g.x=f.r;g.y=0;if(!(2<e))return f.r+g.r;tm(g,f,b=a[2]);f=new mg(f);g=new mg(g);b=new mg(b);f.next=b.previous=g;g.next=f.previous=b;b.next=g.previous=f;var h=3;a:for(;h<e;++h){tm(f._,g._,b=a[h]);b=new mg(b);var n=g.next;var l=f.previous;var p=g._.r;var y=f._.r;do if(p<=y){if(um(n._,
b._)){g=n;f.next=g;g.previous=f;--h;continue a}p+=n._.r;n=n.next}else{if(um(l._,b._)){f=l;f.next=g;g.previous=f;--h;continue a}y+=l._.r;l=l.previous}while(n!==l.next);b.previous=f;b.next=g;f.next=g.previous=g=b;for(n=vm(f);(b=b.next)!==g;)(l=vm(b))<n&&(f=b,n=l);g=f.next}f=[g._];for(b=g;(b=b.next)!==g;)f.push(b._);b=qm(f);for(h=0;h<e;++h)f=a[h],f.x-=b.x,f.y-=b.y;return b.r}function ng(a){if("function"!==typeof a)throw Error();return a}function rd(){return 0}function Zd(a){return function(){return a}}
function ct(a){return Math.sqrt(a.value)}function xm(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function Fi(a,b){return function(e){if(f=e.children){var f,g,h=f.length,n=a(e)*b||0;if(n)for(g=0;g<h;++g)f[g].r+=n;var l=wm(f);if(n)for(g=0;g<h;++g)f[g].r-=n;e.r=l+n}}}function ym(a){return function(b){var e=b.parent;b.r*=a;e&&(b.x=e.x+a*b.x,b.y=e.y+a*b.y)}}function zm(a){a.x0=Math.round(a.x0);a.y0=Math.round(a.y0);a.x1=Math.round(a.x1);a.y1=Math.round(a.y1)}function Re(a,b,e,f,g){var h=
a.children,n=-1,l=h.length;for(f=a.value&&(f-b)/a.value;++n<l;)a=h[n],a.y0=e,a.y1=g,a.x0=b,a.x1=b+=a.value*f}function dt(a){return a.id}function et(a){return a.parentId}function ft(a,b){return a.parent===b.parent?1:2}function Gi(a){var b=a.children;return b?b[0]:a.t}function Hi(a){var b=a.children;return b?b[b.length-1]:a.t}function og(a,b){this._=a;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=b}function gt(a){a=new og(a,0);for(var b,e=[a],f,g,
h;b=e.pop();)if(g=b._.children)for(b.children=Array(f=g.length),h=f-1;0<=h;--h)e.push(f=b.children[h]=new og(g[h],h)),f.parent=b;(a.parent=new og(null,0)).children=[a];return a}function pg(a,b,e,f,g){var h=a.children,n=-1,l=h.length;for(g=a.value&&(g-e)/a.value;++n<l;)a=h[n],a.x0=b,a.x1=f,a.y0=e,a.y1=e+=a.value*g}function Am(a,b,e,f,g,h){for(var n=[],l=b.children,p,y,C=p=0,t=l.length,u,w=b.value,z,q,r,x,B,E;p<t;){b=g-e;u=h-f;do z=l[C++].value;while(!z&&C<t);q=r=z;E=Math.max(u/b,b/u)/(w*a);x=z*z*E;
for(B=Math.max(r/x,x/q);C<t;++C){z+=y=l[C].value;y<q&&(q=y);y>r&&(r=y);x=z*z*E;x=Math.max(r/x,x/q);if(x>B){z-=y;break}B=x}n.push(p={value:z,dice:b<u,children:l.slice(p,C)});p.dice?Re(p,e,f,g,w?f+=u*z/w:h):pg(p,e,f,w?e+=b*z/w:g,h);w-=z;p=C}return n}function ht(a,b,e){return(b[0]-a[0])*(e[1]-a[1])-(b[1]-a[1])*(e[0]-a[0])}function it(a,b){return a[0]-b[0]||a[1]-b[1]}function Bm(a){var b=a.length,e=[0,1],f=2,g;for(g=2;g<b;++g){for(;1<f&&0>=ht(a[e[f-2]],a[e[f-1]],a[g]);)--f;e[f++]=g}return e.slice(0,f)}
function hc(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function Jc(a,b){switch(arguments.length){case 0:break;case 1:"function"===typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"===typeof b?this.interpolator(b):this.range(b)}return this}function Ii(){function a(h){var n=h+"",l=b.get(n);if(!l){if(g!==Ji)return g;b.set(n,l=e.push(h))}return f[(l-1)%f.length]}var b=new Map,e=[],f=[],g=Ji;a.domain=
function(h){if(!arguments.length)return e.slice();e=[];b=new Map;for(var n=$jscomp.makeIterator(h),l=n.next();!l.done;l=n.next()){l=l.value;var p=l+"";b.has(p)||b.set(p,e.push(l))}return a};a.range=function(h){return arguments.length?(f=Array.from(h),a):f.slice()};a.unknown=function(h){return arguments.length?(g=h,a):g};a.copy=function(){return Ii(e,f).unknown(g)};hc.apply(a,arguments);return a}function Ki(){function a(){var u=e().length,w=h<g,z=w?h:g,q=w?g:h;n=(q-z)/Math.max(1,u-y+2*C);p&&(n=Math.floor(n));
z+=(q-z-n*(u-y))*t;l=n*(1-y);p&&(z=Math.round(z),l=Math.round(l));u=Yb(u).map(function(r){return z+n*r});return f(w?u.reverse():u)}var b=Ii().unknown(void 0),e=b.domain,f=b.range,g=0,h=1,n,l,p=!1,y=0,C=0,t=.5;delete b.unknown;b.domain=function(u){return arguments.length?(e(u),a()):e()};b.range=function(u){if(arguments.length){var w=$jscomp.makeIterator(u);g=w.next().value;h=w.next().value;w=(g=+g,h=+h,a())}else w=[g,h];return w};b.rangeRound=function(u){u=$jscomp.makeIterator(u);g=u.next().value;
h=u.next().value;return g=+g,h=+h,p=!0,a()};b.bandwidth=function(){return l};b.step=function(){return n};b.round=function(u){return arguments.length?(p=!!u,a()):p};b.padding=function(u){return arguments.length?(y=Math.min(1,C=+u),a()):y};b.paddingInner=function(u){return arguments.length?(y=Math.min(1,u),a()):y};b.paddingOuter=function(u){return arguments.length?(C=+u,a()):C};b.align=function(u){return arguments.length?(t=Math.max(0,Math.min(1,u)),a()):t};b.copy=function(){return Ki(e(),[g,h]).round(p).paddingInner(y).paddingOuter(C).align(t)};
return hc.apply(a(),arguments)}function Cm(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;delete a.paddingOuter;a.copy=function(){return Cm(b())};return a}function jt(a){return function(){return a}}function qg(a){return+a}function Cb(a){return a}function Li(a,b){return(b-=a=+a)?function(e){return(e-a)/b}:jt(isNaN(b)?NaN:.5)}function kt(a,b){if(a>b){var e=a;a=b;b=e}return function(f){return Math.max(a,Math.min(b,f))}}function lt(a,b,e){var f=a[0];a=a[1];var g=b[0];b=b[1];a<f?(f=Li(a,
f),g=e(b,g)):(f=Li(f,a),g=e(g,b));return function(h){return g(f(h))}}function mt(a,b,e){var f=Math.min(a.length,b.length)-1,g=Array(f),h=Array(f),n=-1;a[f]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++n<f;)g[n]=Li(a[n],a[n+1]),h[n]=e(b[n],b[n+1]);return function(l){var p=Oc(a,l,1,f)-1;return h[p](g[p](l))}}function Se(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function $d(){function a(){var u=Math.min(e.length,
f.length);p!==Cb&&(p=kt(e[0],e[u-1]));y=2<u?mt:lt;C=t=null;return b}function b(u){return null==u||isNaN(u=+u)?l:(C||(C=y(e.map(h),f,g)))(h(p(u)))}var e=Dm,f=Dm,g=Sc,h,n,l,p=Cb,y,C,t;b.invert=function(u){return p(n((t||(t=y(f,e.map(h),ec)))(u)))};b.domain=function(u){return arguments.length?(e=Array.from(u,qg),a()):e.slice()};b.range=function(u){return arguments.length?(f=Array.from(u),a()):f.slice()};b.rangeRound=function(u){return f=Array.from(u),g=uf,a()};b.clamp=function(u){return arguments.length?
(p=u?!0:Cb,a()):p!==Cb};b.interpolate=function(u){return arguments.length?(g=u,a()):g};b.unknown=function(u){return arguments.length?(l=u,b):l};return function(u,w){h=u;n=w;return a()}}function Em(a,b,e,f){e=rb(a,b,e);var g;f=Be(null==f?",f":f);switch(f.type){case "s":return a=Math.max(Math.abs(a),Math.abs(b)),null!=f.precision||isNaN(g=cl(e,a))||(f.precision=g),c.formatPrefix(f,a);case "":case "e":case "g":case "p":case "r":null!=f.precision||isNaN(g=dl(e,Math.max(Math.abs(a),Math.abs(b))))||(f.precision=
g-("e"===f.type));break;case "f":case "%":null!=f.precision||isNaN(g=bl(e))||(f.precision=g-2*("%"===f.type))}return c.format(f)}function Xc(a){var b=a.domain;a.ticks=function(e){var f=b();return Ab(f[0],f[f.length-1],null==e?10:e)};a.tickFormat=function(e,f){var g=b();return Em(g[0],g[g.length-1],null==e?10:e,f)};a.nice=function(e){null==e&&(e=10);var f=b(),g=0,h=f.length-1,n=f[g],l=f[h],p=10;if(l<n){var y=n;n=l;l=y;y=g;g=h;h=y}for(;0<p--;){y=wb(n,l,e);if(y===C)return f[g]=n,f[h]=l,b(f);if(0<y)n=
Math.floor(n/y)*y,l=Math.ceil(l/y)*y;else if(0>y)n=Math.ceil(n*y)/y,l=Math.floor(l*y)/y;else break;var C=y}return a};return a}function Fm(){var a=$d()(Cb,Cb);a.copy=function(){return Se(a,Fm())};hc.apply(a,arguments);return Xc(a)}function Gm(a){function b(f){return null==f||isNaN(f=+f)?e:f}var e;b.invert=b;b.domain=b.range=function(f){return arguments.length?(a=Array.from(f,qg),b):a.slice()};b.unknown=function(f){return arguments.length?(e=f,b):e};b.copy=function(){return Gm(a).unknown(e)};a=arguments.length?
Array.from(a,qg):[0,1];return Xc(b)}function Hm(a,b){a=a.slice();var e=0,f=a.length-1,g=a[e],h=a[f];if(h<g){var n=e;e=f;f=n;n=g;g=h;h=n}a[e]=b.floor(g);a[f]=b.ceil(h);return a}function Im(a){return Math.log(a)}function Jm(a){return Math.exp(a)}function nt(a){return-Math.log(-a)}function ot(a){return-Math.exp(-a)}function pt(a){return isFinite(a)?+("1e"+a):0>a?0:a}function qt(a){return 10===a?pt:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function rt(a){return a===Math.E?Math.log:10===a&&
Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function Km(a){return function(b){return-a(-b)}}function Mi(a){function b(){h=rt(g);n=qt(g);0>f()[0]?(h=Km(h),n=Km(n),a(nt,ot)):a(Im,Jm);return e}var e=a(Im,Jm),f=e.domain,g=10,h,n;e.base=function(l){return arguments.length?(g=+l,b()):g};e.domain=function(l){return arguments.length?(f(l),b()):f()};e.ticks=function(l){var p=f(),y=p[0];p=p[p.length-1];var C;if(C=p<y)t=y,y=p,p=t;var t=h(y),u=h(p),w=null==l?10:+l,z=[];if(!(g%
1)&&u-t<w){t=Math.floor(t);u=Math.ceil(u);if(0<y)for(;t<=u;++t){var q=1;for(l=n(t);q<g;++q){var r=l*q;if(!(r<y)){if(r>p)break;z.push(r)}}}else for(;t<=u;++t)for(q=g-1,l=n(t);1<=q;--q)if(r=l*q,!(r<y)){if(r>p)break;z.push(r)}2*z.length<w&&(z=Ab(y,p,w))}else z=Ab(t,u,Math.min(u-t,w)).map(n);return C?z.reverse():z};e.tickFormat=function(l,p){null==p&&(p=10===g?".0e":",");"function"!==typeof p&&(p=c.format(p));if(Infinity===l)return p;null==l&&(l=10);var y=Math.max(1,g*l/e.ticks().length);return function(C){var t=
C/n(Math.round(h(C)));t*g<g-.5&&(t*=g);return t<=y?p(C):""}};e.nice=function(){return f(Hm(f(),{floor:function(l){return n(Math.floor(h(l)))},ceil:function(l){return n(Math.ceil(h(l)))}}))};return e}function Lm(){var a=Mi($d()).domain([1,10]);a.copy=function(){return Se(a,Lm()).base(a.base())};hc.apply(a,arguments);return a}function Mm(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function Nm(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function Ni(a){var b=
1,e=a(Mm(b),Nm(b));e.constant=function(f){return arguments.length?a(Mm(b=+f),Nm(b)):b};return Xc(e)}function Om(){var a=Ni($d());a.copy=function(){return Se(a,Om()).constant(a.constant())};return hc.apply(a,arguments)}function Pm(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function st(a){return 0>a?-Math.sqrt(-a):Math.sqrt(a)}function tt(a){return 0>a?-a*a:a*a}function Oi(a){var b=a(Cb,Cb),e=1;b.exponent=function(f){return arguments.length?(e=+f,1===e?a(Cb,Cb):.5===e?a(st,tt):
a(Pm(e),Pm(1/e))):e};return Xc(b)}function Pi(){var a=Oi($d());a.copy=function(){return Se(a,Pi()).exponent(a.exponent())};hc.apply(a,arguments);return a}function Qm(a){return Math.sign(a)*a*a}function Rm(){function a(h){h=b(h);h=Math.sign(h)*Math.sqrt(Math.abs(h));return isNaN(h)?g:f?Math.round(h):h}var b=$d()(Cb,Cb),e=[0,1],f=!1,g;a.invert=function(h){return b.invert(Qm(h))};a.domain=function(h){return arguments.length?(b.domain(h),a):b.domain()};a.range=function(h){return arguments.length?(b.range((e=
Array.from(h,qg)).map(Qm)),a):e.slice()};a.rangeRound=function(h){return a.range(h).round(!0)};a.round=function(h){return arguments.length?(f=!!h,a):f};a.clamp=function(h){return arguments.length?(b.clamp(h),a):b.clamp()};a.unknown=function(h){return arguments.length?(g=h,a):g};a.copy=function(){return Rm(b.domain(),e).round(f).clamp(b.clamp()).unknown(g)};hc.apply(a,arguments);return Xc(a)}function Sm(){function a(){var n=0,l=Math.max(1,f.length);for(g=Array(l-1);++n<l;)g[n-1]=ed(e,n/l);return b}
function b(n){return null==n||isNaN(n=+n)?h:f[Oc(g,n)]}var e=[],f=[],g=[],h;b.invertExtent=function(n){n=f.indexOf(n);return 0>n?[NaN,NaN]:[0<n?g[n-1]:e[0],n<g.length?g[n]:e[e.length-1]]};b.domain=function(n){if(!arguments.length)return e.slice();e=[];for(var l=$jscomp.makeIterator(n),p=l.next();!p.done;p=l.next())p=p.value,null==p||isNaN(p=+p)||e.push(p);e.sort(m);return a()};b.range=function(n){return arguments.length?(f=Array.from(n),a()):f.slice()};b.unknown=function(n){return arguments.length?
(h=n,b):h};b.quantiles=function(){return g.slice()};b.copy=function(){return Sm().domain(e).range(f).unknown(h)};return hc.apply(b,arguments)}function Tm(){function a(p){return null!=p&&p<=p?n[Oc(h,p,0,g)]:l}function b(){var p=-1;for(h=Array(g);++p<g;)h[p]=((p+1)*f-(p-g)*e)/(g+1);return a}var e=0,f=1,g=1,h=[.5],n=[0,1],l;a.domain=function(p){if(arguments.length){var y=$jscomp.makeIterator(p);e=y.next().value;f=y.next().value;y=(e=+e,f=+f,b())}else y=[e,f];return y};a.range=function(p){return arguments.length?
(g=(n=Array.from(p)).length-1,b()):n.slice()};a.invertExtent=function(p){p=n.indexOf(p);return 0>p?[NaN,NaN]:1>p?[e,h[0]]:p>=g?[h[g-1],f]:[h[p-1],h[p]]};a.unknown=function(p){return arguments.length?(l=p,a):a};a.thresholds=function(){return h.slice()};a.copy=function(){return Tm().domain([e,f]).range(n).unknown(l)};return hc.apply(Xc(a),arguments)}function Um(){function a(h){return null!=h&&h<=h?e[Oc(b,h,0,g)]:f}var b=[.5],e=[0,1],f,g=1;a.domain=function(h){return arguments.length?(b=Array.from(h),
g=Math.min(b.length,e.length-1),a):b.slice()};a.range=function(h){return arguments.length?(e=Array.from(h),g=Math.min(b.length,e.length-1),a):e.slice()};a.invertExtent=function(h){h=e.indexOf(h);return[b[h-1],b[h]]};a.unknown=function(h){return arguments.length?(f=h,a):f};a.copy=function(){return Um().domain(b).range(e).unknown(f)};return hc.apply(a,arguments)}function Db(a,b,e,f){function g(h){return a(h=0===arguments.length?new Date:new Date(+h)),h}g.floor=function(h){return a(h=new Date(+h)),h};
g.ceil=function(h){return a(h=new Date(h-1)),b(h,1),a(h),h};g.round=function(h){var n=g(h),l=g.ceil(h);return h-n<l-h?n:l};g.offset=function(h,n){return b(h=new Date(+h),null==n?1:Math.floor(n)),h};g.range=function(h,n,l){var p=[],y;h=g.ceil(h);l=null==l?1:Math.floor(l);if(!(h<n&&0<l))return p;do p.push(y=new Date(+h)),b(h,l),a(h);while(y<h&&h<n);return p};g.filter=function(h){return Db(function(n){if(n>=n)for(;a(n),!h(n);)n.setTime(n-1)},function(n,l){if(n>=n)if(0>l)for(;0>=++l;)for(;b(n,-1),!h(n););
else for(;0<=--l;)for(;b(n,1),!h(n););})};e&&(g.count=function(h,n){Qi.setTime(+h);Ri.setTime(+n);a(Qi);a(Ri);return Math.floor(e(Qi,Ri))},g.every=function(h){h=Math.floor(h);return isFinite(h)&&0<h?1<h?g.filter(f?function(n){return 0===f(n)%h}:function(n){return 0===g.count(0,n)%h}):g:null});return g}function sd(a){return Db(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(b,e){b.setDate(b.getDate()+7*e)},function(b,e){return(e-b-6E4*(e.getTimezoneOffset()-b.getTimezoneOffset()))/
Si})}function td(a){return Db(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(b,e){b.setUTCDate(b.getUTCDate()+7*e)},function(b,e){return(e-b)/Si})}function Vm(a,b,e,f,g,h){function n(p,y,C){var t=Math.abs(y-p)/C,u=v(function(w){w=$jscomp.makeIterator(w);w.next();w.next();return w.next().value}).right(l,t);if(u===l.length)return a.every(rb(p/Ti,y/Ti,C));if(0===u)return ae.every(Math.max(rb(p,y,C),1));y=$jscomp.makeIterator(l[t/l[u-1][2]<l[u][2]/t?u-
1:u]);p=y.next().value;y=y.next().value;return p.every(y)}var l=[[Kc,1,1E3],[Kc,5,5E3],[Kc,15,15E3],[Kc,30,3E4],[h,1,6E4],[h,5,3E5],[h,15,9E5],[h,30,18E5],[g,1,36E5],[g,3,108E5],[g,6,216E5],[g,12,432E5],[f,1,864E5],[f,2,1728E5],[e,1,Si],[b,1,Wm],[b,3,3*Wm],[a,1,Ti]];return[function(p,y,C){var t=y<p;t&&(y=$jscomp.makeIterator([y,p]),p=y.next().value,y=y.next().value);p=(C=C&&"function"===typeof C.range?C:n(p,y,C))?C.range(p,+y+1):[];return t?p.reverse():p},n]}function Ui(a){if(0<=a.y&&100>a.y){var b=
new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function Vi(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function Te(a,b,e){return{y:a,m:b,d:e,H:0,M:0,S:0,L:0}}function Xm(a){function b(T,V){return function(ma){var ka=[],ra=-1,Ja=0,pa=T.length,Ga,Qa;for(ma instanceof Date||(ma=new Date(+ma));++ra<pa;)if(37===T.charCodeAt(ra)){ka.push(T.slice(Ja,
ra));null!=(Ja=Ym[Ga=T.charAt(++ra)])?Ga=T.charAt(++ra):Ja="e"===Ga?" ":"0";if(Qa=V[Ga])Ga=Qa(ma,Ja);ka.push(Ga);Ja=ra+1}ka.push(T.slice(Ja,ra));return ka.join("")}}function e(T,V){return function(ma){var ka=Te(1900,void 0,1);if(f(ka,T,ma+="",0)!=ma.length)return null;if("Q"in ka)return new Date(ka.Q);if("s"in ka)return new Date(1E3*ka.s+("L"in ka?ka.L:0));!V||"Z"in ka||(ka.Z=0);"p"in ka&&(ka.H=ka.H%12+12*ka.p);void 0===ka.m&&(ka.m="q"in ka?ka.q:0);if("V"in ka){if(1>ka.V||53<ka.V)return null;"w"in
ka||(ka.w=1);if("Z"in ka){ma=Vi(Te(ka.y,0,1));var ra=ma.getUTCDay();ma=4<ra||0===ra?Ue.ceil(ma):Ue(ma);ma=be.offset(ma,7*(ka.V-1));ka.y=ma.getUTCFullYear();ka.m=ma.getUTCMonth();ka.d=ma.getUTCDate()+(ka.w+6)%7}else ma=Ui(Te(ka.y,0,1)),ra=ma.getDay(),ma=4<ra||0===ra?Ve.ceil(ma):Ve(ma),ma=ce.offset(ma,7*(ka.V-1)),ka.y=ma.getFullYear(),ka.m=ma.getMonth(),ka.d=ma.getDate()+(ka.w+6)%7}else if("W"in ka||"U"in ka)"w"in ka||(ka.w="u"in ka?ka.u%7:"W"in ka?1:0),ra="Z"in ka?Vi(Te(ka.y,0,1)).getUTCDay():Ui(Te(ka.y,
0,1)).getDay(),ka.m=0,ka.d="W"in ka?(ka.w+6)%7+7*ka.W-(ra+5)%7:ka.w+7*ka.U-(ra+6)%7;return"Z"in ka?(ka.H+=ka.Z/100|0,ka.M+=ka.Z%100,Vi(ka)):Ui(ka)}}function f(T,V,ma,ka){for(var ra=0,Ja=V.length,pa=ma.length,Ga;ra<Ja;){if(ka>=pa)return-1;Ga=V.charCodeAt(ra++);if(37===Ga){if(Ga=V.charAt(ra++),Ga=ia[Ga in Ym?V.charAt(ra++):Ga],!Ga||0>(ka=Ga(T,ma,ka)))return-1}else if(Ga!=ma.charCodeAt(ka++))return-1}return ka}var g=a.dateTime,h=a.date,n=a.time,l=a.periods,p=a.days,y=a.shortDays,C=a.months,t=a.shortMonths,
u=We(l),w=Xe(l),z=We(p),q=Xe(p),r=We(y),x=Xe(y),B=We(C),E=Xe(C),L=We(t),P=Xe(t),R={a:function(T){return y[T.getDay()]},A:function(T){return p[T.getDay()]},b:function(T){return t[T.getMonth()]},B:function(T){return C[T.getMonth()]},c:null,d:Zm,e:Zm,f:ut,g:vt,G:wt,H:xt,I:yt,j:zt,L:$m,m:At,M:Bt,p:function(T){return l[+(12<=T.getHours())]},q:function(T){return 1+~~(T.getMonth()/3)},Q:an,s:bn,S:Ct,u:Dt,U:Et,V:Ft,w:Gt,W:Ht,x:null,X:null,y:It,Y:Jt,Z:Kt,"%":cn},Y={a:function(T){return y[T.getUTCDay()]},A:function(T){return p[T.getUTCDay()]},
b:function(T){return t[T.getUTCMonth()]},B:function(T){return C[T.getUTCMonth()]},c:null,d:dn,e:dn,f:Lt,g:Mt,G:Nt,H:Ot,I:Pt,j:Qt,L:en,m:Rt,M:St,p:function(T){return l[+(12<=T.getUTCHours())]},q:function(T){return 1+~~(T.getUTCMonth()/3)},Q:an,s:bn,S:Tt,u:Ut,U:Vt,V:Wt,w:Xt,W:Yt,x:null,X:null,y:Zt,Y:$t,Z:au,"%":cn},ia={a:function(T,V,ma){return(V=r.exec(V.slice(ma)))?(T.w=x.get(V[0].toLowerCase()),ma+V[0].length):-1},A:function(T,V,ma){return(V=z.exec(V.slice(ma)))?(T.w=q.get(V[0].toLowerCase()),ma+
V[0].length):-1},b:function(T,V,ma){return(V=L.exec(V.slice(ma)))?(T.m=P.get(V[0].toLowerCase()),ma+V[0].length):-1},B:function(T,V,ma){return(V=B.exec(V.slice(ma)))?(T.m=E.get(V[0].toLowerCase()),ma+V[0].length):-1},c:function(T,V,ma){return f(T,g,V,ma)},d:fn,e:fn,f:bu,g:gn,G:hn,H:jn,I:jn,j:cu,L:du,m:eu,M:fu,p:function(T,V,ma){return(V=u.exec(V.slice(ma)))?(T.p=w.get(V[0].toLowerCase()),ma+V[0].length):-1},q:gu,Q:hu,s:iu,S:ju,u:ku,U:lu,V:mu,w:nu,W:ou,x:function(T,V,ma){return f(T,h,V,ma)},X:function(T,
V,ma){return f(T,n,V,ma)},y:gn,Y:hn,Z:pu,"%":qu};R.x=b(h,R);R.X=b(n,R);R.c=b(g,R);Y.x=b(h,Y);Y.X=b(n,Y);Y.c=b(g,Y);return{format:function(T){var V=b(T+="",R);V.toString=function(){return T};return V},parse:function(T){var V=e(T+="",!1);V.toString=function(){return T};return V},utcFormat:function(T){var V=b(T+="",Y);V.toString=function(){return T};return V},utcParse:function(T){var V=e(T+="",!0);V.toString=function(){return T};return V}}}function hb(a,b,e){var f=0>a?"-":"";a=(f?-a:a)+"";var g=a.length;
return f+(g<e?Array(e-g+1).join(b)+a:a)}function ru(a){return a.replace(su,"\\$&")}function We(a){return new RegExp("^(?:"+a.map(ru).join("|")+")","i")}function Xe(a){return new Map(a.map(function(b,e){return[b.toLowerCase(),e]}))}function nu(a,b,e){return(b=Gb.exec(b.slice(e,e+1)))?(a.w=+b[0],e+b[0].length):-1}function ku(a,b,e){return(b=Gb.exec(b.slice(e,e+1)))?(a.u=+b[0],e+b[0].length):-1}function lu(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.U=+b[0],e+b[0].length):-1}function mu(a,b,e){return(b=
Gb.exec(b.slice(e,e+2)))?(a.V=+b[0],e+b[0].length):-1}function ou(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.W=+b[0],e+b[0].length):-1}function hn(a,b,e){return(b=Gb.exec(b.slice(e,e+4)))?(a.y=+b[0],e+b[0].length):-1}function gn(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),e+b[0].length):-1}function pu(a,b,e){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(e,e+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),e+b[0].length):-1}function gu(a,b,e){return(b=Gb.exec(b.slice(e,e+1)))?
(a.q=3*b[0]-3,e+b[0].length):-1}function eu(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.m=b[0]-1,e+b[0].length):-1}function fn(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.d=+b[0],e+b[0].length):-1}function cu(a,b,e){return(b=Gb.exec(b.slice(e,e+3)))?(a.m=0,a.d=+b[0],e+b[0].length):-1}function jn(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.H=+b[0],e+b[0].length):-1}function fu(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.M=+b[0],e+b[0].length):-1}function ju(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?
(a.S=+b[0],e+b[0].length):-1}function du(a,b,e){return(b=Gb.exec(b.slice(e,e+3)))?(a.L=+b[0],e+b[0].length):-1}function bu(a,b,e){return(b=Gb.exec(b.slice(e,e+6)))?(a.L=Math.floor(b[0]/1E3),e+b[0].length):-1}function qu(a,b,e){return(a=tu.exec(b.slice(e,e+1)))?e+a[0].length:-1}function hu(a,b,e){return(b=Gb.exec(b.slice(e)))?(a.Q=+b[0],e+b[0].length):-1}function iu(a,b,e){return(b=Gb.exec(b.slice(e)))?(a.s=+b[0],e+b[0].length):-1}function Zm(a,b){return hb(a.getDate(),b,2)}function xt(a,b){return hb(a.getHours(),
b,2)}function yt(a,b){return hb(a.getHours()%12||12,b,2)}function zt(a,b){return hb(1+ce.count(zc(a),a),b,3)}function $m(a,b){return hb(a.getMilliseconds(),b,3)}function ut(a,b){return $m(a,b)+"000"}function At(a,b){return hb(a.getMonth()+1,b,2)}function Bt(a,b){return hb(a.getMinutes(),b,2)}function Ct(a,b){return hb(a.getSeconds(),b,2)}function Dt(a){a=a.getDay();return 0===a?7:a}function Et(a,b){return hb(de.count(zc(a)-1,a),b,2)}function kn(a){var b=a.getDay();return 4<=b||0===b?ud(a):ud.ceil(a)}
function Ft(a,b){a=kn(a);return hb(ud.count(zc(a),a)+(4===zc(a).getDay()),b,2)}function Gt(a){return a.getDay()}function Ht(a,b){return hb(Ve.count(zc(a)-1,a),b,2)}function It(a,b){return hb(a.getFullYear()%100,b,2)}function vt(a,b){a=kn(a);return hb(a.getFullYear()%100,b,2)}function Jt(a,b){return hb(a.getFullYear()%1E4,b,4)}function wt(a,b){var e=a.getDay();a=4<=e||0===e?ud(a):ud.ceil(a);return hb(a.getFullYear()%1E4,b,4)}function Kt(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+hb(a/60|
0,"0",2)+hb(a%60,"0",2)}function dn(a,b){return hb(a.getUTCDate(),b,2)}function Ot(a,b){return hb(a.getUTCHours(),b,2)}function Pt(a,b){return hb(a.getUTCHours()%12||12,b,2)}function Qt(a,b){return hb(1+be.count(Ac(a),a),b,3)}function en(a,b){return hb(a.getUTCMilliseconds(),b,3)}function Lt(a,b){return en(a,b)+"000"}function Rt(a,b){return hb(a.getUTCMonth()+1,b,2)}function St(a,b){return hb(a.getUTCMinutes(),b,2)}function Tt(a,b){return hb(a.getUTCSeconds(),b,2)}function Ut(a){a=a.getUTCDay();return 0===
a?7:a}function Vt(a,b){return hb(ee.count(Ac(a)-1,a),b,2)}function ln(a){var b=a.getUTCDay();return 4<=b||0===b?vd(a):vd.ceil(a)}function Wt(a,b){a=ln(a);return hb(vd.count(Ac(a),a)+(4===Ac(a).getUTCDay()),b,2)}function Xt(a){return a.getUTCDay()}function Yt(a,b){return hb(Ue.count(Ac(a)-1,a),b,2)}function Zt(a,b){return hb(a.getUTCFullYear()%100,b,2)}function Mt(a,b){a=ln(a);return hb(a.getUTCFullYear()%100,b,2)}function $t(a,b){return hb(a.getUTCFullYear()%1E4,b,4)}function Nt(a,b){var e=a.getUTCDay();
a=4<=e||0===e?vd(a):vd.ceil(a);return hb(a.getUTCFullYear()%1E4,b,4)}function au(){return"+0000"}function cn(){return"%"}function an(a){return+a}function bn(a){return Math.floor(+a/1E3)}function mn(a){fe=Xm(a);c.timeFormat=fe.format;c.timeParse=fe.parse;c.utcFormat=fe.utcFormat;c.utcParse=fe.utcParse;return fe}function uu(a){return a.toISOString()}function vu(a){a=new Date(a);return isNaN(a)?null:a}function wu(a){return new Date(a)}function xu(a){return a instanceof Date?+a:+new Date(+a)}function Wi(a,
b,e,f,g,h,n,l,p,y){function C(R){return(p(R)<R?z:l(R)<R?q:n(R)<R?r:h(R)<R?x:f(R)<R?g(R)<R?B:E:e(R)<R?L:P)(R)}var t=$d()(Cb,Cb),u=t.invert,w=t.domain,z=y(".%L"),q=y(":%S"),r=y("%I:%M"),x=y("%I %p"),B=y("%a %d"),E=y("%b %d"),L=y("%B"),P=y("%Y");t.invert=function(R){return new Date(u(R))};t.domain=function(R){return arguments.length?w(Array.from(R,xu)):w().map(wu)};t.ticks=function(R){var Y=w();return a(Y[0],Y[Y.length-1],null==R?10:R)};t.tickFormat=function(R,Y){return null==Y?C:y(Y)};t.nice=function(R){var Y=
w();R&&"function"===typeof R.range||(R=b(Y[0],Y[Y.length-1],null==R?10:R));return R?w(Hm(Y,R)):t};t.copy=function(){return Se(t,Wi(a,b,e,f,g,h,n,l,p,y))};return t}function rg(){function a(t){return null==t||isNaN(t=+t)?C:p(0===n?.5:(t=(l(t)-g)*n,y?Math.max(0,Math.min(1,t)):t))}function b(t){return function(u){if(arguments.length){var w=$jscomp.makeIterator(u);var z=w.next().value;w=w.next().value;z=(p=t(z,w),a)}else z=[p(0),p(1)];return z}}var e=0,f=1,g,h,n,l,p=Cb,y=!1,C;a.domain=function(t){if(arguments.length){var u=
$jscomp.makeIterator(t);e=u.next().value;f=u.next().value;u=(g=l(e=+e),h=l(f=+f),n=g===h?0:1/(h-g),a)}else u=[e,f];return u};a.clamp=function(t){return arguments.length?(y=!!t,a):y};a.interpolator=function(t){return arguments.length?(p=t,a):p};a.range=b(Sc);a.rangeRound=b(uf);a.unknown=function(t){return arguments.length?(C=t,a):C};return function(t){l=t;g=t(e);h=t(f);n=g===h?0:1/(h-g);return a}}function Yc(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}
function nn(){var a=Xc(rg()(Cb));a.copy=function(){return Yc(a,nn())};return Jc.apply(a,arguments)}function on(){var a=Mi(rg()).domain([1,10]);a.copy=function(){return Yc(a,on()).base(a.base())};return Jc.apply(a,arguments)}function pn(){var a=Ni(rg());a.copy=function(){return Yc(a,pn()).constant(a.constant())};return Jc.apply(a,arguments)}function Xi(){var a=Oi(rg());a.copy=function(){return Yc(a,Xi()).exponent(a.exponent())};return Jc.apply(a,arguments)}function qn(){function a(f){if(null!=f&&!isNaN(f=
+f))return e((Oc(b,f,1)-1)/(b.length-1))}var b=[],e=Cb;a.domain=function(f){if(!arguments.length)return b.slice();b=[];for(var g=$jscomp.makeIterator(f),h=g.next();!h.done;h=g.next())h=h.value,null==h||isNaN(h=+h)||b.push(h);b.sort(m);return a};a.interpolator=function(f){return arguments.length?(e=f,a):e};a.range=function(){return b.map(function(f,g){return e(g/(b.length-1))})};a.quantiles=function(f){return Array.from({length:f+1},function(g,h){return qc(b,h/f)})};a.copy=function(){return qn(e).domain(b)};
return Jc.apply(a,arguments)}function sg(){function a(q){return isNaN(q=+q)?z:(q=.5+((q=+u(q))-l)*(h*q<h*l?y:C),t(w?Math.max(0,Math.min(1,q)):q))}function b(q){return function(r){if(arguments.length){var x=$jscomp.makeIterator(r);var B=x.next().value;var E=x.next().value;x=x.next().value;B=(t=ok(q,[B,E,x]),a)}else B=[t(0),t(.5),t(1)];return B}}var e=0,f=.5,g=1,h=1,n,l,p,y,C,t=Cb,u,w=!1,z;a.domain=function(q){if(arguments.length){var r=$jscomp.makeIterator(q);e=r.next().value;f=r.next().value;g=r.next().value;
r=(n=u(e=+e),l=u(f=+f),p=u(g=+g),y=n===l?0:.5/(l-n),C=l===p?0:.5/(p-l),h=l<n?-1:1,a)}else r=[e,f,g];return r};a.clamp=function(q){return arguments.length?(w=!!q,a):w};a.interpolator=function(q){return arguments.length?(t=q,a):t};a.range=b(Sc);a.rangeRound=b(uf);a.unknown=function(q){return arguments.length?(z=q,a):z};return function(q){u=q;n=q(e);l=q(f);p=q(g);y=n===l?0:.5/(l-n);C=l===p?0:.5/(p-l);h=l<n?-1:1;return a}}function rn(){var a=Xc(sg()(Cb));a.copy=function(){return Yc(a,rn())};return Jc.apply(a,
arguments)}function sn(){var a=Mi(sg()).domain([.1,1,10]);a.copy=function(){return Yc(a,sn()).base(a.base())};return Jc.apply(a,arguments)}function tn(){var a=Ni(sg());a.copy=function(){return Yc(a,tn()).constant(a.constant())};return Jc.apply(a,arguments)}function Yi(){var a=Oi(sg());a.copy=function(){return Yc(a,Yi()).exponent(a.exponent())};return Jc.apply(a,arguments)}function cb(a){for(var b=a.length/6|0,e=Array(b),f=0;f<b;)e[f]="#"+a.slice(6*f,6*++f);return e}function tg(a){var b=a.length;return function(e){return a[Math.max(0,
Math.min(b-1,Math.floor(e*b)))]}}function $a(a){return function(){return a}}function un(a){return 1<=a?ug:-1>=a?-ug:Math.asin(a)}function yu(a){return a.innerRadius}function zu(a){return a.outerRadius}function Au(a){return a.startAngle}function Bu(a){return a.endAngle}function Cu(a){return a&&a.padAngle}function vg(a,b,e,f,g,h,n){var l=a-e,p=b-f;n=(n?h:-h)/ge(l*l+p*p);p*=n;l*=-n;var y=a+p,C=b+l,t=e+p,u=f+l;e=(y+t)/2;f=(C+u)/2;b=t-y;a=u-C;n=b*b+a*a;h=g-h;u=y*u-t*C;var w=(0>a?-1:1)*ge(Du(0,h*h*n-u*
u));y=(u*a-b*w)/n;C=(-u*b-a*w)/n;t=(u*a+b*w)/n;b=(-u*b+a*w)/n;a=y-e;n=C-f;e=t-e;f=b-f;a*a+n*n>e*e+f*f&&(y=t,C=b);return{cx:y,cy:C,x01:-p,y01:-l,x11:y*(g/h-1),y11:C*(g/h-1)}}function wg(a){return"object"===typeof a&&"length"in a?a:Array.from(a)}function vn(a){this._context=a}function xg(a){return new vn(a)}function Zi(a){return a[0]}function $i(a){return a[1]}function aj(a,b){function e(l){var p,y=(l=wg(l)).length,C,t=!1,u;null==g&&(n=h(u=Uc()));for(p=0;p<=y;++p)!(p<y&&f(C=l[p],p,l))===t&&((t=!t)?
n.lineStart():n.lineEnd()),t&&n.point(+a(C,p,l),+b(C,p,l));if(u)return n=null,u+""||null}var f=$a(!0),g=null,h=xg,n=null;a="function"===typeof a?a:void 0===a?Zi:$a(a);b="function"===typeof b?b:void 0===b?$i:$a(b);e.x=function(l){return arguments.length?(a="function"===typeof l?l:$a(+l),e):a};e.y=function(l){return arguments.length?(b="function"===typeof l?l:$a(+l),e):b};e.defined=function(l){return arguments.length?(f="function"===typeof l?l:$a(!!l),e):f};e.curve=function(l){return arguments.length?
(h=l,null!=g&&(n=h(g)),e):h};e.context=function(l){return arguments.length?(null==l?g=n=null:n=h(g=l),e):g};return e}function wn(a,b,e){function f(C){var t,u,w=(C=wg(C)).length,z,q=!1,r,x=Array(w),B=Array(w);null==l&&(y=p(r=Uc()));for(t=0;t<=w;++t){if(!(t<w&&n(z=C[t],t,C))===q)if(q=!q){var E=t;y.areaStart();y.lineStart()}else{y.lineEnd();y.lineStart();for(u=t-1;u>=E;--u)y.point(x[u],B[u]);y.lineEnd();y.areaEnd()}q&&(x[t]=+a(z,t,C),B[t]=+b(z,t,C),y.point(h?+h(z,t,C):x[t],e?+e(z,t,C):B[t]))}if(r)return y=
null,r+""||null}function g(){return aj().defined(n).curve(p).context(l)}var h=null,n=$a(!0),l=null,p=xg,y=null;a="function"===typeof a?a:void 0===a?Zi:$a(+a);b="function"===typeof b?b:void 0===b?$a(0):$a(+b);e="function"===typeof e?e:void 0===e?$i:$a(+e);f.x=function(C){return arguments.length?(a="function"===typeof C?C:$a(+C),h=null,f):a};f.x0=function(C){return arguments.length?(a="function"===typeof C?C:$a(+C),f):a};f.x1=function(C){return arguments.length?(h=null==C?null:"function"===typeof C?
C:$a(+C),f):h};f.y=function(C){return arguments.length?(b="function"===typeof C?C:$a(+C),e=null,f):b};f.y0=function(C){return arguments.length?(b="function"===typeof C?C:$a(+C),f):b};f.y1=function(C){return arguments.length?(e=null==C?null:"function"===typeof C?C:$a(+C),f):e};f.lineX0=f.lineY0=function(){return g().x(a).y(b)};f.lineY1=function(){return g().x(a).y(e)};f.lineX1=function(){return g().x(h).y(b)};f.defined=function(C){return arguments.length?(n="function"===typeof C?C:$a(!!C),f):n};f.curve=
function(C){return arguments.length?(p=C,null!=l&&(y=p(l)),f):p};f.context=function(C){return arguments.length?(null==C?l=y=null:y=p(l=C),f):l};return f}function Eu(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function Fu(a){return a}function xn(a){this._curve=a}function bj(a){function b(e){return new xn(a(e))}b._curve=a;return b}function Ye(a){var b=a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=function(e){return arguments.length?b(bj(e)):b()._curve};return a}function yn(){return Ye(aj().curve(zn))}
function An(){var a=wn().curve(zn),b=a.curve,e=a.lineX0,f=a.lineX1,g=a.lineY0,h=a.lineY1;a.angle=a.x;delete a.x;a.startAngle=a.x0;delete a.x0;a.endAngle=a.x1;delete a.x1;a.radius=a.y;delete a.y;a.innerRadius=a.y0;delete a.y0;a.outerRadius=a.y1;delete a.y1;a.lineStartAngle=function(){return Ye(e())};delete a.lineX0;a.lineEndAngle=function(){return Ye(f())};delete a.lineX1;a.lineInnerRadius=function(){return Ye(g())};delete a.lineY0;a.lineOuterRadius=function(){return Ye(h())};delete a.lineY1;a.curve=
function(n){return arguments.length?b(bj(n)):b()._curve};return a}function Ze(a,b){return[(b=+b)*Math.cos(a-=Math.PI/2),b*Math.sin(a)]}function Gu(a){return a.source}function Hu(a){return a.target}function cj(a){function b(){var l,p=Iu.call(arguments),y=e.apply(this,p),C=f.apply(this,p);n||(n=l=Uc());a(n,+g.apply(this,(p[0]=y,p)),+h.apply(this,p),+g.apply(this,(p[0]=C,p)),+h.apply(this,p));if(l)return n=null,l+""||null}var e=Gu,f=Hu,g=Zi,h=$i,n=null;b.source=function(l){return arguments.length?(e=
l,b):e};b.target=function(l){return arguments.length?(f=l,b):f};b.x=function(l){return arguments.length?(g="function"===typeof l?l:$a(+l),b):g};b.y=function(l){return arguments.length?(h="function"===typeof l?l:$a(+l),b):h};b.context=function(l){return arguments.length?(n=null==l?null:l,b):n};return b}function Ju(a,b,e,f,g){a.moveTo(b,e);a.bezierCurveTo(b=(b+f)/2,e,b,g,f,g)}function Ku(a,b,e,f,g){a.moveTo(b,e);a.bezierCurveTo(b,e=(e+g)/2,f,e,f,g)}function Lu(a,b,e,f,g){var h=Ze(b,e);b=Ze(b,e=(e+g)/
2);e=Ze(f,e);f=Ze(f,g);a.moveTo(h[0],h[1]);a.bezierCurveTo(b[0],b[1],e[0],e[1],f[0],f[1])}function Zc(){}function yg(a,b,e){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+e)/6)}function zg(a){this._context=a}function Bn(a){this._context=a}function Cn(a){this._context=a}function Dn(a,b){this._basis=new zg(a);this._beta=b}function Ag(a,b,e){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),
a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-e),a._x2,a._y2)}function dj(a,b){this._context=a;this._k=(1-b)/6}function ej(a,b){this._context=a;this._k=(1-b)/6}function fj(a,b){this._context=a;this._k=(1-b)/6}function gj(a,b,e){var f=a._x1,g=a._y1,h=a._x2,n=a._y2;if(1E-12<a._l01_a){var l=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,p=3*a._l01_a*(a._l01_a+a._l12_a);f=(f*l-a._x0*a._l12_2a+a._x2*a._l01_2a)/p;g=(g*l-a._y0*a._l12_2a+a._y2*a._l01_2a)/p}1E-12<a._l23_a&&(l=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,
p=3*a._l23_a*(a._l23_a+a._l12_a),h=(h*l+a._x1*a._l23_2a-b*a._l12_2a)/p,n=(n*l+a._y1*a._l23_2a-e*a._l12_2a)/p);a._context.bezierCurveTo(f,g,h,n,a._x2,a._y2)}function En(a,b){this._context=a;this._alpha=b}function Fn(a,b){this._context=a;this._alpha=b}function Gn(a,b){this._context=a;this._alpha=b}function Hn(a){this._context=a}function In(a,b,e){var f=a._x1-a._x0;b-=a._x1;var g=(a._y1-a._y0)/(f||0>b&&-0);a=(e-a._y1)/(b||0>f&&-0);return((0>g?-1:1)+(0>a?-1:1))*Math.min(Math.abs(g),Math.abs(a),.5*Math.abs((g*
b+a*f)/(f+b)))||0}function Jn(a,b){var e=a._x1-a._x0;return e?(3*(a._y1-a._y0)/e-b)/2:b}function hj(a,b,e){var f=a._x0,g=a._x1,h=a._y1,n=(g-f)/3;a._context.bezierCurveTo(f+n,a._y0+n*b,g-n,h-n*e,g,h)}function Bg(a){this._context=a}function Kn(a){this._context=new Ln(a)}function Ln(a){this._context=a}function Mn(a){this._context=a}function Nn(a){var b,e=a.length-1,f=Array(e),g=Array(e),h=Array(e);f[0]=0;g[0]=2;h[0]=a[0]+2*a[1];for(b=1;b<e-1;++b)f[b]=1,g[b]=4,h[b]=4*a[b]+2*a[b+1];f[e-1]=2;g[e-1]=7;h[e-
1]=8*a[e-1]+a[e];for(b=1;b<e;++b){var n=f[b]/g[b-1];g[b]-=n;h[b]-=n*h[b-1]}f[e-1]=h[e-1]/g[e-1];for(b=e-2;0<=b;--b)f[b]=(h[b]-f[b+1])/g[b];g[e-1]=(a[e]+f[e-1])/2;for(b=0;b<e-1;++b)g[b]=2*a[b+1]-f[b+1];return[f,g]}function Cg(a,b){this._context=a;this._t=b}function he(a,b){if(1<(n=a.length))for(var e=1,f,g,h=a[b[0]],n,l=h.length;e<n;++e)for(g=h,h=a[b[e]],f=0;f<l;++f)h[f][1]+=h[f][0]=isNaN(g[f][1])?g[f][0]:g[f][1]}function ie(a){a=a.length;for(var b=Array(a);0<=--a;)b[a]=a;return b}function Mu(a,b){return a[b]}
function Nu(a){var b=[];b.key=a;return b}function On(a){var b=a.map(Ou);return ie(a).sort(function(e,f){return b[e]-b[f]})}function Ou(a){for(var b=-1,e=0,f=a.length,g,h=-Infinity;++b<f;)(g=+a[b][1])>h&&(h=g,e=b);return e}function Pn(a){var b=a.map(Qn);return ie(a).sort(function(e,f){return b[e]-b[f]})}function Qn(a){for(var b=0,e=-1,f=a.length,g;++e<f;)if(g=+a[e][1])b+=g;return b}function Pu(a,b){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b.sourceEvent,
enumerable:!0,configurable:!0},target:{value:b.target,enumerable:!0,configurable:!0},transform:{value:b.transform,enumerable:!0,configurable:!0},_:{value:b.dispatch}})}function Lc(a,b,e){this.k=a;this.x=b;this.y=e}function Rn(a){for(;!a.__zoom;)if(!(a=a.parentNode))return Dg;return a.__zoom}function $e(a){a.preventDefault();a.stopImmediatePropagation()}function Qu(a){return(!a.ctrlKey||"wheel"===a.type)&&!a.button}function Ru(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?
(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function Sn(){return this.__zoom||Dg}function Su(a){return-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function Tu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Uu(a,b,e){var f=a.invertX(b[0][0])-e[0][0],g=a.invertX(b[1][0])-e[1][0],h=a.invertY(b[0][1])-e[0][1];b=a.invertY(b[1][1])-e[1][1];return a.translate(g>
f?(f+g)/2:Math.min(0,f)||Math.max(0,g),b>h?(h+b)/2:Math.min(0,h)||Math.max(0,b))}var Tn=v(m),Oc=Tn.right,Vu=Tn.left,Wu=v(D).center,xb=function(){this._partials=new Float64Array(32);this._n=0};xb.prototype.add=function(a){for(var b=this._partials,e=0,f=0;f<this._n&&32>f;f++){var g=b[f],h=a+g;(a=Math.abs(a)<Math.abs(g)?a-(h-g):g-(h-a))&&(b[e++]=a);a=h}b[e]=a;this._n=e+1;return this};xb.prototype.valueOf=function(){var a=this._partials,b=this._n,e=0;if(0<b){for(e=a[--b];0<b;){var f=e;var g=a[--b];e=
f+g;if(f=g-(e-f))break}0<b&&(0>f&&0>a[b-1]||0<f&&0<a[b-1])&&(g=2*f,f=e+g,g==f-e&&(e=f))}return e};var bd=function(a,b){b=void 0===b?Da:b;var e=$jscomp.construct(Map,[],this.constructor);Object.defineProperties(e,{_intern:{value:new Map},_key:{value:b}});if(null!=a)for(a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next()){var f=$jscomp.makeIterator(b.value);b=f.next().value;f=f.next().value;e.set(b,f)}return e};$jscomp.inherits(bd,Map);bd.prototype.get=function(a){return Map.prototype.get.call(this,
qa(this,a))};bd.prototype.has=function(a){return Map.prototype.has.call(this,qa(this,a))};bd.prototype.set=function(a,b){return Map.prototype.set.call(this,ua(this,a),b)};bd.prototype.delete=function(a){return Map.prototype.delete.call(this,xa(this,a))};var af=function(a,b){b=void 0===b?Da:b;var e=$jscomp.construct(Set,[],this.constructor);Object.defineProperties(e,{_intern:{value:new Map},_key:{value:b}});if(null!=a)for(a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next())e.add(b.value);return e};
$jscomp.inherits(af,Set);af.prototype.has=function(a){return Set.prototype.has.call(this,qa(this,a))};af.prototype.add=function(a){return Set.prototype.add.call(this,ua(this,a))};af.prototype.delete=function(a){return Set.prototype.delete.call(this,xa(this,a))};var sp=Array.prototype.slice,Vg=Math.sqrt(50),Wg=Math.sqrt(10),Xg=Math.sqrt(2),Xu=oe(Math.random),ah=Array.prototype.slice,wp={value:function(){}};hf.prototype=hd.prototype={constructor:hf,on:function(a,b){var e=this._,f=vp(a+"",e),g,h=-1,
n=f.length;if(2>arguments.length)for(;++h<n;){var l;if(l=g=(a=f[h]).type){a:{l=e[g];for(var p=0,y=l.length;p<y;++p)if((g=l[p]).name===a.name){g=g.value;break a}g=void 0}l=g}if(l)return g}else{if(null!=b&&"function"!==typeof b)throw Error("invalid callback: "+b);for(;++h<n;)if(g=(a=f[h]).type)e[g]=yj(e[g],a.name,b);else if(null==b)for(g in e)e[g]=yj(e[g],a.name,null);return this}},copy:function(){var a={},b=this._,e;for(e in b)a[e]=b[e].slice();return new hf(a)},call:function(a,b){if(0<(g=arguments.length-
2))for(var e=Array(g),f=0,g,h;f<g;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);h=this._[a];f=0;for(g=h.length;f<g;++f)h[f].value.apply(b,e)},apply:function(a,b,e){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);a=this._[a];for(var f=0,g=a.length;f<g;++f)a[f].value.apply(b,e)}};var bh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},
Dp=Array.prototype.find,Hp=Array.prototype.filter;lf.prototype={constructor:lf,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};Bj.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){a=
this._names.indexOf(a);0<=a&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return 0<=this._names.indexOf(a)}};var hh=[null],fb={};Jb.prototype=jd.prototype=(fb.constructor=Jb,fb.select=function(a){"function"!==typeof a&&(a=kf(a));for(var b=this._groups,e=b.length,f=Array(e),g=0;g<e;++g)for(var h=b[g],n=h.length,l=f[g]=Array(n),p,y,C=0;C<n;++C)(p=h[C])&&(y=a.call(p,p.__data__,C,h))&&("__data__"in p&&(y.__data__=p.__data__),l[C]=y);return new Jb(f,
this._parents)},fb.selectAll=function(a){a="function"===typeof a?Bp(a):dh(a);for(var b=this._groups,e=b.length,f=[],g=[],h=0;h<e;++h)for(var n=b[h],l=n.length,p,y=0;y<l;++y)if(p=n[y])f.push(a.call(p,p.__data__,y,n)),g.push(p);return new Jb(f,g)},fb.selectChild=function(a){return this.select(null==a?Ep:Cp("function"===typeof a?a:zj(a)))},fb.selectChildren=function(a){return this.selectAll(null==a?Fp:Gp("function"===typeof a?a:zj(a)))},fb.filter=function(a){"function"!==typeof a&&(a=eh(a));for(var b=
this._groups,e=b.length,f=Array(e),g=0;g<e;++g)for(var h=b[g],n=h.length,l=f[g]=[],p,y=0;y<n;++y)(p=h[y])&&a.call(p,p.__data__,y,h)&&l.push(p);return new Jb(f,this._parents)},fb.data=function(a,b){if(!arguments.length)return Array.from(this,Lp);var e=b?Kp:Jp,f=this._parents,g=this._groups;"function"!==typeof a&&(a=Ip(a));for(var h=g.length,n=Array(h),l=Array(h),p=Array(h),y=0;y<h;++y){var C=f[y],t=g[y],u=t.length,w=ch(a.call(C,C&&C.__data__,y,f)),z=w.length,q=l[y]=Array(z),r=n[y]=Array(z);u=p[y]=
Array(u);e(C,t,q,r,u,w,b);for(t=C=0;C<z;++C)if(w=q[C]){for(C>=t&&(t=C+1);!(u=r[t])&&++t<z;);w._next=u||null}}n=new Jb(n,f);n._enter=l;n._exit=p;return n},fb.enter=function(){return new Jb(this._enter||this._groups.map(Aj),this._parents)},fb.exit=function(){return new Jb(this._exit||this._groups.map(Aj),this._parents)},fb.join=function(a,b,e){var f=this.enter(),g=this,h=this.exit();f="function"===typeof a?a(f):f.append(a+"");null!=b&&(g=b(g));null==e?h.remove():e(h);return f&&g?f.merge(g).order():
g},fb.merge=function(a){if(!(a instanceof Jb))throw Error("invalid merge");var b=this._groups;a=a._groups;for(var e=b.length,f=Math.min(e,a.length),g=Array(e),h=0;h<f;++h)for(var n=b[h],l=a[h],p=n.length,y=g[h]=Array(p),C,t=0;t<p;++t)if(C=n[t]||l[t])y[t]=C;for(;h<e;++h)g[h]=b[h];return new Jb(g,this._parents)},fb.selection=function(){return this},fb.order=function(){for(var a=this._groups,b=-1,e=a.length;++b<e;)for(var f=a[b],g=f.length-1,h=f[g],n;0<=--g;)if(n=f[g])h&&n.compareDocumentPosition(h)^
4&&h.parentNode.insertBefore(n,h),h=n;return this},fb.sort=function(a){function b(t,u){return t&&u?a(t.__data__,u.__data__):!t-!u}a||(a=Mp);for(var e=this._groups,f=e.length,g=Array(f),h=0;h<f;++h){for(var n=e[h],l=n.length,p=g[h]=Array(l),y,C=0;C<l;++C)if(y=n[C])p[C]=y;p.sort(b)}return(new Jb(g,this._parents)).order()},fb.call=function(){var a=arguments[0];arguments[0]=this;a.apply(null,arguments);return this},fb.nodes=function(){return Array.from(this)},fb.node=function(){for(var a=this._groups,
b=0,e=a.length;b<e;++b)for(var f=a[b],g=0,h=f.length;g<h;++g){var n=f[g];if(n)return n}return null},fb.size=function(){for(var a=0,b=$jscomp.makeIterator(this),e=b.next();!e.done;e=b.next())++a;return a},fb.empty=function(){return!this.node()},fb.each=function(a){for(var b=this._groups,e=0,f=b.length;e<f;++e)for(var g=b[e],h=0,n=g.length,l;h<n;++h)(l=g[h])&&a.call(l,l.__data__,h,g);return this},fb.attr=function(a,b){var e=pe(a);if(2>arguments.length){var f=this.node();return e.local?f.getAttributeNS(e.space,
e.local):f.getAttribute(e)}return this.each((null==b?e.local?Op:Np:"function"===typeof b?e.local?Sp:Rp:e.local?Qp:Pp)(e,b))},fb.style=function(a,b,e){return 1<arguments.length?this.each((null==b?Tp:"function"===typeof b?Vp:Up)(a,b,null==e?"":e)):id(this.node(),a)},fb.property=function(a,b){return 1<arguments.length?this.each((null==b?Wp:"function"===typeof b?Yp:Xp)(a,b)):this.node()[a]},fb.classed=function(a,b){var e=(a+"").trim().split(/^|\s+/);if(2>arguments.length){for(var f=gh(this.node()),g=
-1,h=e.length;++g<h;)if(!f.contains(e[g]))return!1;return!0}return this.each(("function"===typeof b?aq:b?Zp:$p)(e,b))},fb.text=function(a){return arguments.length?this.each(null==a?bq:("function"===typeof a?dq:cq)(a)):this.node().textContent},fb.html=function(a){return arguments.length?this.each(null==a?eq:("function"===typeof a?gq:fq)(a)):this.node().innerHTML},fb.raise=function(){return this.each(hq)},fb.lower=function(){return this.each(iq)},fb.append=function(a){var b="function"===typeof a?a:
jf(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},fb.insert=function(a,b){var e="function"===typeof a?a:jf(a),f=null==b?jq:"function"===typeof b?b:kf(b);return this.select(function(){return this.insertBefore(e.apply(this,arguments),f.apply(this,arguments)||null)})},fb.remove=function(){return this.each(kq)},fb.clone=function(a){return this.select(a?mq:lq)},fb.datum=function(a){return arguments.length?this.property("__data__",a):this.node().__data__},fb.on=function(a,
b,e){var f=oq(a+""),g=f.length,h;if(2>arguments.length){var n=this.node().__on;if(n)for(var l=0,p=n.length,y;l<p;++l){var C=0;for(y=n[l];C<g;++C)if((h=f[C]).type===y.type&&h.name===y.name)return y.value}}else{n=b?qq:pq;for(C=0;C<g;++C)this.each(n(f[C],b,e));return this}},fb.dispatch=function(a,b){return this.each(("function"===typeof b?sq:rq)(a,b))},fb[Symbol.iterator]=Fj,fb);var tq=0;ih.prototype=Gj.prototype={constructor:ih,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;
return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var Eg=function(a){return function(){return a}};jh.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var je=1/.7,yq=/^#([0-9a-f]{3,8})$/,zq=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,Aq=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Bq=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Cq=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Dq=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Eq=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
Mj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gd(Qc,Rc,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:Ij,formatHex:Ij,formatHsl:function(){return Pj(this).formatHsl()},formatRgb:Jj,toString:Jj});Gd(Hb,Hd,qe(Qc,{brighter:function(a){a=null==a?je:Math.pow(je,a);return new Hb(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=null==
a?.7:Math.pow(.7,a);return new Hb(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Nj,formatHex:Nj,formatRgb:Oj,toString:Oj}));Gd(rc,pf,qe(Qc,{brighter:function(a){a=null==a?je:Math.pow(je,a);return new rc(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new rc(this.h,this.s,this.l*a,this.opacity)},
rgb:function(){var a=this.h%360+360*(0>this.h),b=isNaN(a)||isNaN(this.s)?0:this.s,e=this.l;b=e+(.5>e?e:1-e)*b;e=2*e-b;return new Hb(mh(240<=a?a-240:a+120,e,b),mh(a,e,b),mh(120>a?a+240:a-120,e,b),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+
(1===a?")":", "+a+")")}}));var Wj=Math.PI/180,Vj=180/Math.PI,Tj=4/29,Id=6/29,Sj=3*Id*Id,Fq=Id*Id*Id;Gd(kc,qf,qe(Qc,{brighter:function(a){return new kc(this.l+18*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new kc(this.l-18*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,e=isNaN(this.b)?a:a-this.b/200;b=.96422*ph(b);a=1*ph(a);e=.82521*ph(e);return new Hb(qh(3.1338561*b-1.6168667*a-.4906146*e),qh(-.9787684*b+1.9161415*
a+.033454*e),qh(.0719453*b-.2289914*a+1.4052427*e),this.opacity)}}));Gd(sc,rf,qe(Qc,{brighter:function(a){return new sc(this.h,this.c,this.l+18*(null==a?1:a),this.opacity)},darker:function(a){return new sc(this.h,this.c,this.l-18*(null==a?1:a),this.opacity)},rgb:function(){return Rj(this).rgb()}}));var Xj=1.78277*-.29227-.1347134789;Gd(kd,lc,qe(Qc,{brighter:function(a){a=null==a?je:Math.pow(je,a);return new kd(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new kd(this.h,
this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*Wj,b=+this.l,e=isNaN(this.s)?0:this.s*b*(1-b),f=Math.cos(a);a=Math.sin(a);return new Hb(255*(b+e*(-.14861*f+1.78277*a)),255*(b+e*(-.29227*f+-.90649*a)),255*(b+1.97294*e*f),this.opacity)}}));var tf=function(a){return function(){return a}},re=function e(b){function f(h,n){var l=g((h=Hd(h)).r,(n=Hd(n)).r),p=g(h.g,n.g),y=g(h.b,n.b),C=Eb(h.opacity,n.opacity);return function(t){h.r=l(t);h.g=p(t);h.b=y(t);h.opacity=C(t);return h+
""}}var g=Hq(b);f.gamma=e;return f}(1),Un=ck(Zj),Yu=ck(ak),th=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uh=new RegExp(th.source,"g"),ik=180/Math.PI,ij={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Fg,Vn=jk(function(b){b=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(b+"");return b.isIdentity?ij:hk(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),Wn=jk(function(b){if(null==b)return ij;Fg||(Fg=document.createElementNS("http://www.w3.org/2000/svg","g"));Fg.setAttribute("transform",
b);if(!(b=Fg.transform.baseVal.consolidate()))return ij;b=b.matrix;return hk(b.a,b.b,b.c,b.d,b.e,b.f)},", ",")",")"),Xn=function h(e,f,g){function n(l,p){var y=l[0],C=l[1],t=l[2];l=p[2];var u=p[0]-y,w=p[1]-C,z=u*u+w*w;if(1E-12>z){var q=Math.log(l/t)/e;l=function(B){return[y+B*u,C+B*w,t*Math.exp(e*B*q)]}}else{var r=Math.sqrt(z);p=(l*l-t*t+g*z)/(2*t*f*r);l=(l*l-t*t-g*z)/(2*l*f*r);var x=Math.log(Math.sqrt(p*p+1)-p);q=(Math.log(Math.sqrt(l*l+1)-l)-x)/e;l=function(B){B*=q;var E=kk(x),L=e*B+x;var P=((L=
Math.exp(2*L))-1)/(L+1);var R=x;L=((R=Math.exp(R))-1/R)/2;P=t/(f*r)*(E*P-L);return[y+P*u,C+P*w,t*E/kk(e*B+x)]}}l.duration=1E3*q*e/Math.SQRT2;return l}n.rho=function(l){l=Math.max(.001,+l);var p=l*l;return h(l,p,p*p)};return n}(Math.SQRT2,2,4),Zu=lk(sf),$u=lk(Eb),av=mk(sf),bv=mk(Eb),cv=nk(sf),Gg=nk(Eb),Jd=0,ve=0,xe=0,xf,we,yf=0,ld=0,vf=0,te="object"===typeof performance&&performance.now?performance:Date,pk="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):
function(e){setTimeout(e,17)};ue.prototype=wf.prototype={constructor:ue,restart:function(e,f,g){if("function"!==typeof e)throw new TypeError("callback is not a function");g=(null==g?se():+g)+(null==f?0:+f);this._next||we===this||(we?we._next=this:xf=this,we=this);this._call=e;this._time=g;vh()},stop:function(){this._call&&(this._call=null,this._time=Infinity,vh())}};var Nq=hd("start","end","cancel","interrupt"),Oq=[],dv=jd.prototype.constructor,Yn=0,wd=jd.prototype,kb={};uc.prototype=uk.prototype=
(kb.constructor=uc,kb.select=function(e){var f=this._name,g=this._id;"function"!==typeof e&&(e=kf(e));for(var h=this._groups,n=h.length,l=Array(n),p=0;p<n;++p)for(var y=h[p],C=y.length,t=l[p]=Array(C),u,w,z=0;z<C;++z)(u=y[z])&&(w=e.call(u,u.__data__,z,y))&&("__data__"in u&&(w.__data__=u.__data__),t[z]=w,zf(t[z],f,g,z,t,mc(u,g)));return new uc(l,this._parents,f,g)},kb.selectAll=function(e){var f=this._name,g=this._id;"function"!==typeof e&&(e=dh(e));for(var h=this._groups,n=h.length,l=[],p=[],y=0;y<
n;++y)for(var C=h[y],t=C.length,u,w=0;w<t;++w)if(u=C[w]){for(var z=e.call(u,u.__data__,w,C),q,r=mc(u,g),x=0,B=z.length;x<B;++x)(q=z[x])&&zf(q,f,g,x,z,r);l.push(z);p.push(u)}return new uc(l,p,f,g)},kb.filter=function(e){"function"!==typeof e&&(e=eh(e));for(var f=this._groups,g=f.length,h=Array(g),n=0;n<g;++n)for(var l=f[n],p=l.length,y=h[n]=[],C,t=0;t<p;++t)(C=l[t])&&e.call(C,C.__data__,t,l)&&y.push(C);return new uc(h,this._parents,this._name,this._id)},kb.merge=function(e){if(e._id!==this._id)throw Error();
var f=this._groups;e=e._groups;for(var g=f.length,h=Math.min(g,e.length),n=Array(g),l=0;l<h;++l)for(var p=f[l],y=e[l],C=p.length,t=n[l]=Array(C),u,w=0;w<C;++w)if(u=p[w]||y[w])t[w]=u;for(;l<g;++l)n[l]=f[l];return new uc(n,this._parents,this._name,this._id)},kb.selection=function(){return new dv(this._groups,this._parents)},kb.transition=function(){for(var e=this._name,f=this._id,g=++Yn,h=this._groups,n=h.length,l=0;l<n;++l)for(var p=h[l],y=p.length,C,t=0;t<y;++t)if(C=p[t]){var u=mc(C,f);zf(C,e,g,t,
p,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new uc(h,this._parents,e,g)},kb.call=wd.call,kb.nodes=wd.nodes,kb.node=wd.node,kb.size=wd.size,kb.empty=wd.empty,kb.each=wd.each,kb.on=function(e,f){var g=this._id;return 2>arguments.length?mc(this.node(),g).on.on(e):this.each(hr(g,e,f))},kb.attr=function(e,f){var g=pe(e),h="transform"===g?Wn:sk;return this.attrTween(e,"function"===typeof f?(g.local?Wq:Vq)(g,h,yh(this,"attr."+e,f)):null==f?(g.local?Sq:Rq)(g):(g.local?
Uq:Tq)(g,h,f))},kb.attrTween=function(e,f){var g="attr."+e;if(2>arguments.length)return(g=this.tween(g))&&g._value;if(null==f)return this.tween(g,null);if("function"!==typeof f)throw Error();var h=pe(e);return this.tween(g,(h.local?Zq:$q)(h,f))},kb.style=function(e,f,g){var h="transform"===(e+="")?Vn:sk;return null==f?this.styleTween(e,jr(e,h)).on("end.style."+e,tk(e)):"function"===typeof f?this.styleTween(e,lr(e,h,yh(this,"style."+e,f))).each(mr(this._id,e)):this.styleTween(e,kr(e,h,f),g).on("end.style."+
e,null)},kb.styleTween=function(e,f,g){var h="style."+(e+="");if(2>arguments.length)return(h=this.tween(h))&&h._value;if(null==f)return this.tween(h,null);if("function"!==typeof f)throw Error();return this.tween(h,or(e,f,null==g?"":g))},kb.text=function(e){return this.tween("text","function"===typeof e?qr(yh(this,"text",e)):pr(null==e?"":e+""))},kb.textTween=function(e){var f="text";if(1>arguments.length)return(f=this.tween(f))&&f._value;if(null==e)return this.tween(f,null);if("function"!==typeof e)throw Error();
return this.tween(f,sr(e))},kb.remove=function(){return this.on("end.remove",ir(this._id))},kb.tween=function(e,f){var g=this._id;e+="";if(2>arguments.length){g=mc(this.node(),g).tween;for(var h=0,n=g.length,l;h<n;++h)if((l=g[h]).name===e)return l.value;return null}return this.each((null==f?Pq:Qq)(g,e,f))},kb.delay=function(e){var f=this._id;return arguments.length?this.each(("function"===typeof e?ar:br)(f,e)):mc(this.node(),f).delay},kb.duration=function(e){var f=this._id;return arguments.length?
this.each(("function"===typeof e?cr:dr)(f,e)):mc(this.node(),f).duration},kb.ease=function(e){var f=this._id;return arguments.length?this.each(er(f,e)):mc(this.node(),f).ease},kb.easeVarying=function(e){if("function"!==typeof e)throw Error();return this.each(fr(this._id,e))},kb.end=function(){var e,f,g=this,h=g._id,n=g.size();return new Promise(function(l,p){var y={value:p},C={value:function(){0===--n&&l()}};g.each(function(){var t=tc(this,h),u=t.on;u!==e&&(f=(e=u).copy(),f._.cancel.push(y),f._.interrupt.push(y),
f._.end.push(C));t.on=f});0===n&&l()})},kb[Symbol.iterator]=wd[Symbol.iterator],kb);var ev=function g(f){function h(n){return Math.pow(n,f)}f=+f;h.exponent=g;return h}(3),fv=function h(g){function n(l){return 1-Math.pow(1-l,g)}g=+g;n.exponent=h;return n}(3),Zn=function n(h){function l(p){return(1>=(p*=2)?Math.pow(p,h):2-Math.pow(2-p,h))/2}h=+h;l.exponent=n;return l}(3),xk=Math.PI,$n=xk/2,Ah=4/11,ur=6/11,tr=8/11,wr=9/11,vr=10/11,xr=21/22,Af=1/Ah/Ah,gv=function l(n){function p(y){return(y=+y)*y*(n*
(y-1)+y)}n=+n;p.overshoot=l;return p}(1.70158),hv=function p(l){function y(C){return--C*C*((C+1)*l+C)+1}l=+l;y.overshoot=p;return y}(1.70158),ao=function y(p){function C(t){return(1>(t*=2)?t*t*((p+1)*t-p):(t-=2)*t*((p+1)*t+p)+2)/2}p=+p;C.overshoot=y;return C}(1.70158),ke=2*Math.PI,iv=function t(y,C){function u(z){return y*Tc(- --z)*Math.sin((w-z)/C)}var w=Math.asin(1/(y=Math.max(1,y)))*(C/=ke);u.amplitude=function(z){return t(z,C*ke)};u.period=function(z){return t(y,z)};return u}(1,.3),bo=function u(C,
t){function w(q){return 1-C*Tc(q=+q)*Math.sin((q+z)/t)}var z=Math.asin(1/(C=Math.max(1,C)))*(t/=ke);w.amplitude=function(q){return u(q,t*ke)};w.period=function(q){return u(C,q)};return w}(1,.3),jv=function w(t,u){function z(r){return(0>(r=2*r-1)?t*Tc(-r)*Math.sin((q-r)/u):2-t*Tc(r)*Math.sin((q+r)/u))/2}var q=Math.asin(1/(t=Math.max(1,t)))*(u/=ke);z.amplitude=function(r){return w(r,u*ke)};z.period=function(r){return w(t,r)};return z}(1,.3),kv={time:null,delay:0,duration:250,ease:zh};jd.prototype.interrupt=
function(t){return this.each(function(){md(this,t)})};jd.prototype.transition=function(t){var u;if(t instanceof uc){var w=t._id;t=t._name}else w=++Yn,(u=kv).time=se(),t=null==t?null:t+"";for(var z=this._groups,q=z.length,r=0;r<q;++r)for(var x=z[r],B=x.length,E,L=0;L<B;++L)if(E=x[L]){var P=E,R=t,Y=w,ia=L,T=x,V;if(!(V=u))for(V=void 0;!(V=E.__transition)||!(V=V[w]);)if(!(E=E.parentNode))throw Error("transition "+w+" not found");zf(P,R,Y,ia,T,V)}return new uc(z,this._parents,t,w)};var lv=[null],Fh=function(t){return function(){return t}},
Ck={name:"drag"},Eh={name:"space"},Kd={name:"handle"},Ld={name:"center"},jj=Math,Bk=jj.abs,Lb=jj.max,Mb=jj.min,Cf={name:"x",handles:["w","e"].map(ze),input:function(t,u){return null==t?null:[[+t[0],u[0][1]],[+t[1],u[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Bf={name:"y",handles:["n","s"].map(ze),input:function(t,u){return null==t?null:[[u[0][0],+t[0]],[u[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},mv={name:"xy",handles:"n w e s nw ne sw se".split(" ").map(ze),input:function(t){return null==
t?null:Bh(t)},output:function(t){return t}},Ec={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Dk={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ek={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Cr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Dr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Jk=Math.abs,Md=Math.cos,Nd=Math.sin,co=Math.PI,Df=
co/2,Gk=2*co,Fk=Math.max,kj=Math.PI,lj=2*kj,nv=lj-1E-6;Ih.prototype=Uc.prototype={constructor:Ih,moveTo:function(t,u){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,u){this._+="L"+(this._x1=+t)+","+(this._y1=+u)},quadraticCurveTo:function(t,u,w,z){this._+="Q"+ +t+","+ +u+","+(this._x1=+w)+","+(this._y1=+z)},bezierCurveTo:function(t,u,w,z,q,r){this._+="C"+ +t+","+ +u+","+ +w+","+
+z+","+(this._x1=+q)+","+(this._y1=+r)},arcTo:function(t,u,w,z,q){t=+t;u=+u;w=+w;z=+z;q=+q;var r=this._x1,x=this._y1,B=w-t,E=z-u,L=r-t,P=x-u,R=L*L+P*P;if(0>q)throw Error("negative radius: "+q);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=u);else if(1E-6<R)if(1E-6<Math.abs(P*B-E*L)&&q){w-=r;z-=x;var Y=B*B+E*E;x=Math.sqrt(Y);r=Math.sqrt(R);R=q*Math.tan((kj-Math.acos((Y+R-(w*w+z*z))/(2*x*r)))/2);r=R/r;R/=x;1E-6<Math.abs(r-1)&&(this._+="L"+(t+r*L)+","+(u+r*P));this._+="A"+q+","+q+",0,0,"+
+(P*w>L*z)+","+(this._x1=t+R*B)+","+(this._y1=u+R*E)}else this._+="L"+(this._x1=t)+","+(this._y1=u)},arc:function(t,u,w,z,q,r){t=+t;u=+u;w=+w;r=!!r;var x=w*Math.cos(z),B=w*Math.sin(z),E=t+x,L=u+B,P=1^r;z=r?z-q:q-z;if(0>w)throw Error("negative radius: "+w);if(null===this._x1)this._+="M"+E+","+L;else if(1E-6<Math.abs(this._x1-E)||1E-6<Math.abs(this._y1-L))this._+="L"+E+","+L;w&&(0>z&&(z=z%lj+lj),z>nv?this._+="A"+w+","+w+",0,1,"+P+","+(t-x)+","+(u-B)+"A"+w+","+w+",0,1,"+P+","+(this._x1=E)+","+(this._y1=
L):1E-6<z&&(this._+="A"+w+","+w+",0,"+ +(z>=kj)+","+P+","+(this._x1=t+w*Math.cos(q))+","+(this._y1=u+w*Math.sin(q))))},rect:function(t,u,w,z){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)+"h"+ +w+"v"+ +z+"h"+-w+"Z"},toString:function(){return this._}};var Lr=Array.prototype.slice,Lk=Array.prototype.slice,Vc=function(t){return function(){return t}},Fc=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],
[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],eo=Math.pow(2,-52),Hg=new Uint32Array(512),Mc=function(t){var u=t.length>>1;if(0<u&&"number"!==typeof t[0])throw Error("Expected coords to contain numbers.");this.coords=t;t=Math.max(2*u-5,0);this._triangles=new Uint32Array(3*t);this._halfedges=new Int32Array(3*t);this._hashSize=Math.ceil(Math.sqrt(u));this._hullPrev=new Uint32Array(u);
this._hullNext=new Uint32Array(u);this._hullTri=new Uint32Array(u);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(u);this._dists=new Float64Array(u);this.update()};Mc.from=function(t,u,w){u=void 0===u?Rr:u;w=void 0===w?Sr:w;for(var z=t.length,q=new Float64Array(2*z),r=0;r<z;r++){var x=t[r];q[2*r]=u(x);q[2*r+1]=w(x)}return new Mc(q)};Mc.prototype.update=function(){for(var t,u,w=this.coords,z=this._hullPrev,q=this._hullNext,r=this._hullTri,x=this._hullHash,B=w.length>>
1,E=Infinity,L=Infinity,P=-Infinity,R=-Infinity,Y=0;Y<B;Y++){var ia=w[2*Y];t=w[2*Y+1];ia<E&&(E=ia);t<L&&(L=t);ia>P&&(P=ia);t>R&&(R=t);this._ids[Y]=Y}P=(E+P)/2;L=(L+R)/2;E=Infinity;for(R=0;R<B;R++)if(Y=Lh(P,L,w[2*R],w[2*R+1]),Y<E){var T=R;E=Y}L=w[2*T];R=w[2*T+1];E=Infinity;for(P=0;P<B;P++)if(P!==T&&(Y=Lh(L,R,w[2*P],w[2*P+1]),Y<E&&0<Y)){var V=P;E=Y}E=w[2*V];P=w[2*V+1];t=Infinity;for(Y=0;Y<B;Y++)if(Y!==T&&Y!==V){ia=E-L;var ma=P-R;u=w[2*Y]-L;var ka=w[2*Y+1]-R,ra=ia*ia+ma*ma,Ja=u*u+ka*ka,pa=.5/(ia*ka-
ma*u);ma=(ka*ra-ma*Ja)*pa;ia=(ia*Ja-u*ra)*pa;ia=ma*ma+ia*ia;if(ia<t){var Ga=Y;t=ia}}Y=w[2*Ga];ia=w[2*Ga+1];if(Infinity===t){for(q=0;q<B;q++)this._dists[q]=w[2*q]-w[0]||w[2*q+1]-w[1];Od(this._ids,this._dists,0,B-1);q=new Uint32Array(B);z=w=0;for(r=-Infinity;z<B;z++)x=this._ids[z],this._dists[x]>r&&(q[w++]=x,r=this._dists[x]);this.hull=q.subarray(0,w);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Ef(L,R,E,P,Y,ia)&&(t=V,u=E,ra=P,V=Ga,E=Y,P=ia,Ga=t,Y=u,ia=ra);u=E-L;t=P-R;ra=
Y-L;ka=ia-R;Ja=u*u+t*t;pa=ra*ra+ka*ka;ma=.5/(u*ka-t*ra);t=L+(ka*Ja-t*pa)*ma;u=R+(u*pa-ra*Ja)*ma;this._cx=t;this._cy=u;for(ra=0;ra<B;ra++)this._dists[ra]=Lh(w[2*ra],w[2*ra+1],t,u);Od(this._ids,this._dists,0,B-1);this._hullStart=T;B=3;q[T]=z[Ga]=V;q[V]=z[T]=Ga;q[Ga]=z[V]=T;r[T]=0;r[V]=1;r[Ga]=2;x.fill(-1);x[this._hashKey(L,R)]=T;x[this._hashKey(E,P)]=V;x[this._hashKey(Y,ia)]=Ga;this.trianglesLen=0;this._addTriangle(T,V,Ga,-1,-1,-1);L=0;for(E=R=void 0;L<this._ids.length;L++)if(P=this._ids[L],Y=w[2*P],
ia=w[2*P+1],!(0<L&&Math.abs(Y-R)<=eo&&Math.abs(ia-E)<=eo)&&(R=Y,E=ia,P!==T&&P!==V&&P!==Ga)){u=t=0;for(ra=this._hashKey(Y,ia);u<this._hashSize&&(t=x[(ra+u)%this._hashSize],-1===t||t===q[t]);u++);u=t=z[t];for(ra=void 0;ra=q[u],!Ef(Y,ia,w[2*u],w[2*u+1],w[2*ra],w[2*ra+1]);)if(u=ra,u===t){u=-1;break}if(-1!==u){Ja=this._addTriangle(u,P,q[u],-1,-1,r[u]);r[P]=this._legalize(Ja+2);r[u]=Ja;B++;for(pa=q[u];ra=q[pa],Ef(Y,ia,w[2*pa],w[2*pa+1],w[2*ra],w[2*ra+1]);)Ja=this._addTriangle(pa,P,ra,r[P],-1,r[pa]),r[P]=
this._legalize(Ja+2),q[pa]=pa,B--,pa=ra;if(u===t)for(;ra=z[u],Ef(Y,ia,w[2*ra],w[2*ra+1],w[2*u],w[2*u+1]);)Ja=this._addTriangle(ra,P,u,-1,r[u],r[ra]),this._legalize(Ja+2),r[ra]=Ja,q[u]=u,B--,u=ra;this._hullStart=z[P]=u;q[u]=z[pa]=P;q[P]=pa;x[this._hashKey(Y,ia)]=P;x[this._hashKey(w[2*u],w[2*u+1])]=u}}this.hull=new Uint32Array(B);w=0;for(z=this._hullStart;w<B;w++)this.hull[w]=z,z=q[z];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}};
Mc.prototype._hashKey=function(t,u){var w=Math;t-=this._cx;u-=this._cy;t/=Math.abs(t)+Math.abs(u);return w.floor.call(w,(0<u?3-t:1+t)/4*this._hashSize)%this._hashSize};Mc.prototype._legalize=function(t){for(var u=this._triangles,w=this._halfedges,z=this.coords,q=0,r;;){var x=w[t],B=t-t%3;r=B+(t+2)%3;if(-1===x){if(0===q)break;t=Hg[--q]}else{var E=x-x%3,L=E+(x+2)%3,P=u[r],R=u[t],Y=u[B+(t+1)%3];B=u[L];var ia=z[2*B],T=z[2*B+1],V=z[2*P]-ia,ma=z[2*P+1]-T,ka=z[2*R]-ia;R=z[2*R+1]-T;ia=z[2*Y]-ia;Y=z[2*Y+1]-
T;T=ka*ka+R*R;var ra=ia*ia+Y*Y;if(0>V*(R*ra-T*Y)-ma*(ka*ra-T*ia)+(V*V+ma*ma)*(ka*Y-R*ia)){u[t]=B;u[x]=P;P=w[L];if(-1===P){B=this._hullStart;do{if(this._hullTri[B]===L){this._hullTri[B]=t;break}B=this._hullPrev[B]}while(B!==this._hullStart)}this._link(t,P);this._link(x,w[r]);this._link(r,L);r=E+(x+1)%3;q<Hg.length&&(Hg[q++]=r)}else{if(0===q)break;t=Hg[--q]}}}return r};Mc.prototype._link=function(t,u){this._halfedges[t]=u;-1!==u&&(this._halfedges[u]=t)};Mc.prototype._addTriangle=function(t,u,w,z,q,
r){var x=this.trianglesLen;this._triangles[x]=t;this._triangles[x+1]=u;this._triangles[x+2]=w;this._link(x,z);this._link(x+1,q);this._link(x+2,r);this.trianglesLen+=3;return x};var dc=function(){this._x0=this._y0=this._x1=this._y1=null;this._=""};dc.prototype.moveTo=function(t,u){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)};dc.prototype.closePath=function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")};dc.prototype.lineTo=function(t,u){this._+="L"+(this._x1=
+t)+","+(this._y1=+u)};dc.prototype.arc=function(t,u,w){t=+t;u=+u;w=+w;var z=t+w,q=u;if(0>w)throw Error("negative radius");if(null===this._x1)this._+="M"+z+","+q;else if(1E-6<Math.abs(this._x1-z)||1E-6<Math.abs(this._y1-q))this._+="L"+z+","+q;w&&(this._+="A"+w+","+w+",0,1,1,"+(t-w)+","+u+"A"+w+","+w+",0,1,1,"+(this._x1=z)+","+(this._y1=q))};dc.prototype.rect=function(t,u,w,z){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)+"h"+ +w+"v"+ +z+"h"+-w+"Z"};dc.prototype.value=function(){return this._||
null};var xd=function(){this._=[]};xd.prototype.moveTo=function(t,u){this._.push([t,u])};xd.prototype.closePath=function(){this._.push(this._[0].slice())};xd.prototype.lineTo=function(t,u){this._.push([t,u])};xd.prototype.value=function(){return this._.length?this._:null};var yb=function(t,u){var w=$jscomp.makeIterator(void 0===u?[0,0,960,500]:u);u=w.next().value;var z=w.next().value,q=w.next().value;w=w.next().value;if(!((q=+q)>=(u=+u)&&(w=+w)>=(z=+z)))throw Error("invalid bounds");this.delaunay=
t;this._circumcenters=new Float64Array(2*t.points.length);this.vectors=new Float64Array(2*t.points.length);this.xmax=q;this.xmin=u;this.ymax=w;this.ymin=z;this._init()};yb.prototype.update=function(){this.delaunay.update();this._init();return this};yb.prototype._init=function(){var t=this.delaunay,u=t.points,w=t.hull,z=t.triangles;t=this.vectors;for(var q=this.circumcenters=this._circumcenters.subarray(0,z.length/3*2),r=0,x=0,B=z.length,E,L;r<B;r+=3,x+=2){L=2*z[r];var P=2*z[r+1],R=2*z[r+2];E=u[L];
L=u[L+1];var Y=u[R],ia=u[R+1];R=u[P]-E;var T=u[P+1]-L;P=Y-E;var V=ia-L,ma=R*R+T*T,ka=P*P+V*V,ra=2*(R*V-T*P);ra?1E-8>Math.abs(ra)?(E=(E+Y)/2,L=(L+ia)/2):(Y=1/ra,E+=(V*ma-T*ka)*Y,L+=(R*ka-P*ma)*Y):(E=(E+Y)/2-1E8*V,L=(L+ia)/2+1E8*P);q[x]=E;q[x+1]=L}z=w[w.length-1];r=4*z;B=u[2*z];L=u[2*z+1];t.fill(0);for(R=0;R<w.length;++R)z=w[R],q=r,x=B,E=L,r=4*z,B=u[2*z],L=u[2*z+1],t[q+2]=t[r]=E-L,t[q+3]=t[r+1]=B-x};yb.prototype.render=function(t){var u=null==t?t=new dc:void 0,w=this.delaunay,z=w.halfedges,q=w.inedges;
w=w.hull;var r=this.circumcenters,x=this.vectors;if(1>=w.length)return null;for(var B=0,E=z.length;B<E;++B){var L=z[B];if(!(L<B)){var P=2*Math.floor(B/3);L=2*Math.floor(L/3);this._renderSegment(r[P],r[P+1],r[L],r[L+1],t)}}z=w[w.length-1];for(B=0;B<w.length;++B)L=z,z=w[B],P=2*Math.floor(q[z]/3),E=r[P],P=r[P+1],L*=4,(L=this._project(E,P,x[L+2],x[L+3]))&&this._renderSegment(E,P,L[0],L[1],t);return u&&u.value()};yb.prototype.renderBounds=function(t){var u=null==t?t=new dc:void 0;t.rect(this.xmin,this.ymin,
this.xmax-this.xmin,this.ymax-this.ymin);return u&&u.value()};yb.prototype.renderCell=function(t,u){var w=null==u?u=new dc:void 0;t=this._clip(t);if(null!==t&&t.length){u.moveTo(t[0],t[1]);for(var z=t.length;t[0]===t[z-2]&&t[1]===t[z-1]&&1<z;)z-=2;for(var q=2;q<z;q+=2)t[q]===t[q-2]&&t[q+1]===t[q-1]||u.lineTo(t[q],t[q+1]);u.closePath();return w&&w.value()}};yb.prototype.cellPolygons=function u(){var w=this,z,q,r,x,B,E;return $jscomp.generator.createGenerator(u,function(L){switch(L.nextAddress){case 1:z=
w,q=z.delaunay,r=q.points,x=0,B=r.length/2;case 2:if(!(x<B)){L.jumpTo(0);break}E=w.cellPolygon(x);if(!E){L.jumpTo(3);break}E.index=x;return L.yield(E,6);case 6:case 3:++x,L.jumpTo(2)}})};yb.prototype.cellPolygon=function(u){var w=new xd;this.renderCell(u,w);return w.value()};yb.prototype._renderSegment=function(u,w,z,q,r){var x=this._regioncode(u,w),B=this._regioncode(z,q);if(0===x&&0===B)r.moveTo(u,w),r.lineTo(z,q);else if(u=this._clipSegment(u,w,z,q,x,B))r.moveTo(u[0],u[1]),r.lineTo(u[2],u[3])};
yb.prototype.contains=function(u,w,z){return(w=+w,w!==w)||(z=+z,z!==z)?!1:this.delaunay._step(u,w,z)===u};yb.prototype.neighbors=function z(w){var q=this,r,x,B,E,L,P,R,Y,ia;return $jscomp.generator.createGenerator(z,function(T){switch(T.nextAddress){case 1:r=q._clip(w);if(!r){T.jumpTo(0);break}x=$jscomp.makeIterator(q.delaunay.neighbors(w));B=x.next();case 3:if(B.done){T.jumpTo(0);break}E=B.value;L=q._clip(E);if(!L){T.jumpTo(4);break}P=0;R=r.length;case 9:if(!(P<R)){T.jumpTo(4);break}Y=0;ia=L.length;
case 10:if(!(Y<ia)){P+=2;T.jumpTo(9);break}if(r[P]!=L[Y]||r[P+1]!=L[Y+1]||r[(P+2)%R]!=L[(Y+ia-2)%ia]||r[(P+3)%R]!=L[(Y+ia-1)%ia]){T.jumpTo(11);break}return T.yield(E,14);case 14:T.jumpTo(4);break;case 11:Y+=2;T.jumpTo(10);break;case 4:B=x.next(),T.jumpTo(3)}})};yb.prototype._cell=function(w){var z=this.circumcenters,q=this.delaunay,r=q.halfedges,x=q.triangles;q=q.inedges[w];if(-1===q)return null;var B=[],E=q;do{var L=Math.floor(E/3);B.push(z[2*L],z[2*L+1]);E=2===E%3?E-2:E+1;if(x[E]!==w)break;E=r[E]}while(E!==
q&&-1!==E);return B};yb.prototype._clip=function(w){if(0===w&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var z=this._cell(w);if(null===z)return null;var q=this.vectors,r=4*w;return q[r]||q[r+1]?this._clipInfinite(w,z,q[r],q[r+1],q[r+2],q[r+3]):this._clipFinite(w,z)};yb.prototype._clipFinite=function(w,z){for(var q=z.length,r=null,x,B,E=z[q-2],L=z[q-1],P,R=this._regioncode(E,L),Y,ia,T=0;T<q;T+=2)if(x=E,B=L,E=z[T],L=z[T+1],P=
R,R=this._regioncode(E,L),0===P&&0===R)ia=0,r?r.push(E,L):r=[E,L];else{if(0===P){if(null===(x=this._clipSegment(x,B,E,L,P,R)))continue;B=$jscomp.makeIterator(x);B.next();B.next();x=B.next().value;P=B.next().value}else{if(null===(x=this._clipSegment(E,L,x,B,R,P)))continue;Y=$jscomp.makeIterator(x);x=Y.next().value;P=Y.next().value;B=Y.next().value;var V=Y.next().value;Y=ia;ia=this._edgecode(B,V);Y&&ia&&this._edge(w,Y,ia,r,r.length);r?r.push(B,V):r=[B,V]}Y=ia;ia=this._edgecode(x,P);Y&&ia&&this._edge(w,
Y,ia,r,r.length);r?r.push(x,P):r=[x,P]}if(r)Y=ia,ia=this._edgecode(r[0],r[1]),Y&&ia&&this._edge(w,Y,ia,r,r.length);else if(this.contains(w,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r};yb.prototype._clipSegment=function(w,z,q,r,x,B){for(;;){if(0===x&&0===B)return[w,z,q,r];if(x&B)return null;var E=x||B;if(E&8){E=w+(q-w)*(this.ymax-z)/(r-z);var L=this.ymax}else E&4?(E=w+(q-w)*(this.ymin-z)/(r-z),L=this.ymin):
E&2?(L=z+(r-z)*(this.xmax-w)/(q-w),E=this.xmax):(L=z+(r-z)*(this.xmin-w)/(q-w),E=this.xmin);x?(w=E,z=L,x=this._regioncode(w,z)):(q=E,r=L,B=this._regioncode(q,r))}};yb.prototype._clipInfinite=function(w,z,q,r,x,B){z=Array.from(z);var E;(E=this._project(z[0],z[1],q,r))&&z.unshift(E[0],E[1]);(E=this._project(z[z.length-2],z[z.length-1],x,B))&&z.push(E[0],E[1]);if(z=this._clipFinite(w,z))for(q=0,r=z.length,B=this._edgecode(z[r-2],z[r-1]);q<r;q+=2)x=B,B=this._edgecode(z[q],z[q+1]),x&&B&&(q=this._edge(w,
x,B,z,q),r=z.length);else this.contains(w,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(z=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return z};yb.prototype._edge=function(w,z,q,r,x){for(;z!==q;){var B=void 0,E=void 0;switch(z){case 5:z=4;continue;case 4:z=6;B=this.xmax;E=this.ymin;break;case 6:z=2;continue;case 2:z=10;B=this.xmax;E=this.ymax;break;case 10:z=8;continue;case 8:z=9;B=this.xmin;E=this.ymax;break;case 9:z=1;continue;case 1:z=5,B=this.xmin,E=
this.ymin}r[x]===B&&r[x+1]===E||!this.contains(w,B,E)||(r.splice(x,0,B,E),x+=2)}if(4<r.length)for(w=0;w<r.length;w+=2)if(z=(w+2)%r.length,q=(w+4)%r.length,r[w]===r[z]&&r[z]===r[q]||r[w+1]===r[z+1]&&r[z+1]===r[q+1])r.splice(z,2),w-=2;return x};yb.prototype._project=function(w,z,q,r){var x=Infinity,B;if(0>r){if(z<=this.ymin)return null;if((B=(this.ymin-z)/r)<x){var E=this.ymin;var L=w+(x=B)*q}}else if(0<r){if(z>=this.ymax)return null;(B=(this.ymax-z)/r)<x&&(E=this.ymax,L=w+(x=B)*q)}if(0<q){if(w>=this.xmax)return null;
(B=(this.xmax-w)/q)<x&&(L=this.xmax,E=z+B*r)}else if(0>q){if(w<=this.xmin)return null;(B=(this.xmin-w)/q)<x&&(L=this.xmin,E=z+B*r)}return[L,E]};yb.prototype._edgecode=function(w,z){return(w===this.xmin?1:w===this.xmax?2:0)|(z===this.ymin?4:z===this.ymax?8:0)};yb.prototype._regioncode=function(w,z){return(w<this.xmin?1:w>this.xmax?2:0)|(z<this.ymin?4:z>this.ymax?8:0)};var ov=2*Math.PI,le=Math.pow,Nb=function(w){this._delaunator=new Mc(w);this.inedges=new Int32Array(w.length/2);this._hullIndex=new Int32Array(w.length/
2);this.points=this._delaunator.coords;this._init()};Nb.from=function(w,z,q,r){z=void 0===z?Tr:z;q=void 0===q?Ur:q;if("length"in w){for(var x=w.length,B=new Float64Array(2*x),E=0;E<x;++E){var L=w[E];B[2*E]=z.call(r,L,E,w);B[2*E+1]=q.call(r,L,E,w)}w=B}else w=Float64Array.from(Mk(w,z,q,r));return new Nb(w)};Nb.prototype.update=function(){this._delaunator.update();this._init();return this};Nb.prototype._init=function(){var w=this._delaunator,z=this.points;if(w.hull&&2<w.hull.length&&Vr(w)){this.collinear=
Int32Array.from({length:z.length/2},function(R,Y){return Y}).sort(function(R,Y){return z[2*R]-z[2*Y]||z[2*R+1]-z[2*Y+1]});w=this.collinear[0];var q=this.collinear[this.collinear.length-1];w=[z[2*w],z[2*w+1],z[2*q],z[2*q+1]];w=1E-8*Math.hypot(w[3]-w[1],w[2]-w[0]);q=0;for(var r=z.length/2;q<r;++q){var x=Wr(z[2*q],z[2*q+1],w);z[2*q]=x[0];z[2*q+1]=x[1]}this._delaunator=new Mc(z)}else delete this.collinear;x=this.halfedges=this._delaunator.halfedges;w=this.hull=this._delaunator.hull;var B=this.triangles=
this._delaunator.triangles;q=this.inedges.fill(-1);r=this._hullIndex.fill(-1);for(var E=0,L=x.length;E<L;++E){var P=B[2===E%3?E-2:E+1];if(-1===x[E]||-1===q[P])q[P]=E}x=0;for(B=w.length;x<B;++x)r[w[x]]=x;2>=w.length&&0<w.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=w[0],this.triangles[1]=w[1],this.triangles[2]=w[1],q[w[0]]=1,2===w.length&&(q[w[1]]=0))};Nb.prototype.voronoi=function(w){return new yb(this,w)};Nb.prototype.neighbors=
function q(z){var r=this,x,B,E,L,P,R,Y,ia,T,V,ma,ka;return $jscomp.generator.createGenerator(q,function(ra){switch(ra.nextAddress){case 1:x=r;B=x.inedges;E=x.hull;L=x._hullIndex;P=x.halfedges;R=x.triangles;Y=x.collinear;if(!Y){ra.jumpTo(2);break}ia=Y.indexOf(z);if(!(0<ia)){ra.jumpTo(3);break}return ra.yield(Y[ia-1],3);case 3:if(!(ia<Y.length-1)){ra.jumpTo(5);break}return ra.yield(Y[ia+1],5);case 5:return ra.return();case 2:T=B[z];if(-1===T)return ra.return();V=T;ma=-1;case 7:return ra.yield(ma=R[V],
10);case 10:V=2===V%3?V-2:V+1;if(R[V]!==z)return ra.return();V=P[V];if(-1!==V){ra.jumpTo(9);break}ka=E[(L[z]+1)%E.length];if(ka===ma){ra.jumpTo(12);break}return ra.yield(ka,12);case 12:return ra.return();case 9:V!==T?ra.jumpTo(7):ra.jumpToEnd()}})};Nb.prototype.find=function(z,q,r){r=void 0===r?0:r;if((z=+z,z!==z)||(q=+q,q!==q))return-1;for(var x=r,B;0<=(B=this._step(r,z,q))&&B!==r&&B!==x;)r=B;return B};Nb.prototype._step=function(z,q,r){var x=this.inedges,B=this.hull,E=this._hullIndex,L=this.halfedges,
P=this.triangles,R=this.points;if(-1===x[z]||!R.length)return(z+1)%(R.length>>1);var Y=z,ia=le(q-R[2*z],2)+le(r-R[2*z+1],2),T=x=x[z];do{var V=P[T],ma=le(q-R[2*V],2)+le(r-R[2*V+1],2);ma<ia&&(ia=ma,Y=V);T=2===T%3?T-2:T+1;if(P[T]!==z)break;T=L[T];if(-1===T){T=B[(E[z]+1)%B.length];if(T!==V&&le(q-R[2*T],2)+le(r-R[2*T+1],2)<ia)return T;break}}while(T!==x);return Y};Nb.prototype.render=function(z){for(var q=null==z?z=new dc:void 0,r=this.points,x=this.halfedges,B=this.triangles,E=0,L=x.length;E<L;++E){var P=
x[E];if(!(P<E)){var R=2*B[E];P=2*B[P];z.moveTo(r[R],r[R+1]);z.lineTo(r[P],r[P+1])}}this.renderHull(z);return q&&q.value()};Nb.prototype.renderPoints=function(z,q){q=void 0===q?2:q;for(var r=null==z?z=new dc:void 0,x=this.points,B=0,E=x.length;B<E;B+=2){var L=x[B],P=x[B+1];z.moveTo(L+q,P);z.arc(L,P,q,0,ov)}return r&&r.value()};Nb.prototype.renderHull=function(z){var q=null==z?z=new dc:void 0,r=this.hull,x=this.points,B=2*r[0],E=r.length;z.moveTo(x[B],x[B+1]);for(B=1;B<E;++B){var L=2*r[B];z.lineTo(x[L],
x[L+1])}z.closePath();return q&&q.value()};Nb.prototype.hullPolygon=function(){var z=new xd;this.renderHull(z);return z.value()};Nb.prototype.renderTriangle=function(z,q){var r=null==q?q=new dc:void 0,x=this.points,B=this.triangles,E=2*B[z*=3],L=2*B[z+1];z=2*B[z+2];q.moveTo(x[E],x[E+1]);q.lineTo(x[L],x[L+1]);q.lineTo(x[z],x[z+1]);q.closePath();return r&&r.value()};Nb.prototype.trianglePolygons=function q(){var r=this,x,B,E,L;return $jscomp.generator.createGenerator(q,function(P){1==P.nextAddress&&
(x=r,B=x.triangles,E=0,L=B.length/3);if(3!=P.nextAddress)return E<L?P.yield(r.trianglePolygon(E),3):P.jumpTo(0);++E;return P.jumpTo(2)})};Nb.prototype.trianglePolygon=function(q){var r=new xd;this.renderTriangle(q,r);return r.value()};var Pk={},Nh={},yd=Ff(","),fo=yd.parse,pv=yd.parseRows,qv=yd.format,rv=yd.formatBody,sv=yd.formatRows,tv=yd.formatRow,uv=yd.formatValue,zd=Ff("\t"),go=zd.parse,vv=zd.parseRows,wv=zd.format,xv=zd.formatBody,yv=zd.formatRows,zv=zd.formatRow,Av=zd.formatValue,Bv=(new Date("2019-01-01T00:00")).getHours()||
(new Date("2019-07-01T00:00")).getHours(),Cv=Qk(fo),Dv=Qk(go),Ev=Oh("application/xml"),Fv=Oh("text/html"),Gv=Oh("image/svg+xml"),Xb=Hf.prototype=Ph.prototype;Xb.copy=function(){var q=new Ph(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,x,B;if(!r)return q;if(!r.length)return q._root=Sk(r),q;for(x=[{source:r,target:q._root=Array(4)}];r=x.pop();)for(var E=0;4>E;++E)if(B=r.source[E])B.length?x.push({source:B,target:r.target[E]=Array(4)}):r.target[E]=Sk(B);return q};Xb.add=function(q){var r=
+this._x.call(null,q),x=+this._y.call(null,q);return Rk(this.cover(r,x),r,x,q)};Xb.addAll=function(q){var r,x,B=q.length,E,L,P=Array(B),R=Array(B),Y=Infinity,ia=Infinity,T=-Infinity,V=-Infinity;for(x=0;x<B;++x)isNaN(E=+this._x.call(null,r=q[x]))||isNaN(L=+this._y.call(null,r))||(P[x]=E,R[x]=L,E<Y&&(Y=E),E>T&&(T=E),L<ia&&(ia=L),L>V&&(V=L));if(Y>T||ia>V)return this;this.cover(Y,ia).cover(T,V);for(x=0;x<B;++x)Rk(this,P[x],R[x],q[x]);return this};Xb.cover=function(q,r){if(isNaN(q=+q)||isNaN(r=+r))return this;
var x=this._x0,B=this._y0,E=this._x1,L=this._y1;if(isNaN(x))E=(x=Math.floor(q))+1,L=(B=Math.floor(r))+1;else{for(var P=E-x||1,R=this._root,Y,ia;x>q||q>=E||B>r||r>=L;)switch(ia=(r<B)<<1|q<x,Y=Array(4),Y[ia]=R,R=Y,P*=2,ia){case 0:E=x+P;L=B+P;break;case 1:x=E-P;L=B+P;break;case 2:E=x+P;B=L-P;break;case 3:x=E-P,B=L-P}this._root&&this._root.length&&(this._root=R)}this._x0=x;this._y0=B;this._x1=E;this._y1=L;return this};Xb.data=function(){var q=[];this.visit(function(r){if(!r.length){do q.push(r.data);
while(r=r.next)}});return q};Xb.extent=function(q){return arguments.length?this.cover(+q[0][0],+q[0][1]).cover(+q[1][0],+q[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Xb.find=function(q,r,x){var B=this._x0,E=this._y0,L,P,R,Y,ia=this._x1,T=this._y1,V=[],ma=this._root,ka;ma&&V.push(new Qb(ma,B,E,ia,T));null==x?x=Infinity:(B=q-x,E=r-x,ia=q+x,T=r+x,x*=x);for(;ka=V.pop();)if(!(!(ma=ka.node)||(L=ka.x0)>ia||(P=ka.y0)>T||(R=ka.x1)<B||(Y=ka.y1)<E))if(ma.length){ka=(L+R)/2;var ra=
(P+Y)/2;V.push(new Qb(ma[3],ka,ra,R,Y),new Qb(ma[2],L,ra,ka,Y),new Qb(ma[1],ka,P,R,ra),new Qb(ma[0],L,P,ka,ra));if(ma=(r>=ra)<<1|q>=ka)ka=V[V.length-1],V[V.length-1]=V[V.length-1-ma],V[V.length-1-ma]=ka}else if(ka=q-+this._x.call(null,ma.data),ra=r-+this._y.call(null,ma.data),ka=ka*ka+ra*ra,ka<x){var Ja=Math.sqrt(x=ka);B=q-Ja;E=r-Ja;ia=q+Ja;T=r+Ja;Ja=ma.data}return Ja};Xb.remove=function(q){if(isNaN(Y=+this._x.call(null,q))||isNaN(ia=+this._y.call(null,q)))return this;var r,x=this._root,B,E=this._x0,
L=this._y0,P=this._x1,R=this._y1,Y,ia,T,V,ma,ka;if(!x)return this;if(x.length)for(;;){(ma=Y>=(T=(E+P)/2))?E=T:P=T;(ka=ia>=(V=(L+R)/2))?L=V:R=V;if(!(r=x,x=x[ma|=ka<<1]))return this;if(!x.length)break;if(r[ma+1&3]||r[ma+2&3]||r[ma+3&3]){var ra=r;var Ja=ma}}for(;x.data!==q;)if(!(B=x,x=x.next))return this;(q=x.next)&&delete x.next;if(B)return q?B.next=q:delete B.next,this;if(!r)return this._root=q,this;q?r[ma]=q:delete r[ma];(x=r[0]||r[1]||r[2]||r[3])&&x===(r[3]||r[2]||r[1]||r[0])&&!x.length&&(ra?ra[Ja]=
x:this._root=x);return this};Xb.removeAll=function(q){for(var r=0,x=q.length;r<x;++r)this.remove(q[r]);return this};Xb.root=function(){return this._root};Xb.size=function(){var q=0;this.visit(function(r){if(!r.length){do++q;while(r=r.next)}});return q};Xb.visit=function(q){var r=[],x,B=this._root,E,L,P,R;for(B&&r.push(new Qb(B,this._x0,this._y0,this._x1,this._y1));x=r.pop();)if(!q(B=x.node,L=x.x0,P=x.y0,R=x.x1,x=x.y1)&&B.length){var Y=(L+R)/2,ia=(P+x)/2;(E=B[3])&&r.push(new Qb(E,Y,ia,R,x));(E=B[2])&&
r.push(new Qb(E,L,ia,Y,x));(E=B[1])&&r.push(new Qb(E,Y,P,R,ia));(E=B[0])&&r.push(new Qb(E,L,P,Y,ia))}return this};Xb.visitAfter=function(q){var r=[],x=[],B;for(this._root&&r.push(new Qb(this._root,this._x0,this._y0,this._x1,this._y1));B=r.pop();){var E=B.node;if(E.length){var L,P=B.x0,R=B.y0,Y=B.x1,ia=B.y1,T=(P+Y)/2,V=(R+ia)/2;(L=E[0])&&r.push(new Qb(L,P,R,T,V));(L=E[1])&&r.push(new Qb(L,T,R,Y,V));(L=E[2])&&r.push(new Qb(L,P,V,T,ia));(L=E[3])&&r.push(new Qb(L,T,V,Y,ia))}x.push(B)}for(;B=x.pop();)q(B.node,
B.x0,B.y0,B.x1,B.y1);return this};Xb.x=function(q){return arguments.length?(this._x=q,this):this._x};Xb.y=function(q){return arguments.length?(this._y=q,this):this._y};var Hv=Math.PI*(3-Math.sqrt(5)),ls=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Be.prototype=Jf.prototype;Jf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?
"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Yk,Zk={"%":function(q,r){return(100*q).toFixed(r)},b:function(q){return Math.round(q).toString(2)},c:function(q){return q+""},d:function(q){return 1E21<=Math.abs(q=Math.round(q))?q.toLocaleString("en").replace(/,/g,""):q.toString(10)},e:function(q,r){return q.toExponential(r)},f:function(q,r){return q.toFixed(r)},g:function(q,r){return q.toPrecision(r)},o:function(q){return Math.round(q).toString(8)},p:function(q,r){return Uk(100*
q,r)},r:Uk,s:function(q,r){var x=If(q,r);if(!x)return q+"";var B=x[0];x=x[1];x=x-(Yk=3*Math.max(-8,Math.min(8,Math.floor(x/3))))+1;var E=B.length;return x===E?B:x>E?B+Array(x-E+1).join("0"):0<x?B.slice(0,x)+"."+B.slice(x):"0."+Array(1-x).join("0")+If(q,Math.max(0,r+x-1))[0]},X:function(q){return Math.round(q).toString(16).toUpperCase()},x:function(q){return Math.round(q).toString(16)}},$k=Array.prototype.map,Xk="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),Kf;c.format=void 0;c.formatPrefix=void 0;
al({thousands:",",grouping:[3],currency:["$",""]});var eb=Math.PI,ob=eb/2,Mf=eb/4,Wb=2*eb,lb=180/eb,Ua=eb/180,gb=Math.abs,Xd=Math.atan,Sb=Math.atan2,Ra=Math.cos,eg=Math.ceil,ho=Math.exp,Xh=Math.hypot,jg=Math.log,wi=Math.pow,Oa=Math.sin,fc=Math.sign||function(q){return 0<q?1:0>q?-1:0},Fb=Math.sqrt,Wd=Math.tan,il={Feature:function(q,r){Lf(q.geometry,r)},FeatureCollection:function(q,r){q=q.features;for(var x=-1,B=q.length;++x<B;)Lf(q[x].geometry,r)}},gl={Sphere:function(q,r){r.sphere()},Point:function(q,
r){q=q.coordinates;r.point(q[0],q[1],q[2])},MultiPoint:function(q,r){for(var x=q.coordinates,B=-1,E=x.length;++B<E;)q=x[B],r.point(q[0],q[1],q[2])},LineString:function(q,r){Qh(q.coordinates,r,0)},MultiLineString:function(q,r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)Qh(q[x],r,0)},Polygon:function(q,r){hl(q.coordinates,r)},MultiPolygon:function(q,r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)hl(q[x],r)},GeometryCollection:function(q,r){q=q.geometries;for(var x=-1,B=q.length;++x<B;)Lf(q[x],
r)}},Nf=new xb,Ig=new xb,kl,ll,Rh,Sh,Th,vc={point:sb,lineStart:sb,lineEnd:sb,polygonStart:function(){Nf=new xb;vc.lineStart=ms;vc.lineEnd=os},polygonEnd:function(){var q=+Nf;Ig.add(0>q?Wb+q:q);this.lineStart=this.lineEnd=this.point=sb},sphere:function(){Ig.add(Wb)}},tb,$b,ub,bc,pd,ql,rl,Rd,Ce,Wc,Gc,Hc={point:Vh,lineStart:nl,lineEnd:ol,polygonStart:function(){Hc.point=pl;Hc.lineStart=ps;Hc.lineEnd=qs;Ce=new xb;vc.polygonStart()},polygonEnd:function(){vc.polygonEnd();Hc.point=Vh;Hc.lineStart=nl;Hc.lineEnd=
ol;0>Nf?(tb=-(ub=180),$b=-(bc=90)):1E-6<Ce?bc=90:-1E-6>Ce&&($b=-90);Gc[0]=tb;Gc[1]=ub},sphere:function(){tb=-(ub=180);$b=-(bc=90)}},Ee,Vf,Sf,Tf,Uf,Wf,Xf,Yf,Yh,Zh,$h,wl,xl,Tb,Ub,Vb,oc={sphere:sb,point:Wh,lineStart:tl,lineEnd:ul,polygonStart:function(){oc.lineStart=us;oc.lineEnd=ws},polygonEnd:function(){oc.lineStart=tl;oc.lineEnd=ul}};bi.invert=bi;var ui=Il(function(){return!0},function(q){var r=NaN,x=NaN,B=NaN,E;return{lineStart:function(){q.lineStart();E=1},point:function(L,P){var R=0<L?eb:-eb,Y=
gb(L-r);if(1E-6>gb(Y-eb))q.point(r,x=0<(x+P)/2?ob:-ob),q.point(B,x),q.lineEnd(),q.lineStart(),q.point(R,x),q.point(L,x),E=0;else if(B!==R&&Y>=eb){1E-6>gb(r-B)&&(r-=1E-6*B);1E-6>gb(L-R)&&(L-=1E-6*R);Y=r;var ia=x,T=L,V,ma,ka=Oa(Y-T);x=1E-6<gb(ka)?Xd((Oa(ia)*(ma=Ra(P))*Oa(T)-Oa(P)*(V=Ra(ia))*Oa(Y))/(V*ma*ka)):(ia+P)/2;q.point(B,x);q.lineEnd();q.lineStart();q.point(R,x);E=0}q.point(r=L,x=P);B=R},lineEnd:function(){q.lineEnd();r=x=NaN},clean:function(){return 2-E}}},function(q,r,x,B){null==q?(x*=ob,B.point(-eb,
x),B.point(0,x),B.point(eb,x),B.point(eb,0),B.point(eb,-x),B.point(0,-x),B.point(-eb,-x),B.point(-eb,0),B.point(-eb,x)):1E-6<gb(q[0]-r[0])?(q=q[0]<r[0]?eb:-eb,x=x*q/2,B.point(-q,x),B.point(0,x),B.point(q,x)):B.point(r[0],r[1])},[-eb,-ob]),fi,ei,bg,cg,Td={sphere:sb,point:sb,lineStart:function(){Td.point=Bs;Td.lineEnd=As},lineEnd:sb,polygonStart:sb,polygonEnd:sb},gi=[null,null],Ds={type:"LineString",coordinates:gi},io={Feature:function(q,r){return dg(q.geometry,r)},FeatureCollection:function(q,r){q=
q.features;for(var x=-1,B=q.length;++x<B;)if(dg(q[x].geometry,r))return!0;return!1}},Ll={Sphere:function(){return!0},Point:function(q,r){return 0===Fe(q.coordinates,r)},MultiPoint:function(q,r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)if(0===Fe(q[x],r))return!0;return!1},LineString:function(q,r){return Ml(q.coordinates,r)},MultiLineString:function(q,r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)if(Ml(q[x],r))return!0;return!1},Polygon:function(q,r){return Nl(q.coordinates,r)},MultiPolygon:function(q,
r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)if(Nl(q[x],r))return!0;return!1},GeometryCollection:function(q,r){q=q.geometries;for(var x=-1,B=q.length;++x<B;)if(dg(q[x],r))return!0;return!1}},Me=function(q){return q},mj=new xb,ji=new xb,Tl,Ul,hi,ii,Ic={point:sb,lineStart:sb,lineEnd:sb,polygonStart:function(){Ic.lineStart=Fs;Ic.lineEnd=Hs},polygonEnd:function(){Ic.lineStart=Ic.lineEnd=Ic.point=sb;mj.add(gb(ji));ji=new xb},result:function(){var q=mj/2;mj=new xb;return q}},me=Infinity,Jg=me,bf=-me,
Kg=bf,hg={point:function(q,r){q<me&&(me=q);q>bf&&(bf=q);r<Jg&&(Jg=r);r>Kg&&(Kg=r)},lineStart:sb,lineEnd:sb,polygonStart:sb,polygonEnd:sb,result:function(){var q=[[me,Jg],[bf,Kg]];bf=Kg=-(Jg=me=Infinity);return q}},ki=0,li=0,Ge=0,fg=0,gg=0,Ud=0,mi=0,ni=0,He=0,Yl,Zl,wc,xc,gc={point:qd,lineStart:Vl,lineEnd:Wl,polygonStart:function(){gc.lineStart=Ks;gc.lineEnd=Ms},polygonEnd:function(){gc.point=qd;gc.lineStart=Vl;gc.lineEnd=Wl},result:function(){var q=He?[mi/He,ni/He]:Ud?[fg/Ud,gg/Ud]:Ge?[ki/Ge,li/Ge]:
[NaN,NaN];ki=li=Ge=fg=gg=Ud=mi=ni=He=0;return q}};$l.prototype={_radius:4.5,pointRadius:function(q){return this._radius=q,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(q,r){switch(this._point){case 0:this._context.moveTo(q,r);this._point=1;break;case 1:this._context.lineTo(q,r);break;default:this._context.moveTo(q+this._radius,r),this._context.arc(q,
r,this._radius,0,Wb)}},result:sb};var oi=new xb,nj,bm,cm,Je,Ke,Ie={point:sb,lineStart:function(){Ie.point=Ns},lineEnd:function(){nj&&am(bm,cm);Ie.point=sb},polygonStart:function(){nj=!0},polygonEnd:function(){nj=null},result:function(){var q=+oi;oi=new xb;return q}};dm.prototype={_radius:4.5,_circle:em(4.5),pointRadius:function(q){(q=+q)!==this._radius&&(this._radius=q,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=
0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(q,r){switch(this._point){case 0:this._string.push("M",q,",",r);this._point=1;break;case 1:this._string.push("L",q,",",r);break;default:null==this._circle&&(this._circle=em(this._radius)),this._string.push("M",q,",",r,this._circle)}},result:function(){if(this._string.length){var q=this._string.join("");this._string=[];return q}return null}};pi.prototype={constructor:pi,point:function(q,r){this.stream.point(q,
r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Os=Ra(30*Ua),Rs=Le({point:function(q,r){this.stream.point(q*Ua,r*Ua)}}),oj=km(function(q){return Fb(2/(1+q))});oj.invert=Ne(function(q){return 2*Rb(q/2)});var pj=km(function(q){return(q=el(q))&&q/Oa(q)});pj.invert=Ne(function(q){return q});Oe.invert=function(q,r){return[q,
2*Xd(ho(r))-ob]};Pe.invert=Pe;var kg=Fb(3)/2;xi.invert=function(q,r){for(var x=r,B=x*x,E=B*B*B,L=0,P;12>L&&!(P=x*(1.340264+-.081106*B+E*(8.93E-4+.003796*B))-r,B=1.340264+3*-.081106*B+E*(7*8.93E-4+.034164*B),x-=P/=B,B=x*x,E=B*B*B,1E-12>gb(P));++L);return[kg*q*(1.340264+3*-.081106*B+E*(7*8.93E-4+.034164*B))/Ra(x),Rb(Oa(x)/kg)]};yi.invert=Ne(Xd);zi.invert=function(q,r){var x=r,B=25;do{var E=x*x;var L=E*E;x-=L=(x*(1.007226+E*(.015085+L*(-.044475+.028874*E-.005916*L)))-r)/(1.007226+E*(.045255+L*(-.311325+
.259866*E-.005916*11*L)))}while(1E-6<gb(L)&&0<--B);return[q/(.8707+(E=x*x)*(-.131979+E*(-.013791+E*E*E*(.003971-.001529*E)))),x]};Ai.invert=Ne(Rb);Bi.invert=Ne(function(q){return 2*Xd(q)});Ci.invert=function(q,r){return[-r,2*Xd(ho(q))-ob]};var Ob={};Yd.prototype=Di.prototype=(Ob.constructor=Yd,Ob.count=function(){return this.eachAfter(Zs)},Ob.each=function(q,r){for(var x=-1,B=$jscomp.makeIterator(this),E=B.next();!E.done;E=B.next())q.call(r,E.value,++x,this);return this},Ob.eachAfter=function(q,r){for(var x,
B=[this],E=[],L,P,R=-1;x=B.pop();)if(E.push(x),x=x.children)for(L=0,P=x.length;L<P;++L)B.push(x[L]);for(;x=E.pop();)q.call(r,x,++R,this);return this},Ob.eachBefore=function(q,r){for(var x,B=[this],E,L=-1;x=B.pop();)if(q.call(r,x,++L,this),x=x.children)for(E=x.length-1;0<=E;--E)B.push(x[E]);return this},Ob.find=function(q,r){for(var x=-1,B=$jscomp.makeIterator(this),E=B.next();!E.done;E=B.next())if(E=E.value,q.call(r,E,++x,this))return E},Ob.sum=function(q){return this.eachAfter(function(r){for(var x=
+q(r.data)||0,B=r.children,E=B&&B.length;0<=--E;)x+=B[E].value;r.value=x})},Ob.sort=function(q){return this.eachBefore(function(r){r.children&&r.children.sort(q)})},Ob.path=function(q){var r=this;var x=r;var B=q;if(x!==B){var E=x.ancestors(),L=B.ancestors(),P=null;x=E.pop();for(B=L.pop();x===B;)P=x,x=E.pop(),B=L.pop();x=P}for(B=[r];r!==x;)r=r.parent,B.push(r);for(r=B.length;q!==x;)B.splice(r,0,q),q=q.parent;return B},Ob.ancestors=function(){for(var q=this,r=[q];q=q.parent;)r.push(q);return r},Ob.descendants=
function(){return Array.from(this)},Ob.leaves=function(){var q=[];this.eachBefore(function(r){r.children||q.push(r)});return q},Ob.links=function(){var q=this,r=[];q.each(function(x){x!==q&&r.push({source:x.parent,target:x})});return r},Ob.copy=function(){return Di(this).eachBefore(bt)},Ob[Symbol.iterator]=om,Ob);var Iv={depth:-1},jo={};og.prototype=Object.create(Yd.prototype);var ko=(1+Math.sqrt(5))/2,lo=function x(r){function B(E,L,P,R,Y){Am(r,E,L,P,R,Y)}B.ratio=function(E){return x(1<(E=+E)?E:
1)};return B}(ko),Jv=function B(x){function E(L,P,R,Y,ia){if((T=L._squarify)&&T.ratio===x)for(var T,V,ma,ka=-1,ra,Ja=T.length,pa=L.value;++ka<Ja;){L=T[ka];V=L.children;ma=L.value=0;for(ra=V.length;ma<ra;++ma)L.value+=V[ma].value;L.dice?Re(L,P,R,Y,pa?R+=(ia-R)*L.value/pa:ia):pg(L,P,R,pa?P+=(Y-P)*L.value/pa:Y,ia);pa-=L.value}else L._squarify=T=Am(x,L,P,R,Y,ia),T.ratio=x}E.ratio=function(L){return B(1<(L=+L)?L:1)};return E}(ko),Ib=Math.random,Kv=function E(B){function L(P,R){P=null==P?0:+P;R=null==R?
1:+R;1===arguments.length?(R=P,P=0):R-=P;return function(){return B()*R+P}}L.source=E;return L}(Ib),Lv=function L(E){function P(R,Y){2>arguments.length&&(Y=R,R=0);R=Math.floor(R);Y=Math.floor(Y)-R;return function(){return Math.floor(E()*Y+R)}}P.source=L;return P}(Ib),qj=function P(L){function R(Y,ia){var T,V;Y=null==Y?0:+Y;ia=null==ia?1:+ia;return function(){if(null!=T){var ma=T;T=null}else{do T=2*L()-1,ma=2*L()-1,V=T*T+ma*ma;while(!V||1<V)}return Y+ia*ma*Math.sqrt(-2*Math.log(V)/V)}}R.source=P;return R}(Ib),
Mv=function R(P){function Y(){var T=ia.apply(this,arguments);return function(){return Math.exp(T())}}var ia=qj.source(P);Y.source=R;return Y}(Ib),mo=function Y(R){function ia(T){return 0>=(T=+T)?function(){return 0}:function(){for(var V=0,ma=T;1<ma;--ma)V+=R();return V+ma*R()}}ia.source=Y;return ia}(Ib),Nv=function ia(Y){function T(ma){if(0===(ma=+ma))return Y;var ka=V(ma);return function(){return ka()/ma}}var V=mo.source(Y);T.source=ia;return T}(Ib),Ov=function T(ia){function V(ma){return function(){return-Math.log1p(-ia())/
ma}}V.source=T;return V}(Ib),Pv=function V(T){function ma(ka){if(0>(ka=+ka))throw new RangeError("invalid alpha");ka=1/-ka;return function(){return Math.pow(1-T(),ka)}}ma.source=V;return ma}(Ib),Qv=function ma(V){function ka(ra){if(0>(ra=+ra)||1<ra)throw new RangeError("invalid p");return function(){return Math.floor(V()+ra)}}ka.source=ma;return ka}(Ib),no=function ka(ma){function ra(Ja){if(0>(Ja=+Ja)||1<Ja)throw new RangeError("invalid p");if(0===Ja)return function(){return Infinity};if(1===Ja)return function(){return 1};
Ja=Math.log1p(-Ja);return function(){return 1+Math.floor(Math.log1p(-ma())/Ja)}}ra.source=ka;return ra}(Ib),rj=function ra(ka){function Ja(Ga,Qa){if(0>(Ga=+Ga))throw new RangeError("invalid k");if(0===Ga)return function(){return 0};Qa=null==Qa?1:+Qa;if(1===Ga)return function(){return-Math.log1p(-ka())*Qa};var O=(1>Ga?Ga+1:Ga)-1/3,X=1/(3*Math.sqrt(O)),Ba=1>Ga?function(){return Math.pow(ka(),1/Ga)}:function(){return 1};return function(){do{do var Ka=pa(),Fa=1+X*Ka;while(0>=Fa);Fa*=Fa*Fa;var Ma=1-ka()}while(Ma>=
1-.0331*Ka*Ka*Ka*Ka&&Math.log(Ma)>=.5*Ka*Ka+O*(1-Fa+Math.log(Fa)));return O*Fa*Ba()*Qa}}var pa=qj.source(ka)();Ja.source=ra;return Ja}(Ib),oo=function Ja(ra){function pa(Qa,O){var X=Ga(Qa),Ba=Ga(O);return function(){var Ka=X();return 0===Ka?0:Ka/(Ka+Ba())}}var Ga=rj.source(ra);pa.source=Ja;return pa}(Ib),po=function pa(Ja){function Ga(X,Ba){X=+X;return 1<=(Ba=+Ba)?function(){return X}:0>=Ba?function(){return 0}:function(){for(var Ka=0,Fa=X,Ma=Ba;16<Fa*Ma&&16<Fa*(1-Ma);){var Va=Math.floor((Fa+1)*Ma),
k=O(Va,Fa-Va+1)();k<=Ma?(Ka+=Va,Fa-=Va,Ma=(Ma-k)/(1-k)):(Fa=Va-1,Ma/=k)}Va=.5>Ma;Ma=Qa(Va?Ma:1-Ma);k=Ma();for(var A=0;k<=Fa;++A)k+=Ma();return Ka+(Va?A:Fa-A)}}var Qa=no.source(Ja),O=oo.source(Ja);Ga.source=pa;return Ga}(Ib),Rv=function Ga(pa){function Qa(O,X,Ba){if(0===(O=+O))var Ka=function(Fa){return-Math.log(Fa)};else O=1/O,Ka=function(Fa){return Math.pow(Fa,O)};X=null==X?0:+X;Ba=null==Ba?1:+Ba;return function(){return X+Ba*Ka(-Math.log1p(-pa()))}}Qa.source=Ga;return Qa}(Ib),Sv=function Qa(Ga){function O(X,
Ba){X=null==X?0:+X;Ba=null==Ba?1:+Ba;return function(){return X+Ba*Math.tan(Math.PI*Ga())}}O.source=Qa;return O}(Ib),Tv=function O(Qa){function X(Ba,Ka){Ba=null==Ba?0:+Ba;Ka=null==Ka?1:+Ka;return function(){var Fa=Qa();return Ba+Ka*Math.log(Fa/(1-Fa))}}X.source=O;return X}(Ib),Uv=function X(O){function Ba(Ma){return function(){for(var Va=0,k=Ma;16<k;){var A=Math.floor(.875*k),H=Ka(A)();if(H>k)return Va+Fa(A-1,k/H)();Va+=A;k-=H}A=-Math.log1p(-O());for(H=0;A<=k;++H)A-=Math.log1p(-O());return Va+H}}
var Ka=rj.source(O),Fa=po.source(O);Ba.source=X;return Ba}(Ib),qo=1/4294967296,Ji=Symbol("implicit"),Dm=[0,1],Qi=new Date,Ri=new Date,ae=Db(function(){},function(O,X){O.setTime(+O+X)},function(O,X){return X-O});ae.every=function(O){O=Math.floor(O);return isFinite(O)&&0<O?1<O?Db(function(X){X.setTime(Math.floor(X/O)*O)},function(X,Ba){X.setTime(+X+Ba*O)},function(X,Ba){return(Ba-X)/O}):ae:null};var ro=ae.range,Si=6048E5,Wm=2592E6,Ti=31536E6,Kc=Db(function(O){O.setTime(O-O.getMilliseconds())},function(O,
X){O.setTime(+O+1E3*X)},function(O,X){return(X-O)/1E3},function(O){return O.getUTCSeconds()}),so=Kc.range,Lg=Db(function(O){O.setTime(O-O.getMilliseconds()-1E3*O.getSeconds())},function(O,X){O.setTime(+O+6E4*X)},function(O,X){return(X-O)/6E4},function(O){return O.getMinutes()}),Vv=Lg.range,Mg=Db(function(O){O.setTime(O-O.getMilliseconds()-1E3*O.getSeconds()-6E4*O.getMinutes())},function(O,X){O.setTime(+O+36E5*X)},function(O,X){return(X-O)/36E5},function(O){return O.getHours()}),Wv=Mg.range,ce=Db(function(O){return O.setHours(0,
0,0,0)},function(O,X){return O.setDate(O.getDate()+X)},function(O,X){return(X-O-6E4*(X.getTimezoneOffset()-O.getTimezoneOffset()))/864E5},function(O){return O.getDate()-1}),Xv=ce.range,de=sd(0),Ve=sd(1),to=sd(2),uo=sd(3),ud=sd(4),vo=sd(5),wo=sd(6),xo=de.range,Yv=Ve.range,Zv=to.range,$v=uo.range,aw=ud.range,bw=vo.range,cw=wo.range,Ng=Db(function(O){O.setDate(1);O.setHours(0,0,0,0)},function(O,X){O.setMonth(O.getMonth()+X)},function(O,X){return X.getMonth()-O.getMonth()+12*(X.getFullYear()-O.getFullYear())},
function(O){return O.getMonth()}),dw=Ng.range,zc=Db(function(O){O.setMonth(0,1);O.setHours(0,0,0,0)},function(O,X){O.setFullYear(O.getFullYear()+X)},function(O,X){return X.getFullYear()-O.getFullYear()},function(O){return O.getFullYear()});zc.every=function(O){return isFinite(O=Math.floor(O))&&0<O?Db(function(X){X.setFullYear(Math.floor(X.getFullYear()/O)*O);X.setMonth(0,1);X.setHours(0,0,0,0)},function(X,Ba){X.setFullYear(X.getFullYear()+Ba*O)}):null};var ew=zc.range,Og=Db(function(O){O.setUTCSeconds(0,
0)},function(O,X){O.setTime(+O+6E4*X)},function(O,X){return(X-O)/6E4},function(O){return O.getUTCMinutes()}),fw=Og.range,Pg=Db(function(O){O.setUTCMinutes(0,0,0)},function(O,X){O.setTime(+O+36E5*X)},function(O,X){return(X-O)/36E5},function(O){return O.getUTCHours()}),gw=Pg.range,be=Db(function(O){O.setUTCHours(0,0,0,0)},function(O,X){O.setUTCDate(O.getUTCDate()+X)},function(O,X){return(X-O)/864E5},function(O){return O.getUTCDate()-1}),hw=be.range,ee=td(0),Ue=td(1),yo=td(2),zo=td(3),vd=td(4),Ao=td(5),
Bo=td(6),Co=ee.range,iw=Ue.range,jw=yo.range,kw=zo.range,lw=vd.range,mw=Ao.range,nw=Bo.range,Qg=Db(function(O){O.setUTCDate(1);O.setUTCHours(0,0,0,0)},function(O,X){O.setUTCMonth(O.getUTCMonth()+X)},function(O,X){return X.getUTCMonth()-O.getUTCMonth()+12*(X.getUTCFullYear()-O.getUTCFullYear())},function(O){return O.getUTCMonth()}),ow=Qg.range,Ac=Db(function(O){O.setUTCMonth(0,1);O.setUTCHours(0,0,0,0)},function(O,X){O.setUTCFullYear(O.getUTCFullYear()+X)},function(O,X){return X.getUTCFullYear()-O.getUTCFullYear()},
function(O){return O.getUTCFullYear()});Ac.every=function(O){return isFinite(O=Math.floor(O))&&0<O?Db(function(X){X.setUTCFullYear(Math.floor(X.getUTCFullYear()/O)*O);X.setUTCMonth(0,1);X.setUTCHours(0,0,0,0)},function(X,Ba){X.setUTCFullYear(X.getUTCFullYear()+Ba*O)}):null};var pw=Ac.range,Do=$jscomp.makeIterator(Vm(Ac,Qg,ee,be,Pg,Og)),Eo=Do.next().value,Fo=Do.next().value,Go=$jscomp.makeIterator(Vm(zc,Ng,de,ce,Mg,Lg)),Ho=Go.next().value,Io=Go.next().value,Ym={"-":"",_:" ",0:"0"},Gb=/^\s*\d+/,tu=
/^%/,su=/[\\^$*+?|[\]().{}]/g,fe;c.timeFormat=void 0;c.timeParse=void 0;c.utcFormat=void 0;c.utcParse=void 0;mn({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var qw=
Date.prototype.toISOString?uu:c.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),rw=+new Date("2000-01-01T00:00:00.000Z")?vu:c.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),sw=cb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),tw=cb("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),uw=cb("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),vw=cb("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ww=cb("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),xw=cb("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),
yw=cb("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),zw=cb("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Aw=cb("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Bw=cb("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),mb=function(O){return Un(O[O.length-1])},Jo=Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",
"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(cb),Cw=mb(Jo),Ko=Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b",
"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(cb),Dw=mb(Ko),Lo=Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(cb),
Ew=mb(Lo),Mo=Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(cb),Fw=mb(Mo),No=Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0",
"ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(cb),Gw=mb(No),Oo=Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d",
"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(cb),Hw=mb(Oo),Po=Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",
"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(cb),Iw=mb(Po),Qo=Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",
"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(cb),Jw=mb(Qo),Ro=Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(cb),
Kw=mb(Ro),So=Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(cb),Lw=mb(So),To=Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b",
"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(cb),Mw=mb(To),Uo=Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(cb),Nw=mb(Uo),Vo=Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f",
"fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(cb),Ow=mb(Vo),Wo=Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(cb),
Pw=mb(Wo),Xo=Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(cb),Qw=mb(Xo),Yo=Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f",
"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(cb),Rw=mb(Yo),Zo=Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(cb),Sw=mb(Zo),$o=Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8",
"ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(cb),Tw=mb($o),ap=Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(cb),
Uw=mb(ap),bp=Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(cb),Vw=mb(bp),cp=Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026",
"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(cb),Ww=mb(cp),dp=Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(cb),Xw=mb(dp),ep=Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45",
"edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(cb),Yw=mb(ep),fp=Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(cb),
Zw=mb(fp),gp=Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(cb),$w=mb(gp),hp=Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d",
"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(cb),ax=mb(hp),ip=Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(cb),bx=mb(ip),cx=Gg(lc(300,.5,0),lc(-240,.5,1)),dx=Gg(lc(-100,.75,.35),lc(80,
1.5,.8)),ex=Gg(lc(260,.75,.35),lc(80,1.5,.8)),Rg=lc(),Sg=Hd(),fx=Math.PI/3,gx=2*Math.PI/3,hx=tg(cb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),
ix=tg(cb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),
jx=tg(cb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),
kx=tg(cb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),
jp=Math.abs,Pb=Math.atan2,Ad=Math.cos,Du=Math.max,sj=Math.min,Bc=Math.sin,ge=Math.sqrt,$c=Math.PI,ug=$c/2,ad=2*$c,Iu=Array.prototype.slice;vn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(O,X){O=+O;X=+X;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(O,X):this._context.moveTo(O,
X);break;case 1:this._point=2;default:this._context.lineTo(O,X)}}};var zn=bj(xg);xn.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(O,X){this._curve.point(X*Math.sin(O),X*-Math.cos(O))}};var tj={draw:function(O,X){X=Math.sqrt(X/$c);O.moveTo(X,0);O.arc(0,0,X,0,ad)}},kp={draw:function(O,X){X=Math.sqrt(X/5)/2;O.moveTo(-3*X,-X);O.lineTo(-X,-X);O.lineTo(-X,
-3*X);O.lineTo(X,-3*X);O.lineTo(X,-X);O.lineTo(3*X,-X);O.lineTo(3*X,X);O.lineTo(X,X);O.lineTo(X,3*X);O.lineTo(-X,3*X);O.lineTo(-X,X);O.lineTo(-3*X,X);O.closePath()}},lp=Math.sqrt(1/3),lx=2*lp,mp={draw:function(O,X){X=Math.sqrt(X/lx);var Ba=X*lp;O.moveTo(0,-X);O.lineTo(Ba,0);O.lineTo(0,X);O.lineTo(-Ba,0);O.closePath()}},np=Math.sin($c/10)/Math.sin(7*$c/10),mx=Math.sin(ad/10)*np,nx=-Math.cos(ad/10)*np,op={draw:function(O,X){X=Math.sqrt(.8908130915292852*X);var Ba=mx*X,Ka=nx*X;O.moveTo(0,-X);O.lineTo(Ba,
Ka);for(var Fa=1;5>Fa;++Fa){var Ma=ad*Fa/5,Va=Math.cos(Ma);Ma=Math.sin(Ma);O.lineTo(Ma*X,-Va*X);O.lineTo(Va*Ba-Ma*Ka,Ma*Ba+Va*Ka)}O.closePath()}},pp={draw:function(O,X){X=Math.sqrt(X);var Ba=-X/2;O.rect(Ba,Ba,X,X)}},uj=Math.sqrt(3),qp={draw:function(O,X){X=-Math.sqrt(X/(3*uj));O.moveTo(0,2*X);O.lineTo(-uj*X,-X);O.lineTo(uj*X,-X);O.closePath()}},ic=Math.sqrt(3)/2,vj=1/Math.sqrt(12),ox=3*(vj/2+1),rp={draw:function(O,X){var Ba=Math.sqrt(X/ox);X=Ba/2;var Ka=Ba*vj;Ba=Ba*vj+Ba;var Fa=-X;O.moveTo(X,Ka);
O.lineTo(X,Ba);O.lineTo(Fa,Ba);O.lineTo(-.5*X-ic*Ka,ic*X+-.5*Ka);O.lineTo(-.5*X-ic*Ba,ic*X+-.5*Ba);O.lineTo(-.5*Fa-ic*Ba,ic*Fa+-.5*Ba);O.lineTo(-.5*X+ic*Ka,-.5*Ka-ic*X);O.lineTo(-.5*X+ic*Ba,-.5*Ba-ic*X);O.lineTo(-.5*Fa+ic*Ba,-.5*Ba-ic*Fa);O.closePath()}},px=[tj,kp,mp,pp,op,qp,rp];zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:yg(this,this._x1,
this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(O,X){O=+O;X=+X;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(O,X):this._context.moveTo(O,X);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yg(this,O,X)}this._x0=this._x1;this._x1=O;this._y0=this._y1;this._y1=X}};Bn.prototype=
{areaStart:Zc,areaEnd:Zc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,
this._y3),this.point(this._x4,this._y4)}},point:function(O,X){O=+O;X=+X;switch(this._point){case 0:this._point=1;this._x2=O;this._y2=X;break;case 1:this._point=2;this._x3=O;this._y3=X;break;case 2:this._point=3;this._x4=O;this._y4=X;this._context.moveTo((this._x0+4*this._x1+O)/6,(this._y0+4*this._y1+X)/6);break;default:yg(this,O,X)}this._x0=this._x1;this._x1=O;this._y0=this._y1;this._y1=X}};Cn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(O,X){O=+O;X=+X;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Ba=(this._x0+4*this._x1+O)/6,Ka=(this._y0+4*this._y1+X)/6;this._line?this._context.lineTo(Ba,Ka):this._context.moveTo(Ba,Ka);break;case 3:this._point=4;default:yg(this,O,X)}this._x0=this._x1;this._x1=O;this._y0=
this._y1;this._y1=X}};var Bd=function(O,X){this._context=O;this._x=X};Bd.prototype.areaStart=function(){this._line=0};Bd.prototype.areaEnd=function(){this._line=NaN};Bd.prototype.lineStart=function(){this._point=0};Bd.prototype.lineEnd=function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line};Bd.prototype.point=function(O,X){O=+O;X=+X;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(O,X):this._context.moveTo(O,X);break;case 1:this._point=
2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+O)/2,this._y0,this._x0,X,O,X):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+X)/2,O,this._y0,O,X)}this._x0=O;this._y0=X};Dn.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var O=this._x,X=this._y,Ba=O.length-1;if(0<Ba)for(var Ka=O[0],Fa=X[0],Ma=O[Ba]-Ka,Va=X[Ba]-Fa,k=-1,A;++k<=Ba;)A=k/Ba,this._basis.point(this._beta*O[k]+(1-this._beta)*(Ka+A*Ma),this._beta*X[k]+(1-this._beta)*
(Fa+A*Va));this._x=this._y=null;this._basis.lineEnd()},point:function(O,X){this._x.push(+O);this._y.push(+X)}};var qx=function Ba(X){function Ka(Fa){return 1===X?new zg(Fa):new Dn(Fa,X)}Ka.beta=function(Fa){return Ba(+Fa)};return Ka}(.85);dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);
break;case 3:Ag(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(X,Ba){X=+X;Ba=+Ba;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(X,Ba):this._context.moveTo(X,Ba);break;case 1:this._point=2;this._x1=X;this._y1=Ba;break;case 2:this._point=3;default:Ag(this,X,Ba)}this._x0=this._x1;this._x1=this._x2;this._x2=X;this._y0=this._y1;this._y1=this._y2;this._y2=Ba}};var rx=function Ka(Ba){function Fa(Ma){return new dj(Ma,
Ba)}Fa.tension=function(Ma){return Ka(+Ma)};return Fa}(0);ej.prototype={areaStart:Zc,areaEnd:Zc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Ba,Ka){Ba=+Ba;Ka=+Ka;switch(this._point){case 0:this._point=1;this._x3=Ba;this._y3=Ka;break;case 1:this._point=2;this._context.moveTo(this._x4=Ba,this._y4=Ka);break;case 2:this._point=3;this._x5=Ba;this._y5=Ka;break;default:Ag(this,Ba,Ka)}this._x0=this._x1;this._x1=this._x2;this._x2=Ba;this._y0=this._y1;this._y1=this._y2;this._y2=Ka}};var sx=function Fa(Ka){function Ma(Va){return new ej(Va,Ka)}Ma.tension=function(Va){return Fa(+Va)};return Ma}(0);fj.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ka,Fa){Ka=+Ka;Fa=+Fa;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:Ag(this,Ka,Fa)}this._x0=this._x1;this._x1=this._x2;this._x2=Ka;this._y0=this._y1;this._y1=this._y2;this._y2=Fa}};var tx=function Ma(Fa){function Va(k){return new fj(k,Fa)}Va.tension=function(k){return Ma(+k)};return Va}(0);En.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Fa,Ma){Fa=+Fa;Ma=+Ma;if(this._point){var Va=this._x2-Fa,k=this._y2-Ma;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Va*Va+k*k,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Fa,Ma):this._context.moveTo(Fa,Ma);break;case 1:this._point=
2;break;case 2:this._point=3;default:gj(this,Fa,Ma)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Fa;this._y0=this._y1;this._y1=this._y2;this._y2=Ma}};var ux=function Va(Ma){function k(A){return Ma?new En(A,Ma):new dj(A,0)}k.alpha=function(A){return Va(+A)};return k}(.5);Fn.prototype={areaStart:Zc,areaEnd:Zc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ma,Va){Ma=+Ma;Va=+Va;if(this._point){var k=this._x2-Ma,A=this._y2-
Va;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(k*k+A*A,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Ma;this._y3=Va;break;case 1:this._point=2;this._context.moveTo(this._x4=Ma,this._y4=Va);break;case 2:this._point=3;this._x5=Ma;this._y5=Va;break;default:gj(this,Ma,Va)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Ma;this._y0=this._y1;this._y1=this._y2;this._y2=Va}};var vx=function k(Va){function A(H){return Va?
new Fn(H,Va):new ej(H,0)}A.alpha=function(H){return k(+H)};return A}(.5);Gn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Va,k){Va=+Va;k=+k;if(this._point){var A=this._x2-
Va,H=this._y2-k;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(A*A+H*H,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gj(this,Va,k)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Va;this._y0=this._y1;this._y1=this._y2;
this._y2=k}};var wx=function A(k){function H(G){return k?new Gn(G,k):new fj(G,0)}H.alpha=function(G){return A(+G)};return H}(.5);Hn.prototype={areaStart:Zc,areaEnd:Zc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(k,A){k=+k;A=+A;this._point?this._context.lineTo(k,A):(this._point=1,this._context.moveTo(k,A))}};Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=
this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hj(this,this._t0,Jn(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(k,A){var H=NaN;k=+k;A=+A;if(k!==this._x1||A!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(k,A):this._context.moveTo(k,A);break;case 1:this._point=2;break;case 2:this._point=3;hj(this,
Jn(this,H=In(this,k,A)),H);break;default:hj(this,this._t0,H=In(this,k,A))}this._x0=this._x1;this._x1=k;this._y0=this._y1;this._y1=A;this._t0=H}}};(Kn.prototype=Object.create(Bg.prototype)).point=function(k,A){Bg.prototype.point.call(this,A,k)};Ln.prototype={moveTo:function(k,A){this._context.moveTo(A,k)},closePath:function(){this._context.closePath()},lineTo:function(k,A){this._context.lineTo(A,k)},bezierCurveTo:function(k,A,H,G,I,M){this._context.bezierCurveTo(A,k,G,H,M,I)}};Mn.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var k=this._x,A=this._y,H=k.length;if(H)if(this._line?this._context.lineTo(k[0],A[0]):this._context.moveTo(k[0],A[0]),2===H)this._context.lineTo(k[1],A[1]);else for(var G=Nn(k),I=Nn(A),M=0,W=1;W<H;++M,++W)this._context.bezierCurveTo(G[0][M],I[0][M],G[1][M],I[1][M],k[W],A[W]);(this._line||0!==this._line&&1===H)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(k,
A){this._x.push(+k);this._y.push(+A)}};Cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(k,A){k=+k;A=+A;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(k,
A):this._context.moveTo(k,A);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,A),this._context.lineTo(k,A);else{var H=this._x*(1-this._t)+k*this._t;this._context.lineTo(H,this._y);this._context.lineTo(H,A)}}this._x=k;this._y=A}};var Tg=function(k){return function(){return k}};Lc.prototype={constructor:Lc,scale:function(k){return 1===k?this:new Lc(this.k*k,this.x,this.y)},translate:function(k,A){return 0===k&0===A?this:new Lc(this.k,this.x+this.k*k,this.y+this.k*A)},apply:function(k){return[k[0]*
this.k+this.x,k[1]*this.k+this.y]},applyX:function(k){return k*this.k+this.x},applyY:function(k){return k*this.k+this.y},invert:function(k){return[(k[0]-this.x)/this.k,(k[1]-this.y)/this.k]},invertX:function(k){return(k-this.x)/this.k},invertY:function(k){return(k-this.y)/this.k},rescaleX:function(k){return k.copy().domain(k.range().map(this.invertX,this).map(k.invert,k))},rescaleY:function(k){return k.copy().domain(k.range().map(this.invertY,this).map(k.invert,k))},toString:function(){return"translate("+
this.x+","+this.y+") scale("+this.k+")"}};var Dg=new Lc(1,0,0);Rn.prototype=Lc.prototype;c.Adder=xb;c.Delaunay=Nb;c.FormatSpecifier=Jf;c.InternMap=bd;c.InternSet=af;c.Voronoi=yb;c.active=function(k,A){var H=k.__transition,G,I;if(H)for(I in A=null==A?null:A+"",H)if(1<(G=H[I]).state&&G.name===A)return new uc([[k]],lv,A,+I);return null};c.arc=function(){function k(){var ha,na=+A.apply(this,arguments),ta=+H.apply(this,arguments),Q=M.apply(this,arguments)-ug,aa=W.apply(this,arguments)-ug,oa=jp(aa-Q),ba=
aa>Q;fa||(fa=ha=Uc());if(ta<na){var wa=ta;ta=na;na=wa}if(1E-12<ta)if(oa>ad-1E-12)fa.moveTo(ta*Ad(Q),ta*Bc(Q)),fa.arc(0,0,ta,Q,aa,!ba),1E-12<na&&(fa.moveTo(na*Ad(aa),na*Bc(aa)),fa.arc(0,0,na,aa,Q,ba));else{var ja=Q,ya=aa;wa=Q;var za=aa,la=oa,Ca=oa,Na=S.apply(this,arguments)/2,Sa=1E-12<Na&&(I?+I.apply(this,arguments):ge(na*na+ta*ta)),db=sj(jp(ta-na)/2,+G.apply(this,arguments)),Za=db,nb=db;if(1E-12<Sa){var pb=un(Sa/na*Bc(Na));Na=un(Sa/ta*Bc(Na));1E-12<(la-=2*pb)?(pb*=ba?1:-1,wa+=pb,za-=pb):(la=0,wa=
za=(Q+aa)/2);1E-12<(Ca-=2*Na)?(Na*=ba?1:-1,ja+=Na,ya-=Na):(Ca=0,ja=ya=(Q+aa)/2)}Q=ta*Ad(ja);aa=ta*Bc(ja);pb=na*Ad(za);Na=na*Bc(za);if(1E-12<db){var va=ta*Ad(ya),Pa=ta*Bc(ya),Aa=na*Ad(wa),La=na*Bc(wa);if(oa=oa<$c){var Ha=Aa-Q;oa=La-aa;Sa=pb-va;var bb=Na-Pa,Wa=bb*Ha-Sa*oa;1E-12>Wa*Wa?Ha=void 0:(Wa=(Sa*(aa-Pa)-bb*(Q-va))/Wa,Ha=[Q+Wa*Ha,aa+Wa*oa]);oa=Ha}oa&&(Za=Q-Ha[0],nb=aa-Ha[1],oa=va-Ha[0],Sa=Pa-Ha[1],Za=(Za*oa+nb*Sa)/(ge(Za*Za+nb*nb)*ge(oa*oa+Sa*Sa)),nb=1/Bc((1<Za?0:-1>Za?$c:Math.acos(Za))/2),Ha=
ge(Ha[0]*Ha[0]+Ha[1]*Ha[1]),Za=sj(db,(na-Ha)/(nb-1)),nb=sj(db,(ta-Ha)/(nb+1)))}1E-12<Ca?1E-12<nb?(ja=vg(Aa,La,Q,aa,ta,nb,ba),ya=vg(va,Pa,pb,Na,ta,nb,ba),fa.moveTo(ja.cx+ja.x01,ja.cy+ja.y01),nb<db?fa.arc(ja.cx,ja.cy,nb,Pb(ja.y01,ja.x01),Pb(ya.y01,ya.x01),!ba):(fa.arc(ja.cx,ja.cy,nb,Pb(ja.y01,ja.x01),Pb(ja.y11,ja.x11),!ba),fa.arc(0,0,ta,Pb(ja.cy+ja.y11,ja.cx+ja.x11),Pb(ya.cy+ya.y11,ya.cx+ya.x11),!ba),fa.arc(ya.cx,ya.cy,nb,Pb(ya.y11,ya.x11),Pb(ya.y01,ya.x01),!ba))):(fa.moveTo(Q,aa),fa.arc(0,0,ta,ja,
ya,!ba)):fa.moveTo(Q,aa);1E-12<na&&1E-12<la?1E-12<Za?(ja=vg(pb,Na,va,Pa,na,-Za,ba),ya=vg(Q,aa,Aa,La,na,-Za,ba),fa.lineTo(ja.cx+ja.x01,ja.cy+ja.y01),Za<db?fa.arc(ja.cx,ja.cy,Za,Pb(ja.y01,ja.x01),Pb(ya.y01,ya.x01),!ba):(fa.arc(ja.cx,ja.cy,Za,Pb(ja.y01,ja.x01),Pb(ja.y11,ja.x11),!ba),fa.arc(0,0,na,Pb(ja.cy+ja.y11,ja.cx+ja.x11),Pb(ya.cy+ya.y11,ya.cx+ya.x11),ba),fa.arc(ya.cx,ya.cy,Za,Pb(ya.y11,ya.x11),Pb(ya.y01,ya.x01),!ba))):fa.arc(0,0,na,za,wa,ba):fa.lineTo(pb,Na)}else fa.moveTo(0,0);fa.closePath();if(ha)return fa=
null,ha+""||null}var A=yu,H=zu,G=$a(0),I=null,M=Au,W=Bu,S=Cu,fa=null;k.centroid=function(){var ha=(+A.apply(this,arguments)+ +H.apply(this,arguments))/2,na=(+M.apply(this,arguments)+ +W.apply(this,arguments))/2-$c/2;return[Ad(na)*ha,Bc(na)*ha]};k.innerRadius=function(ha){return arguments.length?(A="function"===typeof ha?ha:$a(+ha),k):A};k.outerRadius=function(ha){return arguments.length?(H="function"===typeof ha?ha:$a(+ha),k):H};k.cornerRadius=function(ha){return arguments.length?(G="function"===
typeof ha?ha:$a(+ha),k):G};k.padRadius=function(ha){return arguments.length?(I=null==ha?null:"function"===typeof ha?ha:$a(+ha),k):I};k.startAngle=function(ha){return arguments.length?(M="function"===typeof ha?ha:$a(+ha),k):M};k.endAngle=function(ha){return arguments.length?(W="function"===typeof ha?ha:$a(+ha),k):W};k.padAngle=function(ha){return arguments.length?(S="function"===typeof ha?ha:$a(+ha),k):S};k.context=function(ha){return arguments.length?(fa=null==ha?null:ha,k):fa};return k};c.area=wn;
c.areaRadial=An;c.ascending=m;c.autoType=function(k){for(var A in k){var H=k[A].trim(),G;if(H)if("true"===H)H=!0;else if("false"===H)H=!1;else if("NaN"===H)H=NaN;else if(isNaN(G=+H))if(G=H.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Bv&&G[4]&&!G[7]&&(H=H.replace(/-/g,"/").replace(/T/," ")),H=new Date(H);else continue;else H=G;else H=null;k[A]=H}return k};c.axisBottom=function(k){return gf(3,k)};c.axisLeft=function(k){return gf(4,k)};c.axisRight=
function(k){return gf(2,k)};c.axisTop=function(k){return gf(1,k)};c.bin=dd;c.bisect=Oc;c.bisectCenter=Wu;c.bisectLeft=Vu;c.bisectRight=Oc;c.bisector=v;c.blob=function(k,A){return fetch(k,A).then(Yr)};c.brush=function(){return Dh(mv)};c.brushSelection=function(k){return(k=k.__brush)?k.dim.output(k.selection):null};c.brushX=function(){return Dh(Cf)};c.brushY=function(){return Dh(Bf)};c.buffer=function(k,A){return fetch(k,A).then(Zr)};c.chord=function(){return Hh(!1,!1)};c.chordDirected=function(){return Hh(!0,
!1)};c.chordTranspose=function(){return Hh(!1,!0)};c.cluster=function(){function k(M){var W,S=0;M.eachAfter(function(Q){var aa=Q.children;if(aa){var oa=aa.reduce(Vs,0)/aa.length;Q.x=oa;Q.y=1+aa.reduce(Ws,0)}else Q.x=W?S+=A(Q,W):0,Q.y=0,W=Q});var fa=Xs(M),ha=Ys(M),na=fa.x-A(fa,ha)/2,ta=ha.x+A(ha,fa)/2;return M.eachAfter(I?function(Q){Q.x=(Q.x-M.x)*H;Q.y=(M.y-Q.y)*G}:function(Q){Q.x=(Q.x-na)/(ta-na)*H;Q.y=(1-(M.y?Q.y/M.y:1))*G})}var A=Us,H=1,G=1,I=!1;k.separation=function(M){return arguments.length?
(A=M,k):A};k.size=function(M){return arguments.length?(I=!1,H=+M[0],G=+M[1],k):I?null:[H,G]};k.nodeSize=function(M){return arguments.length?(I=!0,H=+M[0],G=+M[1],k):I?[H,G]:null};return k};c.color=Rc;c.contourDensity=function(){function k(ja){var ya=new Float32Array(oa*ba),za=new Float32Array(oa*ba);ja.forEach(function(la,Ca,Na){var Sa=+W(la,Ca,Na)+aa>>Q,db=+S(la,Ca,Na)+aa>>Q;la=+fa(la,Ca,Na);0<=Sa&&Sa<oa&&0<=db&&db<ba&&(ya[Sa+db*oa]+=la)});Jh({width:oa,height:ba,data:ya},{width:oa,height:ba,data:za},
ta>>Q);Kh({width:oa,height:ba,data:za},{width:oa,height:ba,data:ya},ta>>Q);Jh({width:oa,height:ba,data:ya},{width:oa,height:ba,data:za},ta>>Q);Kh({width:oa,height:ba,data:za},{width:oa,height:ba,data:ya},ta>>Q);Jh({width:oa,height:ba,data:ya},{width:oa,height:ba,data:za},ta>>Q);Kh({width:oa,height:ba,data:za},{width:oa,height:ba,data:ya},ta>>Q);ja=wa(ya);Array.isArray(ja)||(za=Cc(ya),ja=rb(0,za,ja),ja=Yb(0,Math.floor(za/ja)*ja,ja),ja.shift());return Kk().thresholds(ja).size([oa,ba])(ya).map(A)}function A(ja){ja.value*=
Math.pow(2,-2*Q);ja.coordinates.forEach(H);return ja}function H(ja){ja.forEach(G)}function G(ja){ja.forEach(I)}function I(ja){ja[0]=ja[0]*Math.pow(2,Q)-aa;ja[1]=ja[1]*Math.pow(2,Q)-aa}function M(){aa=3*ta;oa=ha+2*aa>>Q;ba=na+2*aa>>Q;return k}var W=Or,S=Pr,fa=Qr,ha=960,na=500,ta=20,Q=2,aa=3*ta,oa=ha+2*aa>>Q,ba=na+2*aa>>Q,wa=Vc(20);k.x=function(ja){return arguments.length?(W="function"===typeof ja?ja:Vc(+ja),k):W};k.y=function(ja){return arguments.length?(S="function"===typeof ja?ja:Vc(+ja),k):S};k.weight=
function(ja){return arguments.length?(fa="function"===typeof ja?ja:Vc(+ja),k):fa};k.size=function(ja){if(!arguments.length)return[ha,na];var ya=+ja[0],za=+ja[1];if(!(0<=ya&&0<=za))throw Error("invalid size");return ha=ya,na=za,M()};k.cellSize=function(ja){if(!arguments.length)return 1<<Q;if(!(1<=(ja=+ja)))throw Error("invalid cell size");return Q=Math.floor(Math.log(ja)/Math.LN2),M()};k.thresholds=function(ja){return arguments.length?(wa="function"===typeof ja?ja:Array.isArray(ja)?Vc(Lk.call(ja)):
Vc(ja),k):wa};k.bandwidth=function(ja){if(!arguments.length)return Math.sqrt(ta*(ta+1));if(!(0<=(ja=+ja)))throw Error("invalid bandwidth");return ta=Math.round((Math.sqrt(4*ja*ja+1)-1)/2),M()};return k};c.contours=Kk;c.count=J;c.create=function(k){return Kb(jf(k).call(document.documentElement))};c.creator=jf;c.cross=function(k){for(var A=[],H=0;H<arguments.length;++H)A[H-0]=arguments[H];var G=A;A="function"===typeof G[G.length-1]&&da(G.pop());G=G.map(Z);H=G.map(N);var I=G.length-1,M=Array(I+1).fill(0),
W=[];if(0>I||H.some(K))return W;for(;;){W.push(M.map(function(fa,ha){return G[ha][fa]}));for(var S=I;++M[S]===H[S];){if(0===S)return A?W.map(A):W;M[S--]=0}}};c.csv=Cv;c.csvFormat=qv;c.csvFormatBody=rv;c.csvFormatRow=tv;c.csvFormatRows=sv;c.csvFormatValue=uv;c.csvParse=fo;c.csvParseRows=pv;c.cubehelix=lc;c.cumsum=function(k,A){var H=0,G=0;return Float64Array.from(k,void 0===A?function(I){return H+=+I||0}:function(I){return H+=+A(I,G++,k)||0})};c.curveBasis=function(k){return new zg(k)};c.curveBasisClosed=
function(k){return new Bn(k)};c.curveBasisOpen=function(k){return new Cn(k)};c.curveBumpX=function(k){return new Bd(k,!0)};c.curveBumpY=function(k){return new Bd(k,!1)};c.curveBundle=qx;c.curveCardinal=rx;c.curveCardinalClosed=sx;c.curveCardinalOpen=tx;c.curveCatmullRom=ux;c.curveCatmullRomClosed=vx;c.curveCatmullRomOpen=wx;c.curveLinear=xg;c.curveLinearClosed=function(k){return new Hn(k)};c.curveMonotoneX=function(k){return new Bg(k)};c.curveMonotoneY=function(k){return new Kn(k)};c.curveNatural=
function(k){return new Mn(k)};c.curveStep=function(k){return new Cg(k,.5)};c.curveStepAfter=function(k){return new Cg(k,1)};c.curveStepBefore=function(k){return new Cg(k,0)};c.descending=function(k,A){return A<k?-1:A>k?1:A>=k?0:NaN};c.deviation=ca;c.difference=function(k,A){for(var H=[],G=1;G<arguments.length;++G)H[G-1]=arguments[G];k=new Set(k);H=$jscomp.makeIterator(H);for(G=H.next();!G.done;G=H.next()){G=$jscomp.makeIterator(G.value);for(var I=G.next();!I.done;I=G.next())k.delete(I.value)}return k};
c.disjoint=function(k,A){var H=A[Symbol.iterator]();A=new Set;var G={};k=$jscomp.makeIterator(k);for(var I=k.next();!I.done;G={$jscomp$loop$prop$value$280:G.$jscomp$loop$prop$value$280,$jscomp$loop$prop$done$281:G.$jscomp$loop$prop$done$281},I=k.next()){I=I.value;if(A.has(I))return!1;G.$jscomp$loop$prop$value$280=void 0;for(G.$jscomp$loop$prop$done$281=void 0;function(M){return function(){var W=H.next();M.$jscomp$loop$prop$value$280=W.value;M.$jscomp$loop$prop$done$281=W.done;return W}}(G)()&&!G.$jscomp$loop$prop$done$281;){if(Object.is(I,
G.$jscomp$loop$prop$value$280))return!1;A.add(G.$jscomp$loop$prop$value$280)}}return!0};c.dispatch=hd;c.drag=function(){function k(la){la.on("mousedown.drag",A).filter(ta).on("touchstart.drag",I).on("touchmove.drag",M).on("touchend.drag touchcancel.drag",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(la,Ca){!ya&&fa.call(this,la,Ca)&&(Ca=S(this,ha.call(this,la,Ca),la,Ca,"mouse"))&&(Kb(la.view).on("mousemove.drag",H,!0).on("mouseup.drag",G,!0),mf(la.view),
la.stopImmediatePropagation(),ja=!1,ba=la.clientX,wa=la.clientY,Ca("start",la))}function H(la){Fd(la);if(!ja){var Ca=la.clientX-ba,Na=la.clientY-wa;ja=Ca*Ca+Na*Na>za}Q.mouse("drag",la)}function G(la){Kb(la.view).on("mousemove.drag mouseup.drag",null);nf(la.view,ja);Fd(la);Q.mouse("end",la)}function I(la,Ca){if(fa.call(this,la,Ca)){var Na=la.changedTouches,Sa=ha.call(this,la,Ca),db=Na.length,Za,nb;for(Za=0;Za<db;++Za)if(nb=S(this,Sa,la,Ca,Na[Za].identifier,Na[Za]))la.stopImmediatePropagation(),nb("start",
la,Na[Za])}}function M(la){var Ca=la.changedTouches,Na=Ca.length,Sa,db;for(Sa=0;Sa<Na;++Sa)if(db=Q[Ca[Sa].identifier])Fd(la),db("drag",la,Ca[Sa])}function W(la){var Ca=la.changedTouches,Na=Ca.length,Sa,db;ya&&clearTimeout(ya);ya=setTimeout(function(){ya=null},500);for(Sa=0;Sa<Na;++Sa)if(db=Q[Ca[Sa].identifier])la.stopImmediatePropagation(),db("end",la,Ca[Sa])}function S(la,Ca,Na,Sa,db,Za){var nb=aa.copy(),pb=ac(Za||Na,Ca),va;if(null!=(va=na.call(la,new jh("beforestart",{sourceEvent:Na,target:k,identifier:db,
active:oa,x:pb[0],y:pb[1],dx:0,dy:0,dispatch:nb}),Sa))){var Pa=va.x-pb[0]||0;var Aa=va.y-pb[1]||0;return function ib(Ha,bb,Wa){var zb=pb;switch(Ha){case "start":Q[db]=ib;var vb=oa++;break;case "end":delete Q[db],--oa;case "drag":pb=ac(Wa||bb,Ca),vb=oa}nb.call(Ha,la,new jh(Ha,{sourceEvent:bb,subject:va,target:k,identifier:db,active:vb,x:pb[0]+Pa,y:pb[1]+Aa,dx:pb[0]-zb[0],dy:pb[1]-zb[1],dispatch:nb}),Sa)}}}var fa=uq,ha=vq,na=wq,ta=xq,Q={},aa=hd("start","drag","end"),oa=0,ba,wa,ja,ya,za=0;k.filter=function(la){return arguments.length?
(fa="function"===typeof la?la:Eg(!!la),k):fa};k.container=function(la){return arguments.length?(ha="function"===typeof la?la:Eg(la),k):ha};k.subject=function(la){return arguments.length?(na="function"===typeof la?la:Eg(la),k):na};k.touchable=function(la){return arguments.length?(ta="function"===typeof la?la:Eg(!!la),k):ta};k.on=function(){var la=aa.on.apply(aa,arguments);return la===aa?k:la};k.clickDistance=function(la){return arguments.length?(za=(la=+la)*la,k):Math.sqrt(za)};return k};c.dragDisable=
mf;c.dragEnable=nf;c.dsv=function(k,A,H,G){3===arguments.length&&"function"===typeof H&&(G=H,H=void 0);var I=Ff(k);return Gf(A,H).then(function(M){return I.parse(M,G)})};c.dsvFormat=Ff;c.easeBack=ao;c.easeBackIn=gv;c.easeBackInOut=ao;c.easeBackOut=hv;c.easeBounce=ye;c.easeBounceIn=function(k){return 1-ye(1-k)};c.easeBounceInOut=function(k){return(1>=(k*=2)?1-ye(1-k):ye(k-1)+1)/2};c.easeBounceOut=ye;c.easeCircle=zk;c.easeCircleIn=function(k){return 1-Math.sqrt(1-k*k)};c.easeCircleInOut=zk;c.easeCircleOut=
function(k){return Math.sqrt(1- --k*k)};c.easeCubic=zh;c.easeCubicIn=function(k){return k*k*k};c.easeCubicInOut=zh;c.easeCubicOut=function(k){return--k*k*k+1};c.easeElastic=bo;c.easeElasticIn=iv;c.easeElasticInOut=jv;c.easeElasticOut=bo;c.easeExp=yk;c.easeExpIn=function(k){return Tc(1-+k)};c.easeExpInOut=yk;c.easeExpOut=function(k){return 1-Tc(k)};c.easeLinear=function(k){return+k};c.easePoly=Zn;c.easePolyIn=ev;c.easePolyInOut=Zn;c.easePolyOut=fv;c.easeQuad=vk;c.easeQuadIn=function(k){return k*k};
c.easeQuadInOut=vk;c.easeQuadOut=function(k){return k*(2-k)};c.easeSin=wk;c.easeSinIn=function(k){return 1===+k?1:1-Math.cos(k*$n)};c.easeSinInOut=wk;c.easeSinOut=function(k){return Math.sin(k*$n)};c.every=function(k,A){if("function"!==typeof A)throw new TypeError("test is not a function");for(var H=-1,G=$jscomp.makeIterator(k),I=G.next();!I.done;I=G.next())if(!A(I.value,++H,k))return!1;return!0};c.extent=sa;c.fcumsum=function(k,A){var H=new xb,G=-1;return Float64Array.from(k,void 0===A?function(I){return H.add(+I||
0)}:function(I){return H.add(+A(I,++G,k)||0)})};c.filter=function(k,A){if("function"!==typeof A)throw new TypeError("test is not a function");for(var H=[],G=-1,I=$jscomp.makeIterator(k),M=I.next();!M.done;M=I.next())M=M.value,A(M,++G,k)&&H.push(M);return H};c.forceCenter=function(k,A){function H(){var M,W=G.length,S=0,fa=0;for(M=0;M<W;++M){var ha=G[M];S+=ha.x;fa+=ha.y}S=(S/W-k)*I;fa=(fa/W-A)*I;for(M=0;M<W;++M)ha=G[M],ha.x-=S,ha.y-=fa}var G,I=1;null==k&&(k=0);null==A&&(A=0);H.initialize=function(M){G=
M};H.x=function(M){return arguments.length?(k=+M,H):k};H.y=function(M){return arguments.length?(A=+M,H):A};H.strength=function(M){return arguments.length?(I=+M,H):I};return H};c.forceCollide=function(k){function A(){function ha(za,la,Ca,Na,Sa){var db=za.data;za=za.r;var Za=wa+za;if(db)db.index>aa.index&&(la=oa-db.x-db.vx,Ca=ba-db.y-db.vy,Na=la*la+Ca*Ca,Na<Za*Za&&(0===la&&(la=1E-6*(W()-.5),Na+=la*la),0===Ca&&(Ca=1E-6*(W()-.5),Na+=Ca*Ca),Na=(Za-(Na=Math.sqrt(Na)))/Na*S,aa.vx+=(la*=Na)*(Za=(za*=za)/
(ja+za)),aa.vy+=(Ca*=Na)*Za,db.vx-=la*(Za=1-Za),db.vy-=Ca*Za));else return la>oa+Za||Na<oa-Za||Ca>ba+Za||Sa<ba-Za}for(var na,ta=I.length,Q,aa,oa,ba,wa,ja,ya=0;ya<fa;++ya)for(Q=Hf(I,ds,es).visitAfter(H),na=0;na<ta;++na)aa=I[na],wa=M[aa.index],ja=wa*wa,oa=aa.x+aa.vx,ba=aa.y+aa.vy,Q.visit(ha)}function H(ha){if(ha.data)return ha.r=M[ha.data.index];for(var na=ha.r=0;4>na;++na)ha[na]&&ha[na].r>ha.r&&(ha.r=ha[na].r)}function G(){if(I){var ha,na=I.length;M=Array(na);for(ha=0;ha<na;++ha){var ta=I[ha];M[ta.index]=
+k(ta,ha,I)}}}var I,M,W,S=1,fa=1;"function"!==typeof k&&(k=Bb(null==k?1:+k));A.initialize=function(ha,na){I=ha;W=na;G()};A.iterations=function(ha){return arguments.length?(fa=+ha,A):fa};A.strength=function(ha){return arguments.length?(S=+ha,A):S};A.radius=function(ha){return arguments.length?(k="function"===typeof ha?ha:Bb(+ha),G(),A):k};return A};c.forceLink=function(k){function A(ba){for(var wa=0,ja=k.length;wa<oa;++wa)for(var ya=0,za,la,Ca,Na,Sa;ya<ja;++ya)za=k[ya],la=za.source,za=za.target,Ca=
za.x+za.vx-la.x-la.vx||1E-6*(aa()-.5),Na=za.y+za.vy-la.y-la.vy||1E-6*(aa()-.5),Sa=Math.sqrt(Ca*Ca+Na*Na),Sa=(Sa-ha[ya])/Sa*ba*S[ya],Ca*=Sa,Na*=Sa,za.vx-=Ca*(Sa=Q[ya]),za.vy-=Na*Sa,la.vx+=Ca*(Sa=1-Sa),la.vy+=Na*Sa}function H(){if(na){var ba=na.length,wa=k.length,ja=new Map(na.map(function(za,la){return[M(za,la,na),za]}));var ya=0;for(ta=Array(ba);ya<wa;++ya)ba=k[ya],ba.index=ya,"object"!==typeof ba.source&&(ba.source=Tk(ja,ba.source)),"object"!==typeof ba.target&&(ba.target=Tk(ja,ba.target)),ta[ba.source.index]=
(ta[ba.source.index]||0)+1,ta[ba.target.index]=(ta[ba.target.index]||0)+1;ya=0;for(Q=Array(wa);ya<wa;++ya)ba=k[ya],Q[ya]=ta[ba.source.index]/(ta[ba.source.index]+ta[ba.target.index]);S=Array(wa);G();ha=Array(wa);I()}}function G(){if(na)for(var ba=0,wa=k.length;ba<wa;++ba)S[ba]=+W(k[ba],ba,k)}function I(){if(na)for(var ba=0,wa=k.length;ba<wa;++ba)ha[ba]=+fa(k[ba],ba,k)}var M=fs,W=function(ba){return 1/Math.min(ta[ba.source.index],ta[ba.target.index])},S,fa=Bb(30),ha,na,ta,Q,aa,oa=1;null==k&&(k=[]);
A.initialize=function(ba,wa){na=ba;aa=wa;H()};A.links=function(ba){return arguments.length?(k=ba,H(),A):k};A.id=function(ba){return arguments.length?(M=ba,A):M};A.iterations=function(ba){return arguments.length?(oa=+ba,A):oa};A.strength=function(ba){return arguments.length?(W="function"===typeof ba?ba:Bb(+ba),G(),A):W};A.distance=function(ba){return arguments.length?(fa="function"===typeof ba?ba:Bb(+ba),I(),A):fa};return A};c.forceManyBody=function(){function k(aa){var oa=I.length,ba=Hf(I,hs,is).visitAfter(H);
S=aa;for(aa=0;aa<oa;++aa)M=I[aa],ba.visit(G)}function A(){if(I){var aa,oa=I.length;ha=Array(oa);for(aa=0;aa<oa;++aa){var ba=I[aa];ha[ba.index]=+fa(ba,aa,I)}}}function H(aa){var oa=0,ba,wa,ja=0,ya,za,la;if(aa.length){for(ya=za=la=0;4>la;++la)(ba=aa[la])&&(wa=Math.abs(ba.value))&&(oa+=ba.value,ja+=wa,ya+=wa*ba.x,za+=wa*ba.y);aa.x=ya/ja;aa.y=za/ja}else{ba=aa;ba.x=ba.data.x;ba.y=ba.data.y;do oa+=ha[ba.data.index];while(ba=ba.next)}aa.value=oa}function G(aa,oa,ba,wa){if(!aa.value)return!0;ba=aa.x-M.x;
var ja=aa.y-M.y;oa=wa-oa;wa=ba*ba+ja*ja;if(oa*oa/Q<wa)return wa<ta&&(0===ba&&(ba=1E-6*(W()-.5),wa+=ba*ba),0===ja&&(ja=1E-6*(W()-.5),wa+=ja*ja),wa<na&&(wa=Math.sqrt(na*wa)),M.vx+=ba*aa.value*S/wa,M.vy+=ja*aa.value*S/wa),!0;if(!(aa.length||wa>=ta)){if(aa.data!==M||aa.next)0===ba&&(ba=1E-6*(W()-.5),wa+=ba*ba),0===ja&&(ja=1E-6*(W()-.5),wa+=ja*ja),wa<na&&(wa=Math.sqrt(na*wa));do aa.data!==M&&(oa=ha[aa.data.index]*S/wa,M.vx+=ba*oa,M.vy+=ja*oa);while(aa=aa.next)}}var I,M,W,S,fa=Bb(-30),ha,na=1,ta=Infinity,
Q=.81;k.initialize=function(aa,oa){I=aa;W=oa;A()};k.strength=function(aa){return arguments.length?(fa="function"===typeof aa?aa:Bb(+aa),A(),k):fa};k.distanceMin=function(aa){return arguments.length?(na=aa*aa,k):Math.sqrt(na)};k.distanceMax=function(aa){return arguments.length?(ta=aa*aa,k):Math.sqrt(ta)};k.theta=function(aa){return arguments.length?(Q=aa*aa,k):Math.sqrt(Q)};return k};c.forceRadial=function(k,A,H){function G(ha){for(var na=0,ta=M.length;na<ta;++na){var Q=M[na],aa=Q.x-A||1E-6,oa=Q.y-
H||1E-6,ba=Math.sqrt(aa*aa+oa*oa);ba=(fa[na]-ba)*S[na]*ha/ba;Q.vx+=aa*ba;Q.vy+=oa*ba}}function I(){if(M){var ha,na=M.length;S=Array(na);fa=Array(na);for(ha=0;ha<na;++ha)fa[ha]=+k(M[ha],ha,M),S[ha]=isNaN(fa[ha])?0:+W(M[ha],ha,M)}}var M,W=Bb(.1),S,fa;"function"!==typeof k&&(k=Bb(+k));null==A&&(A=0);null==H&&(H=0);G.initialize=function(ha){M=ha;I()};G.strength=function(ha){return arguments.length?(W="function"===typeof ha?ha:Bb(+ha),I(),G):W};G.radius=function(ha){return arguments.length?(k="function"===
typeof ha?ha:Bb(+ha),I(),G):k};G.x=function(ha){return arguments.length?(A=+ha,G):A};G.y=function(ha){return arguments.length?(H=+ha,G):H};return G};c.forceSimulation=function(k){function A(){H();aa.call("tick",M);W<S&&(Q.stop(),aa.call("end",M))}function H(ba){var wa,ja=k.length;void 0===ba&&(ba=1);for(var ya=0;ya<ba;++ya)for(W+=(ha-W)*fa,ta.forEach(function(la){la(W)}),wa=0;wa<ja;++wa){var za=k[wa];null==za.fx?za.x+=za.vx*=na:(za.x=za.fx,za.vx=0);null==za.fy?za.y+=za.vy*=na:(za.y=za.fy,za.vy=0)}return M}
function G(){for(var ba=0,wa=k.length,ja;ba<wa;++ba){ja=k[ba];ja.index=ba;null!=ja.fx&&(ja.x=ja.fx);null!=ja.fy&&(ja.y=ja.fy);if(isNaN(ja.x)||isNaN(ja.y)){var ya=10*Math.sqrt(.5+ba),za=ba*Hv;ja.x=ya*Math.cos(za);ja.y=ya*Math.sin(za)}if(isNaN(ja.vx)||isNaN(ja.vy))ja.vx=ja.vy=0}}function I(ba){ba.initialize&&ba.initialize(k,oa);return ba}var M,W=1,S=.001,fa=1-Math.pow(S,1/300),ha=0,na=.6,ta=new Map,Q=wf(A),aa=hd("tick","end"),oa=gs();null==k&&(k=[]);G();return M={tick:H,restart:function(){return Q.restart(A),
M},stop:function(){return Q.stop(),M},nodes:function(ba){return arguments.length?(k=ba,G(),ta.forEach(I),M):k},alpha:function(ba){return arguments.length?(W=+ba,M):W},alphaMin:function(ba){return arguments.length?(S=+ba,M):S},alphaDecay:function(ba){return arguments.length?(fa=+ba,M):+fa},alphaTarget:function(ba){return arguments.length?(ha=+ba,M):ha},velocityDecay:function(ba){return arguments.length?(na=1-ba,M):1-na},randomSource:function(ba){return arguments.length?(oa=ba,ta.forEach(I),M):oa},
force:function(ba,wa){return 1<arguments.length?(null==wa?ta.delete(ba):ta.set(ba,I(wa)),M):ta.get(ba)},find:function(ba,wa,ja){var ya,za=k.length;ja=null==ja?Infinity:ja*ja;for(ya=0;ya<za;++ya){var la=k[ya];var Ca=ba-la.x;var Na=wa-la.y;Ca=Ca*Ca+Na*Na;if(Ca<ja){var Sa=la;ja=Ca}}return Sa},on:function(ba,wa){return 1<arguments.length?(aa.on(ba,wa),M):aa.on(ba)}}};c.forceX=function(k){function A(S){for(var fa=0,ha=I.length,na;fa<ha;++fa)na=I[fa],na.vx+=(W[fa]-na.x)*M[fa]*S}function H(){if(I){var S,
fa=I.length;M=Array(fa);W=Array(fa);for(S=0;S<fa;++S)M[S]=isNaN(W[S]=+k(I[S],S,I))?0:+G(I[S],S,I)}}var G=Bb(.1),I,M,W;"function"!==typeof k&&(k=Bb(null==k?0:+k));A.initialize=function(S){I=S;H()};A.strength=function(S){return arguments.length?(G="function"===typeof S?S:Bb(+S),H(),A):G};A.x=function(S){return arguments.length?(k="function"===typeof S?S:Bb(+S),H(),A):k};return A};c.forceY=function(k){function A(S){for(var fa=0,ha=I.length,na;fa<ha;++fa)na=I[fa],na.vy+=(W[fa]-na.y)*M[fa]*S}function H(){if(I){var S,
fa=I.length;M=Array(fa);W=Array(fa);for(S=0;S<fa;++S)M[S]=isNaN(W[S]=+k(I[S],S,I))?0:+G(I[S],S,I)}}var G=Bb(.1),I,M,W;"function"!==typeof k&&(k=Bb(null==k?0:+k));A.initialize=function(S){I=S;H()};A.strength=function(S){return arguments.length?(G="function"===typeof S?S:Bb(+S),H(),A):G};A.y=function(S){return arguments.length?(k="function"===typeof S?S:Bb(+S),H(),A):k};return A};c.formatDefaultLocale=al;c.formatLocale=Wk;c.formatSpecifier=Be;c.fsum=function(k,A){var H=new xb;if(void 0===A){k=$jscomp.makeIterator(k);
for(var G=k.next();!G.done;G=k.next())A=G.value,(A=+A)&&H.add(A)}else{var I=-1,M=$jscomp.makeIterator(k);for(G=M.next();!G.done;G=M.next())G=G.value,(G=+A(G,++I,k))&&H.add(G)}return+H};c.geoAlbers=jm;c.geoAlbersUsa=function(){function k(Q){var aa=Q[0];Q=Q[1];return na=null,(M.point(aa,Q),na)||(S.point(aa,Q),na)||(ha.point(aa,Q),na)}function A(){H=G=null;return k}var H,G,I=jm(),M,W=ig().rotate([154,0]).center([-2,58.5]).parallels([55,65]),S,fa=ig().rotate([157,0]).center([-3,19.9]).parallels([8,18]),
ha,na,ta={point:function(Q,aa){na=[Q,aa]}};k.invert=function(Q){var aa=I.scale(),oa=I.translate(),ba=(Q[0]-oa[0])/aa;aa=(Q[1]-oa[1])/aa;return(.12<=aa&&.234>aa&&-.425<=ba&&-.214>ba?W:.166<=aa&&.234>aa&&-.214<=ba&&-.115>ba?fa:I).invert(Q)};k.stream=function(Q){return H&&G===Q?H:H=Ts([I.stream(G=Q),W.stream(Q),fa.stream(Q)])};k.precision=function(Q){if(!arguments.length)return I.precision();I.precision(Q);W.precision(Q);fa.precision(Q);return A()};k.scale=function(Q){if(!arguments.length)return I.scale();
I.scale(Q);W.scale(.35*Q);fa.scale(Q);return k.translate(I.translate())};k.translate=function(Q){if(!arguments.length)return I.translate();var aa=I.scale(),oa=+Q[0],ba=+Q[1];M=I.translate(Q).clipExtent([[oa-.455*aa,ba-.238*aa],[oa+.455*aa,ba+.238*aa]]).stream(ta);S=W.translate([oa-.307*aa,ba+.201*aa]).clipExtent([[oa-.425*aa+1E-6,ba+.12*aa+1E-6],[oa-.214*aa-1E-6,ba+.234*aa-1E-6]]).stream(ta);ha=fa.translate([oa-.205*aa,ba+.212*aa]).clipExtent([[oa-.214*aa+1E-6,ba+.166*aa+1E-6],[oa-.115*aa-1E-6,ba+
.234*aa-1E-6]]).stream(ta);return A()};k.fitExtent=function(Q,aa){return Vd(k,Q,aa)};k.fitSize=function(Q,aa){return Vd(k,[[0,0],Q],aa)};k.fitWidth=function(Q,aa){return ri(k,Q,aa)};k.fitHeight=function(Q,aa){return si(k,Q,aa)};return k.scale(1070)};c.geoArea=function(k){Ig=new xb;nc(k,vc);return 2*Ig};c.geoAzimuthalEqualArea=function(){return yc(oj).scale(124.75).clipAngle(179.999)};c.geoAzimuthalEqualAreaRaw=oj;c.geoAzimuthalEquidistant=function(){return yc(pj).scale(79.4188).clipAngle(179.999)};
c.geoAzimuthalEquidistantRaw=pj;c.geoBounds=function(k){var A,H,G;bc=ub=-(tb=$b=Infinity);Wc=[];nc(k,Hc);if(A=Wc.length){Wc.sort(rs);k=1;var I=Wc[0];for(H=[I];k<A;++k){var M=Wc[k];sl(I,M[0])||sl(I,M[1])?(cc(I[0],M[1])>cc(I[0],I[1])&&(I[1]=M[1]),cc(M[0],I[1])>cc(I[0],I[1])&&(I[0]=M[0])):H.push(I=M)}var W=-Infinity;A=H.length-1;k=0;for(I=H[A];k<=A;I=M,++k)M=H[k],(G=cc(I[1],M[0]))>W&&(W=G,tb=M[0],ub=I[1])}Wc=Gc=null;return Infinity===tb||Infinity===$b?[[NaN,NaN],[NaN,NaN]]:[[tb,$b],[ub,bc]]};c.geoCentroid=
function(k){Ee=Vf=Sf=Tf=Uf=Wf=Xf=Yf=0;Yh=new xb;Zh=new xb;$h=new xb;nc(k,oc);k=+Yh;var A=+Zh,H=+$h,G=Xh(k,A,H);return 1E-12>G&&(k=Wf,A=Xf,H=Yf,1E-6>Vf&&(k=Sf,A=Tf,H=Uf),G=Xh(k,A,H),1E-12>G)?[NaN,NaN]:[Sb(A,k)*lb,Rb(H/G)*lb]};c.geoCircle=function(){function k(){var S=A.apply(this,arguments),fa=H.apply(this,arguments)*Ua,ha=G.apply(this,arguments)*Ua;I=[];M=ci(-S[0]*Ua,-S[1]*Ua,0).invert;Cl(W,fa,ha,1);S={type:"Polygon",coordinates:[I]};I=M=null;return S}var A=Sd([0,0]),H=Sd(90),G=Sd(6),I,M,W={point:function(S,
fa){I.push(S=M(S,fa));S[0]*=lb;S[1]*=lb}};k.center=function(S){return arguments.length?(A="function"===typeof S?S:Sd([+S[0],+S[1]]),k):A};k.radius=function(S){return arguments.length?(H="function"===typeof S?S:Sd(+S),k):H};k.precision=function(S){return arguments.length?(G="function"===typeof S?S:Sd(+S),k):G};return k};c.geoClipAntimeridian=ui;c.geoClipCircle=Jl;c.geoClipExtent=function(){var k=0,A=0,H=960,G=500,I,M,W;return W={stream:function(S){return I&&M===S?I:I=ag(k,A,H,G)(M=S)},extent:function(S){return arguments.length?
(k=+S[0][0],A=+S[0][1],H=+S[1][0],G=+S[1][1],I=M=null,W):[[k,A],[H,G]]}}};c.geoClipRectangle=ag;c.geoConicConformal=function(){return vi(mm).scale(109.5).parallels([30,30])};c.geoConicConformalRaw=mm;c.geoConicEqualArea=ig;c.geoConicEqualAreaRaw=im;c.geoConicEquidistant=function(){return vi(nm).scale(131.154).center([0,13.9389])};c.geoConicEquidistantRaw=nm;c.geoContains=function(k,A){return(k&&io.hasOwnProperty(k.type)?io[k.type]:dg)(k,A)};c.geoDistance=Fe;c.geoEqualEarth=function(){return yc(xi).scale(177.158)};
c.geoEqualEarthRaw=xi;c.geoEquirectangular=function(){return yc(Pe).scale(152.63)};c.geoEquirectangularRaw=Pe;c.geoGnomonic=function(){return yc(yi).scale(144.049).clipAngle(60)};c.geoGnomonicRaw=yi;c.geoGraticule=Rl;c.geoGraticule10=function(){return Rl()()};c.geoIdentity=function(){function k(){oa=H*M;ba=H*W;ya=za=null;return A}function A(la){var Ca=la[0]*oa;la=la[1]*ba;if(S){var Na=la*fa-Ca*ha;Ca=Ca*fa+la*ha;la=Na}return[Ca+G,la+I]}var H=1,G=0,I=0,M=1,W=1,S=0,fa,ha,na=null,ta,Q,aa,oa=1,ba=1,wa=
Le({point:function(la,Ca){la=A([la,Ca]);this.stream.point(la[0],la[1])}}),ja=Me,ya,za;A.invert=function(la){var Ca=la[0]-G;la=la[1]-I;if(S){var Na=la*fa+Ca*ha;Ca=Ca*fa-la*ha;la=Na}return[Ca/oa,la/ba]};A.stream=function(la){return ya&&za===la?ya:ya=wa(ja(za=la))};A.postclip=function(la){return arguments.length?(ja=la,na=ta=Q=aa=null,k()):ja};A.clipExtent=function(la){return arguments.length?(ja=null==la?(na=ta=Q=aa=null,Me):ag(na=+la[0][0],ta=+la[0][1],Q=+la[1][0],aa=+la[1][1]),k()):null==na?null:
[[na,ta],[Q,aa]]};A.scale=function(la){return arguments.length?(H=+la,k()):H};A.translate=function(la){return arguments.length?(G=+la[0],I=+la[1],k()):[G,I]};A.angle=function(la){return arguments.length?(S=la%360*Ua,ha=Oa(S),fa=Ra(S),k()):S*lb};A.reflectX=function(la){return arguments.length?(M=la?-1:1,k()):0>M};A.reflectY=function(la){return arguments.length?(W=la?-1:1,k()):0>W};A.fitExtent=function(la,Ca){return Vd(A,la,Ca)};A.fitSize=function(la,Ca){return Vd(A,[[0,0],la],Ca)};A.fitWidth=function(la,
Ca){return ri(A,la,Ca)};A.fitHeight=function(la,Ca){return si(A,la,Ca)};return A};c.geoInterpolate=function(k,A){var H=k[0]*Ua,G=k[1]*Ua;k=A[0]*Ua;A=A[1]*Ua;var I=Ra(G),M=Oa(G),W=Ra(A),S=Oa(A),fa=I*Ra(H),ha=I*Oa(H),na=W*Ra(k),ta=W*Oa(k),Q=2*Rb(Fb(fl(A-G)+I*W*fl(k-H))),aa=Oa(Q);k=Q?function(oa){var ba=Oa(oa*=Q)/aa,wa=Oa(Q-oa)/aa;oa=wa*fa+ba*na;var ja=wa*ha+ba*ta;ba=wa*M+ba*S;return[Sb(ja,oa)*lb,Sb(ba,Fb(oa*oa+ja*ja))*lb]}:function(){return[H*lb,G*lb]};k.distance=Q;return k};c.geoLength=Kl;c.geoMercator=
function(){return lm(Oe).scale(961/Wb)};c.geoMercatorRaw=Oe;c.geoNaturalEarth1=function(){return yc(zi).scale(175.295)};c.geoNaturalEarth1Raw=zi;c.geoOrthographic=function(){return yc(Ai).scale(249.5).clipAngle(90.000001)};c.geoOrthographicRaw=Ai;c.geoPath=function(k,A){function H(W){W&&("function"===typeof G&&M.pointRadius(+G.apply(this,arguments)),nc(W,I(M)));return M.result()}var G=4.5,I,M;H.area=function(W){nc(W,I(Ic));return Ic.result()};H.measure=function(W){nc(W,I(Ie));return Ie.result()};
H.bounds=function(W){nc(W,I(hg));return hg.result()};H.centroid=function(W){nc(W,I(gc));return gc.result()};H.projection=function(W){return arguments.length?(I=null==W?(k=null,Me):(k=W).stream,H):k};H.context=function(W){if(!arguments.length)return A;M=null==W?(A=null,new dm):new $l(A=W);"function"!==typeof G&&M.pointRadius(G);return H};H.pointRadius=function(W){if(!arguments.length)return G;G="function"===typeof W?W:(M.pointRadius(+W),+W);return H};return H.projection(k).context(A)};c.geoProjection=
yc;c.geoProjectionMutator=ti;c.geoRotation=Bl;c.geoStereographic=function(){return yc(Bi).scale(250).clipAngle(142)};c.geoStereographicRaw=Bi;c.geoStream=nc;c.geoTransform=function(k){return{stream:Le(k)}};c.geoTransverseMercator=function(){var k=lm(Ci),A=k.center,H=k.rotate;k.center=function(G){return arguments.length?A([-G[1],G[0]]):(G=A(),[G[1],-G[0]])};k.rotate=function(G){return arguments.length?H([G[0],G[1],2<G.length?G[2]+90:90]):(G=H(),[G[0],G[1],G[2]-90])};return H([0,0,90]).scale(159.155)};
c.geoTransverseMercatorRaw=Ci;c.gray=function(k,A){return new kc(k,0,0,null==A?1:A)};c.greatest=function(k,A){A=void 0===A?m:A;var H=!1;if(1===A.length){k=$jscomp.makeIterator(k);for(var G=k.next();!G.done;G=k.next()){G=G.value;var I=A(G);if(H?0<m(I,W):0===m(I,I)){var M=G;var W=I;H=!0}}}else for(W=$jscomp.makeIterator(k),k=W.next();!k.done;k=W.next())if(k=k.value,H?0<A(k,M):0===A(k,k))M=k,H=!0;return M};c.greatestIndex=function(k,A){A=void 0===A?m:A;if(1===A.length)return fd(k,A);var H=-1,G=-1;k=
$jscomp.makeIterator(k);for(var I=k.next();!I.done;I=k.next())if(I=I.value,++G,0>H?0===A(I,I):0<A(I,M)){var M=I;H=G}return H};c.group=Ia;c.groupSort=function(k,A,H){return(1===A.length?jb(Xa(k,A,H),function(G,I){var M=$jscomp.makeIterator(G);G=M.next().value;M=M.next().value;var W=$jscomp.makeIterator(I);I=W.next().value;W=W.next().value;return m(M,W)||m(G,I)}):jb(Ia(k,H),function(G,I){var M=$jscomp.makeIterator(G);G=M.next().value;M=M.next().value;var W=$jscomp.makeIterator(I);I=W.next().value;W=
W.next().value;return A(M,W)||m(G,I)})).map(function(G){return $jscomp.makeIterator(G).next().value})};c.groups=function(k,A){for(var H=[],G=1;G<arguments.length;++G)H[G-1]=arguments[G];return Ya(k,Array.from,Ea,H)};c.hcl=rf;c.hierarchy=Di;c.histogram=dd;c.hsl=pf;c.html=Fv;c.image=function(k,A){return new Promise(function(H,G){var I=new Image,M;for(M in A)I[M]=A[M];I.onerror=G;I.onload=function(){H(I)};I.src=k})};c.index=function(k,A){for(var H=[],G=1;G<arguments.length;++G)H[G-1]=arguments[G];return Ya(k,
Ea,Ta,H)};c.indexes=function(k,A){for(var H=[],G=1;G<arguments.length;++G)H[G-1]=arguments[G];return Ya(k,Array.from,Ta,H)};c.interpolate=Sc;c.interpolateArray=function(k,A){return(dk(A)?rh:ek)(k,A)};c.interpolateBasis=Zj;c.interpolateBasisClosed=ak;c.interpolateBlues=Xw;c.interpolateBrBG=Cw;c.interpolateBuGn=Lw;c.interpolateBuPu=Mw;c.interpolateCividis=function(k){k=Math.max(0,Math.min(1,k));return"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-k*(35.34-k*(2381.73-k*(6402.7-k*(7024.72-2710.57*k)))))))+
", "+Math.max(0,Math.min(255,Math.round(32.49+k*(170.73+k*(52.82-k*(131.46-k*(176.58-67.37*k)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+k*(442.36-k*(2482.43-k*(6167.24-k*(6614.94-2475.67*k)))))))+")"};c.interpolateCool=ex;c.interpolateCubehelix=cv;c.interpolateCubehelixDefault=cx;c.interpolateCubehelixLong=Gg;c.interpolateDate=fk;c.interpolateDiscrete=function(k){var A=k.length;return function(H){return k[Math.max(0,Math.min(A-1,Math.floor(H*A)))]}};c.interpolateGnBu=Nw;c.interpolateGreens=
Yw;c.interpolateGreys=Zw;c.interpolateHcl=av;c.interpolateHclLong=bv;c.interpolateHsl=Zu;c.interpolateHslLong=$u;c.interpolateHue=function(k,A){var H=sf(+k,+A);return function(G){G=H(G);return G-360*Math.floor(G/360)}};c.interpolateInferno=jx;c.interpolateLab=function(k,A){var H=Eb((k=qf(k)).l,(A=qf(A)).l),G=Eb(k.a,A.a),I=Eb(k.b,A.b),M=Eb(k.opacity,A.opacity);return function(W){k.l=H(W);k.a=G(W);k.b=I(W);k.opacity=M(W);return k+""}};c.interpolateMagma=ix;c.interpolateNumber=ec;c.interpolateNumberArray=
rh;c.interpolateObject=gk;c.interpolateOrRd=Ow;c.interpolateOranges=bx;c.interpolatePRGn=Dw;c.interpolatePiYG=Ew;c.interpolatePlasma=kx;c.interpolatePuBu=Qw;c.interpolatePuBuGn=Pw;c.interpolatePuOr=Fw;c.interpolatePuRd=Rw;c.interpolatePurples=$w;c.interpolateRainbow=function(k){if(0>k||1<k)k-=Math.floor(k);var A=Math.abs(k-.5);Rg.h=360*k-100;Rg.s=1.5-1.5*A;Rg.l=.8-.9*A;return Rg+""};c.interpolateRdBu=Gw;c.interpolateRdGy=Hw;c.interpolateRdPu=Sw;c.interpolateRdYlBu=Iw;c.interpolateRdYlGn=Jw;c.interpolateReds=
ax;c.interpolateRgb=re;c.interpolateRgbBasis=Un;c.interpolateRgbBasisClosed=Yu;c.interpolateRound=uf;c.interpolateSinebow=function(k){var A;k=(.5-k)*Math.PI;Sg.r=255*(A=Math.sin(k))*A;Sg.g=255*(A=Math.sin(k+fx))*A;Sg.b=255*(A=Math.sin(k+gx))*A;return Sg+""};c.interpolateSpectral=Kw;c.interpolateString=sh;c.interpolateTransformCss=Vn;c.interpolateTransformSvg=Wn;c.interpolateTurbo=function(k){k=Math.max(0,Math.min(1,k));return"rgb("+Math.max(0,Math.min(255,Math.round(34.61+k*(1172.33-k*(10793.56-k*
(33300.12-k*(38394.49-14825.05*k)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+k*(557.33+k*(1225.33-k*(3574.96-k*(1073.77+707.56*k)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+k*(3211.1-k*(15327.97-k*(27814-k*(22569.18-6838.66*k)))))))+")"};c.interpolateViridis=hx;c.interpolateWarm=dx;c.interpolateYlGn=Uw;c.interpolateYlGnBu=Tw;c.interpolateYlOrBr=Vw;c.interpolateYlOrRd=Ww;c.interpolateZoom=Xn;c.interrupt=md;c.intersection=function(k,A){for(var H=[],G=1;G<arguments.length;++G)H[G-1]=
arguments[G];k=new Set(k);H=H.map(Zg);G=$jscomp.makeIterator(k);var I=G.next();a:for(;!I.done;I=G.next()){I=I.value;for(var M=$jscomp.makeIterator(H),W=M.next();!W.done;W=M.next())if(!W.value.has(I)){k.delete(I);continue a}}return k};c.interval=function(k,A,H){var G=new ue,I=A;if(null==A)return G.restart(k,A,H),G;G._restart=G.restart;G.restart=function(M,W,S){W=+W;S=null==S?se():+S;G._restart(function na(ha){ha+=I;G._restart(na,I+=W,S);M(ha)},W,S)};G.restart(k,A,H);return G};c.isoFormat=qw;c.isoParse=
rw;c.json=function(k,A){return fetch(k,A).then(as)};c.lab=qf;c.lch=function(k,A,H,G){return 1===arguments.length?Uj(k):new sc(H,A,k,null==G?1:G)};c.least=function(k,A){A=void 0===A?m:A;var H=!1;if(1===A.length){k=$jscomp.makeIterator(k);for(var G=k.next();!G.done;G=k.next()){G=G.value;var I=A(G);if(H?0>m(I,W):0===m(I,I)){var M=G;var W=I;H=!0}}}else for(W=$jscomp.makeIterator(k),k=W.next();!k.done;k=W.next())if(k=k.value,H?0>A(k,M):0===A(k,k))M=k,H=!0;return M};c.leastIndex=Ed;c.line=aj;c.lineRadial=
yn;c.linkHorizontal=function(){return cj(Ju)};c.linkRadial=function(){var k=cj(Lu);k.angle=k.x;delete k.x;k.radius=k.y;delete k.y;return k};c.linkVertical=function(){return cj(Ku)};c.local=Gj;c.map=function(k,A){if("function"!==typeof k[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof A)throw new TypeError("mapper is not a function");return Array.from(k,function(H,G){return A(H,G,k)})};c.matcher=eh;c.max=Cc;c.maxIndex=fd;c.mean=function(k,A){var H=0,G=0;if(void 0===
A){k=$jscomp.makeIterator(k);for(var I=k.next();!I.done;I=k.next())A=I.value,null!=A&&(A=+A)>=A&&(++H,G+=A)}else{var M=-1,W=$jscomp.makeIterator(k);for(I=W.next();!I.done;I=W.next())I=I.value,null!=(I=A(I,++M,k))&&(I=+I)>=I&&(++H,G+=I)}if(H)return G/H};c.median=function(k,A){return qc(k,.5,A)};c.merge=gd;c.min=Dc;c.minIndex=Dd;c.namespace=pe;c.namespaces=bh;c.nice=cd;c.now=se;c.pack=function(){function k(M){M.x=H/2;M.y=G/2;A?M.eachBefore(xm(A)).eachAfter(Fi(I,.5)).eachBefore(ym(1)):M.eachBefore(xm(ct)).eachAfter(Fi(rd,
1)).eachAfter(Fi(I,M.r/Math.min(H,G))).eachBefore(ym(Math.min(H,G)/(2*M.r)));return M}var A=null,H=1,G=1,I=rd;k.radius=function(M){return arguments.length?(A=null==M?null:ng(M),k):A};k.size=function(M){return arguments.length?(H=+M[0],G=+M[1],k):[H,G]};k.padding=function(M){return arguments.length?(I="function"===typeof M?M:Zd(+M),k):I};return k};c.packEnclose=qm;c.packSiblings=function(k){wm(k);return k};c.pairs=function(k,A){A=void 0===A?ne:A;var H=[],G=!1;k=$jscomp.makeIterator(k);for(var I=k.next();!I.done;I=
k.next()){I=I.value;G&&H.push(A(M,I));var M=I;G=!0}return H};c.partition=function(){function k(W){var S=W.height+1;W.x0=W.y0=I;W.x1=H;W.y1=G/S;W.eachBefore(A(G,S));M&&W.eachBefore(zm);return W}function A(W,S){return function(fa){fa.children&&Re(fa,fa.x0,W*(fa.depth+1)/S,fa.x1,W*(fa.depth+2)/S);var ha=fa.x0,na=fa.y0,ta=fa.x1-I,Q=fa.y1-I;ta<ha&&(ha=ta=(ha+ta)/2);Q<na&&(na=Q=(na+Q)/2);fa.x0=ha;fa.y0=na;fa.x1=ta;fa.y1=Q}}var H=1,G=1,I=0,M=!1;k.round=function(W){return arguments.length?(M=!!W,k):M};k.size=
function(W){return arguments.length?(H=+W[0],G=+W[1],k):[H,G]};k.padding=function(W){return arguments.length?(I=+W,k):I};return k};c.path=Uc;c.permute=ab;c.pie=function(){function k(S){var fa,ha=(S=wg(S)).length;var na=0;var ta=Array(ha),Q=Array(ha),aa=+I.apply(this,arguments);var oa=Math.min(ad,Math.max(-ad,M.apply(this,arguments)-aa));var ba=Math.min(Math.abs(oa)/ha,W.apply(this,arguments)),wa=ba*(0>oa?-1:1),ja;for(fa=0;fa<ha;++fa)0<(ja=Q[ta[fa]=fa]=+A(S[fa],fa,S))&&(na+=ja);null!=H?ta.sort(function(za,
la){return H(Q[za],Q[la])}):null!=G&&ta.sort(function(za,la){return G(S[za],S[la])});fa=0;for(oa=na?(oa-ha*wa)/na:0;fa<ha;++fa,aa=ya){na=ta[fa];ja=Q[na];var ya=aa+(0<ja?ja*oa:0)+wa;Q[na]={data:S[na],index:fa,value:ja,startAngle:aa,endAngle:ya,padAngle:ba}}return Q}var A=Fu,H=Eu,G=null,I=$a(0),M=$a(ad),W=$a(0);k.value=function(S){return arguments.length?(A="function"===typeof S?S:$a(+S),k):A};k.sortValues=function(S){return arguments.length?(H=S,G=null,k):H};k.sort=function(S){return arguments.length?
(G=S,H=null,k):G};k.startAngle=function(S){return arguments.length?(I="function"===typeof S?S:$a(+S),k):I};k.endAngle=function(S){return arguments.length?(M="function"===typeof S?S:$a(+S),k):M};k.padAngle=function(S){return arguments.length?(W="function"===typeof S?S:$a(+S),k):W};return k};c.piecewise=ok;c.pointRadial=Ze;c.pointer=ac;c.pointers=function(k,A){k.target&&(k=Hj(k),void 0===A&&(A=k.currentTarget),k=k.touches||[k]);return Array.from(k,function(H){return ac(H,A)})};c.polygonArea=function(k){for(var A=
-1,H=k.length,G,I=k[H-1],M=0;++A<H;)G=I,I=k[A],M+=G[1]*I[0]-G[0]*I[1];return M/2};c.polygonCentroid=function(k){for(var A=-1,H=k.length,G=0,I=0,M,W=k[H-1],S,fa=0;++A<H;)M=W,W=k[A],fa+=S=M[0]*W[1]-W[0]*M[1],G+=(M[0]+W[0])*S,I+=(M[1]+W[1])*S;return fa*=3,[G/fa,I/fa]};c.polygonContains=function(k,A){var H=k.length,G=k[H-1],I=A[0];A=A[1];for(var M=G[0],W=G[1],S,fa=!1,ha=0;ha<H;++ha)G=k[ha],S=G[0],G=G[1],G>A!==W>A&&I<(M-S)*(A-G)/(W-G)+S&&(fa=!fa),M=S,W=G;return fa};c.polygonHull=function(k){if(3>(H=k.length))return null;
var A,H,G=Array(H),I=Array(H);for(A=0;A<H;++A)G[A]=[+k[A][0],+k[A][1],A];G.sort(it);for(A=0;A<H;++A)I[A]=[G[A][0],-G[A][1]];H=Bm(G);I=Bm(I);var M=I[0]===H[0],W=I[I.length-1]===H[H.length-1],S=[];for(A=H.length-1;0<=A;--A)S.push(k[G[H[A]][2]]);for(A=+M;A<I.length-W;++A)S.push(k[G[I[A]][2]]);return S};c.polygonLength=function(k){var A=-1,H=k.length,G=k[H-1],I=G[0];G=G[1];for(var M=0;++A<H;){var W=I;var S=G;G=k[A];I=G[0];G=G[1];W-=I;S-=G;M+=Math.hypot(W,S)}return M};c.precisionFixed=bl;c.precisionPrefix=
cl;c.precisionRound=dl;c.quadtree=Hf;c.quantile=qc;c.quantileSorted=ed;c.quantize=function(k,A){for(var H=Array(A),G=0;G<A;++G)H[G]=k(G/(A-1));return H};c.quickselect=Pc;c.radialArea=An;c.radialLine=yn;c.randomBates=Nv;c.randomBernoulli=Qv;c.randomBeta=oo;c.randomBinomial=po;c.randomCauchy=Sv;c.randomExponential=Ov;c.randomGamma=rj;c.randomGeometric=no;c.randomInt=Lv;c.randomIrwinHall=mo;c.randomLcg=function(k){k=void 0===k?Math.random():k;var A=(0<=k&&1>k?k/qo:Math.abs(k))|0;return function(){return A=
1664525*A+1013904223|0,qo*(A>>>0)}};c.randomLogNormal=Mv;c.randomLogistic=Tv;c.randomNormal=qj;c.randomPareto=Pv;c.randomPoisson=Uv;c.randomUniform=Kv;c.randomWeibull=Rv;c.range=Yb;c.reduce=function(k,A,H){if("function"!==typeof A)throw new TypeError("reducer is not a function");var G=k[Symbol.iterator](),I,M=-1;if(3>arguments.length){var W=G.next();var S=W.done;H=W.value;if(S)return;++M}for(;function(){var fa=G.next();S=fa.done;I=fa.value;return fa}(),!S;)H=A(H,I,++M,k);return H};c.reverse=function(k){if("function"!==
typeof k[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(k).reverse()};c.rgb=Hd;c.ribbon=function(){return Ik()};c.ribbonArrow=function(){return Ik(Kr)};c.rollup=Xa;c.rollups=function(k,A,H){for(var G=[],I=2;I<arguments.length;++I)G[I-2]=arguments[I];return Ya(k,Array.from,A,G)};c.scaleBand=Ki;c.scaleDiverging=rn;c.scaleDivergingLog=sn;c.scaleDivergingPow=Yi;c.scaleDivergingSqrt=function(){return Yi.apply(null,arguments).exponent(.5)};c.scaleDivergingSymlog=tn;c.scaleIdentity=
Gm;c.scaleImplicit=Ji;c.scaleLinear=Fm;c.scaleLog=Lm;c.scaleOrdinal=Ii;c.scalePoint=function(){return Cm(Ki.apply(null,arguments).paddingInner(1))};c.scalePow=Pi;c.scaleQuantile=Sm;c.scaleQuantize=Tm;c.scaleRadial=Rm;c.scaleSequential=nn;c.scaleSequentialLog=on;c.scaleSequentialPow=Xi;c.scaleSequentialQuantile=qn;c.scaleSequentialSqrt=function(){return Xi.apply(null,arguments).exponent(.5)};c.scaleSequentialSymlog=pn;c.scaleSqrt=function(){return Pi.apply(null,arguments).exponent(.5)};c.scaleSymlog=
Om;c.scaleThreshold=Um;c.scaleTime=function(){return hc.apply(Wi(Ho,Io,zc,Ng,de,ce,Mg,Lg,Kc,c.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};c.scaleUtc=function(){return hc.apply(Wi(Eo,Fo,Ac,Qg,ee,be,Pg,Og,Kc,c.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};c.scan=function(k,A){k=Ed(k,A);return 0>k?void 0:k};c.schemeAccent=tw;c.schemeBlues=dp;c.schemeBrBG=Jo;c.schemeBuGn=So;c.schemeBuPu=To;c.schemeCategory10=sw;c.schemeDark2=uw;c.schemeGnBu=Uo;c.schemeGreens=
ep;c.schemeGreys=fp;c.schemeOrRd=Vo;c.schemeOranges=ip;c.schemePRGn=Ko;c.schemePaired=vw;c.schemePastel1=ww;c.schemePastel2=xw;c.schemePiYG=Lo;c.schemePuBu=Xo;c.schemePuBuGn=Wo;c.schemePuOr=Mo;c.schemePuRd=Yo;c.schemePurples=gp;c.schemeRdBu=No;c.schemeRdGy=Oo;c.schemeRdPu=Zo;c.schemeRdYlBu=Po;c.schemeRdYlGn=Qo;c.schemeReds=hp;c.schemeSet1=yw;c.schemeSet2=zw;c.schemeSet3=Aw;c.schemeSpectral=Ro;c.schemeTableau10=Bw;c.schemeYlGn=ap;c.schemeYlGnBu=$o;c.schemeYlOrBr=bp;c.schemeYlOrRd=cp;c.select=Kb;c.selectAll=
function(k){return"string"===typeof k?new Jb([document.querySelectorAll(k)],[document.documentElement]):new Jb([null==k?[]:ch(k)],hh)};c.selection=jd;c.selector=kf;c.selectorAll=dh;c.shuffle=Xu;c.shuffler=oe;c.some=function(k,A){if("function"!==typeof A)throw new TypeError("test is not a function");for(var H=-1,G=$jscomp.makeIterator(k),I=G.next();!I.done;I=G.next())if(A(I.value,++H,k))return!0;return!1};c.sort=jb;c.stack=function(){function k(M){var W=Array.from(A.apply(this,arguments),Nu),S,fa=
W.length,ha=-1,na=$jscomp.makeIterator(M);for(S=na.next();!S.done;S=na.next()){var ta=S.value;S=0;for(++ha;S<fa;++S)(W[S][ha]=[0,+I(ta,W[S].key,ha,M)]).data=ta}S=0;for(ha=wg(H(W));S<fa;++S)W[ha[S]].index=S;G(W,ha);return W}var A=$a([]),H=ie,G=he,I=Mu;k.keys=function(M){return arguments.length?(A="function"===typeof M?M:$a(Array.from(M)),k):A};k.value=function(M){return arguments.length?(I="function"===typeof M?M:$a(+M),k):I};k.order=function(M){return arguments.length?(H=null==M?ie:"function"===typeof M?
M:$a(Array.from(M)),k):H};k.offset=function(M){return arguments.length?(G=null==M?he:M,k):G};return k};c.stackOffsetDiverging=function(k,A){if(0<(fa=k.length))for(var H,G=0,I,M,W,S,fa,ha=k[A[0]].length;G<ha;++G)for(H=W=S=0;H<fa;++H)0<(M=(I=k[A[H]][G])[1]-I[0])?(I[0]=W,I[1]=W+=M):0>M?(I[1]=S,I[0]=S+=M):(I[0]=0,I[1]=M)};c.stackOffsetExpand=function(k,A){if(0<(G=k.length)){for(var H,G,I=0,M=k[0].length,W;I<M;++I){for(W=H=0;H<G;++H)W+=k[H][I][1]||0;if(W)for(H=0;H<G;++H)k[H][I][1]/=W}he(k,A)}};c.stackOffsetNone=
he;c.stackOffsetSilhouette=function(k,A){if(0<(I=k.length)){for(var H=0,G=k[A[0]],I,M=G.length;H<M;++H){for(var W=0,S=0;W<I;++W)S+=k[W][H][1]||0;G[H][1]+=G[H][0]=-S/2}he(k,A)}};c.stackOffsetWiggle=function(k,A){if(0<(W=k.length)&&0<(M=(I=k[A[0]]).length)){for(var H=0,G=1,I,M,W;G<M;++G){for(var S=0,fa=0,ha=0;S<W;++S){var na=k[A[S]],ta=na[G][1]||0;na=(ta-(na[G-1][1]||0))/2;for(var Q=0;Q<S;++Q){var aa=k[A[Q]];na+=(aa[G][1]||0)-(aa[G-1][1]||0)}fa+=ta;ha+=na*ta}I[G-1][1]+=I[G-1][0]=H;fa&&(H-=ha/fa)}I[G-
1][1]+=I[G-1][0]=H;he(k,A)}};c.stackOrderAppearance=On;c.stackOrderAscending=Pn;c.stackOrderDescending=function(k){return Pn(k).reverse()};c.stackOrderInsideOut=function(k){var A=k.length,H=k.map(Qn),G=On(k),I=0,M=0,W=[],S=[];for(k=0;k<A;++k){var fa=G[k];I<M?(I+=H[fa],W.push(fa)):(M+=H[fa],S.push(fa))}return S.reverse().concat(W)};c.stackOrderNone=ie;c.stackOrderReverse=function(k){return ie(k).reverse()};c.stratify=function(){function k(G){var I=Array.from(G),M=I.length,W,S,fa=new Map;for(W=0;W<
M;++W){var ha=I[W];var na=I[W]=new Yd(ha);if(null!=(S=A(ha,W,G))&&(S+="")){var ta=na.id=S;fa.set(ta,fa.has(ta)?jo:na)}null!=(S=H(ha,W,G))&&(S+="")&&(na.parent=S)}for(W=0;W<M;++W)if(na=I[W],S=na.parent){G=fa.get(S);if(!G)throw Error("missing: "+S);if(G===jo)throw Error("ambiguous: "+S);G.children?G.children.push(na):G.children=[na];na.parent=G}else{if(Q)throw Error("multiple roots");var Q=na}if(!Q)throw Error("no root");Q.parent=Iv;Q.eachBefore(function(aa){aa.depth=aa.parent.depth+1;--M}).eachBefore(pm);
Q.parent=null;if(0<M)throw Error("cycle");return Q}var A=dt,H=et;k.id=function(G){return arguments.length?(A=ng(G),k):A};k.parentId=function(G){return arguments.length?(H=ng(G),k):H};return k};c.style=id;c.subset=function(k,A){return df(A,k)};c.sum=function(k,A){var H=0;if(void 0===A){k=$jscomp.makeIterator(k);for(var G=k.next();!G.done;G=k.next())if(A=G.value,A=+A)H+=A}else{var I=-1,M=$jscomp.makeIterator(k);for(G=M.next();!G.done;G=M.next())if(G=G.value,G=+A(G,++I,k))H+=G}return H};c.superset=df;
c.svg=Gv;c.symbol=function(k,A){function H(){var I;G||(G=I=Uc());k.apply(this,arguments).draw(G,+A.apply(this,arguments));if(I)return G=null,I+""||null}var G=null;k="function"===typeof k?k:$a(k||tj);A="function"===typeof A?A:$a(void 0===A?64:+A);H.type=function(I){return arguments.length?(k="function"===typeof I?I:$a(I),H):k};H.size=function(I){return arguments.length?(A="function"===typeof I?I:$a(+I),H):A};H.context=function(I){return arguments.length?(G=null==I?null:I,H):G};return H};c.symbolCircle=
tj;c.symbolCross=kp;c.symbolDiamond=mp;c.symbolSquare=pp;c.symbolStar=op;c.symbolTriangle=qp;c.symbolWye=rp;c.symbols=px;c.text=Gf;c.thresholdFreedmanDiaconis=function(k,A,H){return Math.ceil((H-A)/(2*(qc(k,.75)-qc(k,.25))*Math.pow(J(k),-1/3)))};c.thresholdScott=function(k,A,H){return Math.ceil((H-A)/(3.5*ca(k)*Math.pow(J(k),-1/3)))};c.thresholdSturges=Nc;c.tickFormat=Em;c.tickIncrement=wb;c.tickStep=rb;c.ticks=Ab;c.timeDay=ce;c.timeDays=Xv;c.timeFormatDefaultLocale=mn;c.timeFormatLocale=Xm;c.timeFriday=
vo;c.timeFridays=bw;c.timeHour=Mg;c.timeHours=Wv;c.timeInterval=Db;c.timeMillisecond=ae;c.timeMilliseconds=ro;c.timeMinute=Lg;c.timeMinutes=Vv;c.timeMonday=Ve;c.timeMondays=Yv;c.timeMonth=Ng;c.timeMonths=dw;c.timeSaturday=wo;c.timeSaturdays=cw;c.timeSecond=Kc;c.timeSeconds=so;c.timeSunday=de;c.timeSundays=xo;c.timeThursday=ud;c.timeThursdays=aw;c.timeTickInterval=Io;c.timeTicks=Ho;c.timeTuesday=to;c.timeTuesdays=Zv;c.timeWednesday=uo;c.timeWednesdays=$v;c.timeWeek=de;c.timeWeeks=xo;c.timeYear=zc;
c.timeYears=ew;c.timeout=wh;c.timer=wf;c.timerFlush=qk;c.transition=uk;c.transpose=cf;c.tree=function(){function k(fa){var ha=gt(fa);ha.eachAfter(A);ha.parent.m=-ha.z;ha.eachBefore(H);if(S)fa.eachBefore(G);else{var na=fa,ta=fa,Q=fa;fa.eachBefore(function(wa){wa.x<na.x&&(na=wa);wa.x>ta.x&&(ta=wa);wa.depth>Q.depth&&(Q=wa)});ha=na===ta?1:I(na,ta)/2;var aa=ha-na.x,oa=M/(ta.x+ha+aa),ba=W/(Q.depth||1);fa.eachBefore(function(wa){wa.x=(wa.x+aa)*oa;wa.y=wa.depth*ba})}return fa}function A(fa){var ha=fa.children,
na=fa.parent.children,ta=fa.i?na[fa.i-1]:null;if(ha){for(var Q=0,aa=0,oa=fa.children,ba=oa.length,wa;0<=--ba;)wa=oa[ba],wa.z+=Q,wa.m+=Q,Q+=wa.s+(aa+=wa.c);ha=(ha[0].z+ha[ha.length-1].z)/2;ta?(fa.z=ta.z+I(fa._,ta._),fa.m=fa.z-ha):fa.z=ha}else ta&&(fa.z=ta.z+I(fa._,ta._));ha=fa.parent;na=fa.parent.A||na[0];if(ta){aa=Q=fa;oa=Q.parent.children[0];ba=Q.m;wa=aa.m;for(var ja=ta.m,ya=oa.m,za;ta=Hi(ta),Q=Gi(Q),ta&&Q;){oa=Gi(oa);aa=Hi(aa);aa.a=fa;za=ta.z+ja-Q.z-ba+I(ta._,Q._);if(0<za){var la=ta.a.parent===
fa.parent?ta.a:na,Ca=fa,Na=za,Sa=Na/(Ca.i-la.i);Ca.c-=Sa;Ca.s+=Na;la.c+=Sa;Ca.z+=Na;Ca.m+=Na;ba+=za;wa+=za}ja+=ta.m;ba+=Q.m;ya+=oa.m;wa+=aa.m}ta&&!Hi(aa)&&(aa.t=ta,aa.m+=ja-wa);Q&&!Gi(oa)&&(oa.t=Q,oa.m+=ba-ya,na=fa)}ha.A=na}function H(fa){fa._.x=fa.z+fa.parent.m;fa.m+=fa.parent.m}function G(fa){fa.x*=M;fa.y=fa.depth*W}var I=ft,M=1,W=1,S=null;k.separation=function(fa){return arguments.length?(I=fa,k):I};k.size=function(fa){return arguments.length?(S=!1,M=+fa[0],W=+fa[1],k):S?null:[M,W]};k.nodeSize=
function(fa){return arguments.length?(S=!0,M=+fa[0],W=+fa[1],k):S?[M,W]:null};return k};c.treemap=function(){function k(Q){Q.x0=Q.y0=0;Q.x1=I;Q.y1=M;Q.eachBefore(A);W=[0];G&&Q.eachBefore(zm);return Q}function A(Q){var aa=W[Q.depth],oa=Q.x0+aa,ba=Q.y0+aa,wa=Q.x1-aa,ja=Q.y1-aa;wa<oa&&(oa=wa=(oa+wa)/2);ja<ba&&(ba=ja=(ba+ja)/2);Q.x0=oa;Q.y0=ba;Q.x1=wa;Q.y1=ja;Q.children&&(aa=W[Q.depth+1]=S(Q)/2,oa+=ta(Q)-aa,ba+=fa(Q)-aa,wa-=ha(Q)-aa,ja-=na(Q)-aa,wa<oa&&(oa=wa=(oa+wa)/2),ja<ba&&(ba=ja=(ba+ja)/2),H(Q,oa,
ba,wa,ja))}var H=lo,G=!1,I=1,M=1,W=[0],S=rd,fa=rd,ha=rd,na=rd,ta=rd;k.round=function(Q){return arguments.length?(G=!!Q,k):G};k.size=function(Q){return arguments.length?(I=+Q[0],M=+Q[1],k):[I,M]};k.tile=function(Q){return arguments.length?(H=ng(Q),k):H};k.padding=function(Q){return arguments.length?k.paddingInner(Q).paddingOuter(Q):k.paddingInner()};k.paddingInner=function(Q){return arguments.length?(S="function"===typeof Q?Q:Zd(+Q),k):S};k.paddingOuter=function(Q){return arguments.length?k.paddingTop(Q).paddingRight(Q).paddingBottom(Q).paddingLeft(Q):
k.paddingTop()};k.paddingTop=function(Q){return arguments.length?(fa="function"===typeof Q?Q:Zd(+Q),k):fa};k.paddingRight=function(Q){return arguments.length?(ha="function"===typeof Q?Q:Zd(+Q),k):ha};k.paddingBottom=function(Q){return arguments.length?(na="function"===typeof Q?Q:Zd(+Q),k):na};k.paddingLeft=function(Q){return arguments.length?(ta="function"===typeof Q?Q:Zd(+Q),k):ta};return k};c.treemapBinary=function(k,A,H,G,I){function M(ta,Q,aa,oa,ba,wa,ja){if(ta>=Q-1)ta=W[ta],ta.x0=oa,ta.y0=ba,
ta.x1=wa,ta.y1=ja;else{for(var ya=na[ta],za=aa/2+ya,la=ta+1,Ca=Q-1;la<Ca;){var Na=la+Ca>>>1;na[Na]<za?la=Na+1:Ca=Na}za-na[la-1]<na[la]-za&&ta+1<la&&--la;ya=na[la]-ya;za=aa-ya;wa-oa>ja-ba?(aa=aa?(oa*za+wa*ya)/aa:wa,M(ta,la,ya,oa,ba,aa,ja),M(la,Q,za,aa,ba,wa,ja)):(aa=aa?(ba*za+ja*ya)/aa:ja,M(ta,la,ya,oa,ba,wa,aa),M(la,Q,za,oa,aa,wa,ja))}}var W=k.children,S,fa=W.length,ha,na=Array(fa+1);for(na[0]=ha=S=0;S<fa;++S)na[S+1]=ha+=W[S].value;M(0,fa,k.value,A,H,G,I)};c.treemapDice=Re;c.treemapResquarify=Jv;
c.treemapSlice=pg;c.treemapSliceDice=function(k,A,H,G,I){(k.depth&1?pg:Re)(k,A,H,G,I)};c.treemapSquarify=lo;c.tsv=Dv;c.tsvFormat=wv;c.tsvFormatBody=xv;c.tsvFormatRow=zv;c.tsvFormatRows=yv;c.tsvFormatValue=Av;c.tsvParse=go;c.tsvParseRows=vv;c.union=function(k){for(var A=[],H=0;H<arguments.length;++H)A[H-0]=arguments[H];H=new Set;A=$jscomp.makeIterator(A);for(var G=A.next();!G.done;G=A.next()){G=$jscomp.makeIterator(G.value);for(var I=G.next();!I.done;I=G.next())H.add(I.value)}return H};c.utcDay=be;
c.utcDays=hw;c.utcFriday=Ao;c.utcFridays=mw;c.utcHour=Pg;c.utcHours=gw;c.utcMillisecond=ae;c.utcMilliseconds=ro;c.utcMinute=Og;c.utcMinutes=fw;c.utcMonday=Ue;c.utcMondays=iw;c.utcMonth=Qg;c.utcMonths=ow;c.utcSaturday=Bo;c.utcSaturdays=nw;c.utcSecond=Kc;c.utcSeconds=so;c.utcSunday=ee;c.utcSundays=Co;c.utcThursday=vd;c.utcThursdays=lw;c.utcTickInterval=Fo;c.utcTicks=Eo;c.utcTuesday=yo;c.utcTuesdays=jw;c.utcWednesday=zo;c.utcWednesdays=kw;c.utcWeek=ee;c.utcWeeks=Co;c.utcYear=Ac;c.utcYears=pw;c.variance=
U;c.version="6.7.0";c.window=fh;c.xml=Ev;c.zip=function(){return cf(arguments)};c.zoom=function(){function k(va){va.property("__zoom",Sn).on("wheel.zoom",S).on("mousedown.zoom",fa).on("dblclick.zoom",ha).filter(ja).on("touchstart.zoom",na).on("touchmove.zoom",ta).on("touchend.zoom touchcancel.zoom",Q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(va,Pa){Pa=Math.max(ya[0],Math.min(ya[1],Pa));return Pa===va.k?va:new Lc(Pa,va.x,va.y)}function H(va,Pa,Aa){var La=Pa[0]-Aa[0]*va.k;Pa=
Pa[1]-Aa[1]*va.k;return La===va.x&&Pa===va.y?va:new Lc(va.k,La,Pa)}function G(va){return[(+va[0][0]+ +va[1][0])/2,(+va[0][1]+ +va[1][1])/2]}function I(va,Pa,Aa,La){va.on("start.zoom",function(){M(this,arguments).event(La).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(La).end()}).tween("zoom",function(){var Ha=arguments,bb=M(this,Ha).event(La),Wa=oa.apply(this,Ha),ib=null==Aa?G(Wa):"function"===typeof Aa?Aa.apply(this,Ha):Aa,zb=Math.max(Wa[1][0]-Wa[0][0],Wa[1][1]-Wa[0][1]);
Wa=this.__zoom;var vb="function"===typeof Pa?Pa.apply(this,Ha):Pa,Ug=Ca(Wa.invert(ib).concat(zb/Wa.k),vb.invert(ib).concat(zb/vb.k));return function(jc){if(1===jc)jc=vb;else{jc=Ug(jc);var wj=zb/jc[2];jc=new Lc(wj,ib[0]-jc[0]*wj,ib[1]-jc[1]*wj)}bb.zoom(null,jc)}})}function M(va,Pa,Aa){return!Aa&&va.__zooming||new W(va,Pa)}function W(va,Pa){this.that=va;this.args=Pa;this.active=0;this.sourceEvent=null;this.extent=oa.apply(va,Pa);this.taps=0}function S(va,Pa){for(var Aa=[],La=1;La<arguments.length;++La)Aa[La-
1]=arguments[La];if(aa.apply(this,arguments)){var Ha=M(this,Aa).event(va);Aa=this.__zoom;La=Math.max(ya[0],Math.min(ya[1],Aa.k*Math.pow(2,wa.apply(this,arguments))));var bb=ac(va);if(Ha.wheel){if(Ha.mouse[0][0]!==bb[0]||Ha.mouse[0][1]!==bb[1])Ha.mouse[1]=Aa.invert(Ha.mouse[0]=bb);clearTimeout(Ha.wheel)}else{if(Aa.k===La)return;Ha.mouse=[bb,Aa.invert(bb)];md(this);Ha.start()}$e(va);Ha.wheel=setTimeout(function(){Ha.wheel=null;Ha.end()},150);Ha.zoom("mouse",ba(H(A(Aa,La),Ha.mouse[0],Ha.mouse[1]),Ha.extent,
za))}}function fa(va,Pa){for(var Aa=[],La=1;La<arguments.length;++La)Aa[La-1]=arguments[La];if(!Za&&aa.apply(this,arguments)){var Ha=M(this,Aa,!0).event(va),bb=Kb(va.view).on("mousemove.zoom",function(vb){$e(vb);if(!Ha.moved){var Ug=vb.clientX-ib,jc=vb.clientY-zb;Ha.moved=Ug*Ug+jc*jc>nb}Ha.event(vb).zoom("mouse",ba(H(Ha.that.__zoom,Ha.mouse[0]=ac(vb,Wa),Ha.mouse[1]),Ha.extent,za))},!0).on("mouseup.zoom",function(vb){bb.on("mousemove.zoom mouseup.zoom",null);nf(vb.view,Ha.moved);$e(vb);Ha.event(vb).end()},
!0);Aa=ac(va,Wa);var Wa=va.currentTarget,ib=va.clientX,zb=va.clientY;mf(va.view);va.stopImmediatePropagation();Ha.mouse=[Aa,this.__zoom.invert(Aa)];md(this);Ha.start()}}function ha(va,Pa){for(var Aa=[],La=1;La<arguments.length;++La)Aa[La-1]=arguments[La];if(aa.apply(this,arguments)){var Ha=this.__zoom;La=ac(va.changedTouches?va.changedTouches[0]:va,this);var bb=Ha.invert(La);Aa=ba(H(A(Ha,Ha.k*(va.shiftKey?.5:2)),La,bb),oa.apply(this,Aa),za);$e(va);0<la?Kb(this).transition().duration(la).call(I,Aa,
La,va):Kb(this).call(k.transform,Aa,La,va)}}function na(va,Pa){for(var Aa=[],La=1;La<arguments.length;++La)Aa[La-1]=arguments[La];if(aa.apply(this,arguments)){La=va.touches;var Ha=La.length;Aa=M(this,Aa,va.changedTouches.length===Ha).event(va);var bb;va.stopImmediatePropagation();for(bb=0;bb<Ha;++bb){var Wa=La[bb];var ib=ac(Wa,this);ib=[ib,this.__zoom.invert(ib),Wa.identifier];if(Aa.touch0)Aa.touch1||Aa.touch0[2]===ib[2]||(Aa.touch1=ib,Aa.taps=0);else{Aa.touch0=ib;var zb=!0;Aa.taps=1+!!Sa}}Sa&&(Sa=
clearTimeout(Sa));zb&&(2>Aa.taps&&(db=ib[0],Sa=setTimeout(function(){Sa=null},500)),md(this),Aa.start())}}function ta(va,Pa){for(var Aa=[],La=1;La<arguments.length;++La)Aa[La-1]=arguments[La];if(this.__zooming){Aa=M(this,Aa).event(va);var Ha=va.changedTouches,bb=Ha.length,Wa;$e(va);for(Wa=0;Wa<bb;++Wa){La=Ha[Wa];var ib=ac(La,this);Aa.touch0&&Aa.touch0[2]===La.identifier?Aa.touch0[0]=ib:Aa.touch1&&Aa.touch1[2]===La.identifier&&(Aa.touch1[0]=ib)}La=Aa.that.__zoom;if(Aa.touch1){ib=Aa.touch0[0];Ha=Aa.touch0[1];
Wa=Aa.touch1[0];bb=Aa.touch1[1];var zb=(zb=Wa[0]-ib[0])*zb+(zb=Wa[1]-ib[1])*zb;var vb=(vb=bb[0]-Ha[0])*vb+(vb=bb[1]-Ha[1])*vb;La=A(La,Math.sqrt(zb/vb));ib=[(ib[0]+Wa[0])/2,(ib[1]+Wa[1])/2];zb=[(Ha[0]+bb[0])/2,(Ha[1]+bb[1])/2]}else if(Aa.touch0)ib=Aa.touch0[0],zb=Aa.touch0[1];else return;Aa.zoom("touch",ba(H(La,ib,zb),Aa.extent,za))}}function Q(va,Pa){for(var Aa=[],La=1;La<arguments.length;++La)Aa[La-1]=arguments[La];if(this.__zooming){Aa=M(this,Aa).event(va);La=va.changedTouches;var Ha=La.length,
bb;va.stopImmediatePropagation();Za&&clearTimeout(Za);Za=setTimeout(function(){Za=null},500);for(bb=0;bb<Ha;++bb){var Wa=La[bb];Aa.touch0&&Aa.touch0[2]===Wa.identifier?delete Aa.touch0:Aa.touch1&&Aa.touch1[2]===Wa.identifier&&delete Aa.touch1}Aa.touch1&&!Aa.touch0&&(Aa.touch0=Aa.touch1,delete Aa.touch1);Aa.touch0?Aa.touch0[1]=this.__zoom.invert(Aa.touch0[0]):(Aa.end(),2===Aa.taps&&(Wa=ac(Wa,this),Math.hypot(db[0]-Wa[0],db[1]-Wa[1])<pb&&(Wa=Kb(this).on("dblclick.zoom"))&&Wa.apply(this,arguments)))}}
var aa=Qu,oa=Ru,ba=Uu,wa=Su,ja=Tu,ya=[0,Infinity],za=[[-Infinity,-Infinity],[Infinity,Infinity]],la=250,Ca=Xn,Na=hd("start","zoom","end"),Sa,db,Za,nb=0,pb=10;k.transform=function(va,Pa,Aa,La){var Ha=va.selection?va.selection():va;Ha.property("__zoom",Sn);va!==Ha?I(va,Pa,Aa,La):Ha.interrupt().each(function(){M(this,arguments).event(La).start().zoom(null,"function"===typeof Pa?Pa.apply(this,arguments):Pa).end()})};k.scaleBy=function(va,Pa,Aa,La){k.scaleTo(va,function(){var Ha=this.__zoom.k,bb="function"===
typeof Pa?Pa.apply(this,arguments):Pa;return Ha*bb},Aa,La)};k.scaleTo=function(va,Pa,Aa,La){k.transform(va,function(){var Ha=oa.apply(this,arguments),bb=this.__zoom,Wa=null==Aa?G(Ha):"function"===typeof Aa?Aa.apply(this,arguments):Aa,ib=bb.invert(Wa),zb="function"===typeof Pa?Pa.apply(this,arguments):Pa;return ba(H(A(bb,zb),Wa,ib),Ha,za)},Aa,La)};k.translateBy=function(va,Pa,Aa,La){k.transform(va,function(){return ba(this.__zoom.translate("function"===typeof Pa?Pa.apply(this,arguments):Pa,"function"===
typeof Aa?Aa.apply(this,arguments):Aa),oa.apply(this,arguments),za)},null,La)};k.translateTo=function(va,Pa,Aa,La,Ha){k.transform(va,function(){var bb=oa.apply(this,arguments),Wa=this.__zoom,ib=null==La?G(bb):"function"===typeof La?La.apply(this,arguments):La;return ba(Dg.translate(ib[0],ib[1]).scale(Wa.k).translate("function"===typeof Pa?-Pa.apply(this,arguments):-Pa,"function"===typeof Aa?-Aa.apply(this,arguments):-Aa),bb,za)},La,Ha)};W.prototype={event:function(va){va&&(this.sourceEvent=va);return this},
start:function(){1===++this.active&&(this.that.__zooming=this,this.emit("start"));return this},zoom:function(va,Pa){this.mouse&&"mouse"!==va&&(this.mouse[1]=Pa.invert(this.mouse[0]));this.touch0&&"touch"!==va&&(this.touch0[1]=Pa.invert(this.touch0[0]));this.touch1&&"touch"!==va&&(this.touch1[1]=Pa.invert(this.touch1[0]));this.that.__zoom=Pa;this.emit("zoom");return this},end:function(){0===--this.active&&(delete this.that.__zooming,this.emit("end"));return this},emit:function(va){var Pa=Kb(this.that).datum();
Na.call(va,this.that,new Pu(va,{sourceEvent:this.sourceEvent,target:k,type:va,transform:this.that.__zoom,dispatch:Na}),Pa)}};k.wheelDelta=function(va){return arguments.length?(wa="function"===typeof va?va:Tg(+va),k):wa};k.filter=function(va){return arguments.length?(aa="function"===typeof va?va:Tg(!!va),k):aa};k.touchable=function(va){return arguments.length?(ja="function"===typeof va?va:Tg(!!va),k):ja};k.extent=function(va){return arguments.length?(oa="function"===typeof va?va:Tg([[+va[0][0],+va[0][1]],
[+va[1][0],+va[1][1]]]),k):oa};k.scaleExtent=function(va){return arguments.length?(ya[0]=+va[0],ya[1]=+va[1],k):[ya[0],ya[1]]};k.translateExtent=function(va){return arguments.length?(za[0][0]=+va[0][0],za[1][0]=+va[1][0],za[0][1]=+va[0][1],za[1][1]=+va[1][1],k):[[za[0][0],za[0][1]],[za[1][0],za[1][1]]]};k.constrain=function(va){return arguments.length?(ba=va,k):ba};k.duration=function(va){return arguments.length?(la=+va,k):la};k.interpolate=function(va){return arguments.length?(Ca=va,k):Ca};k.on=
function(){var va=Na.on.apply(Na,arguments);return va===Na?k:va};k.clickDistance=function(va){return arguments.length?(nb=(va=+va)*va,k):Math.sqrt(nb)};k.tapDistance=function(va){return arguments.length?(pb=+va,k):pb};return k};c.zoomIdentity=Dg;c.zoomTransform=Rn;Object.defineProperty(c,"__esModule",{value:!0})});var WMSVersion={version100:"1.0.0",version111:"1.1.1",version130:"1.3.0"},htmlTab="",tddjs=function(c,m){var v=!0,F=[],D=F.set=!1,ea=null,J=function(N){Z="";D&&(ea.close(),D=!1);document.getElementById("info").innerHTML=Z;if(0!=v){F.x=N.x;F.y=N.y;F.set=!0;var K=m.getLatLongFromPixelCoord({x:N.x,y:N.y});N=m.getLayers();if(isDefined(N)){info=m.getLayers().getFeatureInfoUrl;var Z="";0==m.layers.length&&(Z="No layer: Load a valid sounding layer.",document.getElementById("info").innerHTML=Z);N=[];for(var da=
0;da<m.layers.length;da++)m.layers[m.layers.length-da-1].service.includes("TEMP")&&N.push(m.layers[m.layers.length-da-1]);0==N.length&&(Z="No Sounding Layer: Load a valid sounding layer.",document.getElementById("info").innerHTML=Z);da=null;for(var U in N)console.log(U,N.length),da=N[U],null!=da&&""!==da.getFeatureInfoUrl?!1===da.queryable?m.featureInfoRequestReady("Layer is not queryable.",da):(Z='<img src="./img/ajax-loader.gif" alt="Loading..."/>',document.getElementById("info").innerHTML=Z,getJSONdata(da,
m,F.x,F.y,"text/plain",function(ca){null!=ca?(null!=ca.data?(ea=window.open("sondTemp.html","Sondeo",'itemId="sond",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=1040,height=600'),ea.myvar=ca,D=!0,Z="Profile for location ["+Math.round(100*K.x)/100+","+Math.round(100*K.y)/100+"]",Z+=" - Station:"+ca.meta.name+"<br/>",document.getElementById("info").innerHTML="",document.getElementById("info").innerHTML=Z,document.getElementById("table").innerHTML=""):(Z="Profile for location ["+
Math.round(100*K.x)/100+","+Math.round(100*K.y)/100+"]",Z+=" - Station:"+ca.meta.name+"<br/>",document.getElementById("info").innerHTML="",document.getElementById("info").innerHTML=Z,document.getElementById("table").innerHTML="",htmlTab+="</TABLE>"),document.getElementById("table").innerHTML=htmlTab):(Z="No valid data",document.getElementById("info").innerHTML=Z)})):(Z="Wrong layer: Load a valid sounding layer.",document.getElementById("info").innerHTML=Z)}else $("#info").html("No valid data received:<br/>"+
data)}};m.addListener("mouseclicked",J,!0);this.enable=function(){c.html('<div id="info"></div><div id="table"></div>');$("#info").html("Click on the map to load a profile.");m.enableInlineGetFeatureInfo(!1);v=!0};this.disable=function(){v=!1;m.enableInlineGetFeatureInfo(!0);F.set=!1;D&&(ea.close(),D=!1)};this.resize=function(N,K){$("#mitdd").width(N);F.set&&J(F)};this.enable()};try{WMJSExtApplications.Sondeo=tddjs}catch(c){}
function createXHR(){try{return new XMLHttpRequest}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}return!1}
function MakeHTTPRequest(c,m,v,F){function D(N){errorfunction?errorfunction(N,pointer):m(void 0,pointer)}function ea(){!1===v?(c=F+"REQUEST="+URLEncode(c),MakeHTTPRequest(c,m,errorfunction,pointer,!0,F)):D("status("+J.status+") to "+c)}c=-1===c.indexOf("?")?c+"?":c+"&";c+="rand="+Math.random();v||(v=!1);try{var J=createXHR();J.open("GET",c,!0);J.onreadystatechange=function(){if(4===J.readyState)if(200===J.status){try{var N=J.responseText}catch(K){D("Exception occured:"+K);return}void 0===N||""===
N?D("request returned no data"):m(null,J.response)}else window.alert("ALLI"),ea()};J.send(null)}catch(N){window.alert("AQUI"),ea()}}
function getJSONdata(c,m,v,F,D,ea){document.getElementById("info").innerHTML="Procesando<br>";document.getElementById("table").innerHTML="";var J=WMJScheckURL(c.service);J+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+c.version;J+="&LAYERS="+URLEncode(c.name);c.name.split(",");D=J;J+="&QUERY_LAYERS=p,z,t,td,windSpd,windDir,eVSS&INFO_FORMAT=application/json";D+="&QUERY_LAYERS=station_name,ps,alt,station_cname&INFO_FORMAT=application/json";var N="&"+getBBOXandProjString(c,m);N+="WIDTH="+m.width;N+=
"&HEIGHT="+m.height;if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)N=N+("&X="+v)+("&Y="+F);c.version===WMSVersion.version130&&(N=N+("&I="+v)+("&J="+F));N+="&FORMAT=image/gif&STYLES=";try{N+="&"+m._getMapDimURL(c),J+=N,D+=N}catch(Z){callback(null,void 0)}debug('<a target="_blank" href="'+J+'">'+J+"</a>",!1);var K=c.service+"&SERVICE=WMS&REQUEST=GetMetaData&VERSION="+c.version;K+="&LAYERS="+URLEncode(c.name);K+="&LAYER=station_name";K+="&FORMAT=application/json";console.log("META",
D);console.log("DATA",K);getMeta(D,function(Z){null!=Z?getData(K,Z,J,function(da){ea({meta:Z,data:da})}):ea(null)})}function WMJScheckURL(c){if(!isDefined(c))return"?";c=c.trim();-1===c.indexOf("?")&&(c+="?");return c}function isDefined(c){return"undefined"===typeof c?!1:!0}
function URLEncode(c){if(!c||void 0===c||""===c||"string"!==typeof c)return c;c=c.replace(/%/g,"%25");c=c.replace(/\+/g,"%2B");c=c.replace(/ /g,"%20");c=c.replace(/\^/g,"%5E");c=c.replace(/&/g,"%26");c=c.replace(/\?/g,"%3F");c=c.replace(/>/g,"%3E");c=c.replace(/</g,"%3C");c=c.replace(/\\/g,"%5C");for(var m="",v=0;v<c.length;v++){var F=c.charAt(v);if(" "===F)m+="%20";else if(-1!=="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz%-_.!~*'()".indexOf(F))m+=F;else{var D=F.charCodeAt(0);255<
D?(alert("Unicode Character '"+F+"' cannot be encoded using standard URL encoding.\n(URL encoding only supports 8-bit characters.)\nA space (+) will be substituted."),m+="+"):(m+="%",m+="0123456789ABCDEF".charAt(D>>4&15),m+="0123456789ABCDEF".charAt(D&15))}}return m}
function getBBOXandProjString(c,m){var v="";if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)v+="SRS="+URLEncode(m.srs)+"&",v+="BBOX="+m.bbox.left+","+m.bbox.bottom+","+m.bbox.right+","+m.bbox.top+"&";c.version===WMSVersion.version130&&(v+="CRS="+URLEncode(m.srs)+"&",v="EPSG:4326"===m.srs&&!1===c.wms130bboxcompatibilitymode?v+("BBOX="+m.bbox.bottom+","+m.bbox.left+","+m.bbox.top+","+m.bbox.right+"&"):v+("BBOX="+m.bbox.left+","+m.bbox.bottom+","+m.bbox.right+","+m.bbox.top+"&"));
return v}function getLevels(c,m,v){MakeHTTPRequest(c,function(F,D){null!=F?console.error(F):(F=D.indexOf("lev"),D=D.slice(F),F=D.indexOf(";"),D=D.slice(0,F),D=D.split("="),D=parseInt(D[1])-1,v(D))})}
function getMeta(c,m){MakeHTTPRequest(c,function(v,F){if(null!=v)console.error(v);else{v=[];try{var D=JSON.parse(F),ea=D[0].point.coords;ea=ea.split(",");var J=parseFloat(ea[0]),N=parseFloat(ea[1]),K=Object.keys(D[1].data),Z=K.toString();Z=Z.split("T");var da=Z[0].replaceAll("-","");da=parseInt(da);var U=parseInt(Z[1].substring(0,2)),ca=D[1].data[K];if("nodata"!=ca){ca+=" "+D[5].data[K];K=Object.keys(D[2].data);var sa=D[2].data[K];sa/=100;K=Object.keys(D[3].data);var qa=D[3].data[K];qa=parseFloat(qa);
isNaN(qa)&&(qa=0);v={model:"OBSERVACION",index:ca,date:da,run:U,step:0,lon:J,lat:N,ps:sa,zs:qa,name:ca};m(v)}else m(null)}catch(ua){m(null)}}})}
function getData(c,m,v,F){var D="&DIM_lev=";v.includes("files")&&(D="&elevation=");htmlTab="<TABLE BORDER>";htmlTab+="<TR> <TD>Nivel</TD> <TD>P</TD> <TD>Z</TD> <TD>T</TD> <TD>TD</TD> <TD>WD</TD> <TD>WS</TD> </TR>";getLevels(c,m,function(ea){null==ea&&(window.errorMessage("No hay niveles!"),F(null));var J=parseInt(ea),N=Math.floor(J/100);J%=100;for(var K=0,Z=0,da=[],U=0;U<N;U++)Z=K+99,da.push(v+D+K+"/"+Z),K=Z+1;da.push(v+D+K+"/"+(K+J));da=da.reverse();var ca=[];getDataN(da,ea,m,ca,function(sa){null==
sa&&(window.errorMessage("No hay niveles!"),F(null));if(0==ca.length)window.alert("El sondeo no tiene datos validos para este diagrama"),F(null);else{sa=parseFloat(ca[ca.length-1].p);var qa=parseFloat(ca[0].p);850>=qa?(window.alert("El primer nivel esta demasiado alto! - P0: "+qa+"hpa\n\n El primer nivel debe ser mayor de 850hPa"),F(null)):300<sa?(window.alert("Ultimo nivel demasiado bajo! - Pn: "+sa+"hpa\n\n El ultimo nivel debe ser menor de 300hPa"),F(null)):(htmlTab+="</TABLE>",F(ca))}})})}
function getDataN(c,m,v,F,D){if(0!=c.length){var ea=c.pop(),J=ea.indexOf("lev");J=ea.slice(J);var N=J.indexOf("=")+1,K=J.indexOf("/"),Z=J.slice(N,K);document.getElementById("info").innerHTML+="Procesando niviles "+Z+" a "+(parseInt(Z)+99)+" de "+m+"<br>";MakeHTTPRequest(ea,function(da,U){if(null!=da)console.error(da);else if(!U.includes("ServiceException")){da=v.zs;var ca=v.ps,sa=100;150>ca&&(sa=100);console.log("PRESION SF",ca);var qa=JSON.parse(U);Object.keys(qa[0].data);U=qa[0].data;ca=qa[1].data;
var ua=qa[2].data,xa=qa[3].data,Da=qa[4].data,Ea=qa[5].data;qa=qa[6].data;var Ia=parseInt(Z);isDefined(U[Ia])||(Ia+=1);Ia=Object.keys(U[Ia]);var Xa=F.length,Ta;for(Ta in U){var Ya=U[Ta],ab=ca[Ta],jb=ua[Ta],qb=xa[Ta],Ab=Da[Ta],wb=Ea[Ta],rb=qa[Ta];rb=rb[Ia];parseFloat(rb);Ya=Ya[Ia];Ya=parseFloat(Ya);Ya/=sa;999999999<Ya||0>Ya||(ab=parseFloat(ab[Ia]),ab<da||(jb=parseFloat(jb[Ia]),isNaN(jb)||(jb-=273.15,qb=parseFloat(qb[Ia])-273.15,isNaN(qb)||(Ab=parseFloat(Ab[Ia]),rb=wb=parseFloat(wb[Ia]),0>rb||(wb*=
Math.PI/180,wb%=2*Math.PI,htmlTab+="<TR><TD>"+Xa+"</TD> <TD>"+Ya+"</TD> <TD>"+ab+"</TD> <TD>"+jb.toFixed(2)+"</TD> <TD>"+qb.toFixed(2)+"</TD> <TD>"+rb.toFixed(0)+"</TD> <TD>"+Ab.toFixed(2)+"</TD></TR>",Ya={n:Xa,p:Ya,z:ab,t:jb,td:qb,wD:wb,wS:Ab},Xa+=1,F.push(Ya))))))}}getDataN(c,m,v,F,D)})}else D(F)}var wsond=function(c){};var table="",wmjsond,yradar=function(c,m){function v(ca,sa){if(ca.length!=sa.length)return!1;for(var qa=0;qa<ca.length;qa++)if(!sa.includes(ca[qa]))return!1;for(qa=0;qa<sa.length;qa++)if(!ca.includes(sa[qa]))return!1;return!0}function F(){for(var ca=[],sa=0;sa<m.layers.length;sa++)m.layers[m.layers.length-sa-1].service.includes("YRAD")&&ca.push(m.layers[m.layers.length-sa-1].name);return ca}wmjsond=m;var D=!0,ea="",J=[],N=!1,K=[];J.set=!1;var Z=null,da=function(ca){N&&(Z.close(),N=!1);var sa=[];qa=
"";document.getElementById("info").innerHTML=qa;if(0!=D)if(J.x=ca.x,J.y=ca.y,J.set=!0,m.getLatLongFromPixelCoord({x:ca.x,y:ca.y}),ca=m.getLayers(),isDefined(ca)){info=m.getLayers().getFeatureInfoUrl;var qa="";0==m.layers.length&&(qa="No layer: Load a valid YRADAR layer.",document.getElementById("info").innerHTML=qa);ca=[];for(qa=0;qa<m.layers.length;qa++)m.layers[m.layers.length-qa-1].service.includes("YRAD")&&ca.push(m.layers[m.layers.length-qa-1]);qa=null;for(var ua in ca)qa=ca[ua],null!=qa&&""!==
qa.getFeatureInfoUrl?!1===qa.queryable?m.featureInfoRequestReady("Layer is not queryable.",qa):(document.getElementById("table").innerHTML="",qa.name.includes("2D")?sa.push(qa):qa.name.includes("3D")&&sa.push(qa)):(qa="Wrong layer: Load a valid yradar layer.",document.getElementById("info").innerHTML=qa,N&&Z.close());console.log("YR",sa);if(0<sa.length){Z=window.open("YRADAR.html","YRADAR",'itemId="sond",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=800,height=600');for(ua=
0;ua<sa.length;ua++)qa=sa[ua],getCells(qa,m,J.x,J.y,function(xa){null!=xa&&(Z.document.getElementById("info").insertAdjacentHTML("afterbegin",xa),Z.focus())});N=!0}}else $("#info").html("No valid data received:<br/>"+data)};m.addListener("mouseclicked",da,!0);m.addListener("ondimchange",function(ca){return $jscomp.asyncExecutePromiseGeneratorProgram(function(sa){if(1==sa.nextAddress)return N&&Z.close(),$("#tableinfo").html(""),$("#info").html(""),$("#table").html(""),document.getElementById("info").innerHTML=
"",document.getElementById("info").innerHTML='<img src="./img/ajax-loader.gif" alt="Loading..."/>',sa.yield(new Promise(function(qa){return setTimeout(qa,500)}),2);console.log("DIM REFRESH!!!");U();sa.jumpToEnd()})},!0);m.addListener("onimageload",function(ca){var sa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qa){sa=F();v(sa,K)||(console.log("IMG REFRESH!!!"),U());qa.jumpToEnd()})},!0);var U=function(){K=F();c.html('<div id="tableinfo"></div><div id="info"></div><div id="table"></div>');
$("#tableinfo").html("");$("#info").html("");$("#table").html("");var ca='<img src="./img/ajax-loader.gif" alt="Loading..."/>';document.getElementById("info").innerHTML=ca;var sa=[];for(ca=0;ca<m.layers.length;ca++)m.layers[m.layers.length-ca-1].service.includes("YRAD")&&sa.push(m.layers[m.layers.length-ca-1]);0==sa.length&&(ca="No YRADAR Layer: Load a valid YRADAR layer.",document.getElementById("info").innerHTML=ca);ca={};for(var qa in sa){var ua=sa[qa];if(null!=ua&&""!==ua.getFeatureInfoUrl)if(!1===
ua.queryable)m.featureInfoRequestReady("Layer is not queryable.",ua);else if(ua.name.includes("2D")||ua.name.includes("3D")){var xa=sa[qa];ca.$jscomp$loop$prop$path$292="";ca.$jscomp$loop$prop$rad$293=xa.name.substr(-3,3);ca.$jscomp$loop$prop$dim$291="2D";xa.name.includes("3D")&&(ca.$jscomp$loop$prop$dim$291="3D");ca.$jscomp$loop$prop$path$292="http://brisa.aemet.es/webtools/visor/prod/data/";getJSONdate(xa,m,"text/plain",function(Da){return function(Ea){var Ia=Ea.substring(0,Ea.indexOf("T"));Ea=
Ea.substring(Ea.indexOf("T")+1,Ea.indexOf("Z")-2);ea!=Ia+Ea&&(ea=Ia+Ea);"3D"==Da.$jscomp$loop$prop$dim$291?Da.$jscomp$loop$prop$path$292+=Ia+"/yradar/"+Ia+Ea+"REG3D":xa.name.includes("NAC")?Da.$jscomp$loop$prop$path$292+=Ia+"/yradar/"+Ia+Ea+"NAC2D":Da.$jscomp$loop$prop$path$292+=Ia+"/yradar/"+Ia+Ea+"REG2D";$.ajax({url:Da.$jscomp$loop$prop$path$292,dataType:"text",success:function(Xa){document.getElementById("info").innerHTML="";var Ta=Xa.split(/\r?\n|\r/);Xa="<b> RADAR: "+Da.$jscomp$loop$prop$rad$293+
"</b><br>";table="3D"==Da.$jscomp$loop$prop$dim$291?"<b>YRADAR3D</b><br>":"<b>YRADAR2D</b><br>";if("COM"!=Da.$jscomp$loop$prop$rad$293&&"NAC"!=Da.$jscomp$loop$prop$rad$293){for(var Ya=[],ab=0;ab<Ta.length;ab++)0===ab&&Ya.push(Ta[ab]),Ta[ab].includes(Da.$jscomp$loop$prop$rad$293)&&Ya.push(Ta[ab]);Ta=Ya}Ta=getTable(Ta,Da.$jscomp$loop$prop$rad$293,Da.$jscomp$loop$prop$dim$291,m);$("#tableinfo").append(table+Xa+Ta);$("#info").html("Click on the map to load a profile.<br>")}})}}(ca))}ca={$jscomp$loop$prop$dim$291:ca.$jscomp$loop$prop$dim$291,
$jscomp$loop$prop$path$292:ca.$jscomp$loop$prop$path$292,$jscomp$loop$prop$rad$293:ca.$jscomp$loop$prop$rad$293}}m.enableInlineGetFeatureInfo(!1)};this.enable=function(){U();D=!0};this.disable=function(){D=!1;m.enableInlineGetFeatureInfo(!0);J.set=!1;N&&(Z.close(),N=!1)};this.resize=function(ca,sa){$("#mitdd").width(ca);J.set&&da(J)}};try{WMJSExtApplications.Yradar=yradar}catch(c){}
function createXHR(){try{return new XMLHttpRequest}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}return!1}
function MakeHTTPRequest(c,m,v,F){function D(N){errorfunction?errorfunction(N,pointer):m(void 0,pointer)}function ea(){!1===v?(c=F+"REQUEST="+URLEncode(c),MakeHTTPRequest(c,m,errorfunction,pointer,!0,F)):D("status("+J.status+") to "+c)}c=-1===c.indexOf("?")?c+"?":c+"&";c+="rand="+Math.random();v||(v=!1);try{var J=createXHR();J.open("GET",c,!0);J.onreadystatechange=function(){if(4===J.readyState)if(200===J.status){try{var N=J.responseText}catch(K){D("Exception occured:"+K);return}void 0===N||""===
N?D("request returned no data"):m(null,J.response)}else window.alert("ALLI"),ea()};J.send(null)}catch(N){ea()}}
function getCells(c,m,v,F,D){var ea=c.name;ea.includes("2D")&&getJSONdata2D(c,m,v,F,"text/plain",function(J){document.getElementById("info").innerHTML="";if(null!=J){var N=J.ANA,K=J.RAYOS,Z=J.MOV;J="<br>CENTROIDE 2D <b>"+(N.ID+"</b> : ["+N.LATCEN+","+N.LONCEN+"]");var da="<TABLE BORDER><TR> <TD>ID</TD> <TD>NUPIX</TD> <TD>ZMAX</TD> <TD>ZMED</TD> <TD>RADIOE</TD> <TD>ECTOP</TD> <TD>VIL</TD> </TR><TR><TD><b>"+(N.ID+"</b></TD> <TD>"+N.NUPIX+"</TD> <TD>"+N.ZMAX+"</TD> <TD>"+N.ZMED+"</TD> <TD>"+N.RADIOE+
"</TD> <TD>"+N.ECTOP+"</TD> <TD>"+N.VIL+"</TD></TR>");da+="</TABLE>";var U="<div><p><b>RAYOS TOTALES:</b>"+K.RAY+"<br>";U+="<b>POSITIVOS:</b>"+K.POS+"<br>";U+="<b>NEGATIVOS:</b>"+K.NEG+"<br>";U+="<b>INTRANUBE:</b>"+K.INT+"<br>";U+="<b>LATCENR:</b>"+K.LATCENR+"<b> LONCENR:</b>"+K.LONCENR+"<br>";U+="<b>DISTMAX:</b>"+K.DISTMAX+"<b> DISTMED:</b>"+K.DISTMED+"<b> RAYOS/KM2:</b>"+K["RY/KM"]+"<br></p>";U+="</div>";K="<div><p><b>MOVIMIENTO:</b> V(Km/h):"+Z.VKMH+" DIRN:"+Z.DIRN+"</p></div>";Z="";isDefined(N.ADV)&&
(Z="<div><p><b>ADVERSIDAD: </b>"+N.ADV+"</p></div>");D(J+(da+U+K+Z))}else J="<br>"+(ea+" Wrong point!!! <b>"),D(J)});ea.includes("3D")&&getJSONdata3D(c,m,v,F,"text/plain",function(J){document.getElementById("info").innerHTML="";if(null!=J){var N=J.ANA,K=J.GRANIZO;J=J.MOV;var Z="CENTROIDE 3D <b>"+N.ID+"</b> : ["+N.LATCEN+","+N.LONCEN+"]";var da="<TABLE BORDER><TR> <TD>ID</TD> <TD>ZMAX</TD> <TD>ESPE</TD> <TD>ECTOP</TD> <TD>DVIL</TD> <TD>DVGR</TD> <TD>HB45</TD> <TD>HBAS</TD> <TD>DVCE</TD> </TR><TR><TD><b>"+
(N.ID+"</b></TD> <TD>"+N.ZMAX+"</TD> <TD>"+N.ESPE+"</TD> <TD>"+N.ECTOP+"</TD> <TD>"+N.DVIL+"</TD> <TD>"+N.DVGR+"</TD> <TD>"+N.HB45+"</TD> <TD>"+N.HBAS+"</TD> <TD>"+N.DVCE+"</TD></TR>");da+="</TABLE>";var U=K.GRA,ca="color:#00FF00";"g"==U&&(ca="color:#AAAA00");"G"==U&&(ca="color:#FF0000");U="<div><p><b>GRANIZO:</b><b style="+ca+">"+U+"</b><br><b>ORG-PER:</b>"+(K.ORG+"<br>");U+="<b>PGR:</b>"+K.PGR+"<br>";U+="<b>TAM(mm):</b>"+K.TAM+"<br>";U+="</p></div>";K=parseInt(N.ADV);ca="color:#00FF00";var sa="Sin Pot. Adv.";
1==K&&(ca="color:#AAAA00",sa="Alto Pot. Adv.");2==K&&(ca="color:#FF0000",sa="Muy alto Pot. Adv");N="<div><p><b>ADVERSIDAD: </b><b style="+ca+">"+sa+"</b><br><b>CELULA 2D: </b>"+(parseInt(N.N2D)+"<br>");Z+=da+("<div><p><b>MOVIMIENTO:</b></br><b>V(Km/h):</b>"+(J.VKMH+"<b> DIRN:</b>"+J.DIRN+"</p></div>"))+U+(N+"</p></div></br>")}else Z="<br>"+(ea+" wrong point!!!<b>");D(Z)})}
function getJSONdate(c,m,v,F){v=WMJScheckURL(c.service);v+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+c.version;v+="&LAYERs="+URLEncode(c.name);v+="&QUERY_LAYERS="+URLEncode(c.name)+"&INFO_FORMAT=application/json&FORMAT=application/json";v+="&"+getBBOXandProjString(c,m)+"&WIDTH=400";v+="&"+m._getMapDimURL(c);MakeHTTPRequest(v,function(D,ea){null!=D?(console.error(D),F(null)):(D=JSON.parse(ea),D=Object.keys(D[0].data)[0],D=D.replaceAll(":",""),D=D.replaceAll("-",""),F(D))})}
function getJSONdata2D(c,m,v,F,D,ea){document.getElementById("info").innerHTML="Procesando<br>";document.getElementById("table").innerHTML="";D=WMJScheckURL(c.service);D+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+c.version;D+="&LAYERS="+URLEncode(c.name);c.name.split(",");var J="";D+="&QUERY_LAYERS="+URLEncode(c.name)+"&INFO_FORMAT=application/json";J+="&"+getBBOXandProjString(c,m);J+="WIDTH="+m.width;J+="&HEIGHT="+m.height;if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)J=
J+("&X="+v)+("&Y="+F);c.version===WMSVersion.version130&&(J=J+("&I="+v)+("&J="+F));J+="&FORMAT=image/gif&STYLES=";try{J+="&"+m._getMapDimURL(c),D+=J}catch(N){ea(null)}MakeHTTPRequest(D,function(N,K){if(null!=N)console.error(N),ea(null);else{N=JSON.parse(K);var Z;for(Z in N){K=N[Z];if("RADIOE"==K.name&&(!isDefined(da)||"nodata"==da[Object.keys(da)]))var da=K.data;if("NUPIX"==K.name)var U=K.data;if("LATCEN"==K.name)var ca=K.data;if("LONCEN"==K.name)var sa=K.data;if("ECTOP"==K.name)var qa=K.data;if("VIL"==
K.name)var ua=K.data;if("id"==K.name&&(!isDefined(xa)||"nodata"==xa[Object.keys(xa)]||"nan"==xa[Object.keys(xa)]))var xa=K.data;if("ZMAX"==K.name&&(!isDefined(Da)||"nodata"==Da[Object.keys(Da)]||isNaN(parseFloat(Da[Object.keys(Da)]))))var Da=K.data;if("ZMED"==K.name)var Ea=K.data;if("ADV"==K.name)var Ia=K.data;if("RAY"==K.name)var Xa=K.data;if("POS"==K.name)var Ta=K.data;if("NEG"==K.name)var Ya=K.data;if("RAYo"==K.name)var ab=K.data;if("DISTMAX"==K.name)var jb=K.data;if("DISTME"==K.name)var qb=K.data;
if("RY/K"==K.name)var Ab=K.data;if("LATCENR"==K.name)var wb=K.data;if("LONCENR"==K.name)var rb=K.data;if("DIRN"==K.name)var cd=K.data;if("V(KMH)"==K.name)var Nc=K.data}try{var dd=da[Object.keys(da)],Cc=U[Object.keys(U)],Dc=ca[Object.keys(ca)],Pc=sa[Object.keys(sa)],pc=qa[Object.keys(qa)],qc=ua[Object.keys(ua)],ed=Da[Object.keys(Da)],fd=Ea[Object.keys(Ea)],Cd=Xa[Object.keys(Xa)],gd=Ta[Object.keys(Ta)],Dd=Ya[Object.keys(Ya)],ne=ab[Object.keys(ab)],Yb=jb[Object.keys(jb)],Ed=qb[Object.keys(qb)],oe=Ab[Object.keys(Ab)],
cf=wb[Object.keys(wb)],Yg=rb[Object.keys(rb)],Zg=cd[Object.keys(cd)],df=Nc[Object.keys(Nc)],ef=xa[Object.keys(xa)];if(isDefined(Ia)){var $g=Ia[Object.keys(Ia)];var ff={LATCEN:Dc,LONCEN:Pc,ID:ef,NUPIX:Cc,ZMAX:ed,ZMED:fd,RADIOE:dd,ADV:$g,ECTOP:pc,VIL:qc}}else ff={LATCEN:Dc,LONCEN:Pc,ID:ef,NUPIX:Cc,ZMAX:ed,ZMED:fd,RADIOE:dd,ECTOP:pc,VIL:qc};ea({ANA:ff,RAYOS:{RAY:Cd,POS:gd,NEG:Dd,INT:ne,DISTMAX:Yb,DISTMED:Ed,"RY/KM":oe,LATCENR:cf,LONCENR:Yg},MOV:{DIRN:Zg,VKMH:df}})}catch(xj){ea(null)}}});debug('<a target="_blank" href="'+
D+'">'+D+"</a>",!1)}
function getJSONdata3D(c,m,v,F,D,ea){document.getElementById("info").innerHTML="Procesando<br>";document.getElementById("table").innerHTML="";D=WMJScheckURL(c.service);D+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+c.version;D+="&LAYERS="+URLEncode(c.name);c.name.split(",");var J="";D+="&QUERY_LAYERS="+URLEncode(c.name)+"&INFO_FORMAT=application/json";J+="&"+getBBOXandProjString(c,m);J+="WIDTH="+m.width;J+="&HEIGHT="+m.height;if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)J=
J+("&X="+v)+("&Y="+F);c.version===WMSVersion.version130&&(J=J+("&I="+v)+("&J="+F));J+="&FORMAT=image/gif&STYLES=";try{J+="&"+m._getMapDimURL(c),D+=J}catch(N){ea(null)}MakeHTTPRequest(D,function(N,K){if(null!=N)console.error(N),ea(null);else{N=JSON.parse(K);var Z;for(Z in N){K=N[Z];if("ID_backup"==K.name)var da=K.data;if("LATCEN"==K.name)var U=K.data;if("LONCEN"==K.name)var ca=K.data;if("DVCE"==K.name)var sa=K.data;if("DVGR"==K.name)var qa=K.data;if("ECTOP"==K.name)var ua=K.data;if("ESPE"==K.name&&
(!isDefined(xa)||"nodata"==xa[Object.keys(xa)]))var xa=K.data;if("GRA"==K.name)var Da=K.data;if("HB45"==K.name)var Ea=K.data;if("HBAS"==K.name)var Ia=K.data;if("DVIL"==K.name&&(!isDefined(Xa)||"nodata"==Xa[Object.keys(Xa)]))var Xa=K.data;if("ZMAX"==K.name&&(!isDefined(Ta)||"nodata"==Ta[Object.keys(Ta)]||Ta[Object.keys(Ta)]==da[Object.keys(da)]))var Ta=K.data;if("ADV"==K.name)var Ya=K.data;if("NUM2D"==K.name)var ab=K.data;if("ORG-PER"==K.name)var jb=K.data;if("PGR"==K.name)var qb=K.data;if("TAM(mm)"==
K.name)var Ab=K.data;if("DIRN"==K.name)var wb=K.data;if("V(KMH)"==K.name)var rb=K.data}try{var cd=U[Object.keys(U)],Nc=ca[Object.keys(ca)],dd=sa[Object.keys(sa)],Cc=qa[Object.keys(qa)],Dc=ua[Object.keys(ua)],Pc=xa[Object.keys(xa)];sa="0";isDefined(Da)&&(sa=Da[Object.keys(Da)]);var pc=Ea[Object.keys(Ea)],qc=Ia[Object.keys(Ia)],ed=Xa[Object.keys(Xa)],fd=Ta[Object.keys(Ta)];Xa="0";isDefined(ab)&&(Xa=ab[Object.keys(ab)]);ab="0";isDefined(jb)&&(ab=jb[Object.keys(jb)]);var Cd=qb[Object.keys(qb)],gd=Ab[Object.keys(Ab)],
Dd=wb[Object.keys(wb)],ne=rb[Object.keys(rb)],Yb=da[Object.keys(da)];da="0";isDefined(Ya)&&(da=Ya[Object.keys(Ya)]);var Ed={LATCEN:cd,LONCEN:Nc,ID:Yb,DVCE:dd,DVGR:Cc,ESPE:Pc,HB45:pc,HBAS:qc,ECTOP:Dc,DVIL:ed,ZMAX:fd,N2D:Xa,ADV:da};granizo={GRA:sa,ORG:ab,PGR:Cd,TAM:gd};ea({ANA:Ed,GRANIZO:granizo,MOV:{DIRN:Dd,VKMH:ne}})}catch(oe){ea(null)}}});debug('<a target="_blank" href="'+D+'">'+D+"</a>",!1)}function WMJScheckURL(c){if(!isDefined(c))return"?";c=c.trim();-1===c.indexOf("?")&&(c+="?");return c}
function isDefined(c){return"undefined"===typeof c?!1:!0}
function URLEncode(c){if(!c||void 0===c||""===c||"string"!==typeof c)return c;var m="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz%-_.!~*'()",v="0123456789ABCDEF";c=c.replace(/%/g,"%25");c=c.replace(/\+/g,"%2B");c=c.replace(/ /g,"%20");c=c.replace(/\^/g,"%5E");c=c.replace(/&/g,"%26");c=c.replace(/\?/g,"%3F");c=c.replace(/>/g,"%3E");c=c.replace(/</g,"%3C");c=c.replace(/\\/g,"%5C");for(var F="",D=0;D<c.length;D++){var ea=c.charAt(D);if(" "===ea)F+="%20";else if(-1!==m.indexOf(ea))F+=
ea;else{var J=ea.charCodeAt(0);255<J?(alert("Unicode Character '"+ea+"' cannot be encoded using standard URL encoding.\n(URL encoding only supports 8-bit characters.)\nA space (+) will be substituted."),F+="+"):(F+="%",F+=v.charAt(J>>4&15),F+=v.charAt(J&15))}}return F}
function getBBOXandProjString(c,m){var v="";if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)v+="SRS="+URLEncode(m.srs)+"&",v+="BBOX="+m.bbox.left+","+m.bbox.bottom+","+m.bbox.right+","+m.bbox.top+"&";c.version===WMSVersion.version130&&(v+="CRS="+URLEncode(m.srs)+"&",v="EPSG:4326"===m.srs&&!1===c.wms130bboxcompatibilitymode?v+("BBOX="+m.bbox.bottom+","+m.bbox.left+","+m.bbox.top+","+m.bbox.right+"&"):v+("BBOX="+m.bbox.left+","+m.bbox.bottom+","+m.bbox.right+","+m.bbox.top+"&"));
return v}function getnum(c,m){console.log(wmjsond);console.log("PULSE!!",c,m,5E4);wmjsond.calculateBoundingBoxAndZoom(c,-1*m,1E5)}
function getTable(c,m,v,F){var D="NUM RAD NUPIX ZMAX ZMED VIL ZMXV DIRN V(KMH) NEG POS RAYo RAY ADV".split(" "),ea="NUM NUPIX ZMAX ZMED VIL DIRN V(KMH) NEG POS RAYo RAY".split(" "),J="NUM RAD ZMAX ESPE ECTOP DVIL ADV GRA".split(" ");F=["LATCEN","LONCEN"];ea="2D"==v?"NAC"==m?ea:D:J;m=c[0].split(",");v=[];for(D=0;D<ea.length;D++)m.includes(ea[D])&&v.push(m.indexOf(ea[D]));ea=[];for(D=0;D<F.length;D++)m.includes(F[D])&&ea.push(m.indexOf(F[D]));F=[];m=[];for(D=0;D<c.length;D++){J=c[D].split(",");var N=
[];m.push([J[ea[0]],J[ea[1]]]);for(var K=0;K<v.length;K++)N.push(J[v[K]]);isDefined(N[1])&&F.push(N)}c='<table id="my-table">';for(v=0;v<F.length;v++){0===v&&(c+="<thead>");c+="<tr>";D=F[v];ea=m[v];for(J=0;J<D.length;J++)0===v?(c+="<th>",c+=D[J],c+="</th>"):(c=0===J?c+('<td style="cursor:pointer;color:#00f" onclick="getnum('+ea[0]+","+ea[1]+')">'):c+"<td>",c+=D[J],c+="</td>");0===v?(c+="</tr>",c+="</thead>",c+="<tbody>"):c+="</tr>"}c+="</tbody></table>";1==F.length&&(c="<b>NO CELLS</b></br>");return c}
;var gfiapp_point_interest=function(c,m){var v=this,F=[],D=!0,ea=function(J,N){var K=null,Z=null,da=null;setflags=function(){K&&Z&&da?(lon=K,lat=Z,name=da,fullUrl=knmiFlagURL+"file="+pointInterestFileName+"&location="+lon+","+lat+"&name="+name,$.ajax({type:"GET",url:fullUrl,success:function(ca){"OK"===ca.status?(ca=Ext.getCmp("webmapjs_add_point_interest"),ca.getEl().dom.style.background="#BCED91",m.getImageStore().clear(),m.draw("draw")):(ca=Ext.getCmp("webmapjs_add_point_interest"),ca.getEl().dom.style.background=
"#FF4040")},dataType:"jsonp",contentType:"application/jsonp",jsonpCallback:"resultSetFlag",crossDomain:!0})):(da||$("#webmapjs_point_interest_name").css("border","2px solid red"),K||$("#webmapjs_point_interest_lon").css("border","2px solid red"),Z||$("#webmapjs_point_interest_lat").css("border","2px solid red"))};delete_flag=function(){Ext.MessageBox.show({title:I18n.delete_title_confirm.text,msg:I18n.are_you_sure.text,buttons:Ext.MessageBox.YESNO,icon:Ext.MessageBox.WARNING,fn:function(ca){"yes"==
ca&&(name=$(".webmapjs_label_selected_point_interest").text(),fullUrl=knmiFlagURL+"file="+pointInterestFileName+"&name="+name,$.ajax({type:"GET",url:fullUrl,success:function(sa){Ext.getCmp("webmapjs_delete_point_interest").getEl().dom.style.background="#BCED91";m.getImageStore().clear();m.draw()},dataType:"jsonp",contentType:"application/jsonp",jsonpCallback:"resultSetFlag",crossDomain:!0}))}})};c.html("<label class='webmapjs_label_point_interest' for='webmapjs_div_point_interest'>"+I18n.add_point_interest_abstract.text+
"</label><div id='webmapjs_div_point_interest' class='webmapjs_div_point_interest'><input type='number' step='0.01' id='webmapjs_point_interest_lat' class='webmapjs_input_point_interest' placeholder='Lat:'/><input type='number' step='0.01' id='webmapjs_point_interest_lon' class='webmapjs_input_point_interest' placeholder='Lon:'/><input type='text' id='webmapjs_point_interest_name' class='webmapjs_input_point_interest' placeholder='"+I18n.insert_name.text+"' /></div><div class='webmapjs_point_added'></div><div class='webmapjs_point_not_added'></div><label class='webmapjs_label_selected_point_interest_abstract' for='webmapjs_div_selected_point_interest'>"+
I18n.selected_flag.text+"</label><div id='webmapjs_div_selected_point_interest' class='webmapjs_div_selected_point_interest'><label class='webmapjs_label_selected_point_interest'>"+I18n.default_selected_flag.text+"</label></div>");Ext.create("Ext.Button",{text:I18n.add_point_interest.text,id:"webmapjs_add_point_interest",tooltip:I18n.add_flag_tooltip.tooltip,renderTo:"webmapjs_div_point_interest",handler:function(){setflags()}});Ext.create("Ext.Button",{text:I18n.delete.text,id:"webmapjs_delete_point_interest",
tooltip:I18n.delete_selected_flag_tooltip.tooltip,renderTo:"webmapjs_div_selected_point_interest",cls:"webmapjs_button_delete_point_interest",handler:function(){delete_flag()}});$("#webmapjs_point_interest_name, #webmapjs_point_interest_lon, #webmapjs_point_interest_lat").keypress(function(ca){if(13==ca.which)return setflags(),!1});var U=function(){var ca=c.find(".gfiapp_point_interest");ca.empty();for(var sa=m.getLayers(),qa=0;qa<sa.length;qa++){var ua=sa[qa],xa=jQuery("<div />",{css:{margin:8}});
ca.append(xa);xa.html("LAYER "+ua.service)}v.resize(J,N)};U();m.addListener("onlayeradd",U,!0);m.addListener("mouseclicked",function(ca){if(0!=D){var sa=m.getLatLongFromPixelCoord({x:ca.x,y:ca.y});K=sa.x;Z=sa.y;$("#webmapjs_point_interest_lon").val(sa.x.toFixed(5));$("#webmapjs_point_interest_lat").val(sa.y.toFixed(5));$("#webmapjs_point_interest_lon, #webmapjs_point_interest_lat").css("border","1px solid grey");sa=m.getLayers();ca=m.getWMSGetFeatureInfoRequestURL(sa[0],ca.x,ca.y).replace("&INFO_FORMAT=text/html",
"&INFO_FORMAT=application/json")+"&JSONP=featureInfoCallback";$.ajax({dataType:"jsonp",jsonpCallback:"featureInfoCallback",type:"GET",cache:!1,url:ca,success:function(qa){qa[1]&&"nodata"!==qa[1].data?($(".webmapjs_label_selected_point_interest").text(qa[1].data),$(".webmapjs_button_delete_point_interest").css("display","inline")):($(".webmapjs_label_selected_point_interest").text(I18n.default_selected_flag.text),$(".webmapjs_button_delete_point_interest").css("display","none"))},error:function(qa,
ua,xa){debug(ua+", "+xa)}})}},!0);$("#webmapjs_point_interest_name").on("input",function(ca){onChangeEvents("name",ca)});$("#webmapjs_point_interest_lon").on("input",function(ca){onChangeEvents("lon",ca);changeMapPin()});$("#webmapjs_point_interest_lat").on("input",function(ca){onChangeEvents("lat",ca);changeMapPin()});this.onChangeEvents=function(ca,sa){var qa=Ext.getCmp("webmapjs_add_point_interest");qa.getEl().dom.style.background="";qa=Ext.getCmp("webmapjs_delete_point_interest");qa.getEl().dom.style.background=
"";switch(ca){case "name":da=sa.target.value;break;case "lon":K=sa.target.value;break;case "lat":Z=sa.target.value}$("#webmapjs_point_interest_"+ca).css("border","1px solid grey")};this.changeMapPin=function(){m.positionMapPinByLatLon({x:K,y:Z})};m.enableInlineGetFeatureInfo(!1)};this.enable=function(J,N){ea(J,N);D=!0};this.disable=function(){D=!1;m.enableInlineGetFeatureInfo(!0)};this.resize=function(J,N){for(var K=0;K<F.length;K++)F[K].setSize(J,N/F.length);for(K=0;K<F.length;K++);};v.enable()};
WMJSExtApplications["Points of interest"]=gfiapp_point_interest;var gfiapp_eprofile=function(c,m){var v=this,F=[],D=function(ea,J){c.html('<div id="info"></div><div class="gfiapp_eprofile">bla</div>');var N=function(da,U){U=U.id;for(var ca=0;ca<F.length;ca++){var sa=F[ca].getWebMapJS();sa.suspendEvent("onupdatebbox");ca!=U&&0==da.equals(F[ca].getWebMapJS().getProjection().bbox)&&(sa.zoomTo(da),F[ca].updateBBOX(da));sa.resumeEvent("onupdatebbox")}},K=function(da,U){da=U.id;for(U=0;U<F.length;U++){var ca=F[U].getWebMapJS();ca.suspendEvent("onupdatebbox");ca.suspendEvent("onloadingcomplete");
U!=da&&ca.draw();ca.resumeEvent("onloadingcomplete");ca.resumeEvent("onupdatebbox")}},Z=function(){var da=c.find(".gfiapp_eprofile");da.empty();for(var U=m.getLayers(),ca=0;ca<U.length;ca++){var sa=U[ca],qa=jQuery("<div />",{css:{margin:8}});da.append(qa);F[ca]=new GFITimeElevationWindow(qa);F[ca].getWebMapJS().addLayer(sa);F[ca].getWebMapJS().getListener().id=ca;F[ca].getWebMapJS().addListener("onupdatebbox",N,!0);F[ca].getWebMapJS().addListener("onloadingcomplete",K,!0)}v.resize(ea,J)};Z();m.addListener("ondimchange",
function(){var da=F[0].getWebMapJS(),U=da.getProjection().bbox.clone();da=da.getProjection().bbox.right-da.getProjection().bbox.left;var ca=(new Date(m.getDimension("time").currentValue)).getTime();U.left=ca;U.right=ca+da;for(da=0;da<F.length;da++)F[da].getWebMapJS().zoomTo(U)},!0);m.addListener("onlayeradd",Z,!0);console.log(F[0]);F[0].getWebMapJS().addListener("onloadingcomplete",function(){var da=F[0].getWebMapJS().getProjection().bbox.clone();$("#info").html("Displaying dates "+m.dateToISO8601(new Date(da.left))+
" till "+m.dateToISO8601(new Date(da.right)))},!0);m.enableInlineGetFeatureInfo(!1)};this.enable=function(ea,J){D(ea,J)};this.disable=function(){m.enableInlineGetFeatureInfo(!0)};this.resize=function(ea,J){for(var N=0;N<F.length;N++)F[N].setSize(ea,J/F.length);for(N=0;N<F.length;N++);};v.enable()};WMJSExtApplications.EProfile=gfiapp_eprofile;var autowms_app=function(c,m){initWMJS();c.addClass("autowms_app_container");var v="https://geoservices.knmi.nl/autowms?";try{v=autowmsURL}catch(U){}var F={},D=[],ea=function(U){var ca=K();c.html(ca+JSON.stringify(U));$(".autowms_app_fileitem_return").attr("onclick","").click(function(sa){D=[];da("")});$(".autowms_app_fileitem_refresh").attr("onclick","").click(function(sa){var qa=$(this).attr("name");$(".autowms_app_fileitem").remove();$(".autowms_app_layeritem").remove();setTimeout(function(){da(qa)},
100)})},J=function(U){var ca=U.name;return U.leaf?"<span class='autowms_app_fileitem' name='"+U.name+"'>&#128451;&nbsp;"+ca+"</span>":"<span class='autowms_app_fileitem autowms_app_diritem' name='"+U.name+"'>&#128448;&nbsp;"+ca+"</span>"},N=function(U,ca){var sa="<span class='autowms_app_layeritem' title='Click to add to viewer' name='"+U.name+"'><span class='autowms_app_layeritem_text'>Layer "+U.text+" - ("+U.name+")</span>";return sa+="<span class='autowms_app_layeritem_image'><img src=\""+(ca+
"&service=WMS&request=getmap&format=image/png&layers="+U.name+"&width=400&CRS=EPSG:4326&STYLES=&EXCEPTIONS=INIMAGE&showlegend=true&dim_reference_time=*&"+Math.random())+'" /></span></span>'},K=function(U,ca){return"<span class='autowms_app_currentpath'>AutoWMS link: <span class='autowms_app_request_container'><input class='autowms_app_request_input' type=\"text\" value=\""+v+"\"></input>  <span class='autowms_app_request_button'>-></span></span><hr/><span class='autowms_app_currentpath'>Current folder: ./"+
(ca+'</span><span class="autowms_app_fileitem_header"><span class="autowms_app_fileitem_return">&#128193;&nbsp;<b>../ (&#8679;)</b></span><span class="autowms_app_fileitem_refresh" name="')+(ca+'">&#8635;&nbsp;<b>Refresh</b></span></span>')},Z=function(U,ca){c.html("... working ... ");var sa=WMJSGetServiceFromStore(ca,xml2jsonrequestURL);sa.getLayerObjectsFlat(function(qa){var ua=""+K(U,ca);ua+="<span class='autowms_app_serviceabstract'><b>"+sa.title.replace(/!/g,"<br/>")+"</b><hr/>"+sa.abstract.replace(/!/g,
"<br/>");if(ca&&(ua+='<hr/>WMS: <a target="_blank" href="'+ca+'&service=WMS&request=GetCapabilities">'+ca+"</a>",1<ca.split("?").length)){var xa=new WMJSKVP(ca.split("?")[1]),Da=ca.split("?")[0].replace("adagucserver","adagucopendap/");Da=Da.replace(/([^:]\/)\/+/g,"$1");xa.source&&(Da+=xa.source);xa.dataset&&(Da+=xa.dataset+"/");ua=ua+('<hr/>OpenDAP: <span class=\'autowms_app_opendaplinks\'><a target="_blank" href="'+Da+'">'+Da+'</a><a target="_blank" href="')+(Da+'.das">DAS</a><a target="_blank" href="')+
(Da+'.dds">DDS</a></span>')}ua+="</span>";c.html("... working ... ");F={};for(xa=0;xa<qa.length;xa++)ua+=N(qa[xa],ca),F[qa[xa].name]=qa[xa];c.html(ua);$(".autowms_app_layeritem").attr("onclick","").click(function(Ea){Ea=F[$(this).attr("name")];window.location.hash="addlayer('"+ca+"','"+Ea.name+"')"});$(".autowms_app_fileitem_return").attr("onclick","").click(function(Ea){da(D.pop())});$(".autowms_app_fileitem_refresh").attr("onclick","").click(function(Ea){var Ia=$(this).attr("name");$(".autowms_app_fileitem").remove();
$(".autowms_app_layeritem").remove();setTimeout(function(){Z(U,Ia)},100)});$(".autowms_app_request_button").attr("onclick","").click(function(Ea){da("")});$(".autowms_app_request_input").keyup(function(Ea){13==Ea.keyCode&&da("")})},function(qa){qa=K();qa=qa+"<span class='autowms_app_error_container'><span class='autowms_app_error_container_header'>Unable to get WMS GetCapabilities</span><a target='_blank' href=\""+(ca+'service=WMS&request=GetCapabilities">'+ca+"</a>");c.html(qa+"</span>");$(".autowms_app_fileitem_return").attr("onclick",
"").click(function(ua){D=[];da("")})},!0)},da=function(U){U&&"undefined"!==U||(U="");var ca=$(".autowms_app_request_input").first().val();ca&&0<ca.length&&(v=ca.trim().split("?")[0],v.endsWith("?")||(v+="?"));var sa=function(ua){if(ua.error)c.html("Error from server: "+ua.error);else{F={};D[D.length-1]!==U&&D.push(U);var xa=K(ua,U);c.html("... working ... ");ua.result.sort(function(Ea,Ia){if(Ea.name<=Ia.name)return-1;if(Ea.name>Ia.name)return 1;if(Ea.name==Ia.name)return 0});for(var Da=0;Da<ua.result.length;Da++)xa+=
J(ua.result[Da]),F[ua.result[Da].name]=ua.result[Da];c.html(xa);$(".autowms_app_fileitem_return").attr("onclick","").click(function(Ea){D.pop();da(D[D.length-1])});$(".autowms_app_fileitem_refresh").attr("onclick","").click(function(Ea){var Ia=$(this).attr("name");$(".autowms_app_fileitem").remove();$(".autowms_app_layeritem").remove();setTimeout(function(){da(Ia)},100)});$(".autowms_app_fileitem").attr("onclick","").click(function(Ea){Ea=F[$(this).attr("name")];!1===Ea.leaf?da(Ea.path):Z(ua,Ea.adaguc)});
$(".autowms_app_request_button").attr("onclick","").click(function(Ea){da("")});$(".autowms_app_request_input").keyup(function(Ea){13==Ea.keyCode&&da("")})}},qa=v+"request=getfiles&path="+U;c.html('... Reading <a href="'+qa+'">'+qa+"</a> ... ");try{$.ajax({contentType:"application/json",crossDomain:!0,type:"GET",url:qa,success:sa,error:function(ua){console.error("Request failed without jsonp, trying jsonp");sa({result:[]});$.ajax({dataType:"jsonp",contentType:"application/jsonp",crossDomain:!0,type:"GET",
url:qa,success:sa,error:function(xa){ea("Unable to do ajax call")}})}})}catch(ua){console.error(ua),ea(ua)}};this.enable=function(){c.html("<div>Initializing...</div>");da("")};this.disable=function(){};this.resize=function(U,ca){}};try{WMJSExtApplications.AutoWMS=autowms_app}catch(c){};
//# sourceMappingURL=WMJSExt.min.js.map
