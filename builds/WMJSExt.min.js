var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(e){var p=0;return function(){return p<e.length?{done:!1,value:e[p++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,p,z){if(e==Array.prototype||e==Object.prototype)return e;e[p]=z.value;return e};$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var p=0;p<e.length;++p){var z=e[p];if(z&&z.Math==Math)return z}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(e,p){var z=$jscomp.propertyToPolyfillSymbol[p];if(null==z)return e[p];z=e[z];return void 0!==z?z:e[p]};
$jscomp.polyfill=function(e,p,z,F){p&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,p,z,F):$jscomp.polyfillUnisolated(e,p,z,F))};$jscomp.polyfillUnisolated=function(e,p,z,F){z=$jscomp.global;e=e.split(".");for(F=0;F<e.length-1;F++){var I=e[F];if(!(I in z))return;z=z[I]}e=e[e.length-1];F=z[e];p=p(F);p!=F&&null!=p&&$jscomp.defineProperty(z,e,{configurable:!0,writable:!0,value:p})};
$jscomp.polyfillIsolated=function(e,p,z,F){var I=e.split(".");e=1===I.length;F=I[0];F=!e&&F in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var ja=0;ja<I.length-1;ja++){var N=I[ja];if(!(N in F))return;F=F[N]}I=I[I.length-1];z=$jscomp.IS_SYMBOL_NATIVE&&"es6"===z?F[I]:null;p=p(z);null!=p&&(e?$jscomp.defineProperty($jscomp.polyfills,I,{configurable:!0,writable:!0,value:p}):p!==z&&(void 0===$jscomp.propertyToPolyfillSymbol[I]&&(z=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[I]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(I):$jscomp.POLYFILL_PREFIX+z+"$"+I),$jscomp.defineProperty(F,$jscomp.propertyToPolyfillSymbol[I],{configurable:!0,writable:!0,value:p})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(e){if(e)return e;var p=function(ja,N){this.$jscomp$symbol$id_=ja;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:N})};p.prototype.toString=function(){return this.$jscomp$symbol$id_};var z="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",F=0,I=function(ja){if(this instanceof I)throw new TypeError("Symbol is not a constructor");return new p(z+(ja||"")+"_"+F++,ja)};return I},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var p="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),z=0;z<p.length;z++){var F=$jscomp.global[p[z]];"function"===typeof F&&"function"!=typeof F.prototype[e]&&$jscomp.defineProperty(F.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return e},"es6",
"es3");$jscomp.iteratorPrototype=function(e){e={next:e};e[Symbol.iterator]=function(){return this};return e};$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e};$jscomp.createTemplateTagFirstArgWithRaw=function(e,p){e.raw=p;return e};$jscomp.makeIterator=function(e){var p="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return p?p.call(e):$jscomp.arrayIterator(e)};$jscomp.arrayFromIterator=function(e){for(var p,z=[];!(p=e.next()).done;)z.push(p.value);return z};
$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var p=function(){};p.prototype=e;return new p};
$jscomp.getConstructImplementation=function(){function e(){function z(){}new z;Reflect.construct(z,[],function(){});return new z instanceof z}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(e())return Reflect.construct;var p=Reflect.construct;return function(z,F,I){z=p(z,F);I&&Reflect.setPrototypeOf(z,I.prototype);return z}}return function(z,F,I){void 0===I&&(I=z);I=$jscomp.objectCreate(I.prototype||Object.prototype);return Function.prototype.apply.call(z,I,F)||
I}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var e={a:!0},p={};try{return p.__proto__=e,p.a}catch(z){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,p){e.__proto__=p;if(e.__proto__!==p)throw new TypeError(e+" is not extensible");return e}:null;
$jscomp.inherits=function(e,p){e.prototype=$jscomp.objectCreate(p.prototype);e.prototype.constructor=e;if($jscomp.setPrototypeOf){var z=$jscomp.setPrototypeOf;z(e,p)}else for(z in p)if("prototype"!=z)if(Object.defineProperties){var F=Object.getOwnPropertyDescriptor(p,z);F&&Object.defineProperty(e,z,F)}else e[z]=p[z];e.superClass_=p.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e};
$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(e,p){this.nextAddress=p;return{value:e}};
$jscomp.generator.Context.prototype.yieldAll=function(e,p){e=$jscomp.makeIterator(e);var z=e.next();$jscomp.generator.ensureIteratorResultIsObject_(z);if(z.done)this.yieldResult=z.value,this.nextAddress=p;else return this.yieldAllIterator_=e,this.yield(z.value,p)};$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,p){this.catchAddress_=e;void 0!=p&&(this.finallyAddress_=p)};$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0;this.finallyAddress_=e||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(e,p){this.nextAddress=e;this.catchAddress_=p||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(e){this.catchAddress_=e||0;e=this.abruptCompletion_.exception;this.abruptCompletion_=null;return e};$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,p,z){z?this.finallyContexts_[z]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=e||0;this.finallyAddress_=p||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,p){p=this.finallyContexts_.splice(p||0)[0];if(p=this.abruptCompletion_=this.abruptCompletion_||p){if(p.isException)return this.jumpToErrorHandler_();void 0!=p.jumpTo&&this.finallyAddress_<p.jumpTo?(this.nextAddress=p.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e};$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)};
$jscomp.generator.Context.PropertyIterator=function(e){this.object_=e;this.properties_=[];for(var p in e)this.properties_.push(p);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null};$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context;this.program_=e};
$jscomp.generator.Engine_.prototype.next_=function(e){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_);this.context_.next_(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var p=this.context_.yieldAllIterator_;if(p)return this.yieldAllStep_("return"in p?p["return"]:function(z){return{value:z,done:!0}},e,this.context_.return);this.context_.return(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(e){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],e,this.context_.next_);this.context_.throw_(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,p,z){try{var F=e.call(this.context_.yieldAllIterator_,p);$jscomp.generator.ensureIteratorResultIsObject_(F);if(!F.done)return this.context_.stop_(),F;var I=F.value}catch(ja){return this.context_.yieldAllIterator_=null,this.context_.throw_(ja),this.nextStep_()}this.context_.yieldAllIterator_=null;z.call(this.context_,I);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(p){this.context_.yieldResult=void 0,this.context_.throw_(p)}this.context_.stop_();if(this.context_.abruptCompletion_){e=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(e){this.next=function(p){return e.next_(p)};this.throw=function(p){return e.throw_(p)};this.return=function(p){return e.return_(p)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(e,p){p=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(p));$jscomp.setPrototypeOf&&e.prototype&&$jscomp.setPrototypeOf(p,e.prototype);return p};$jscomp.polyfill("Reflect",function(e){return e?e:{}},"es6","es3");
$jscomp.polyfill("Reflect.construct",function(e){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Reflect.setPrototypeOf",function(e){if(e)return e;if($jscomp.setPrototypeOf){var p=$jscomp.setPrototypeOf;return function(z,F){try{return p(z,F),!0}catch(I){return!1}}}return null},"es6","es5");$jscomp.findInternal=function(e,p,z){e instanceof String&&(e=String(e));for(var F=e.length,I=0;I<F;I++){var ja=e[I];if(p.call(z,ja,I,e))return{i:I,v:ja}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(p,z){return $jscomp.findInternal(this,p,z).v}},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(e){return e?e:function(p,z,F){var I=this.length||0;0>z&&(z=Math.max(0,I+z));if(null==F||F>I)F=I;F=Number(F);0>F&&(F=Math.max(0,I+F));for(z=Number(z||0);z<F;z++)this[z]=p;return this}},"es6","es3");$jscomp.typedArrayFill=function(e){return e?e:Array.prototype.fill};
$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Object.is",function(e){return e?e:function(p,z){return p===z?0!==p||1/p===1/z:p!==p&&z!==z}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(e){return e?e:function(p,z){var F=this;F instanceof String&&(F=String(F));var I=F.length;z=z||0;for(0>z&&(z=Math.max(z+I,0));z<I;z++){var ja=F[z];if(ja===p||Object.is(ja,p))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(e,p,z){if(null==e)throw new TypeError("The 'this' value for String.prototype."+z+" must not be null or undefined");if(p instanceof RegExp)throw new TypeError("First argument to String.prototype."+z+" must not be a regular expression");return e+""};$jscomp.polyfill("String.prototype.includes",function(e){return e?e:function(p,z){return-1!==$jscomp.checkStringArgs(this,p,"includes").indexOf(p,z||0)}},"es6","es3");
$jscomp.polyfill("Array.from",function(e){return e?e:function(p,z,F){z=null!=z?z:function(V){return V};var I=[],ja="undefined"!=typeof Symbol&&Symbol.iterator&&p[Symbol.iterator];if("function"==typeof ja){p=ja.call(p);for(var N=0;!(ja=p.next()).done;)I.push(z.call(F,ja.value,N++))}else for(ja=p.length,N=0;N<ja;N++)I.push(z.call(F,p[N],N));return I}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var e={},p=Object.create(new $jscomp.global.Proxy(e,{get:function(z,F,I){return z==e&&"q"==F&&I==p}}));return!0===p.q}catch(z){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(e,p){return Object.prototype.hasOwnProperty.call(e,p)};
$jscomp.polyfill("WeakMap",function(e){function p(){if(!e||!Object.seal)return!1;try{var ca=Object.seal({}),ea=Object.seal({}),Z=new e([[ca,2],[ea,3]]);if(2!=Z.get(ca)||3!=Z.get(ea))return!1;Z.delete(ca);Z.set(ea,4);return!Z.has(ca)&&4==Z.get(ea)}catch(ma){return!1}}function z(){}function F(ca){var ea=typeof ca;return"object"===ea&&null!==ca||"function"===ea}function I(ca){if(!$jscomp.owns(ca,N)){var ea=new z;$jscomp.defineProperty(ca,N,{value:ea})}}function ja(ca){if(!$jscomp.ISOLATE_POLYFILLS){var ea=
Object[ca];ea&&(Object[ca]=function(Z){if(Z instanceof z)return Z;Object.isExtensible(Z)&&I(Z);return ea(Z)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(p())return e;var N="$jscomp_hidden_"+Math.random();ja("freeze");ja("preventExtensions");ja("seal");var V=0,aa=function(ca){this.id_=(V+=Math.random()+1).toString();if(ca){ca=$jscomp.makeIterator(ca);for(var ea;!(ea=ca.next()).done;)ea=ea.value,this.set(ea[0],ea[1])}};aa.prototype.set=function(ca,
ea){if(!F(ca))throw Error("Invalid WeakMap key");I(ca);if(!$jscomp.owns(ca,N))throw Error("WeakMap key fail: "+ca);ca[N][this.id_]=ea;return this};aa.prototype.get=function(ca){return F(ca)&&$jscomp.owns(ca,N)?ca[N][this.id_]:void 0};aa.prototype.has=function(ca){return F(ca)&&$jscomp.owns(ca,N)&&$jscomp.owns(ca[N],this.id_)};aa.prototype.delete=function(ca){return F(ca)&&$jscomp.owns(ca,N)&&$jscomp.owns(ca[N],this.id_)?delete ca[N][this.id_]:!1};return aa},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(e){function p(){if($jscomp.ASSUME_NO_NATIVE_MAP||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var aa=Object.seal({x:4}),ca=new e($jscomp.makeIterator([[aa,"s"]]));if("s"!=ca.get(aa)||1!=ca.size||ca.get({x:4})||ca.set({x:4},"t")!=ca||2!=ca.size)return!1;var ea=ca.entries(),Z=ea.next();if(Z.done||Z.value[0]!=aa||"s"!=Z.value[1])return!1;Z=ea.next();return Z.done||4!=Z.value[0].x||"t"!=Z.value[1]||!ea.next().done?!1:!0}catch(ma){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(p())return e;var z=new WeakMap,F=function(aa){this.data_={};this.head_=N();this.size=0;if(aa){aa=$jscomp.makeIterator(aa);for(var ca;!(ca=aa.next()).done;)ca=ca.value,this.set(ca[0],ca[1])}};F.prototype.set=function(aa,ca){aa=0===aa?0:aa;var ea=I(this,aa);ea.list||(ea.list=this.data_[ea.id]=[]);ea.entry?ea.entry.value=ca:(ea.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:aa,value:ca},
ea.list.push(ea.entry),this.head_.previous.next=ea.entry,this.head_.previous=ea.entry,this.size++);return this};F.prototype.delete=function(aa){aa=I(this,aa);return aa.entry&&aa.list?(aa.list.splice(aa.index,1),aa.list.length||delete this.data_[aa.id],aa.entry.previous.next=aa.entry.next,aa.entry.next.previous=aa.entry.previous,aa.entry.head=null,this.size--,!0):!1};F.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=N();this.size=0};F.prototype.has=function(aa){return!!I(this,
aa).entry};F.prototype.get=function(aa){return(aa=I(this,aa).entry)&&aa.value};F.prototype.entries=function(){return ja(this,function(aa){return[aa.key,aa.value]})};F.prototype.keys=function(){return ja(this,function(aa){return aa.key})};F.prototype.values=function(){return ja(this,function(aa){return aa.value})};F.prototype.forEach=function(aa,ca){for(var ea=this.entries(),Z;!(Z=ea.next()).done;)Z=Z.value,aa.call(ca,Z[1],Z[0],this)};F.prototype[Symbol.iterator]=F.prototype.entries;var I=function(aa,
ca){var ea=ca&&typeof ca;"object"==ea||"function"==ea?z.has(ca)?ea=z.get(ca):(ea=""+ ++V,z.set(ca,ea)):ea="p_"+ca;var Z=aa.data_[ea];if(Z&&$jscomp.owns(aa.data_,ea))for(aa=0;aa<Z.length;aa++){var ma=Z[aa];if(ca!==ca&&ma.key!==ma.key||ca===ma.key)return{id:ea,list:Z,index:aa,entry:ma}}return{id:ea,list:Z,index:-1,entry:void 0}},ja=function(aa,ca){var ea=aa.head_;return $jscomp.iteratorPrototype(function(){if(ea){for(;ea.head!=aa.head_;)ea=ea.previous;for(;ea.next!=ea.head;)return ea=ea.next,{done:!1,
value:ca(ea)};ea=null}return{done:!0,value:void 0}})},N=function(){var aa={};return aa.previous=aa.next=aa.head=aa},V=0;return F},"es6","es3");
$jscomp.polyfill("Set",function(e){function p(){if($jscomp.ASSUME_NO_NATIVE_SET||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var F=Object.seal({x:4}),I=new e($jscomp.makeIterator([F]));if(!I.has(F)||1!=I.size||I.add(F)!=I||1!=I.size||I.add({x:4})!=I||2!=I.size)return!1;var ja=I.entries(),N=ja.next();if(N.done||N.value[0]!=F||N.value[1]!=F)return!1;N=ja.next();return N.done||N.value[0]==F||4!=N.value[0].x||N.value[1]!=N.value[0]?!1:ja.next().done}catch(V){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(p())return e;var z=function(F){this.map_=new Map;if(F){F=$jscomp.makeIterator(F);for(var I;!(I=F.next()).done;)this.add(I.value)}this.size=this.map_.size};z.prototype.add=function(F){F=0===F?0:F;this.map_.set(F,F);this.size=this.map_.size;return this};z.prototype.delete=function(F){F=this.map_.delete(F);this.size=this.map_.size;return F};z.prototype.clear=function(){this.map_.clear();this.size=0};z.prototype.has=
function(F){return this.map_.has(F)};z.prototype.entries=function(){return this.map_.entries()};z.prototype.values=function(){return this.map_.values()};z.prototype.keys=z.prototype.values;z.prototype[Symbol.iterator]=z.prototype.values;z.prototype.forEach=function(F,I){var ja=this;this.map_.forEach(function(N){return F.call(I,N,N,ja)})};return z},"es6","es3");
$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(e,p){for(var z=1;z<arguments.length;z++){var F=arguments[z];if(F)for(var I in F)$jscomp.owns(F,I)&&(e[I]=F[I])}return e};$jscomp.polyfill("Object.assign",function(e){return e||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Promise",function(e){function p(){this.batch_=null}function z(N){return N instanceof I?N:new I(function(V,aa){V(N)})}if(e&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return e;p.prototype.asyncExecute=function(N){if(null==this.batch_){this.batch_=[];var V=this;this.asyncExecuteFunction(function(){V.executeBatch_()})}this.batch_.push(N)};
var F=$jscomp.global.setTimeout;p.prototype.asyncExecuteFunction=function(N){F(N,0)};p.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var N=this.batch_;this.batch_=[];for(var V=0;V<N.length;++V){var aa=N[V];N[V]=null;try{aa()}catch(ca){this.asyncThrow_(ca)}}}this.batch_=null};p.prototype.asyncThrow_=function(N){this.asyncExecuteFunction(function(){throw N;})};var I=function(N){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var V=
this.createResolveAndReject_();try{N(V.resolve,V.reject)}catch(aa){V.reject(aa)}};I.prototype.createResolveAndReject_=function(){function N(ca){return function(ea){aa||(aa=!0,ca.call(V,ea))}}var V=this,aa=!1;return{resolve:N(this.resolveTo_),reject:N(this.reject_)}};I.prototype.resolveTo_=function(N){if(N===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(N instanceof I)this.settleSameAsPromise_(N);else{a:switch(typeof N){case "object":var V=null!=N;break a;case "function":V=
!0;break a;default:V=!1}V?this.resolveToNonPromiseObj_(N):this.fulfill_(N)}};I.prototype.resolveToNonPromiseObj_=function(N){var V=void 0;try{V=N.then}catch(aa){this.reject_(aa);return}"function"==typeof V?this.settleSameAsThenable_(V,N):this.fulfill_(N)};I.prototype.reject_=function(N){this.settle_(2,N)};I.prototype.fulfill_=function(N){this.settle_(1,N)};I.prototype.settle_=function(N,V){if(0!=this.state_)throw Error("Cannot settle("+N+", "+V+"): Promise already settled in state"+this.state_);this.state_=
N;this.result_=V;2===this.state_&&this.scheduleUnhandledRejectionCheck_();this.executeOnSettledCallbacks_()};I.prototype.scheduleUnhandledRejectionCheck_=function(){var N=this;F(function(){if(N.notifyUnhandledRejection_()){var V=$jscomp.global.console;"undefined"!==typeof V&&V.error(N.result_)}},1)};I.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var N=$jscomp.global.CustomEvent,V=$jscomp.global.Event,aa=$jscomp.global.dispatchEvent;if("undefined"===typeof aa)return!0;
"function"===typeof N?N=new N("unhandledrejection",{cancelable:!0}):"function"===typeof V?N=new V("unhandledrejection",{cancelable:!0}):(N=$jscomp.global.document.createEvent("CustomEvent"),N.initCustomEvent("unhandledrejection",!1,!0,N));N.promise=this;N.reason=this.result_;return aa(N)};I.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var N=0;N<this.onSettledCallbacks_.length;++N)ja.asyncExecute(this.onSettledCallbacks_[N]);this.onSettledCallbacks_=null}};
var ja=new p;I.prototype.settleSameAsPromise_=function(N){var V=this.createResolveAndReject_();N.callWhenSettled_(V.resolve,V.reject)};I.prototype.settleSameAsThenable_=function(N,V){var aa=this.createResolveAndReject_();try{N.call(V,aa.resolve,aa.reject)}catch(ca){aa.reject(ca)}};I.prototype.then=function(N,V){function aa(ma,za){return"function"==typeof ma?function(va){try{ca(ma(va))}catch(ua){ea(ua)}}:za}var ca,ea,Z=new I(function(ma,za){ca=ma;ea=za});this.callWhenSettled_(aa(N,ca),aa(V,ea));return Z};
I.prototype.catch=function(N){return this.then(void 0,N)};I.prototype.callWhenSettled_=function(N,V){function aa(){switch(ca.state_){case 1:N(ca.result_);break;case 2:V(ca.result_);break;default:throw Error("Unexpected state: "+ca.state_);}}var ca=this;null==this.onSettledCallbacks_?ja.asyncExecute(aa):this.onSettledCallbacks_.push(aa);this.isRejectionHandled_=!0};I.resolve=z;I.reject=function(N){return new I(function(V,aa){aa(N)})};I.race=function(N){return new I(function(V,aa){for(var ca=$jscomp.makeIterator(N),
ea=ca.next();!ea.done;ea=ca.next())z(ea.value).callWhenSettled_(V,aa)})};I.all=function(N){var V=$jscomp.makeIterator(N),aa=V.next();return aa.done?z([]):new I(function(ca,ea){function Z(va){return function(ua){ma[va]=ua;za--;0==za&&ca(ma)}}var ma=[],za=0;do ma.push(void 0),za++,z(aa.value).callWhenSettled_(Z(ma.length-1),ea),aa=V.next();while(!aa.done)})};return I},"es6","es3");
$jscomp.polyfill("Object.values",function(e){return e?e:function(p){var z=[],F;for(F in p)$jscomp.owns(p,F)&&z.push(p[F]);return z}},"es8","es3");
$jscomp.polyfill("Math.hypot",function(e){return e?e:function(p){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var z,F,I;for(z=I=0;z<arguments.length;z++)I=Math.max(I,Math.abs(arguments[z]));if(1E100<I||1E-100>I){if(!I)return I;for(z=F=0;z<arguments.length;z++){var ja=Number(arguments[z])/I;F+=ja*ja}return Math.sqrt(F)*I}for(z=F=0;z<arguments.length;z++)ja=Number(arguments[z]),F+=ja*ja;return Math.sqrt(F)}},"es6","es3");
$jscomp.polyfill("Math.sign",function(e){return e?e:function(p){p=Number(p);return 0===p||isNaN(p)?p:0<p?1:-1}},"es6","es3");$jscomp.polyfill("Math.log1p",function(e){return e?e:function(p){p=Number(p);if(.25>p&&-.25<p){for(var z=p,F=1,I=p,ja=0,N=1;ja!=I;)z*=p,N*=-1,I=(ja=I)+N*z/++F;return I}return Math.log(1+p)}},"es6","es3");$jscomp.polyfill("Math.log10",function(e){return e?e:function(p){return Math.log(p)/Math.LN10}},"es6","es3");
$jscomp.polyfill("Math.log2",function(e){return e?e:function(p){return Math.log(p)/Math.LN2}},"es6","es3");$jscomp.polyfill("Math.expm1",function(e){return e?e:function(p){p=Number(p);if(.25>p&&-.25<p){for(var z=p,F=1,I=p,ja=0;ja!=I;)z*=p/++F,I=(ja=I)+z;return I}return Math.exp(p)-1}},"es6","es3");
$jscomp.iteratorFromArray=function(e,p){e instanceof String&&(e+="");var z=0,F=!1,I={next:function(){if(!F&&z<e.length){var ja=z++;return{value:p(ja,e[ja]),done:!1}}F=!0;return{done:!0,value:void 0}}};I[Symbol.iterator]=function(){return I};return I};$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(p){return p})}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(e){return e?e:function(p,z){var F=$jscomp.checkStringArgs(this,p,"endsWith");p+="";void 0===z&&(z=F.length);z=Math.max(0,Math.min(z|0,F.length));for(var I=p.length;0<I&&0<z;)if(F[--z]!=p[--I])return!1;return 0>=I}},"es6","es3");var WMJSExtApplications=[];Ext.define("webmapjsext.WMJSExt.LayerPropertiesPanel",{extend:"Ext.tab.Panel",alias:"WMJSExtLayerPropertiesPanel",initComponent:function(){var e=this;e.applyColorScaleRange=function(){var z=e.getComponent("wmsextensions").getComponent("colorscalerangeminvalue").getValue(),F=e.getComponent("wmsextensions").getComponent("colorscalerangemaxvalue").getValue();e.WMJSLayerObject.wmsextensions({colorscalerange:z+","+F});e.WMJSLayerObject.draw("LayerPropertiesPanel::applyColorScaleRange")};e.applyWMSVersion=
function(){var z=e.getComponent("wmsversionpanel").getComponent("wmsversion").getValue();e.WMJSLayerObject.version=z;e.WMJSLayerObject.draw("LayerPropertiesPanel::applyWMSVersion")};e.projectionStore=Ext.create("Ext.data.Store",{fields:["title","srs","bbox"],data:{items:[]},proxy:{type:"memory",reader:{type:"json",root:"items"}}});var p=function(){Ext.create("Ext.window.Window",{width:"90%",height:"90%",autoDestroy:!0,closeAction:"close",maximizable:!0,layout:"fit",items:[Ext.create("WCSPanel",{autoDestroy:!0,
closeAction:"close",WMJSLayer:e.WMJSLayerObject})]}).show()};Ext.apply(this,{layout:"fit",frame:!1,border:!1,margin:0,items:[{xtype:"panel",title:I18n.color_range.text,margin:6,itemId:"wmsextensions",items:[{itemId:"colorscalerangeminvalue",xtype:"numberfield",fieldLabel:I18n.min_value.text,value:0,margin:6,listeners:{specialkey:function(z,F){F.getKey()==F.ENTER&&e.applyColorScaleRange()}}},{itemId:"colorscalerangemaxvalue",xtype:"numberfield",fieldLabel:I18n.max_value.text,value:"1.0",margin:6,listeners:{specialkey:function(z,
F){F.getKey()==F.ENTER&&e.applyColorScaleRange()}}}],buttons:[{xtype:"button",text:I18n.reset.text,handler:function(){e.WMJSLayerObject.wmsextensions({colorscalerange:""});e.WMJSLayerObject.draw("LayerPropertiesPanel::reset")}},{xtype:"button",text:I18n.apply.text,handler:function(){e.applyColorScaleRange()}}]},{xtype:"panel",title:I18n.wms_version.text,margin:6,itemId:"wmsversionpanel",items:[{itemId:"wmsversion",xtype:"textfield",labelWidth:250,margin:6,fieldLabel:I18n.wms_version.text,value:e.WMJSLayerObject.version,
listeners:{specialkey:function(z,F){F.getKey()==F.ENTER&&e.applyWMSVersion()}}},{xtype:"checkbox",itemId:"usewms130comaptmode",labelWidth:250,fieldLabel:I18n.wms_comp_mode.text,margin:6,listeners:{change:function(z,F){e.WMJSLayerObject.wms130bboxcompatibilitymode=F;e.WMJSLayerObject.draw("LayerPropertiesPanel::WMS1.3.0CompatMode")}}}]},{xtype:"panel",title:I18n.projections.text,margin:6,itemId:"wmsprojectionpanel",layout:"fit",items:[{xtype:"grid",border:!1,store:e.projectionStore,columns:[{text:I18n.title.text,
dataIndex:"title",flex:2},{text:I18n.epsg_code.text,dataIndex:"srs",flex:1},{text:I18n.bounding_box.text,dataIndex:"bbox",flex:2}],listeners:{select:{fn:function(z,F){z=F.get("bbox");F=F.get("srs");e.WMJSLayerObject.parentMaps[0].setProjection({srs:F,bbox:z});e.WMJSLayerObject.parentMaps[0].draw("wmsprojectionpanel")}}}}],listeners:{show:{fn:function(){e.projectionStore.removeAll();for(var z=0;z<e.WMJSLayerObject.projectionProperties.length;z++){var F=e.WMJSLayerObject.projectionProperties[z].srs;
try{F=epsgDescriptionLookup[e.WMJSLayerObject.projectionProperties[z].srs]}catch(I){}isDefined(F)||(F=e.WMJSLayerObject.projectionProperties[z].srs);e.projectionStore.add({title:F,srs:e.WMJSLayerObject.projectionProperties[z].srs,bbox:e.WMJSLayerObject.projectionProperties[z].bbox})}}}}},{xtype:"panel",title:I18n.file_metadata.text,margin:6,itemId:"wmsfilemetadatapanel",layout:"fit",listeners:{show:{fn:function(){e.getComponent("wmsfilemetadatapanel").update('<a target="_blank" href="'+e.WMJSLayerObject.service+
"&service=wms&request=getmetadata&format=image/png&srs=EPSG:4326&layer="+e.WMJSLayerObject.name+'">'+I18n.show_file_metadata.text+"</a>")}}}},{xtype:"panel",title:I18n.download_data_wcs.text,margin:6,itemId:"wcs",layout:"fit",items:[{xtype:"button",text:I18n.show.text,handler:function(){p()}}],listeners:{show:{fn:function(){p()}}}}],listeners:{afterlayout:{fn:function(){}}}});webmapjsext.WMJSExt.LayerPropertiesPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.StylePanel",{extend:"Ext.panel.Panel",alias:"WMJSExtStylePanel",initComponent:function(){var e=this;e.buildData=function(){var p=[];if(!this.WMJSLayerObject.styles)return{name:I18n.default.text,title:I18n.default.text,abstracttext:I18n.no_styles_available.text};for(var z=0;z<e.WMJSLayerObject.styles.length;z++){var F={title:e.WMJSLayerObject.styles[z].title,name:e.WMJSLayerObject.styles[z].name,abstracttext:e.WMJSLayerObject.styles[z].abstracttext,legend:e.WMJSLayerObject.styles[z].legendURL};
p.push(F);0==z&&(e.defaultStyle=F)}return p};e.store=Ext.create("Ext.data.Store",{fields:[{name:"title",type:"string"},{name:"name",type:"string"},{name:"legend",type:"string"},{name:"abstracttext",type:"string"}]});e.grid=Ext.create("Ext.grid.Panel",{store:e.store,columns:[{header:I18n.title.text,dataIndex:"title",width:180},{header:I18n.name.text,dataIndex:"name",width:100},{header:I18n.description.text,dataIndex:"abstracttext",flex:!0}],border:0,listeners:{itemclick:{fn:function(p,z,F,I,ja,N){e.itemclick&&
e.itemclick(e,{name:z.get("name"),title:z.get("title")})}},itemmouseenter:{fn:function(p,z,F,I,ja,N){p=z.get("legend");e.legendWindow||(e.legendWindow=Ext.create("Ext.window.Window",{header:!1,layout:"auto",width:200,minHeight:300,autoDestroy:!1,closeAction:"hide",autoScroll:!1}));z=e.getPosition()[0]+e.getWidth()+10;F=e.getPosition()[1];e.legendWindow.showAt([z,F]);e.legendWindow.update('<img class="legendimage" src="'+p+'&transparent=true"/>')}},itemmouseleave:{fn:function(){e.legendWindow.hide()}}}});
e.loadStyles=function(p){e.WMJSLayerObject=p;e.store.loadRawData(e.buildData())};Ext.apply(this,{closable:!0,border:!1,layout:"fit",maxHeight:300,autoScroll:!0,items:[this.grid]});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.DimensionPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtDimensionPanel",initComponent:function(e){var p=this;p.currentValue=void 0;p.currentSize=void 0;var z=0;try{z=this.dimension.getIndexForValue(this.dimension.defaultValue)}catch(I){}if(p.dimension.currentValue)try{z=this.dimension.getIndexForValue(p.dimension.currentValue)}catch(I){}-1==z&&(z=p.dimension.size()-1);p.currentIndex=z;try{p.dimension.currentValue=p.dimension.getValueForIndex(z)}catch(I){error("WMJSExtDimensionPanel: getValueForIndex "+
z+" failed")}p.dimSlider=Ext.create("Ext.slider.Single",{width:50,useTips:!1,region:"center",value:z,minValue:0,maxValue:p.dimension.size()-1,increment:1,listeners:{drag:{fn:function(I){p.sliderChanged(I.getValue())}},change:{fn:function(I){p.sliderChanged(I.getValue())}}}});p.setValue=function(I){if(I!==p.currentValue||p.dimension.size()!==p.currentSize)return p._setValue(I)};p._setValue=function(I){p.currentValue=I;p.currentSize=p.dimension.size();try{if(I==WMJSDateTooEarlyString)p.currentIndex=
0,p.dimensionValueLabel.setValueText(WMJSDateTooEarlyString);else if(I==WMJSDateTooLateString)p.currentIndex=p.dimension.size()-1,p.dimensionValueLabel.setValueText(WMJSDateTooLateString);else if(p.currentIndex=this.dimension.getIndexForValue(I),-1!=p.currentIndex)p.dimensionValueLabel.setValueText(p.getValue());else{var ja=parseISO8601DateToDate(I),N=parseISO8601DateToDate(p.dimension.get(0)),V=parseISO8601DateToDate(p.dimension.get(p.dimension.size()-1));ja.getTime()<N.getTime()?(p.dimensionValueLabel.setValueText(WMJSDateTooEarlyString),
p.layer.setDimension(p.dimension.name,WMJSDateTooEarlyString),p.currentIndex=0):ja.getTime()>V.getTime()?(p.dimensionValueLabel.setValueText(WMJSDateTooLateString),p.layer.setDimension(p.dimension.name,WMJSDateTooLateString),p.currentIndex=p.dimension.size()-1):(p.dimensionValueLabel.setValueText(WMJSDateOutSideRange),p.layer.setDimension(p.dimension.name,WMJSDateOutSideRange))}}catch(aa){p.dimensionValueLabel.setValueText(WMJSDateOutSideRange),p.layer.setDimension(p.dimension.name,WMJSDateOutSideRange),
p.currentIndex=0}p.dimSlider.suspendEvents();p.dimSlider.setValue(p.currentIndex,!1);p.dimSlider.resumeEvents()};p.checkReferenceTime=function(I){for(var ja=-1,N=-1,V=0;V<p.dimensionPanels.length;V++){var aa=p.layer.getDimension(p.dimensionPanels[V].dimension.name);"time"==aa.name&&"ISO8601"==aa.units&&(N=V);"reference_time"==aa.name&&"ISO8601"==aa.units&&(ja=V)}p.dimSlider.suspendEvents();if(-1!=N&&-1!=ja&&(V=p.layer.getDimension(p.dimensionPanels[N].dimension.name),aa=p.layer.getDimension(p.dimensionPanels[ja].dimension.name),
V.getValue()<aa.getValue()))if(p.dimensionPanels[ja].dimension.name==I.name){I=V.getValue();do I=V.get(V.getIndexForValue(I)+1);while(I<aa.getValue());p.dimensionPanels[N].dimSlider.setValue(V.getIndexForValue(I),!1)}else if(p.dimensionPanels[N].dimension.name==I.name){I=aa.getValue();do I=aa.get(aa.getIndexForValue(I)-1);while(I>aa.getValue());p.dimensionPanels[ja].dimSlider.setValue(aa.getIndexForValue(I),!1)}p.dimSlider.resumeEvents()};p.sliderChanged=function(I){try{p.layer.parentMaps[0].stopAnimating()}catch(ja){}p.currentIndex=
I;p.dimensionValueLabel.setValueText(p.getValue());p.layer.setDimension(p.dimension.name,p.getValue());p.layer.draw("DimensionPanel::sliderChanged");isDefined(p.dateTimeWindow)&&p.dateTimeWindow.setDimension(this.dimension)};p.getValue=function(){return p.dimension.get(p.currentIndex)};p.dimensionValueLabel=Ext.create("Ext.form.Label",{cls:"dimensionValueLabel",xtype:"label",region:"center",text:p.getValue()});p.dimensionTitleLabel=Ext.create("Ext.form.Label",{cls:"dimensionTitleLabel",xtype:"label",
region:"center",text:""});p.dimensionPositionLabel=Ext.create("Ext.form.Label",{cls:"dimensionPositionLabel",xtype:"label",region:"center",text:""});p.dimensionValueLabel.setValueText=function(I){if(I==WMJSDateOutSideRange||I==WMJSDateTooEarlyString||I==WMJSDateTooLateString){try{p.dimensionValueLabel.getEl().setStyle("backgroundColor","#FFAAAA")}catch(ja){}p.dimensionPositionLabel.setText(" - (-/"+(p.dimension.size()-1+1)+")")}else{try{p.dimensionValueLabel.getEl().setStyle("backgroundColor","white")}catch(ja){}p.dimensionPositionLabel.setText(" - ("+
(p.currentIndex+1)+"/"+(p.dimension.size()-1+1)+")")}p.dimensionValueLabel.setText(I);p.dimensionTitleLabel.setText(I18n.dimension.text+" "+p.dimension.name+" in "+p.dimension.units)};p.dimensionValueLabel.setValueText(p.getValue());z=[];z.push(p.dimensionValueLabel);p.dimensionOptionsList=[];if("ISO8601"==p.dimension.units){var F=Ext.create(Ext.button.Button,{xtype:"button",text:"Set time",region:"east",handler:function(){timeselectorWindow.show()}});z.push(F);F=!1;p.layer.name&&-1!=p.layer.name.indexOf("GOME")&&
(F=!0);F&&(F=Ext.create("Ext.data.Store",{fields:[{name:"title",type:"string"},{name:"name",type:"string"}],data:[{title:"No duration",name:""},{title:"1 Second",name:"PT1S"},{title:"10 Seconds",name:"PT10S"},{title:"12 Seconds",name:"PT12S"},{title:"30 Seconds",name:"PT30S"},{title:"1 Minute",name:"PT1M"},{title:"5 Minutes",name:"PT5M"},{title:"10 Minutes",name:"PT10M"},{title:"15 Minutes",name:"PT15M"},{title:"30 Minutes",name:"PT30M"},{title:"60 Minutes",name:"PT1H"},{title:"90 Minutes",name:"PT1H30M"},
{title:"180 Minutes",name:"PT3H"},{title:"360 Minutes",name:"PT6H"},{title:"Daily",name:"P1D"}]}),F=Ext.create("Ext.form.ComboBox",{fieldLabel:"Choose duration",store:F,queryMode:"local",displayField:"title",valueField:"name",region:"center",listeners:{select:function(I,ja){p.timeRangeDuration=ja[0].get("name");I=p.dimension.getValue();try{I=p.layer.parentMaps[0].getDimension(p.dimension.name).currentValue}catch(N){}-1!=I.indexOf("/")&&(I=I.split("/")[0]);p.dimension.setTimeRangeDuration(p.timeRangeDuration);
p.dimSlider.setMaxValue(p.dimension.size()-1);console.log("Setting value back:"+I);p.layer.setDimension(p.dimension.name,I);p._setValue(I);p.layer.draw("DimensionPanel::sliderChanged")}}}),p.dimensionOptionsList.push(F))}p.dimensionValuePanel={type:"panel",layout:"border",background:"white",bodyStyle:{"background-color":"white"},border:!1,items:z};Ext.apply(this,{margin:"0",padding:"5 3 5 3",border:!1,frame:!1,plain:!0,bodyStyle:{"background-color":"white"},layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",
height:22,plain:!0,border:!1,layout:"hbox",items:[p.dimensionTitleLabel,p.dimensionPositionLabel]},{xtype:"panel",height:24,margin:"0 0 0 0",frame:!1,border:!1,plain:!0,layout:"border",bodyStyle:{"background-color":"white"},items:[{xtype:"panel",region:"west",width:13,frame:!1,border:!1,layout:"border",items:[{margin:"0 0 0 0",xtype:"checkbox",bodyStyle:{"background-color":"white"},frame:!1,border:!1,plain:!0,checked:p.dimension.linked,handler:function(I,ja){p.dimension.linked=ja}}]},{xtype:"panel",
region:"center",frame:!1,border:!1,plain:!0,layout:"border",items:[{xtype:"panel",layout:"fit",frame:!1,border:!1,plain:!0,region:"center",items:[p.dimSlider],bodyStyle:{"background-color":"white"}},{xtype:"panel",region:"east",width:40,layout:"hbox",border:!1,frame:!1,bodyStyle:{"background-color":"white"},items:[{xtype:"button",text:"&lt;",width:20,height:22,handler:function(){p.dimSlider.setValue(p.dimSlider.getValue()-1)}},{xtype:"button",text:"&gt;",width:20,height:22,handler:function(){p.dimSlider.setValue(p.dimSlider.getValue()+
1)}}]}]}]},{xtype:"panel",height:22,plain:!0,border:!1,layout:"fit",items:[p.dimensionValuePanel]},{xtype:"panel",plain:!0,border:!1,layout:"fit",items:p.dimensionOptionsList}]});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.MapPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtMapPanel",initComponent:function(){var e=this;e.webmapjsid=e.id+"wmjs";e.pointinfobutton=e.id+"pib";e.baseLayer=void 0;Ext.apply(this,{html:'<div id="'+e.webmapjsid+'"/>',layout:"fit",frame:!1,border:!1,margin:0,listeners:{afterlayout:{fn:function(){if(!e.webMapJS){initWMJS();e.webMapJS=new WMJSMap(Ext.fly(e.webmapjsid).dom);e.webMapJS.setWMJSTileRendererTileSettings(WMJSTileRendererTileSettings);e.webMapJS.setBaseURL("./webmapjs/");
e.webMapJS.requestProxy="./webmapjs_php/MakeRequest.php?";for(var p=[],z=0;z<baseLayerConfiguration.length;z++)if(new WMJSLayer(baseLayerConfiguration[z]),0==z){var F=new WMJSLayer(baseLayerConfiguration[z]);e.baseLayer=F;p.push(F);F=new WMJSLayer(baseLayerConfiguration[z]);F.enabled=!1;p.push(F)}else F=new WMJSLayer(baseLayerConfiguration[z]),p.push(F);e.webMapJS.setBaseLayers(p);p=e.getSize();e.webMapJS.setSize(p.width,p.height);e.webMapJS.setProjection(defaultProjection);e.webMapJS.draw("resize event")}}},
resize:{fn:function(p,z,F){isDefined(e.webMapJS)&&(p=e.getSize(),e.webMapJS.setSize(p.width,p.height),e.webMapJS.draw("resize event"))}}}});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.ServicePanel",{extend:"Ext.panel.Panel",alias:"WMJSExtServicePanel",initComponent:function(){var e=this;e.store=Ext.create("Ext.data.TreeStore",{root:{text:"Ext JS",id:"src",name:"test",expanded:!0},fields:["text","name"],folderSort:!0,sorters:[{property:"text",direction:"ASC"}]});e.selectedLayerName=e.name;e.tree=Ext.create("Ext.tree.Panel",{store:e.store,hideHeaders:!0,rootVisible:!1,fields:["text","name"],border:0,listeners:{itemclick:{fn:function(p,z,F,I,ja,N){e.itemclick&&
(e.selectedLayerName=z.get("name"),1==z.get("leaf")&&e.itemclick(e,e.selectedLayerName,e.service))}}}});e.buildTreeFromNodes=function(p){if(0!=isDefined(e.service)&&0!=e.service.length){e.setLoading("Reading getCapabilities ...");e.WMSService=WMJSGetServiceFromStore(e.service,xml2jsonrequestURL);var z=function(I){e.tree.getRootNode().removeAll();e.tree.getRootNode().appendChild(I);e.setLoading(!1)},F=function(I){error("WMJSExtServicePanel: Unable to do GetCapabilities: "+I);Ext.Msg.alert("WMJSExtServicePanel",
"Exception:\n"+I);e.tree.getRootNode().removeAll();e.setLoading(!1)};try{e.WMSService.getNodes(z,F,p,xml2jsonrequestURL)}catch(I){F(I)}}};Ext.apply(this,{closable:!1,border:!1,layout:"fit",autoScroll:!0,listeners:{afterrender:{fn:function(){e.buildTreeFromNodes()}}},items:[this.tree]});this.superclass.initComponent.apply(this,arguments)}});var webmapjsext_WMJSExt_ServicePanels=[];
Ext.define("webmapjsext.WMJSExt.ServicePanelManager",{extend:"Ext.panel.Panel",alias:"WMJSExtServicePanelManager",requires:["webmapjsext.WMJSExt.ServicePanel"],initComponent:function(){this.getServicePanel=function(e,p){for(var z=0;z<webmapjsext_WMJSExt_ServicePanels.length;z++)if(webmapjsext_WMJSExt_ServicePanels[z].service==e)return webmapjsext_WMJSExt_ServicePanels[z].layerpanel=p,webmapjsext_WMJSExt_ServicePanels[z].window;var F=[];webmapjsext_WMJSExt_ServicePanels.push(F);F.layerpanel=p;F.service=
e;F.servicePanel=Ext.create("webmapjsext.WMJSExt.ServicePanel",{header:!1,constrain:!0,autoDestroy:!1,height:400,service:F.layerpanel.WMJSLayer.service,name:F.layerpanel.WMJSLayer.name,border:0,itemclick:function(I,ja){F.layerpanel.setLayer(ja)}});F.window=Ext.create("webmapjsext.WMJSExt.WindowFader",{title:I18n.layers.text,autoDestroy:!1,closeAction:"hide",autoScroll:!0,floating:!0,animate:!0,constrain:!0,width:500,items:[F.servicePanel],bbar:[{iconCls:"button_refresh",handler:function(){F.window.refresh()}},
{text:I18n.embed.text,tooltip:"Embed layer view",handler:function(){F.window.hide();F.layerpanel.add(Ext.create("webmapjsext.WMJSExt.ServicePanel",{title:I18n.layers.text,header:!0,collapsible:!0,service:F.layerpanel.WMJSLayer.service,name:F.layerpanel.WMJSLayer.name,border:2,itemclick:function(I,ja,N){F.layerpanel.setLayer(ja,N)}}))}},{scale:"small",tooltip:I18n.add_new_layer.tooltip,iconCls:"layer_logos button_layerlist_layernew",handler:function(){Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:function(I){F.layerpanel.service=
I.service;F.layerpanel.name=I.layer;F.layerpanel.WMJSLayer.service=F.layerpanel.service;F.layerpanel.WMJSLayer.name=F.layerpanel.name;F.layerpanel.parseLayer(!0,function(ja,N){isDefined(I.ready)&&I.ready(p,F.layerpanel.parentWebMapJS)});return p},webMapJS:F.layerpanel.parentWebMapJS}).show()}}]});F.window.refresh=function(){F.servicePanel.buildTreeFromNodes(!0)};return F.window}}});var webmapjsext_WMJSExt_LayerPanel_ServicePanelManager,getServicePanelManager=function(){webmapjsext_WMJSExt_LayerPanel_ServicePanelManager||(webmapjsext_WMJSExt_LayerPanel_ServicePanelManager=Ext.create("webmapjsext.WMJSExt.ServicePanelManager",{}));return webmapjsext_WMJSExt_LayerPanel_ServicePanelManager};
Ext.define("webmapjsext.WMJSExt.LayerPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtLayerPanel",requires:"webmapjsext.WMJSExt.DimensionPanel webmapjsext.WMJSExt.StylePanel webmapjsext.WMJSExt.LayerPropertiesPanel Ext.form.field.Checkbox Ext.form.Label Ext.layout.container.Border Ext.slider.Single Ext.grid.Panel".split(" "),initComponent:function(){var e=this;isDefined(e.opacity)||(e.opacity=1);e.WMJSLayer=new WMJSLayer({service:e.service,name:e.name,style:e.style,opacity:e.opacity,transparent:e.transparent,
enabled:e.enabled});e.opacitySliderChanged=function(p){e.WMJSLayer&&(e.WMJSLayer.setOpacity(p/100),e.opacity=p,0==e.WMJSLayer.enabled?0<p&&(e.WMJSLayer.display(!0),e.hideShowButton.setIconCls("button_layer_visible"),e.WMJSLayer.draw("LayerPanel::Opacity")):0==p&&(e.opacity_backup=100,e.hideShowButton.setIconCls("button_layer_hidden"),e.WMJSLayer.display(!1),e.WMJSLayer.draw("LayerPanel::Opacity")))};e.opacitySlider=Ext.create("Ext.slider.Single",{width:50,useTips:!1,animate:!1,value:100*e.opacity,
minValue:0,maxValue:100,increment:1,tooltip:"transparency",listeners:{drag:{fn:function(p){e.opacitySliderChanged(p.getValue())}},change:{fn:function(p){e.opacitySliderChanged(p.getValue())}}}});e.hideShowButton=Ext.create("Ext.button.Button",{xtype:"button",tooltip:I18n.hide_or_display_layer.tooltip,iconCls:!0===e.WMJSLayer.enabled?"button_layer_visible":"button_layer_hidden",handler:function(p,z){e.WMJSLayer.display(!e.WMJSLayer.enabled);0==e.WMJSLayer.enabled?(this.setIconCls("button_layer_hidden"),
e.opacity_backup=e.opacitySlider.getValue(),e.opacitySlider.setValue(0)):(this.setIconCls("button_layer_visible"),e.opacitySlider.setValue(e.opacity_backup));e.WMJSLayer.draw("LayerPanel::HideShow")}});e.hideShowLegendButton=Ext.create("Ext.button.Button",{xtype:"button",tooltip:I18n.hide_or_display_legend.tooltip,iconCls:!0===e.WMJSLayer.displayLegendInMapEnable?"button_scale_on":"button_scale_off",handler:function(p,z){e.WMJSLayer.displayLegendInMap(!e.WMJSLayer.displayLegendInMapEnable);0==e.WMJSLayer.displayLegendInMapEnable?
this.setIconCls("button_scale_off"):this.setIconCls("button_scale_on");e.WMJSLayer.draw("LayerPanel::HideShow")}});e.select=function(){for(var p=e.parentPanelList.items,z=0;z<p.getCount();z++)p.get(z).unselect();try{e.getEl().dom.style.border="3px solid #8080FF"}catch(F){}e.selected=!0};e.unselect=function(){try{e.getEl().dom.style.border="3px solid #777"}catch(p){}e.selected=!1};e.setOpacity=function(p){e.opacitySlider.setValue(100*p);e.opacity=100*p};e.dimCallBackAdded=!1;e.dimensionPanels=[];e.parseLayer=
function(p,z){if(0!=isDefined(this.WMJSLayer.service)&&0!=this.WMJSLayer.service.length){e.setLoading("Reading GetCapabilities ...");for(var F=[],I=0;I<e.WMJSLayer.dimensions.length;I++)F.push(this.WMJSLayer.dimensions[I].clone());e.dimensionPanels=[];e.dimUpdate=function(){for(var N=0;N<e.dimensionPanels.length;N++){var V=e.WMJSLayer.getDimension(e.dimensionPanels[N].dimension.name);e.dimensionPanels[N].setValue(V.getValue())}};e.setDimension=function(N,V){var aa=e.getDimensionPanel(N);isDefined(aa)?
(e.WMJSLayer.setDimension(N,V),aa.setValue(V)):error("WMJSExtLayerPanel::Dimension "+N+" not found")};e.getDimensionPanel=function(N){for(var V=0;V<e.dimensionPanels.length;V++)if(e.dimensionPanels[V].dimension.name===N)return e.dimensionPanels[V]};var ja=function(N){var V=N;N.message&&(V=N.message);e.setLoading(!1);N="Unable to parse layer "+e.WMJSLayer.name+"\n"+V;e.WMJSLayer.hasError=!0;error(N)};I=function(N){if(void 0!=e.WMJSLayer.parentMaps[0])if(e.WMJSLayer!=N)isDefined(N)&&ja("WMJSExtLayerPanel internal error:\n"+
N),z&&z(e),e.afterlayerready&&e.afterlayerready(e);else if(e.WMJSLayer.hasError){e.setLoading(!1);e.productButton.setText(e.WMJSLayer.path+e.WMJSLayer.title);e.styleButton.setText("");var V=e.WMJSLayer.lastError;isDefined(V)||(V="An error occurred connecting to WMS server");e.setTitle(V);error(V);N=new WMJSTimer;V=V.replaceAll("\n","<br/>");N.init(10,function(){Ext.Msg.alert(I18n.unable_to_connect_server.text,I18n.unable_to_connect_server.text+"<br/><br/>"+V)});z&&z(e);e.afterlayerready&&e.afterlayerready(e)}else{e.WMJSLayer.getLayerRelative(function(Z,
ma,za){e.productButton.setText("("+(ma+1)+"/"+za+") "+e.WMJSLayer.title)},function(Z){e.productButton.setText(e.WMJSLayer.path+e.WMJSLayer.title)});e.setStyleText(e.WMJSLayer.getStyleObject(e.WMJSLayer.currentStyle));e.dimensionPanels=[];e.dimensionPanelContainer.removeAll();var aa="";for(N=0;N<e.WMJSLayer.dimensions.length;N++){for(var ca=0;ca<F.length;ca++)F[ca].name==e.WMJSLayer.dimensions[N].name&&(e.WMJSLayer.dimensions[N].currentValue=F[ca].currentValue);ca=Ext.create("WMJSExtDimensionPanel",
{dimension:e.WMJSLayer.dimensions[N],layer:e.WMJSLayer,dimensionPanels:e.dimensionPanels});e.dimensionPanels.push(ca);e.dimensionPanelContainer.add(ca);0<aa.length&&(aa+=", ");aa+=e.WMJSLayer.dimensions[N].name}e.afterlayerready&&(z&&z(e),e.afterlayerready(e));e.setLoading(!1);for(N=0;N<e.WMJSLayer.dimensions.length;N++)aa=e.WMJSLayer.parentMaps[0].getDimension(e.WMJSLayer.dimensions[N].name),isDefined(aa)&&e.WMJSLayer.dimensions[N].setClosestValue(aa.currentValue);for(N=0;N<e.WMJSLayer.dimensions.length;N++)e.dimensionPanels[N].setValue(e.WMJSLayer.dimensions[N].currentValue);
e.WMJSLayer.parentMaps[0].rebuildMapDimensions();0==e.dimCallBackAdded&&(e.WMJSLayer.parentMaps[0].addListener("ondimchange",e.dimUpdate,!0),e.dimCallBackAdded=!0);try{e.styleButton.loadStyles()}catch(Z){}var ea=!1;isDefined(e.name)&&0<e.name.length&&(ea=!0);e.setTitle("Layer "+e.WMJSLayer.name);if(!1===ea){if(1==e.autoChooseLayer){e.autoChooseLayer=!1;e.WMJSLayer.autoSelectLayer(function(Z){e.setLayer(Z.name);e.WMJSLayer.zoomToLayer();ea=!0});return}e.productButton.showService()}e.WMJSLayer.WMJSService?
e.layerAbstractPanel.update("<span style='margin:5px;display:block;padding:5px;'><b>"+I18n.layer.text+"</b><table class='adagucviewer_wmsjsext_layerpanel_abstract'><tr><td style='width:50px;'><i>"+I18n.title.text+"</i></td><td>"+e.WMJSLayer.title+"</td></tr><tr><td><i>"+I18n.name.text+"</i></td><td>"+e.WMJSLayer.name+"</td></tr><tr><td><i>"+I18n.abstract.text+"</i></td><td>"+e.WMJSLayer.abstract+"</td></tr></table><hr/><b>"+I18n.service.text+"</b><table class='adagucviewer_wmsjsext_layerpanel_abstract'><tr><td><i>"+
I18n.title.text+"</i></td><td> "+e.WMJSLayer.WMJSService.title+"</td></tr><tr><td><i>"+I18n.service.text+"</i></td><td>"+e.WMJSLayer.WMJSService.onlineresource+"</td></tr><tr><td><i>"+I18n.abstract.text+"</i></td><td>"+e.WMJSLayer.WMJSService.abstract+"</td></tr></table></span>"):e.layerAbstractPanel.update("...");N=function(){var Z=e.WMJSLayer.parentMaps[0].getLegendGraphicURLForLayer(e.WMJSLayer),ma=e.WMJSLayer.parentMaps[0].getLegendStore();if(e.layerLegendPanel.getEl()){var za=$(e.layerLegendPanel.getEl().dom).find("canvas")[0].getContext("2d");
(Z=ma.getImageForSrc(Z))?(za.rect(0,0,90,250),za.fillStyle="white",za.fill(),za.drawImage(Z.getElement()[0],0,0)):(za.rect(0,0,90,250),za.fillStyle="gray",za.fill())}};e.WMJSLayer.parentMaps[0].getListener().addToCallback("onlegendready",N,!0);N()}};try{if(e.WMJSLayer.parseLayer(I,p,"LayerPanel::parseLayer",xml2jsonrequestURL),!0===p)try{console.log("clearing cache"),e.WMJSLayer&&e.WMJSLayer.parentMaps&&0<e.WMJSLayer.parentMaps.length&&(e.WMJSLayer.parentMaps[0].clearImageStore(),e.WMJSLayer.parentMaps[0].loadLegendInline(!0))}catch(N){console.error(N)}}catch(N){ja(N)}}};
e.duplicateLayer=function(){createNewLayerPanel(e.parentWebMapJS,e.WMJSLayer)};e.productButton=Ext.create("Ext.button.Button",{text:I18n.please_select_product.text,textAlign:"left",iconAlign:"right",iconCls:"button_combobox",tooltip:I18n.select_layer_product_from_service.tooltip,handler:function(p){void 0==e.service||0==e.service.length?Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:function(z){e.service=z.service;e.name=z.layer;e.WMJSLayer.service=e.service;e.WMJSLayer.name=e.name;
e.parseLayer(!0,function(F,I){isDefined(z.ready)&&z.ready(e,e.parentWebMapJS)});return e},webMapJS:e.parentWebMapJS}).show():p.showService()}});e.productButton.showService=function(){var p=getServicePanelManager();e.servicePanelWindow=p.getServicePanel(e.service,e);e.servicePanelWindow.showAt([this.getPosition()[0]+32,this.getPosition()[1]])};e.styleButton=Ext.create("Ext.button.Button",{text:I18n.default.text,textAlign:"left",iconAlign:"right",iconCls:"button_combobox",tooltip:I18n.change_style_layer.tooltip,
handler:function(){e.styleButton.loadStyles();e.stylePanel.showAt([this.getPosition()[0]+32,this.getPosition()[1]])},listeners:{afterrender:{fn:function(){e.stylePanel||(e.stylePanel=Ext.create("webmapjsext.WMJSExt.WindowFader",{title:I18n.available_styles.text,width:650,autoDestroy:!1,closeAction:"hide",items:[Ext.create("WMJSExtStylePanel",{header:!1,WMJSLayerObject:e.WMJSLayer,border:0,itemclick:function(p,z){e.setStyle(e.WMJSLayer.getStyleObject(z.name))}})]}));e.styleButton.loadStyles=function(){if(e.stylePanel&&
(e.stylePanel.getComponent(0).loadStyles(e.WMJSLayer),e.styleButton.setText("default"),0<e.WMJSLayer.currentStyle.length)){var p=e.WMJSLayer.currentStyle;e.styleButton.setText(p);try{e.setStyleText(e.WMJSLayer.getStyleObject(e.WMJSLayer.currentStyle))}catch(z){}}}}}}});e.dimensionPanelContainer=Ext.create("Ext.panel.Panel",{border:!1,padding:1,collapsed:!1,collapsible:!0,title:I18n.dimensions.text,cls:"WMJSExtLayerPanelDimensionHeader"});e.servicePanelContainer=Ext.create("webmapjsext.WMJSExt.ServicePanel",
{title:I18n.layers.text,cls:"WMJSExtLayerPanelDimensionHeader",header:!0,collapsible:!0,collapsed:!0,service:e.WMJSLayer.service,name:e.WMJSLayer.name,border:2,itemclick:function(p,z,F){e.setLayer(z,F)}});e.layerInfoPanelContainer=Ext.create("Ext.panel.Panel",{border:!1,frame:!1,height:35,padding:"3 3 3 3",layout:"border",items:[{xtype:"panel",region:"center",layout:"fit",border:!1,frame:!1,items:[e.productButton]},{style:{borderColor:"#EEE",borderStyle:"solid",borderWidth:"0px",backgroundColor:"#FFF"},
xtype:"panel",region:"east",itemId:"layerinfo",width:40,layout:"hbox",border:!1,frame:!1,padding:"0 0 0 0",items:[{xtype:"button",text:"&lt;",width:20,height:29,handler:function(){e.WMJSLayer.getPreviousLayer(function(p){e.setLayer(p.name)})}},{xtype:"button",text:"&gt;",width:20,height:29,handler:function(){e.WMJSLayer.getNextLayer(function(p){e.setLayer(p.name)})}}]}]});e.setLayer=function(p,z){e.WMJSLayer.name=p;isDefined(z)&&(e.WMJSLayer.service=z);e.parseLayer();e.WMJSLayer.draw("LayerPanel::setLayer");
e.servicePanelWindow&&e.servicePanelWindow.hide();e.stylePanel&&e.styleButton.loadStyles()};e.setStyleText=function(p){0==isDefined(p)?e.styleButton.setText("default"):e.styleButton.setText("("+(p.index+1)+"/"+p.nrOfStyles+") "+p.title)};e.setStyle=function(p){try{e.WMJSLayer.setStyle(p.name)}catch(z){}e.WMJSLayer.draw("LayerPanel::setStyle");e.stylePanel.hide();e.setStyleText(p)};e.styleInfoPanelContainer=Ext.create("Ext.panel.Panel",{border:!1,frame:!1,height:32,padding:"0 3 3 3",layout:"border",
items:[{xtype:"panel",region:"center",layout:"fit",border:!1,frame:!1,items:[e.styleButton]},{style:{borderColor:"#EEE",borderStyle:"solid",borderWidth:"0px",backgroundColor:"#FFF"},xtype:"panel",region:"east",width:40,layout:"hbox",border:!1,frame:!1,items:[{xtype:"button",text:"&lt;",width:20,height:29,handler:function(){e.setStyle(e.WMJSLayer.getStyleObject(e.WMJSLayer.currentStyle,-1))}},{xtype:"button",text:"&gt;",width:20,height:29,handler:function(){e.setStyle(e.WMJSLayer.getStyleObject(e.WMJSLayer.currentStyle,
1))}}]}]});e.animationButton={listeners:{afterrender:{fn:function(p){e.WMJSLayer.parentMaps[0].isAnimating&&p.setIconCls("button_stop_animation");e.WMJSLayer.parentMaps[0].addListener("onstopanimation",function(){p.setIconCls("button_play_animation")},!0);e.WMJSLayer.parentMaps[0].addListener("onstartanimation",function(){p.setIconCls("button_stop_animation")},!0)}}},scale:"small",iconCls:"button_play_animation",tooltip:I18n.start_or_stop_animation.tooltip,handler:function(p){if(e.WMJSLayer.parentMaps[0].isAnimating)e.WMJSLayer.parentMaps[0].stopAnimating(),
p.setIconCls("button_play_animation");else if(p.setIconCls("button_stop_animation"),p=e.WMJSLayer.getDimension("time"),void 0==p)alert(I18n.no_time_dimension_in_layer.text);else{var z=[],F=p.size(),I=F-24,ja=F,N=p.getIndexForValue(p.currentValue);N=ja-1-N;I-=N;ja-=N;0>I&&(ja+=-I,I=0);0>ja&&(ja=0);I>F-1&&(I=F-1);ja>F&&(ja=F);for(F=I;F<ja;F++)z.push({name:p.name,value:p.getValueForIndex(F)});e.WMJSLayer.parentMaps[0].draw(z)}}};e.moveUp=function(){var p=e.up("panel"),z=p.items.indexOf(e);0<z&&(p.move(z,
z-1),e.WMJSLayer.moveUp())};e.moveDown=function(){var p=e.up("panel"),z=p.items.indexOf(e);z<p.items.length-1&&(p.move(z,z+1),e.WMJSLayer.moveDown())};e.layerLegendPanel=Ext.create("Ext.panel.Panel",{xtype:"panel",region:"west",html:"<canvas width=90 height=250></canvas>",border:!1,frame:!1,plain:!0,width:90});e.layerAbstractPanel=Ext.create("Ext.panel.Panel",{xtype:"panel",region:"center",layout:"fit",autoScroll:!0,border:!1,frame:!1,plain:!0});Ext.apply(this,{margin:"0 0 2 0",frame:!0,plain:!0,
padding:"0 0 0 0",collapsible:!1,closable:!0,hideCollapseTool:!1,header:!0,layout:{type:"vbox",align:"stretch"},items:[e.layerInfoPanelContainer,e.styleInfoPanelContainer,e.dimensionPanelContainer,e.servicePanelContainer,{xtype:"panel",layout:"border",frame:!1,border:!1,plain:!0,title:"Service info",cls:"WMJSExtLayerPanelDimensionHeader",collapsible:!0,collapsed:!0,height:250,region:"center",items:[e.layerAbstractPanel,e.layerLegendPanel]}],bbar:[{xtype:"button",tooltip:I18n.move_layer_up.tooltip,
iconCls:"button_layerlist_layerup",handler:function(p,z){e.moveUp()}},{xtype:"button",tooltip:I18n.move_layer_down.tooltip,iconCls:"button_layerlist_layerdown",handler:function(p,z){e.moveDown()}},{iconCls:"button_settings_icon",tooltip:I18n.layer_properties.tooltip,handler:function(p,z){e.propertiesPanel||(e.propertiesPanel=Ext.create("Ext.window.Window",{title:I18n.properties_for.text+e.WMJSLayer.title,width:600,autoDestroy:!1,closeAction:"hide",layout:"fit",items:[Ext.create("WMJSExtLayerPropertiesPanel",
{header:!1,WMJSLayerObject:e.WMJSLayer,border:0,itemclick:function(F,I){}})]}));e.propertiesPanel.showAt(p.getPosition())}},{iconCls:"button_refresh",tooltip:I18n.reload_this_layer.tooltip,handler:function(){isDefined(e.servicePanelWindow)&&e.servicePanelWindow.refresh(!0);e.parseLayer(!0)}},e.animationButton,,{xtype:"tbfill"},{xtype:"label",text:I18n.opacity.text},e.opacitySlider,e.hideShowButton,e.hideShowLegendButton,{scale:"small",iconCls:"button_zoomfullextent",tooltip:I18n.zoom_to_this_layer.tooltip,
handler:function(){e.WMJSLayer.zoomToLayer()}}],listeners:{render:function(p){if(p.header)p.header.on("click",function(){e.select()});e.select()},afterrender:{fn:function(){e.parseLayer()}},beforeclose:function(p){e.WMJSLayer.parentMaps[0].stopAnimating();e.WMJSLayer.remove()}}});this.callParent(arguments);e.parseLayer()}});Ext.define("webmapjsext.WMJSExt.DataPanel",{extend:"Ext.window.Window",alias:"WMJSExtDataPanel",initComponent:function(){var e=this,p=this.dataPanelClicked;DataSelectorModel=Ext.define("DataSelectorModel",{extend:"Ext.data.Model",fields:[{name:"title"},{name:"abs"},{name:"thumbnail"},{name:"service"},{name:"layer"},{name:"style"},{name:"srs"},{name:"bbox"},{name:"baselayerservice"},{name:"baselayername"},{name:"opacity"}]});var z=Ext.create("Ext.data.Store",{model:"DataSelectorModel",data:dataChooserConfiguration}),
F=function(I,ja){var N=function(ca){ca=aa.getComponent("AddCustomWMSPanel").getComponent("customwmsurltextarea").getValue();ca=WMJScheckURL(ca);if(5>ca.length)alert("Invalid url given.");else{try{Ext.state.Manager.set("formFieldValues",ca)}catch(ea){console.log(ea)}e.layerPanel=I({service:ca,ready:function(ea,Z){isDefined(ea)?ea.WMJSLayer.hasError?(new WMJSTimer).init(10,function(){Ext.Msg.alert(I18n.unable_to_connect_server.text,I18n.unable_to_connect_server.text+"<br/><br/>"+layerPanel.WMJSLayer.lastError)}):
aa.hide():aa.hide()}})}},V=Ext.create("Ext.form.field.Text",{itemId:"customwmsurltextarea",emptyText:I18n.enter_wms_version_url.text,height:25,margin:10,stateful:!0,listeners:{specialkey:function(ca,ea){ea.getKey()==ea.ENTER&&N(ja)},afterrender:function(ca){if(ca=Ext.state.Manager.get("formFieldValues"))console.log(ca),V.setValue(ca)}}});var aa=Ext.create("Ext.window.Window",{title:I18n.add_custom_service.text,width:620,height:200,autoDestroy:!0,autoScroll:!1,modal:!0,layout:"border",items:[{xtype:"panel",
region:"north",layout:"fit",border:!1,itemId:"AddCustomWMSPanel",items:[V]},{xtype:"label",margin:10,html:"Add your own WMS version 1.1.1 server address in the box above. For example:<br> https://geoservices.knmi.nl/cgi-bin/RADNL_OPER_R___25PCPRR_L3.cgi? ",region:"center"}],buttons:[{text:I18n.add.text,handler:function(){N(ja)}}]});aa.show()};e.showCustomWMSWindow=function(){F(e.dataPanelClicked,e.webMapJS)};Ext.apply(this,{title:I18n.add_layers_and_services.text,width:.8*$(window).width(),height:.8*
$(window).height(),autoDestroy:!0,modal:!0,autoScroll:!0,id:"images-view",buttons:[{scale:"large",text:"BACK",handler:function(){e.close();Ext.create("webmapjsext.WMJSExt.FolderPanel",{dataPanelClicked:p,webMapJS:mainWebmapJS.webMapJS}).show()}},{scale:"large",text:I18n.add_custom_wms_service.text,handler:function(){e.close();F(e.dataPanelClicked,e.webMapJS)}},{scale:"large",text:"CLOSE",handler:function(){e.close()}}],items:Ext.create("Ext.view.View",{store:z,tpl:'<tpl for=".">;<div class="thumb-wrap" id="{title}">;<div class="thumb"><img src="{thumbnail}" title="{abs}"></div>;<span class="x-editable">{title}</span></div>;</tpl>;<div class="x-clear"></div>'.split(";"),
trackOver:!0,overItemCls:"x-item-over",itemSelector:"div.thumb-wrap",emptyText:"No images to display",listeners:{itemclick:function(I,ja){e.dataPanelClicked({title:ja.get("title"),thumbnail:ja.get("thumbnail"),service:ja.get("service"),layer:ja.get("layer"),srs:ja.get("srs"),bbox:ja.get("bbox"),style:ja.get("style"),baselayerservice:ja.get("baselayerservice"),baselayername:ja.get("baselayername"),opacity:ja.get("opacity")});e.close()}}})});webmapjsext.WMJSExt.DataPanel.superclass.initComponent.apply(this,
arguments)}});var defaultBaselayer={service:"https://geoservices.knmi.nl/cgi-bin/worldmaps.cgi?",name:"world_line"};
Ext.define("webmapjsext.WMJSExt.BaseMapSelector",{extend:"Ext.panel.Panel",alias:"WMJSExtBaseMapSelector",requires:["Ext.form.field.Checkbox","Ext.form.Label","Ext.layout.container.Border","Ext.slider.Single","Ext.grid.Panel"],initComponent:function(){var e=this.webmapjsext;OverlaySelectorModel=Ext.define("OverlaySelectorModel",{extend:"Ext.data.Model",fields:[{name:"title"},{name:"enabled",type:"bool"},{name:"type"},{name:"layer",type:"object"},{name:"name"}]});var p=Ext.create("Ext.data.Store",
{model:"OverlaySelectorModel"});Ext.apply(this,{autoScroll:!0,plain:!0,frame:!1,border:!1,bodyCls:"layerlistbg",title:" ",tooltip:I18n.basemaps_overlays.tooltip,iconCls:"button_basemaps32",defaultType:"checkbox",layout:"anchor",items:Ext.create("Ext.grid.Panel",{header:!1,bodyCls:"layerlistbg",autoScroll:!1,plain:!0,frame:!1,border:!1,store:p,columns:[{text:"",dataIndex:"enabled",xtype:"checkcolumn",width:30,listeners:{checkchange:function(z,F,I){p.getAt(F).get("layer").enabled=I;e.webMapJS.draw("WMJSExtMapTypePanel::enableLayer")}}},
{text:I18n.title.text,dataIndex:"title",flex:2},{text:I18n.layer.text,dataIndex:"name",flex:1},{text:I18n.type.text,dataIndex:"type"}],columnLines:!0,iconCls:"icon-grid"}),listeners:{show:{fn:function(){for(var z=[],F=e.webMapJS.getBaseLayers(),I=0;I<F.length;I++){var ja=F[I].title;0==I&&(ja="Default base layer");z.push({title:ja,layer:F[I],name:F[I].name,enabled:F[I].enabled,type:1==F[I].keepOnTop?"overlay":"baselayer"})}p.loadRawData(z)}}}});this.superclass.initComponent.apply(this,arguments)}});defaultBaselayer={service:"https://geoservices.knmi.nl/wms?DATASET=baselayers&",name:"countryborders"};
Ext.define("webmapjsext.WMJSExt.MapTypeSelector",{extend:"Ext.panel.Panel",alias:"WMJSExtMapTypeSelector",requires:["Ext.form.field.Checkbox","Ext.form.Label","Ext.layout.container.Border","Ext.slider.Single","Ext.grid.Panel"],initComponent:function(){var e=this.maptypeclicked;MapTypeSelectorModel=Ext.define("MapTypeSelectorModel",{extend:"Ext.data.Model",fields:[{name:"title"},{name:"bbox"},{name:"srs"},{name:"url"},{name:"baselayer"}]});var p=Ext.create("Ext.data.Store",{model:"MapTypeSelectorModel",
data:mapTypeConfiguration});Ext.apply(this,{id:"maptypeselector",title:" ",tooltip:I18n.predefined_areas.tooltip,iconCls:"button_maptype32",autoScroll:!0,plain:!0,frame:!1,border:!1,baseCls:"layerlistbg",cls:"layerlistbg",items:[Ext.create("Ext.view.View",{title:"Baselayers",plain:!0,frame:!1,border:!1,cls:"layerlistbg",store:p,tpl:'<tpl for=".">;<div class="thumb-wrap" id="{title}">;<div class="thumb"><img src="{url}" title="{title}"></div>;<span class="x-editable">{title}</span></div>;</tpl>;<div class="x-clear"></div>'.split(";"),
trackOver:!0,overItemCls:"x-item-over",itemSelector:"div.thumb-wrap",emptyText:"No images to display",prepareData:function(z){var F=[z.bbox[0],z.bbox[1],z.bbox[2],z.bbox[3]];if(1.375<(z.bbox[2]-z.bbox[0])/(z.bbox[3]-z.bbox[1])){var I=(z.bbox[2]-z.bbox[0])/1.375;I=(I-(z.bbox[3]-z.bbox[1]))/2;F[1]=z.bbox[1]-I;F[3]=z.bbox[3]+I}else I=1.375*(z.bbox[3]-z.bbox[1]),I=(I-(z.bbox[2]-z.bbox[0]))/2,F[0]=z.bbox[0]-I,F[2]=z.bbox[2]+I;I=defaultBaselayer.service;var ja=defaultBaselayer.name;z.baselayer.service&&
z.baselayer.name&&(I=z.baselayer.service,ja=z.baselayer.name);z.url=I+"service=WMS&request=GetMap&styles=&width=160&height=120&format=image/png";z.url+="&layers="+ja;z.url+="&version=1.1.1";z.url+="&bbox="+F[0]+","+F[1]+","+F[2]+","+F[3];z.url+="&srs="+z.srs;return z},listeners:{itemclick:function(z,F){e(F)}}})]});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.AnimationPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtAnimationPanel",requires:["Ext.form.field.ComboBox","Ext.form.field.Picker","Ext.form.field.Trigger","Ext.layout.container.Form"],initComponent:function(){var e=this,p=Ext.create("Ext.data.Store",{fields:[{type:"string",name:"name"},{type:"string",name:"title"},{type:"object",name:"wmjslayer"}]}),z=Ext.create("Ext.data.Store",{fields:[{type:"string",name:"name"},{type:"object",name:"wmjsdimension"}]}),F=function(){var V=
e.mappanel.webMapJS.getLayers();p.removeAll();for(var aa=0;aa<V.length;aa++)p.add({name:V[aa].service+V[aa].name,title:V[aa].title,wmjslayer:V[aa]})},I=function(V){if(isDefined(V)){e.selectedLayer=V;var aa=e.getComponent("dimensionpanel").getComponent("dimensioncombobox");aa.disable();z.removeAll();for(var ca=0;ca<V.dimensions.length;ca++)z.add({name:V.dimensions[ca].name,wmjsdimension:V.dimensions[ca]});0<z.getCount()&&(aa.setValue(z.getAt(0).get("name")),ja(z.getAt(0).get("wmjsdimension")),aa.enable())}},
ja=function(V){isDefined(V)&&(e.getComponent("dimensionvaluespanel").getComponent("dimensioncurrentvalue").setValue(V.getValue()),e.dimension=V)},N=function(){isDefined(e.dimensionName)&&isDefined(e.currentValue)&&(e.mappanel.webMapJS.stopAnimating(),e.mappanel.webMapJS.setDimension(e.dimensionName,e.currentValue),e.mappanel.webMapJS.draw("AnimationPanel::stop"))};Ext.apply(this,{border:!1,frame:!0,items:[{xtype:"panel",itemId:"layerpanel",layout:"border",frame:!0,border:!1,margin:3,height:36,items:[{margin:3,
xtype:"combobox",itemId:"layercombo",region:"center",fieldLabel:I18n.select_layer.text,labelWidth:110,displayField:"title",valuefield:"name",store:p,queryMode:"local",listeners:{select:{fn:function(V,aa){V=aa[0].get("wmjslayer");I(V)}}}},{xtype:"button",region:"east",width:23,iconCls:"button_refresh",handler:function(){F()}}]},{xtype:"panel",itemId:"dimensionpanel",layout:"fit",frame:!0,border:!1,margin:3,height:36,items:[{margin:3,xtype:"combobox",itemId:"dimensioncombobox",region:"center",fieldLabel:I18n.select_dimension.text,
labelWidth:110,disabled:!0,store:z,displayField:"name",valuefield:"name",queryMode:"local",listeners:{select:{fn:function(V,aa){ja(aa[0].get("wmjsdimension"))}}}}]},{xtype:"panel",itemId:"dimensionvaluespanel",frame:!0,border:!1,margin:3,layout:"border",height:36,items:[{xtype:"label",text:I18n.start_at.text+":",width:110,region:"west",margin:3},{itemId:"dimensioncurrentvalue",xtype:"textfield",region:"center",frame:!1,border:!1,margin:3},{xtype:"button",region:"east",width:23,iconCls:"button_refresh",
handler:function(){0<p.getCount()&&I(e.selectedLayer)}}]},{xtype:"panel",layout:"border",itemId:"numberofstepspanel",border:!1,frame:!0,height:36,margin:3,items:[{xtype:"label",text:I18n.number_of_steps.text+":",width:110,region:"west",margin:3},{xtype:"numberfield",itemId:"numberofstepsnumberfield",region:"center",value:12}]},{xtype:"panel",layout:"border",itemId:"delaypanel",border:!1,frame:!0,height:36,margin:3,items:[{xtype:"label",text:I18n.delay_ms.text+":",width:110,region:"west",margin:3},
{xtype:"numberfield",itemId:"delaynumberfield",region:"center",value:300}]}],buttons:[{text:I18n.stop.text,handler:N},{text:I18n.start.text,handler:function(){var V=e.getComponent("dimensionvaluespanel").getComponent("dimensioncurrentvalue").getValue(),aa=e.getComponent("numberofstepspanel").getComponent("numberofstepsnumberfield").getValue(),ca=e.getComponent("delaypanel").getComponent("delaynumberfield").getValue();V=e.dimension.getIndexForValue(V);var ea=e.mappanel.webMapJS.getMaxNumberOfAnimations();
aa>ea&&(aa=ea,e.getComponent("numberofstepspanel").getComponent("numberofstepsnumberfield").setValue(aa));aa--;0>aa&&(aa=0);aa=V+aa;aa>=e.dimension.size()&&(ea=e.dimension.size()-(aa+1),V+=ea,aa+=ea);0>V&&(V=0);0>aa&&(aa=0);for(ea=[];V<aa+1;V++)ea.push({name:e.dimension.name,value:e.dimension.getValueForIndex(V)});0==e.mappanel.webMapJS.isAnimating&&(e.dimensionName=e.dimension.name,e.currentValue=e.dimension.currentValue);e.mappanel.webMapJS.setAnimationDelay(ca);e.mappanel.webMapJS.draw(ea)}}],
listeners:{afterrender:{fn:function(){F();0<p.getCount()&&(e.getComponent("layerpanel").getComponent("layercombo").setValue(p.getAt(0)),I(p.getAt(0).get("wmjslayer")))}},destroy:{fn:function(){N()}}}});webmapjsext.WMJSExt.AnimationPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.PermaLinkPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtPermaLinkPanel",initComponent:function(){var e=this;Ext.apply(this,{border:!1,frame:!0,layout:"fit",items:[{xtype:"panel",layout:"border",frame:!0,border:!1,items:[{frame:!0,border:0,xtype:"panel",height:28,region:"north",html:"<h1>Paste the link below in an email or chat message</h1>"},{xtype:"displayfield",region:"center",itemId:"mainTextField"}]}],listeners:{afterrender:{fn:function(){var p=e.getComponent(0).getComponent("mainTextField");
var z=location.href.split("?")[0];z=z.split("#")[0];-1!=z.indexOf("/index.html")&&(z=z.substring(0,z.indexOf("/index.html")),z+="/");-1!=z.indexOf("/index.jsp")&&(z=z.substring(0,z.indexOf("/index.jsp")),z+="/");-1!=z.indexOf("/index.php")&&(z=z.substring(0,z.indexOf("/index.php")),z+="/");var F=e.mappanel.webMapJS,I=0,ja=F.getActiveLayer(),N=F.getLayers();isDefined(void 0)&&(N=[],N.push(void 0));var V=F.getProjection();var aa="?srs="+URLEncode(V.srs);aa+="&bbox="+URLEncode(V.bbox);if(0<N.length){var ca=
[],ea=[];for(V=0;V<N.length;V++)if(N[V].name&&N[V].title!=WMJSEmptyLayerName){var Z=ca.indexOf(N[V].service);-1==Z&&(ca.push(N[V].service),Z=ca.length-1);ea.push(N[V].name.replace(/,/g,".")+"$"+N[V].format+"$"+N[V].enabled+"$"+N[V].getStyle()+"$"+N[V].opacity+"$"+Z);ja==N[V]&&(I=V)}ja=URLEncode(ca[0]);for(V=1;V<ca.length;V++)ja+=","+URLEncode(ca[V]);aa+="&service="+ja;ja=URLEncode(ea[0]);for(V=1;V<ea.length;V++)ja+=","+URLEncode(ea[V]);aa=aa+("&layer="+ja)+("&selected="+I);I=F.getDimensionList();
isDefined(void 0)&&(I=(void 0).dimensions);if(0<I.length)for(aa+="&dims=",V=0;V<I.length;V++)0<V&&(aa+=","),aa+=I[V].name+"$"+I[V].currentValue}F.isMapPinVisible();F=F.getBaseLayers();I="";for(V=0;V<F.length;V++)F[V].enabled&&(0<I.length&&(I+="$"),I+=URLEncode(F[V].name));""==I&&(I="none");z+=aa+("&baselayers="+I);p.setValue('<a href="'+z+'" target="_blank">'+z+" </a>")}}}});webmapjsext.WMJSExt.PermaLinkPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.SpinnerSlider",{extend:"Ext.panel.Panel",alias:["widget.spinnerslider"],requires:["Ext.slider.Single"],initComponent:function(){var e=this;e.slidertitle=e.title;e.title=void 0;e.setValue=function(p){e.slider.suspendEvents();e.slider.setValue(p);e.slider.resumeEvents();e.label.setText(""+decimalFormatter(p,e.ndecs))};e.getValue=function(){return e.slider.getValue()};e.setValueByEvent=function(p){e.setValue(p);e.trigger&&e.trigger(p)};Ext.apply(this,{border:!1,height:15,
margin:"8 5 8 5",frame:!1,layout:"border",items:[{xtype:"panel",region:"west",width:44,border:!1,items:[{xtype:"label",text:e.slidertitle}]},{xtype:"panel",region:"center",layout:"fit",border:!1,items:[{xtype:"slider",useTips:!1,animate:!1,minValue:e.min,maxValue:e.max,itemId:"slider",margin:"0 4 0 4",listeners:{drag:{fn:function(p){e.setValueByEvent(p.getValue())}},change:{fn:function(p){e.setValueByEvent(p.getValue())}}}}]},{xtype:"panel",layout:"border",border:!1,frame:!1,region:"east",width:75,
bodyStyle:{"background-color":"white"},items:[{region:"west",scale:"small",xtype:"button",text:"&lt;",width:20,handler:function(){e.setValueByEvent(e.queryById("slider").getValue()-1)}},{xtype:"label",itemId:"label",region:"center",cls:"test-lbl-text-align"},{region:"east",scale:"small",xtype:"button",text:"&gt;",width:20,handler:function(){e.setValueByEvent(e.queryById("slider").getValue()+1)}}]}]});this.superclass.initComponent.apply(this,arguments);this.label=this.queryById("label");this.slider=
this.queryById("slider")}});
Ext.define("Ext.ux.form.field.DateTime",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.datetimefield",layout:{type:"vbox",align:"stretch"},border:!1,width:220,msgTarget:"side",dateCfg:{},timeCfg:{},initComponent:function(){this.buildField(this);this.callParent();this.dateField=this.down("datefield");this.timeField=this.down("timefield");this.initField();this.yearslider=this.queryById("yearslider");this.monthslider=this.queryById("monthslider");this.dayslider=
this.queryById("dayslider");this.hourslider=this.queryById("hourslider");this.minuteslider=this.queryById("minuteslider");this.secondslider=this.queryById("secondslider")},buildField:function(e){_this=this;_this.slidersTriggered=function(){var p=new Date(Date.UTC(_this.yearslider.getValue(),_this.monthslider.getValue()-1,_this.dayslider.getValue(),_this.hourslider.getValue(),_this.minuteslider.getValue(),_this.secondslider.getValue()));_this.setValue(p);_this.triggerEvent()};this.items=[{xtype:"panel",
border:!1,layout:{type:"hbox"},items:[{xtype:"datefield",format:"Y-m-d",validateOnChange:!0,validateOnBlur:!0,validateBlank:!1,emptyText:"yyyy-mm-dd",anchor:"100%",maskRe:/^([0-9]|-)$/,width:110,listeners:{change:{fn:function(p,z){e.datePart=z;e.triggerEvent()}}}},{xtype:"timefield",format:"H:i:s UTC",width:110,listeners:{change:{fn:function(p,z){e.timePart=z;e.triggerEvent()}}}}]},{xtype:"panel",border:!1,items:[{xtype:"spinnerslider",title:"Year",itemId:"yearslider",min:parseISO8601DateToDate(_this.minTimeValue).getUTCFullYear(),
max:parseISO8601DateToDate(_this.maxTimeValue).getUTCFullYear(),ndecs:4,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Month",itemId:"monthslider",min:1,max:12,ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Day",itemId:"dayslider",min:1,max:31,ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Hour",itemId:"hourslider",min:0,max:23,ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Minute",itemId:"minuteslider",min:0,max:59,
ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Second",itemId:"secondslider",min:0,max:59,ndecs:2,trigger:_this.slidersTriggered}]}]},triggerEvent:function(){if(0!=_this.triggerEvents&&this.datePart&&this.timePart)try{var e=decimalFormatter(this.datePart.getFullYear(),4)+"-"+decimalFormatter(this.datePart.getMonth()+1,2)+"-"+decimalFormatter(this.datePart.getDate(),2)+"T"+decimalFormatter(this.timePart.getUTCHours(),2)+":"+decimalFormatter(this.timePart.getUTCMinutes(),2)+":"+
decimalFormatter(this.timePart.getUTCSeconds(),2)+"Z",p=parseISO8601DateToDate(e);this.setValue(p);this.fireEvent("change",this,p)}catch(z){}},getValue:function(){var e=this.dateField.getSubmitValue(),p=this.timeField.getSubmitValue();if(e)if(p){var z=this.getFormat();z=Ext.Date.parse(e+" "+p,z)}else z=this.dateField.getValue();return z},setValue:function(e){_this.suspendEvents();_this.triggerEvents=!1;if(isDefined(e)&&e!=_this.currentValue){_this.currentValue=e;var p=parseISO8601DateToDate(_this.minTimeValue),
z=parseISO8601DateToDate(_this.maxTimeValue);e<p&&(e=p);e>z&&(e=z);p=e.getUTCFullYear();_this.dateField.setValue(new Date(Date.UTC(p,e.getUTCMonth(),e.getUTCDate(),0,0,0)));_this.yearslider.setValue(e.getUTCFullYear());_this.monthslider.setValue(e.getUTCMonth()+1);_this.dayslider.setValue(e.getUTCDate());_this.hourslider.setValue(e.getUTCHours());_this.minuteslider.setValue(e.getUTCMinutes());_this.secondslider.setValue(e.getUTCSeconds());_this.timeField.setValue(e)}_this.triggerEvents=!0;_this.resumeEvents()}});Ext.define("webmapjsext.WMJSExt.CheckColumn",{extend:"Ext.grid.column.Column",alias:"widget.checkcolumn",constructor:function(){this.addEvents("checkchange");this.callParent(arguments)},processEvent:function(e,p,z,F,I,ja){if("mousedown"==e||"keydown"==e&&(ja.getKey()==ja.ENTER||ja.getKey()==ja.SPACE)){var N=p.panel.store.getAt(F),V=this.dataIndex,aa=!N.get(V);N.set(V,aa);this.fireEvent("checkchange",this,F,aa);return!1}return this.callParent(arguments)},renderer:function(e){var p=Ext.baseCSSPrefix,
z=[p+"grid-checkheader"];e&&z.push(p+"grid-checkheader-checked");return'<div class="'+z.join(" ")+'">&#160;</div>'}});Ext.define("webmapjsext.WMJSExt.IFramePanel",{extend:"Ext.Panel",src:"about:blank",loadingText:"Loading ...",initComponent:function(){this.updateHTML();this.callParent(arguments)},updateHTML:function(){this.html='<iframe id="iframe-'+this.id+'" style="overflow:auto;width:100%;height:100%;" frameborder="0"  src="'+this.src+'"></iframe>'},reload:function(){this.setSrc(this.src)},getIframeId:function(){return"iframe-"+this.id},reset:function(){var e=this.getDOM(),p=e.parentNode;e&&p&&(e.src="about:blank",
e.parentNode.removeChild(e));e=document.createElement("iframe");e.frameBorder=0;e.src=this.src;e.id="iframe-"+this.id;e.style.overflow="auto";e.style.width="100%";e.style.height="100%";p.appendChild(e)},setSrc:function(e,p){this.src=e;if(p=this.getDOM())p.src=e},getSrc:function(){return this.src},getDOM:function(){return document.getElementById("iframe-"+this.id)},getDocument:function(){var e=this.getDOM();e=e.contentWindow?e.contentWindow:e.contentDocument.document?e.contentDocument.document:e.contentDocument;
return e.document},destroy:function(){var e=this.getDOM();e&&e.parentNode&&(e.src="about:blank",e.parentNode.removeChild(e));this.callParent(arguments)},update:function(e){this.setSrc("about:blank");try{var p=this.getDocument();p.open();p.write(e);p.close()}catch(z){this.reset(),p=this.getDocument(),p.open(),p.write(e),p.close()}}});Ext.define("webmapjsext.WMJSExt.WCSPanel",{extend:"Ext.panel.Panel",alias:"WCSPanel",initComponent:function(){var e=new function(){this.bbox=this.srs=void 0;this.coverages=[]};e.srs=this.WMJSLayer.parentMaps[0].getProjection().srs;e.bbox=this.WMJSLayer.parentMaps[0].getProjection().bbox.toString();var p=new WMJSCoverage({service:this.WMJSLayer.WMJSService.service,name:this.WMJSLayer.name});e.coverages.push(p);p.dimensions=this.WMJSLayer.dimensions;var z="EPSG:4326",F="AAIGRID",I="-180,-90,180,90",
ja=Ext.create("Ext.data.Store",{fields:["title","srs","bbox"],data:{items:[]},proxy:{type:"memory",reader:{type:"json",root:"items"}}}),N=Ext.create("Ext.grid.Panel",{border:!1,store:ja,columns:[{text:"Title",dataIndex:"title",flex:1},{text:"ESPG Code",dataIndex:"srs"}],listeners:{select:{fn:function(ua,Ba){ua=Ba.get("bbox");z=Ba.get("srs");I=ua;ca.getComponent("column2").getComponent("areaPanel").getComponent("bboxtop").setValue(ua.split(",")[3]);ca.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxwest").setValue(ua.split(",")[0]);
ca.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxeast").setValue(ua.split(",")[2]);ca.getComponent("column2").getComponent("areaPanel").getComponent("bboxbottom").setValue(ua.split(",")[1]);Ba=Math.abs(I.split(",")[2]-I.split(",")[0]);ua=Math.abs(I.split(",")[3]-I.split(",")[1]);var Na=e.coverages[0];ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").setValue(Ba/Na.width);ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").setValue(ua/
Na.height);va()}}}}),V=Ext.create("Ext.data.Store",{fields:["title","format"],data:{items:[]},proxy:{type:"memory",reader:{type:"json",root:"items"}}}),aa=Ext.create("Ext.grid.Panel",{border:!1,store:V,columns:[{text:I18n.format.text,dataIndex:"format"},{text:I18n.title.text,dataIndex:"title",flex:1}],listeners:{select:{fn:function(ua,Ba){F=Ba.get("format");va()}}}});e.onReady=function(){N.setLoading(!1);for(var ua=this.coverages[0],Ba=0;Ba<ua.supportedProjections.length;Ba++){var Na=ua.supportedProjections[Ba].srs;
try{Na=epsgDescriptionLookup[ua.supportedProjections[Ba].srs]}catch(Oa){}isDefined(Na)||(Na=ua.supportedProjections[Ba].srs);ja.add({title:Na,srs:ua.supportedProjections[Ba].srs,bbox:ua.supportedProjections[Ba].bbox})}Ba=ja.find("srs",ua.nativeCRS);-1==Ba&&(Ba=ja.find("srs","EPSG:4326"));-1==Ba&&(Ba=0);N.getView().select(Ba);ja.add({title:"Viewer window projection and area",srs:this.srs,bbox:this.bbox});ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").setValue(ua.width);
ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").setValue(ua.height);Na=ca.getComponent("column3").getComponent("dimensionPanel");for(Ba=0;Ba<ua.dimensions.length;Ba++)Na.add({xtype:"textfield",fieldLabel:ua.dimensions[Ba].name,value:ua.dimensions[Ba].currentValue,labelWidth:40,padding:"30",width:200,itemId:"dimtextfield_"+ua.dimensions[Ba].name,listeners:{change:{fn:function(){va()}}}});for(Ba=0;Ba<ua.formats.length;Ba++){Na=ua.formats[Ba];
var La=ua.formats[Ba].toUpperCase();try{Na=formatDescriptionLookup[La]}catch(Oa){}isDefined(Na)||(Na=ua.formats[Ba]);V.add({title:Na,format:ua.formats[Ba]});"AAIGRID"==La&&aa.getView().select(Ba)}va();za.update('<table style="margin:5px;"><tr><td><b>Coverage:</b></td><td>'+ua.name+"</td></tr><tr><td><b>Title:</b></td><td>"+ua.title+"</td></tr><tr><td><b>Description:</b></td><td>"+ua["abstract"]+"</td></tr></table>")};Ext.create("Ext.panel.Panel",{region:"west",border:!0,width:100});var ca=Ext.create("Ext.panel.Panel",
{region:"center",border:!1,layout:{type:"hbox",align:"stretch"},defaults:{border:!0},items:[{xtype:"panel",flex:2,title:I18n.coordinate_reference_system.text,itemId:"projectionPanel",layout:"fit",items:[N],border:!0,split:!0},{xtype:"panel",layout:"border",itemId:"column2",split:!0,autoScroll:!0,border:!1,flex:1,items:[{itemId:"areaPanel",height:"50%",xtype:"panel",title:I18n.area_bounding_box.text,region:"center",autoScroll:!0,layout:{type:"vbox",columns:3},items:[{xtype:"textfield",fieldLabel:I18n.north.text,
itemId:"bboxtop",labelWidth:20,padding:"30 5 5 130",width:180,listeners:{change:{fn:function(){va()}}}},{xtype:"panel",itemId:"bbox",border:!1,layout:"hbox",items:[{xtype:"textfield",fieldLabel:I18n.west.text,itemId:"bboxwest",labelWidth:30,padding:"15 0 0 15",width:180,listeners:{change:{fn:function(){va()}}}},{xtype:"textfield",fieldLabel:I18n.east.text,itemId:"bboxeast",labelWidth:30,padding:"15 0 0 15",width:180,listeners:{change:{fn:function(){va()}}}}]},{xtype:"textfield",fieldLabel:I18n.south.text,
itemId:"bboxbottom",labelWidth:40,padding:"15 5 5 110",width:200,listeners:{change:{fn:function(){va()}}}}]},{xtype:"panel",region:"south",height:"50%",title:"Grid properties",split:!0,autoScroll:!0,itemId:"gridproperties",items:{xtype:"fieldcontainer",itemId:"field",items:[{xtype:"radiofield",boxLabel:"Cell size",name:"resolution",checked:!0,itemId:"radioselectcellsize",padding:"15 15 15 15",handler:function(ua,Ba){!0===Ba&&(ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").disable(),
ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").disable(),ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").enable(),ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").enable());va()}},{xtype:"textfield",fieldLabel:"X resolution",padding:"0 0 0 40",itemId:"xresolution",width:170,listeners:{change:{fn:function(){va()}}}},{xtype:"textfield",
fieldLabel:"Y resolution",padding:"0 0 0 40",itemId:"yresolution",width:170,listeners:{change:{fn:function(){va()}}}},{xtype:"radiofield",boxLabel:"Raster size",name:"resolution",padding:15,handler:function(ua,Ba){!0===Ba&&(ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").enable(),ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").enable(),ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").disable(),
ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").disable())}},{xtype:"textfield",fieldLabel:"Raster Width",padding:"0 0 0 40",disabled:!0,itemId:"rasterwidth",width:170,listeners:{change:{fn:function(){va()}}}},{xtype:"textfield",fieldLabel:"Raster Height",padding:"0 0 0 40",disabled:!0,itemId:"rasterheight",width:170,listeners:{change:{fn:function(){va()}}}}]}}]},{itemId:"column3",xtype:"panel",layout:"border",border:!1,split:!0,flex:1,items:[{xtype:"panel",
region:"center",height:"50%",itemId:"dimensionPanel",title:I18n.dimensions.text,autoScroll:!0},{xtype:"panel",split:!0,autoScroll:!0,region:"south",height:"50%",title:I18n.formats.text,items:[aa]}]}]}),ea=Ext.create("Ext.panel.Panel",{layout:"border",region:"center",border:!0,width:300,items:[ca]}),Z=Ext.create("Ext.panel.Panel",{border:!1,padding:20}),ma=Ext.create("Ext.panel.Panel",{title:"GetCoverage request link",region:"south",border:!0,height:100,layout:"fit",items:[Z]}),za=Ext.create("Ext.panel.Panel",
{region:"north",border:!1,height:80,frame:!1});Ext.apply(this,{layout:"border",padding:0,frame:!1,border:!0,items:[ea,za,ma]});N.setLoading(!0);var va=function(){var ua=e.coverages[0].service;ua=WMJScheckURL(ua);var Ba=e.coverages[0].name,Na=ca.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxwest").getValue()+","+ca.getComponent("column2").getComponent("areaPanel").getComponent("bboxbottom").getValue()+","+ca.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxeast").getValue()+
","+ca.getComponent("column2").getComponent("areaPanel").getComponent("bboxtop").getValue();-1==ua.indexOf("?")?ua+="?":"&"!=ua.charAt(ua.length-1)&&(ua+="&");ua=ua+"SERVICE=WCS&REQUEST=GetCoverage&COVERAGE="+Ba+"&CRS="+URLEncode(z)+"&FORMAT="+F+"&BBOX="+Na;1==ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("radioselectcellsize").getValue()?(ua+="&RESX="+ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").getValue(),
ua+="&RESY="+ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").getValue()):(ua+="&WIDTH="+ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").getValue(),ua+="&HEIGHT="+ca.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").getValue());for(Ba=0;Ba<e.coverages[0].dimensions.length;Ba++)try{var La=ca.getComponent("column3").getComponent("dimensionPanel").getComponent("dimtextfield_"+
e.coverages[0].dimensions[Ba].name).getValue(),Oa=e.coverages[0].dimensions[Ba].name;Oa=Oa.toUpperCase();"ELEVATION"!=Oa&&"TIME"!=Oa&&(Oa="DIM_"+Oa);ua+="&"+Oa+"="+La}catch(hb){}Z.update('<a target="_blank" href="'+ua+'">'+ua+"</a>");return z};WCJSRequest(e.coverages[0].service,e.coverages[0].name,function(ua){e.coverages[0]=parseDescribeCoverage(ua,p);e.onReady()},function(ua){alert("failed:\n "+ua)});webmapjsext.WMJSExt.WCSPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.WindowFader",{extend:"Ext.window.Window",alias:"WMJSExtWindowFader",requires:[],initComponent:function(){var e=this;e.timer=new WMJSTimer;e.fadeOut=function(){100!=e.opacity&&(0<e.opacity?(e.timer.init(50,e.fadeOut),e.opacity-=(100-e.opacity)/10+.5,e.getEl().dom.style.opacity=e.opacity/100):e.close())};Ext.apply(this,{listeners:{render:{fn:function(){e.el.on("mouseenter",function(){e.getEl().dom.style.opacity="1";e.opacity=100});e.el.on("mouseleave",function(){e.opacity=
95;e.timer.init(100,e.fadeOut)})}},show:{fn:function(){e.getEl().dom.style.opacity=1;e.opacity=100}}}});this.callParent(arguments)}});initWMJS();var error=function(e){console.error(e)},debug=function(e){console.log(e)},versionInfo="ADAGUC viewer version 4.0.3.",mainWebmapJS;function decimalFormatter(e,p){e=parseInt(e)+"";p=parseInt(p)-e.length;var z,F="";for(z=0;z<p;z++)F+="0";return F+e}
function Console(e){function p(I){I=(I+"").replace(/&/g,"&amp;");I=I.replace(/</g,"&lt;");I=I.replace(/>/g,"&gt;");I=I.replace(/"/g,"&quot;");return I=I.replace(/\n/g,"<br>")}var z=e,F="";this.println=function(I,ja){F=0==ja?F+("<p class='stdoutmessage'>"+I+"</p>"):F+("<p class='stdoutmessage'>"+p(I)+"</p>");isDefined(z)&&(z.innerHTML=F,z.scrollTop=z.scrollHeight);17824<F.length&&(F=F.substring(F.length-13368))};this.errprintln=function(I,ja){F=0==ja?F+("<p class='stderrmessage'>"+I+"</p>"):F+("<p class='stderrmessage'>"+
p(I)+"</p>");isDefined(z)&&(z.innerHTML=F,z.scrollTop=z.scrollHeight)};this.cls=function(){F="";isDefined(z)&&(z.innerHTML=F)};this.setSize=function(I,ja){isDefined(z)&&(z.scrollTop=z.scrollHeight,z.style.width=I+"px",z.style.height=ja+"px",z.width=I+"px",z.height=ja+"px")};this.setElement=function(I){z=I;initWMJS();isDefined(z)&&(z.style.overflow="scroll",z.style.display="inline-block",z.style.position="absolute",z.style.width="100%",z.style.height="100%",z.style.font="normal 12px courier",z.noWrap=
!0,z.style.whiteSpace="nowrap",z.innerHTML=F,z.scrollTop=z.scrollHeight)};this.setElement(e)}
var myUTCDateParser=function(e,p){e=parseISO8601DateToDate(e+"T00:00:00Z");e.add(parseISO8601IntervalToDateInterval("P0D"));return e},myUTCDateFormatter=function(){if(void 0!=this)return decimalFormatter(this.getFullYear(),4)+"-"+decimalFormatter(this.getMonth()+1,2)+"-"+decimalFormatter(this.getDate(),2)},myUTCTimeFormatter=function(){if(void 0!=this)return decimalFormatter(this.getUTCHours(),2)+":"+decimalFormatter(this.getUTCMinutes(),2)+":"+decimalFormatter(this.getUTCSeconds(),2)},myUTCTimeParser=
function(e,p){return parseISO8601DateToDate("2000-01-01T"+e+"Z")};Ext.Date.formatFunctions["Y-m-d UTC"]=myUTCDateFormatter;Ext.Date.parseFunctions["Y-m-d UTC"]=myUTCDateParser;Ext.Date.formatFunctions["H:i:s UTC"]=myUTCTimeFormatter;Ext.Date.parseFunctions["H:i:s UTC"]=myUTCTimeParser;Ext.state.Manager.setProvider(new Ext.state.CookieProvider({expires:new Date((new Date).getTime()+6048E5)}));
var firstTimeOpening=!1,clearLayers=function(e){Ext.getCmp("layerlistpanel").removeAll();e.removeAllLayers()},updateLayers=function(){for(var e=Ext.getCmp("layerlistpanel").items,p=0;p<e.getCount();p++)e.get(p).parseLayer(!0)},getLayerObjects=function(){for(var e=[],p=Ext.getCmp("layerlistpanel").items,z=0;z<p.getCount();z++)e.push(p.get(z));return e},getSelectedLayer=function(){for(var e=getLayerObjects(),p=0;p<e.length;p++)if(1==e[p].selected)return e[p]},removeLayer=function(){for(var e=getLayerObjects(),
p=-2,z=0;z<e.length;z++)if(1==e[z].selected){p=z-1;e[z].close();break}e=getLayerObjects();0<e.length&&-2!=p&&(0>p&&(p=0),p>e.length-1&&(p=e.length-1),e[p].select())},createNewLayerPanel=function(e,p){0==isDefined(p)&&(p=[]);var z=void 0;isDefined(p.service)&&(z=p.service);var F=void 0;isDefined(p.name)&&(F=p.name);var I=void 0;isDefined(p.style)&&(I=p.style);var ja=void 0;isDefined(p.opacity)&&0<(""+p.opacity).length&&(ja=p.opacity);var N=void 0;isDefined(p.enabled)&&(N=p.enabled);var V=void 0;isDefined(p.autoChooseLayer)&&
(V=p.autoChooseLayer);isDefined(N)||(N=!0);var aa=Ext.getCmp("layerlistpanel");aa.removeLayer=removeLayer;z=Ext.create("webmapjsext.WMJSExt.LayerPanel",{parentPanelList:aa,title:F,service:z,name:F,style:I,opacity:ja,enabled:N,autoChooseLayer:V,parentWebMapJS:e,afterlayerready:function(ca){1!=ca.layerAddedToWebMapJS&&(ca.WMJSLayer.enabled=this.enabled,ca.layerAddedToWebMapJS=!0);p.ready?(p.ready(ca,e),p.ready=void 0):(1==p.zoomtolayer&&(p.zoomtolayer=!1,e.setProjection(ca.WMJSLayer.getProjection("EPSG:4326"))),
e.draw("createNewLayerPanel"),1==p.notifyadded&&(p.notifyadded=!1))}});z.WMJSLayer.enabled=!1;e.addLayer(z.WMJSLayer);aa.insert(0,z);z.select();return z},timeselectorWindow=Ext.create("Ext.window.Window",{title:"Time selection",width:310,height:624,constrain:!0,autoDestroy:!1,collapsible:!0,frame:!1,plain:!0,border:!1,closeAction:"hide",html:"<div class='timeselector'/>",listeners:{afterrender:{fn:function(e){var p=new WMJSTimeSelector($(this.getEl().dom).find(".timeselector"),function(z){mainWebmapJS.webMapJS.setDimension("time",
z);mainWebmapJS.webMapJS.draw("timeselectorWindow")});mainWebmapJS.webMapJS.addListener("onmapdimupdate",function(){p.dimensionUpdate(mainWebmapJS.webMapJS)},!0);mainWebmapJS.webMapJS.addListener("ondimchange",function(){p.dimensionChange(mainWebmapJS.webMapJS)},!0);mainWebmapJS.webMapJS.addListener("onimageload",function(){p.loadingComplete(mainWebmapJS.webMapJS)},!0);p.dimensionUpdate(mainWebmapJS.webMapJS)}},show:{fn:function(){mainWebmapJS.webMapJS.stopAnimating()}}}}),timeselectorPanel=Ext.create("Ext.panel.Panel",
{iconCls:"button_time32",title:" ",bodyCls:"layerlistbg",autoDestroy:!1,collapsible:!1,frame:!1,plain:!0,border:!1,closeAction:"hide",html:"<div class='timeselector layerlistbg'/>",listeners:{afterrender:{fn:function(e){var p=new WMJSTimeSelector($(this.getEl().dom).find(".timeselector"),function(z){mainWebmapJS.webMapJS.setDimension("time",z);mainWebmapJS.webMapJS.draw("timeselectorPanel")});mainWebmapJS.webMapJS.addListener("onmapdimupdate",function(){p.dimensionUpdate(mainWebmapJS.webMapJS)},!0);
mainWebmapJS.webMapJS.addListener("ondimchange",function(){p.dimensionChange(mainWebmapJS.webMapJS)},!0);mainWebmapJS.webMapJS.addListener("onimageload",function(){p.loadingComplete(mainWebmapJS.webMapJS)},!0);p.dimensionUpdate(mainWebmapJS.webMapJS)}},show:{fn:function(){mainWebmapJS.webMapJS.stopAnimating()}}}});
Ext.onReady(function(){Ext.tip.QuickTipManager.init();mainWebmapJS=Ext.create("webmapjsext.WMJSExt.MapPanel",{region:"center",border:!0});var e=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{3}))?(Z|[\+-]\d{2}(?::\d{2})?)$/;Ext.create("Ext.form.field.Text",{value:"1000-01-01T00:00:00Z",regex:e,regexText:"Format should be YYYY-MM-DDThh:mm:ssZ"});Ext.create("Ext.form.field.Text",{value:"3000-01-01T00:00:00Z",regex:e,regexText:"Format should be YYYY-MM-DDThh:mm:ssZ"});var p=Ext.create("Ext.panel.Panel",
{region:"east",collapsible:!0,closable:!0,split:!0,header:!1,hidden:!0,width:600,autoScroll:!0,layout:"fit",title:"test",tbar:[{xtype:"label",text:"App",scale:"large",itemId:"paneltitle"},{xtype:"tbfill",scale:"large"},{xtype:"tool",scale:"large",type:"close",handler:function(){p.hide()}}],listeners:{show:{fn:function(){p.getDockedComponent(0).getComponent("paneltitle").setText("App '"+p.applicationSettings.name||p.applicationSettings.title+"'");p.update('<div id="webmapjs_customapplication" class="webmapjs_customapplication"></div>');
var Z=WMJSExtApplications[p.applicationSettings.name];Z?(p.applicationSettings.app=new Z($("#webmapjs_customapplication"),mainWebmapJS.webMapJS),p.applicationSettings.app.enable(p.width,mainWebmapJS.webMapJS.getHeight()-24)):alert("Application with name "+p.applicationSettings.name+" not registered")}},hide:{fn:function(){p.applicationSettings.app&&(p.applicationSettings.app.disable(),p.applicationSettings.app=void 0);mainWebmapJS.webMapJS.enableInlineGetFeatureInfo(!0);mainWebmapJS.webMapJS.removeListener("mouseclicked")}},
resize:{fn:function(){p.applicationSettings.app&&p.applicationSettings.app.resize(p.width,mainWebmapJS.webMapJS.getHeight())}}},setApplication:function(Z){p.applicationSettings=Z}});e=Ext.create("Ext.panel.Panel",{region:"center",layout:"border",split:!0,frame:!1,border:!1,margin:0,items:[mainWebmapJS,p]});var z=function(Z){console.log(Z.slot);var ma=createNewLayerPanel(mainWebmapJS.webMapJS,{service:Z.service,name:Z.layer,style:Z.style,opacity:Z.opacity,ready:function(za,va){var ua=Z.srs,Ba=Z.bbox,
Na=Z.baselayername,La=Z.baselayerservice;ua&&!Ba?va.setProjection(za.getProjection(ua)):ua&&Ba&&va.setProjection({srs:ua,bbox:Ba});Na&&La?(mainWebmapJS.baseLayer.setService(La),mainWebmapJS.baseLayer.name=Na,mainWebmapJS.baseLayer.parseLayer(function(){va.draw("dataPanelClicked::parseLayer")},void 0,"WMJSExtMain::dataPanelClicked")):va.draw("dataPanelClicked");isDefined(ma)&&isDefined(Z.ready)&&(Z.ready(ma,va),1==ma.WMJSLayer.hasError&&ma.close())}});return ma},F,I=new Console;Ext.create("Ext.panel.Panel",
{html:'<div id="debuginfodiv"></div>',layout:"fit",listeners:{afterrender:{fn:function(){I.setElement(document.getElementById("debuginfodiv"))}}}});var ja=[{text:I18n.show_time_selection_window.text,iconCls:"button_settings_icon",handler:function(){timeselectorWindow.show()}},{text:I18n.create_animation.text+"&hellip;",iconCls:"button_settings_icon",handler:function(){Ext.create("Ext.window.Window",{title:I18n.create_animation.text,width:460,height:300,layout:"form",autoDestroy:!0,closeAction:"destroy",
autoScroll:!0,collapsible:!0,items:[Ext.create("webmapjsext.WMJSExt.AnimationPanel",{mappanel:mainWebmapJS})]}).show()}},{text:I18n.create_link.text,iconCls:"button_makeLink",handler:function(){F=Ext.create("Ext.window.Window",{title:I18n.create_permanent_links.text,width:800,height:260,layout:"fit",autoDestroy:!0,closeAction:"destroy",autoScroll:!0,modal:!1,items:[Ext.create("webmapjsext.WMJSExt.PermaLinkPanel",{mappanel:mainWebmapJS})]});F.show()}},{text:I18n.add_custom_wms_service.text,iconCls:"button_layerlist_layernew",
handler:function(){Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:z,webMapJS:mainWebmapJS.webMapJS}).showCustomWMSWindow()}},{text:I18n.undo_zoom_pan_action.text,iconCls:"button_undo",handler:function(){mainWebmapJS.webMapJS.setPreviousExtent()}},{text:I18n.redo_zoom_pan_action.text,iconCls:"button_redo",handler:function(){mainWebmapJS.webMapJS.setNextExtent()}},{text:I18n.abort_loading.text,iconCls:"button_stoploading",handler:function(){mainWebmapJS.webMapJS.abort()}}];try{isDefined(getFeatureInfoApplications)}catch(Z){getFeatureInfoApplications=
[]}for(var N={},V=0;V<getFeatureInfoApplications.length;N={$jscomp$loop$prop$location$77$262:N.$jscomp$loop$prop$location$77$262},V++)N.$jscomp$loop$prop$location$77$262=getFeatureInfoApplications[V],ja.push({text:getFeatureInfoApplications[V].name,iconCls:getFeatureInfoApplications[V].iconCls,location:getFeatureInfoApplications[V].location,handler:function(Z){return function(){console.log(Z.$jscomp$loop$prop$location$77$262);p.setApplication(Z.$jscomp$loop$prop$location$77$262);p.hide();p.show()}}(N)}),
getFeatureInfoApplications.open&&N.$jscomp$loop$prop$location$77$262.name===getFeatureInfoApplications.open&&p.setApplication(N.$jscomp$loop$prop$location$77$262);ja.push({text:I18n.about_the_adaguc_viewer.text,iconCls:"button_info",tooltip:I18n.about_the_adaguc_viewer.tooltip,handler:function(){Ext.create("Ext.window.Window",{title:I18n.about_adaguc.text,height:200,width:400,modal:!0,layout:"fit",items:{xtype:"panel",html:'<div class="about_adaguc" style="position:absolute;top:0px;left:0px;height:100px;width:520px;"/><div style="position:absolute;top:100px;padding:10px;margin:10px;">'+
versionInfo+I18n.about_adaguc_more_information.text}}).show()}});V=Ext.create("Ext.panel.Panel",{header:!1,title:" ",frame:!1,border:0,split:!1,id:"layerlistpanel",tooltip:I18n.layers.tooltip,overflowY:"auto",bodyCls:"layerlistbg",iconCls:"button_layers32",bbar:[{scale:"small",tooltip:I18n.add_new_layer.tooltip,iconCls:"layer_logos button_layerlist_layernew",handler:function(){createNewLayerPanel(mainWebmapJS.webMapJS,{service:""})}},{iconCls:"button_duplicate",tooltip:I18n.clone_this_layer.tooltip,
handler:function(){var Z=getSelectedLayer();isDefined(Z)&&Z.duplicateLayer()}},{xtype:"button",tooltip:I18n.remove_this_layer.tooltip,iconCls:"button_layerlist_layerdelete",handler:function(Z,ma){removeLayer()}},{xtype:"button",tooltip:I18n.move_layer_up.tooltip,iconCls:"button_layerlist_layerup",handler:function(Z,ma){Z=getSelectedLayer();isDefined(Z)&&Z.moveUp()}},{xtype:"button",tooltip:I18n.move_layer_down.tooltip,iconCls:"button_layerlist_layerdown",handler:function(Z,ma){Z=getSelectedLayer();
isDefined(Z)&&Z.moveDown()}},{xtype:"tbfill"},{iconCls:"button_settings_icon",tooltip:I18n.settings_and_options.tooltip,menu:{xtype:"menu",items:ja}}]});N=Ext.create("webmapjsext.WMJSExt.MapTypeSelector",{maptypeclicked:function(Z){mainWebmapJS.webMapJS.setProjection({bbox:Z.get("bbox"),srs:Z.get("srs")});(Z=Z.get("baselayer"))&&Z.service&&Z.name&&(Z.enabled=!0,mainWebmapJS.baseLayer.setService(Z.service),mainWebmapJS.baseLayer.name=Z.name,mainWebmapJS.baseLayer.enabled=!0,isDefined(Z.transparent)&&
(mainWebmapJS.baseLayer.transparent=Z.transparent),mainWebmapJS.baseLayer.parseLayer(function(){mainWebmapJS.webMapJS.draw("maptypeclicked")},void 0,"WMJSExtMain::maptypeclicked"))},webmapjsext:mainWebmapJS});var aa=Ext.create("webmapjsext.WMJSExt.BaseMapSelector",{webmapjsext:mainWebmapJS});N={id:"viewportwestpanel",width:320,region:"west",layout:"border",collapsible:!0,animCollapse:!0,border:!0,split:!0,header:!1,autoScroll:!1,frame:!0,items:[{layout:"fit",border:!1,autoScroll:!1,region:"center",
xtype:"tabpanel",scale:"large",cls:"LayersAndMapsTab",items:[V,N,aa,timeselectorPanel]}],tbar:[{scale:"large",text:"Add",tooltip:I18n.add_layers.tooltip,iconCls:"button_adddata32",handler:function(){dataChooserConfiguration=dataChooserConfigurationAdd;Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:z,webMapJS:mainWebmapJS.webMapJS}).show()}}]};for(V=0;V<dataChooser.length;V++)0!==dataChooser[V].dataChooserConfiguration.length&&(N.tbar.push({scale:"large",text:dataChooser[V].title,tooltip:I18n.add_layers.tooltip,
iconCls:"button_adddata32",ind:V,handler:function(){dataChooserConfiguration=dataChooser[this.ind].dataChooserConfiguration;Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:z,webMapJS:mainWebmapJS.webMapJS}).show()}}),N.width+=30);for(V=0;V<folderChooser.length;V++)0!==folderChooser[V].dataChooserConfigurationFolder.length&&(N.tbar.push({scale:"large",text:folderChooser[V].title,tooltip:I18n.add_layers.tooltip,iconCls:"folder_adddata32",ind:V,handler:function(){dataChooserConfigurationFolder=
folderChooser[this.ind].dataChooserConfigurationFolder;Ext.create("webmapjsext.WMJSExt.FolderPanel",{dataPanelClicked:z,webMapJS:mainWebmapJS.webMapJS}).show()}}),N.width+=30);N.tbar.push({iconCls:"button_settings32",tooltip:I18n.settings_and_options.tooltip,scale:"large",menu:{xtype:"menu",items:ja}});var ca=Ext.create("Ext.Viewport",{layout:"border",items:[N,e],renderTo:Ext.getBody(),listeners:{resize:{fn:function(){try{var Z=viewportwestpanelwindow.y+viewportwestpanelwindow.height;Z>ca.height&&
(Z=ca.height-70,70>Z&&(Z=70));viewportwestpanelwindow.setSize(viewportwestpanelwindow.width,Z)}catch(ma){}}}}}),ea=function(Z){var ma=!0,za=!1;isDefined(Z.collapse)&&"1"==Z.collapse&&Ext.getCmp("viewportwestpanel").collapse();isDefined(Z.zoomtolayer)&&"1"==Z.zoomtolayer&&(ma=!0);isDefined(Z.srs)&&isDefined(Z.bbox)&&mainWebmapJS.webMapJS.setProjection({srs:Z.srs,bbox:Z.bbox});if(isDefined(Z.service)){clearLayers(mainWebmapJS.webMapJS);var va=URLDecode(Z.service).split(","),ua=[""];isDefined(Z.layer)?
ua=URLDecode(Z.layer).split(","):1==ma&&(za=!0);isDefined(Z.selected);for(var Ba=ua.length,Na=0;Na<ua.length;Na++)try{var La=ua[ua.length-1-Na].split("$"),Oa=La+"",hb=!0,cb="",eb=1,mb=va[0]+"";6==La.length&&(Oa=La[0],hb=La[2],cb=La[3],eb=La[4],isDefined(hb)&&("true"===hb&&(hb=!0),"false"===hb&&(hb=!1)),mb=va[La[5]]);createNewLayerPanel(mainWebmapJS.webMapJS,{service:mb,name:Oa,style:cb,enabled:hb,opacity:eb,ready:function(rb,Db){Ba--;if(0==Ba){if(isDefined(Z.dims))for(var Zb=Z.dims.split(","),Ob=
0;Ob<Zb.length;Ob++){var Eb=Zb[Ob].split("$");2==Eb.length&&mainWebmapJS.webMapJS.setDimension(Eb[0],Eb[1])}1==ma&&rb.WMJSLayer.zoomToLayer();Db.draw("index.html::numlayers=0")}},autoChooseLayer:za})}catch(rb){error("Unable to parse layer nr "+Na)}if(isDefined(Z.baselayers)){va=Z.baselayers.split("$");za=[];for(Na=ua=0;Na<va.length;Na++){La=!1;for(Oa=0;Oa<mapTypeConfiguration.length;Oa++)if(mapTypeConfiguration[Oa].baselayer.name==va[Na]){mapTypeConfiguration[Oa].baselayer.enabled=!0;za.push(mapTypeConfiguration[Oa].baselayer);
La=!0;ua++;break}if(!La)for(Oa=0;Oa<baseLayerConfiguration.length;Oa++)if(baseLayerConfiguration[Oa].name==va[Na]){baseLayerConfiguration[Oa].enabled=!0;za.push(baseLayerConfiguration[Oa]);La=!0;ua++;break}La||error("Warning: unable to find baselayer "+va[Na])}for(Na=0;Na<baseLayerConfiguration.length;Na++)0==baseLayerConfiguration[Na].enabled?za.push(baseLayerConfiguration[Na]):0==ua&&za.push(baseLayerConfiguration[Na]);baseLayers=[];for(Na=0;Na<za.length;Na++)va=new WMJSLayer(za[Na]),0==Na&&(mainWebmapJS.baseLayer=
va),baseLayers.push(va);0<baseLayers.length&&mainWebmapJS.webMapJS.setBaseLayers(baseLayers)}}Z&&Z.autowms&&(autowmsURL=Z.autowms+"",-1===autowmsURL.indexOf("?")&&(autowmsURL+="?"),window.setTimeout(function(){p.setApplication(getFeatureInfoApplications.filter(function(rb){return"AutoWMS"===rb.name})[0]);p.hide();p.show()},100));Z&&Z.wms&&(console.log("wms found",Z.wms),createNewLayerPanel(mainWebmapJS.webMapJS,{service:Z.wms}))};0==window.location.hash.length&&ea(getUrlVars());checkIfHashTagChanged(function(Z,
ma){if(0<=Z.indexOf("addlayer('")){if(ma=Z.substring(Z.indexOf("addlayer('")+10,Z.indexOf("',")),Z=Z.substring(Z.indexOf(",'")+2,Z.indexOf("')")),ma&&Z){for(var za=!1,va=mainWebmapJS.webMapJS.getLayers(),ua=0;ua<va.length;ua++)if(va[ua].service==ma&&va[ua].name==Z){za=!0;break}0==za&&(isDefined(hashLocationNotfiyAddLayer),firstTimeOpening=!0,createNewLayerPanel(mainWebmapJS.webMapJS,{service:ma,name:Z,zoomtolayer:!1,notifyadded:!0}))}}else 0<=Z.indexOf("positionmappinbylatlon(")?(debug(Z),ma=Z.substring(23,
Z.indexOf(")")),debug(ma),ma=ma.split(","),debug(ma[0]+" "+ma[1]),mainWebmapJS.webMapJS.positionMapPinByLatLon({x:parseFloat(ma[0]),y:parseFloat(ma[1])})):0<=Z.indexOf("refreshlayers")?updateLayers():ea(ma)});getFeatureInfoApplications.open&&p.show()});var gfiapp_d3c3=function(e,p){var z=function(ea,Z){$("#"+Z).empty();$("#"+Z).append("<div style='height=240px;border=2px solid blue;' class='chart'>a</div>");$("#"+Z).append("<div style='height=40px;border=2px solid red;' class='controls gfiapp_d3c3_export_to_csv_button'>b</div>");var ma=$("#"+Z).find(".chart");Z=$("#"+Z).find(".controls");ma.html("graph");Z.button({label:"Export to CSV"}).click(function(){console.log("Export to CSV");for(var za="",va=ea.datatoplot,ua=0;ua<va[0].length;ua++){for(var Ba=
0;Ba<va.length;Ba++)0<Ba&&(za+=";"),za+=JSON.stringify(va[Ba][ua]);za+="\n\r"}va=document.createElement("a");va.setAttribute("download","export.csv");va.setAttribute("href",encodeURI("data:text/csv;charset=utf-8,"+za));console.log("Clicking link");document.body.appendChild(va);va.click();va.remove()});c3.generate({bindto:ma.get(0),data:{x:"x",x_format:"%Y%m%d",columns:ea.datatoplot,types:{x:"area"}},axis:{x:{type:"timeseries",tick:{format:ea.timeFormat}},y:{label:ea.ylabel}},zoom:{enabled:!0},subchart:{show:!1}})},
F=function(ea,Z){return ea>Z?1:ea<Z?-1:0},I=function(ea,Z){var ma;for(ma=0;ma<Z.length;ma++)try{if(Z[ma].getTime()===ea.getTime())return ma}catch(za){}return-1},ja=function(ea,Z){var ma=1;"string"!=typeof ea[0].dims&&(ma=ea[0].dims.length);for(var za=[],va=function(La,Oa,hb){var cb=["x"];La=[Oa.name+" "+La];for(var eb in hb){Oa=d3.time.format("%Y-%m-%dT%H:%M:%SZ").parse(eb);var mb=parseFloat(hb[eb]);cb.push(Oa);La.push(mb)}za.push({date:cb,value:La})},ua=function(La,Oa,hb,cb){if(1==ma)va("",Oa,hb);
else if(La+2<ma)for(d in hb)ua(La+1,Oa,hb[d],cb+"["+d+"]");else for(d in hb)va("["+d+"]",Oa,hb[d])},Ba=0;Ba<ea.length;Ba++)ua(0,ea[Ba],ea[Ba].data,"");Ba=function(La){for(var Oa=[],hb=La.length,cb=0;cb<hb;cb++)for(var eb=La[cb].date,mb=1;mb<eb.length;mb++){var rb=eb[mb],Db=I(rb,Oa);-1==Db&&Oa.push(rb)}Oa.sort(F);Oa.unshift("x");eb=[];for(mb=0;mb<hb;mb++)eb.push([]);for(cb=0;cb<hb;cb++)for(eb[cb].push(La[cb].value[0]),mb=1;mb<Oa.length;mb++)Db=I(Oa[mb],La[cb].date),Db==mb?(rb=La[cb].value[Db],"nodata"==
rb&&(rb=NaN),eb[cb].push(parseFloat(rb))):eb[cb].push(NaN);La=[];La.push(Oa);for(cb=0;cb<hb;cb++)La.push(eb[cb]);return La}(za);var Na=ea[0].name;ea[0].units&&(Na+=" in "+ea[0].units);z({datatoplot:Ba,ylabel:Na,timeFormat:"%Y-%m-%d %H:%M"},Z)},N=function(ea,Z){console.log(ea);ea.includes("time=")&&(i=ea.indexOf("time="),mURL0=ea.slice(0,i+5),mURLF=ea.slice(i+5,ea.length),ea=mURL0+"/"+mURLF);$.ajax({type:"GET",url:ea+"&JSONP=?",dataType:"jsonp",cache:!1,success:function(ma){try{ja(ma,Z)}catch(za){$("#"+
Z).html("Sorry! An error occurred while parsing JSON data: ["+za+"]")}},error:function(ma,za,va){$("#"+Z).html("Sorry! An error occurred while receiving JSON data from the server: ["+va+"]");console.log("Error "+va)}})},V=!0,aa=[];aa.set=!1;var ca=function(ea){if(0!=V){aa.x=ea.x;aa.y=ea.y;aa.set=!0;var Z=p.getLatLongFromPixelCoord({x:ea.x,y:ea.y});$("#chart").html('<img src="./img/ajax-loader.gif" alt="Loading..."/>');var ma=p.getLayers();if(isDefined(ma)){Z="timeseries graph for location ["+Math.round(100*
Z.x)/100+","+Math.round(100*Z.y)/100+"]<br/>";$("#chart").empty();for(var za=0;za<ma.length;za++){var va=p.getWMSGetFeatureInfoRequestURL(ma[za],ea.x,ea.y);va=composeUrlObjectFromURL(va);var ua=va.location+"?";for(key in va.kvp){var Ba=va.kvp[key];"info_format"==key&&(Ba="application/json");"time"==key&&(Ba="1000-01-01T00:00:00Z/3000-01-01T00:00:00Z");"dim_member"==key&&(Ba="*");"dim_ensemble_member"==key&&(Ba="*");"dim_percentile"==key&&(Ba="*");ua+=key+"="+URLEncode(Ba)+"&"}$("#chart").append("<div class='chartstyle' id='chart"+
za+"'></div>");$("#chart"+za).html('<img src="./img/ajax-loader.gif" alt="Loading..."/>');N(ua,"chart"+za)}$("#info").html(Z)}else $("#info").html("No valid data received:<br/>"+data)}};p.addListener("mouseclicked",ca,!0);this.enable=function(){e.html('<div id="info"></div><div id="chart" class="gfiapp_d3c3"></div>');$("#info").html("Click on the map to create a timeseries graph.");console.log("init");p.enableInlineGetFeatureInfo(!1);V=!0};this.disable=function(){V=!1;p.enableInlineGetFeatureInfo(!0);
aa.set=!1};this.resize=function(ea,Z){console.log("w="+ea);$("#chart").width(ea);aa.set&&ca(aa)};this.enable()};try{WMJSExtApplications["Time series mode"]=gfiapp_d3c3}catch(e){};(function(e,p){"object"===typeof exports&&"undefined"!==typeof module?p(exports):"function"===typeof define&&define.amd?define(["exports"],p):(e="undefined"!==typeof globalThis?globalThis:e||self,p(e.s3=e.s3||{}))})(this,function(e){function p(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function z(a){function b(g,h,m,l){null==m&&(m=0);null==l&&(l=g.length);for(;m<l;){var n=m+l>>>1;0>f(g[n],h)?m=n+1:l=n}return m}var c=a,f=a;1===a.length&&(c=function(g,h){return a(g)-h},f=F(a));return{left:b,center:function(g,
h,m,l){null==m&&(m=0);null==l&&(l=g.length);l=b(g,h,m,l-1);return l>m&&c(g[l-1],h)>-c(g[l],h)?l-1:l},right:function(g,h,m,l){null==m&&(m=0);null==l&&(l=g.length);for(;m<l;){var n=m+l>>>1;0<f(g[n],h)?l=n:m=n+1}return m}}}function F(a){return function(b,c){return p(a(b),c)}}function I(a){return null===a?NaN:+a}function ja(a,b){var c,f,g,h,m,l;return $jscomp.generator.createGenerator(ja,function(n){switch(n.nextAddress){case 1:if(void 0===b){n.jumpTo(2);break}c=-1;f=$jscomp.makeIterator(a);g=f.next();
case 4:if(g.done){n.jumpTo(0);break}h=g.value;if(!(null!=(h=b(h,++c,a))&&(h=+h)>=h)){n.jumpTo(5);break}return n.yield(h,5);case 5:g=f.next();n.jumpTo(4);break;case 2:m=$jscomp.makeIterator(a),g=m.next();case 9:if(g.done){n.jumpTo(0);break}l=g.value;if(!(null!=l&&(l=+l)>=l)){n.jumpTo(10);break}return n.yield(l,10);case 10:g=m.next(),n.jumpTo(9)}})}function N(a,b){var c=0;if(void 0===b){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(b=+b)>=b&&++c}else{var g=-1,h=
$jscomp.makeIterator(a);for(f=h.next();!f.done;f=h.next())f=f.value,null!=(f=b(f,++g,a))&&(f=+f)>=f&&++c}return c}function V(a){return a.length|0}function aa(a){return!(0<a)}function ca(a){return"object"!==typeof a||"length"in a?a:Array.from(a)}function ea(a){return function(b){return a.apply(null,$jscomp.arrayFromIterable(b))}}function Z(a,b){var c=0,f,g=0,h=0;if(void 0===b)for(a=$jscomp.makeIterator(a),f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(b=+b)>=b&&(f=b-g,g+=f/++c,h+=f*(b-g));else{var m=
-1,l=$jscomp.makeIterator(a);for(f=l.next();!f.done;f=l.next()){var n=f.value;null!=(n=b(n,++m,a))&&(n=+n)>=n&&(f=n-g,g+=f/++c,h+=f*(n-g))}}if(1<c)return h/(c-1)}function ma(a,b){return(a=Z(a,b))?Math.sqrt(a):a}function za(a,b){var c,f;if(void 0===b){a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())b=g.value,null!=b&&(void 0===c?b>=b&&(c=f=b):(c>b&&(c=b),f<b&&(f=b)))}else{var h=-1,m=$jscomp.makeIterator(a);for(g=m.next();!g.done;g=m.next())g=g.value,null!=(g=b(g,++h,a))&&(void 0===
c?g>=g&&(c=f=g):(c>g&&(c=g),f<g&&(f=g)))}return[c,f]}function va(a,b){var c=a._intern;a=a._key;a=a(b);return c.has(a)?c.get(a):b}function ua(a,b){var c=a._intern;a=a._key;a=a(b);if(c.has(a))return c.get(a);c.set(a,b);return b}function Ba(a,b){var c=a._intern;a=a._key;a=a(b);c.has(a)&&(b=c.get(b),c.delete(a));return b}function Na(a){return null!==a&&"object"===typeof a?a.valueOf():a}function La(a){return a}function Oa(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return eb(a,La,
La,c)}function hb(a,b,c){for(var f=[],g=2;g<arguments.length;++g)f[g-2]=arguments[g];return eb(a,La,b,f)}function cb(a){if(1!==a.length)throw Error("duplicate key");return a[0]}function eb(a,b,c,f){return function l(h,m){if(m>=f.length)return c(h);for(var n=new Wc,x=f[m++],C=-1,t=$jscomp.makeIterator(h),u=t.next();!u.done;u=t.next()){u=u.value;var v=x(u,++C,h),y=n.get(v);y?y.push(u):n.set(v,[u])}h=$jscomp.makeIterator(n);for(x=h.next();!x.done;x=h.next())C=$jscomp.makeIterator(x.value),x=C.next().value,
C=C.next().value,n.set(x,l(C,m));return b(n)}(a,0)}function mb(a,b){return Array.from(b,function(c){return a[c]})}function rb(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];var g=c;if("function"!==typeof a[Symbol.iterator])throw new TypeError("values is not iterable");a=Array.from(a);c=$jscomp.makeIterator(g).next().value;var h=void 0===c?p:c;return 1===h.length||1<g.length?(c=Uint32Array.from(a,function(m,l){return l}),1<g.length?(g=g.map(function(m){return a.map(m)}),c.sort(function(m,
l){for(var n=$jscomp.makeIterator(g),x=n.next();!x.done;x=n.next())if(x=x.value,x=p(x[m],x[l]))return x})):(h=a.map(h),c.sort(function(m,l){return p(h[m],h[l])})),mb(a,c)):a.sort(h)}function Db(a){return function(){return a}}function Zb(a,b,c){var f,g=-1,h;b=+b;a=+a;c=+c;if(a===b&&0<c)return[a];if(f=b<a){var m=a;a=b;b=m}if(0===(h=Ob(a,b,c))||!isFinite(h))return[];if(0<h)for(c=Math.round(a/h),m=Math.round(b/h),c*h<a&&++c,m*h>b&&--m,a=Array(m=m-c+1);++g<m;)a[g]=(c+g)*h;else for(h=-h,c=Math.round(a*
h),m=Math.round(b*h),c/h<a&&++c,m/h>b&&--m,a=Array(m=m-c+1);++g<m;)a[g]=(c+g)/h;f&&a.reverse();return a}function Ob(a,b,c){b=(b-a)/Math.max(0,c);a=Math.floor(Math.log(b)/Math.LN10);b/=Math.pow(10,a);return 0<=a?(b>=Fg?10:b>=Gg?5:b>=Hg?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(b>=Fg?10:b>=Gg?5:b>=Hg?2:1)}function Eb(a,b,c){var f=Math.abs(b-a)/Math.max(0,c);c=Math.pow(10,Math.floor(Math.log(f)/Math.LN10));f/=c;f>=Fg?c*=10:f>=Gg?c*=5:f>=Hg&&(c*=2);return b<a?-c:c}function hj(a,b,c){for(var f;;){var g=Ob(a,
b,c);if(g===f||0===g||!isFinite(g))return[a,b];0<g?(a=Math.floor(a/g)*g,b=Math.ceil(b/g)*g):0>g&&(a=Math.ceil(a*g)/g,b=Math.floor(b*g)/g);f=g}}function Ig(a){return Math.ceil(Math.log(N(a))/Math.LN2)+1}function ij(){function a(g){Array.isArray(g)||(g=Array.from(g));var h,m=g.length,l=Array(m);for(h=0;h<m;++h)l[h]=b(g[h],h,g);var n=c(l),x=n[0];n=n[1];var C=f(l,x,n);if(!Array.isArray(C)){h=n;var t=+C;c===za&&(n=$jscomp.makeIterator(hj(x,n,t)),x=n.next().value,n=n.next().value);C=Zb(x,n,t);C[C.length-
1]>=n&&(h>=n&&c===za?(h=Ob(x,n,t),isFinite(h)&&(0<h?n=(Math.floor(n/h)+1)*h:0>h&&(n=(Math.ceil(n*-h)+1)/-h))):C.pop())}for(t=C.length;C[0]<=x;)C.shift(),--t;for(;C[t-1]>n;)C.pop(),--t;var u=Array(t+1);for(h=0;h<=t;++h){var v=u[h]=[];v.x0=0<h?C[h-1]:x;v.x1=h<t?C[h]:n}for(h=0;h<m;++h)v=l[h],x<=v&&v<=n&&u[Jc(C,v,0,t)].push(g[h]);return u}var b=La,c=za,f=Ig;a.value=function(g){return arguments.length?(b="function"===typeof g?g:Db(g),a):b};a.domain=function(g){return arguments.length?(c="function"===typeof g?
g:Db([g[0],g[1]]),a):c};a.thresholds=function(g){return arguments.length?(f="function"===typeof g?g:Array.isArray(g)?Db(lp.call(g)):Db(g),a):f};return a}function Pe(a,b){var c;if(void 0===b){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(c<b||void 0===c&&b>=b)&&(c=b)}else{var g=-1,h=$jscomp.makeIterator(a);for(f=h.next();!f.done;f=h.next())f=f.value,null!=(f=b(f,++g,a))&&(c<f||void 0===c&&f>=f)&&(c=f)}return c}function Qe(a,b){var c;if(void 0===b){a=$jscomp.makeIterator(a);
for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(c>b||void 0===c&&b>=b)&&(c=b)}else{var g=-1,h=$jscomp.makeIterator(a);for(f=h.next();!f.done;f=h.next())f=f.value,null!=(f=b(f,++g,a))&&(c>f||void 0===c&&f>=f)&&(c=f)}return c}function Jg(a,b,c,f,g){c=void 0===c?0:c;f=void 0===f?a.length-1:f;for(g=void 0===g?p:g;f>c;){if(600<f-c){var h=f-c+1,m=b-c+1,l=Math.log(h),n=.5*Math.exp(2*l/3);l=.5*Math.sqrt(l*n*(h-n)/h)*(0>m-h/2?-1:1);Jg(a,b,Math.max(c,Math.floor(b-m*n/h+l)),Math.min(f,Math.floor(b+
(h-m)*n/h+l)),g)}h=a[b];m=c;n=f;$d(a,c,b);for(0<g(a[f],h)&&$d(a,c,f);m<n;){$d(a,m,n);++m;for(--n;0>g(a[m],h);)++m;for(;0<g(a[n],h);)--n}0===g(a[c],h)?$d(a,c,n):(++n,$d(a,n,f));n<=b&&(c=n+1);b<=n&&(f=n-1)}return a}function $d(a,b,c){var f=a[b];a[b]=a[c];a[c]=f}function ae(a,b,c){a=Float64Array.from(ja(a,c));if(c=a.length){if(0>=(b=+b)||2>c)return Qe(a);if(1<=b)return Pe(a);b*=c-1;c=Math.floor(b);var f=Pe(Jg(a,c).subarray(0,c+1));a=Qe(a.subarray(c+1));return f+(a-f)*(b-c)}}function jj(a,b,c){c=void 0===
c?I:c;if(f=a.length){if(0>=(b=+b)||2>f)return+c(a[0],0,a);if(1<=b)return+c(a[f-1],f-1,a);var f;b*=f-1;f=Math.floor(b);var g=+c(a[f],f,a);a=+c(a[f+1],f+1,a);return g+(a-g)*(b-f)}}function kj(a,b){var c=-1,f=-1;if(void 0===b){a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())if(b=g.value,++f,null!=b&&(h<b||void 0===h&&b>=b)){var h=b;c=f}}else{var m=$jscomp.makeIterator(a);for(g=m.next();!g.done;g=m.next())g=g.value,null!=(g=b(g,++f,a))&&(h<g||void 0===h&&g>=g)&&(h=g,c=f)}return c}function lj(a){var b,
c,f;return $jscomp.generator.createGenerator(lj,function(g){1==g.nextAddress&&(b=$jscomp.makeIterator(a),c=b.next());if(3!=g.nextAddress){if(c.done)return g.jumpTo(0);f=c.value;return g.yieldAll(f,3)}c=b.next();return g.jumpTo(2)})}function Kg(a){return Array.from(lj(a))}function mj(a,b){var c=-1,f=-1;if(void 0===b){a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())if(b=g.value,++f,null!=b&&(h>b||void 0===h&&b>=b)){var h=b;c=f}}else{var m=$jscomp.makeIterator(a);for(g=m.next();!g.done;g=
m.next())g=g.value,null!=(g=b(g,++f,a))&&(h>g||void 0===h&&g>=g)&&(h=g,c=f)}return c}function mp(a,b){return[a,b]}function oc(a,b,c){a=+a;b=+b;c=2>(g=arguments.length)?(b=a,a=0,1):3>g?1:+c;for(var f=-1,g=Math.max(0,Math.ceil((b-a)/c))|0,h=Array(g);++f<g;)h[f]=a+f*c;return h}function nj(a,b){b=void 0===b?p:b;if(1===b.length)return mj(a,b);var c=-1,f=-1;a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())if(g=g.value,++f,0>c?0===b(g,g):0>b(g,h)){var h=g;c=f}return c}function oj(a){return function(b,
c,f){c=void 0===c?0:c;f=void 0===f?b.length:f;for(f-=c=+c;f;){var g=a()*f--|0,h=b[f+c];b[f+c]=b[g+c];b[g+c]=h}return b}}function pj(a){if(!(h=a.length))return[];for(var b=-1,c=Qe(a,np),f=Array(c);++b<c;)for(var g=-1,h,m=f[b]=Array(h);++g<h;)m[g]=a[g][b];return f}function np(a){return a.length}function op(a){return a instanceof Set?a:new Set(a)}function qj(a,b){var c=a[Symbol.iterator]();a=new Set;var f={};b=$jscomp.makeIterator(b);for(var g=b.next();!g.done;f={$jscomp$loop$prop$value$267:f.$jscomp$loop$prop$value$267,
$jscomp$loop$prop$done$268:f.$jscomp$loop$prop$done$268},g=b.next())if(g=g.value,!a.has(g))for(f.$jscomp$loop$prop$value$267=void 0,f.$jscomp$loop$prop$done$268=void 0;function(h){return function(){var m=c.next();h.$jscomp$loop$prop$value$267=m.value;h.$jscomp$loop$prop$done$268=m.done;return m}}(f)();){if(f.$jscomp$loop$prop$done$268)return!1;a.add(f.$jscomp$loop$prop$value$267);if(Object.is(g,f.$jscomp$loop$prop$value$267))break}return!0}function pp(a){return a}function qp(a){return"translate("+
a+",0)"}function rp(a){return"translate(0,"+a+")"}function sp(a){return function(b){return+a(b)}}function tp(a,b){b=Math.max(0,a.bandwidth()-2*b)/2;a.round()&&(b=Math.round(b));return function(c){return+a(c)+b}}function up(){return!this.__axis}function Re(a,b){function c(v){var y=null==g?b.ticks?b.ticks.apply(b,f):b.domain():g,q=null==h?b.tickFormat?b.tickFormat.apply(b,f):pp:h,r=Math.max(m,0)+n,w=b.range(),B=+w[0]+x;w=+w[w.length-1]+x;var D=(b.bandwidth?tp:sp)(b.copy(),x),J=v.selection?v.selection():
v,M=J.selectAll(".domain").data([null]);y=J.selectAll(".tick").data(y,b).order();var P=y.exit(),W=y.enter().append("g").attr("class","tick"),fa=y.select("line"),R=y.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));y=y.merge(W);fa=fa.merge(W.append("line").attr("stroke","currentColor").attr(t+"2",C*m));R=R.merge(W.append("text").attr("fill","currentColor").attr(t,C*r).attr("dy",1===a?"0em":3===a?"0.71em":"0.32em"));v!==J&&(M=M.transition(v),
y=y.transition(v),fa=fa.transition(v),R=R.transition(v),P=P.transition(v).attr("opacity",1E-6).attr("transform",function(S){return isFinite(S=D(S))?u(S+x):this.getAttribute("transform")}),W.attr("opacity",1E-6).attr("transform",function(S){var la=this.parentNode.__axis;return u((la&&isFinite(la=la(S))?la:D(S))+x)}));P.remove();M.attr("d",4===a||2===a?l?"M"+C*l+","+B+"H"+x+"V"+w+"H"+C*l:"M"+x+","+B+"V"+w:l?"M"+B+","+C*l+"V"+x+"H"+w+"V"+C*l:"M"+B+","+x+"H"+w);y.attr("opacity",1).attr("transform",function(S){return u(D(S)+
x)});fa.attr(t+"2",C*m);R.attr(t,C*r).text(q);J.filter(up).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===a?"start":4===a?"end":"middle");J.each(function(){this.__axis=D})}var f=[],g=null,h=null,m=6,l=6,n=3,x="undefined"!==typeof window&&1<window.devicePixelRatio?0:.5,C=1===a||4===a?-1:1,t=4===a||2===a?"x":"y",u=1===a||3===a?qp:rp;c.scale=function(v){return arguments.length?(b=v,c):b};c.ticks=function(){return f=Lg.call(arguments),c};c.tickArguments=
function(v){return arguments.length?(f=null==v?[]:Lg.call(v),c):f.slice()};c.tickValues=function(v){return arguments.length?(g=null==v?null:Lg.call(v),c):g&&g.slice()};c.tickFormat=function(v){return arguments.length?(h=v,c):h};c.tickSize=function(v){return arguments.length?(m=l=+v,c):m};c.tickSizeInner=function(v){return arguments.length?(m=+v,c):m};c.tickSizeOuter=function(v){return arguments.length?(l=+v,c):l};c.tickPadding=function(v){return arguments.length?(n=+v,c):n};c.offset=function(v){return arguments.length?
(x=+v,c):x};return c}function Xc(){for(var a=0,b=arguments.length,c={},f;a<b;++a){if(!(f=arguments[a]+"")||f in c||/[\s.]/.test(f))throw Error("illegal type: "+f);c[f]=[]}return new Se(c)}function Se(a){this._=a}function vp(a,b){return a.trim().split(/^|\s+/).map(function(c){var f="",g=c.indexOf(".");0<=g&&(f=c.slice(g+1),c=c.slice(0,g));if(c&&!b.hasOwnProperty(c))throw Error("unknown type: "+c);return{type:c,name:f}})}function rj(a,b,c){for(var f=0,g=a.length;f<g;++f)if(a[f].name===b){a[f]=wp;a=
a.slice(0,f).concat(a.slice(f+1));break}null!=c&&a.push({name:b,value:c});return a}function be(a){var b=a+="",c=b.indexOf(":");0<=c&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1));return Mg.hasOwnProperty(b)?{space:Mg[b],local:a}:a}function xp(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===c&&"http://www.w3.org/1999/xhtml"===b.documentElement.namespaceURI?b.createElement(a):b.createElementNS(c,a)}}function yp(a){return function(){return this.ownerDocument.createElementNS(a.space,
a.local)}}function Te(a){a=be(a);return(a.local?yp:xp)(a)}function zp(){}function Ue(a){return null==a?zp:function(){return this.querySelector(a)}}function Ng(a){return"object"===typeof a&&"length"in a?a:Array.from(a)}function Ap(){return[]}function Og(a){return null==a?Ap:function(){return this.querySelectorAll(a)}}function Bp(a){return function(){var b=a.apply(this,arguments);return null==b?[]:Ng(b)}}function Pg(a){return function(){return this.matches(a)}}function sj(a){return function(b){return b.matches(a)}}
function Cp(a){return function(){return Dp.call(this.children,a)}}function Ep(){return this.firstElementChild}function Fp(){return this.children}function Gp(a){return function(){return Hp.call(this.children,a)}}function tj(a){return Array(a.length)}function Ve(a,b){this.ownerDocument=a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=b}function Ip(a){return function(){return a}}function Jp(a,b,c,f,g,h){for(var m=0,l,n=b.length,x=h.length;m<x;++m)(l=b[m])?
(l.__data__=h[m],f[m]=l):c[m]=new Ve(a,h[m]);for(;m<n;++m)if(l=b[m])g[m]=l}function Kp(a,b,c,f,g,h,m){var l,n,x=new Map,C=b.length,t=h.length,u=Array(C),v;for(l=0;l<C;++l)if(n=b[l])u[l]=v=m.call(n,n.__data__,l,b)+"",x.has(v)?g[l]=n:x.set(v,n);for(l=0;l<t;++l)v=m.call(a,h[l],l,h)+"",(n=x.get(v))?(f[l]=n,n.__data__=h[l],x.delete(v)):c[l]=new Ve(a,h[l]);for(l=0;l<C;++l)(n=b[l])&&x.get(u[l])===n&&(g[l]=n)}function Lp(a){return a.__data__}function Mp(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function Np(a){return function(){this.removeAttribute(a)}}
function Op(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Pp(a,b){return function(){this.setAttribute(a,b)}}function Qp(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function Rp(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function Sp(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function Qg(a){return a.ownerDocument&&
a.ownerDocument.defaultView||a.document&&a||a.defaultView}function Tp(a){return function(){this.style.removeProperty(a)}}function Up(a,b,c){return function(){this.style.setProperty(a,b,c)}}function Vp(a,b,c){return function(){var f=b.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,f,c)}}function Yc(a,b){return a.style.getPropertyValue(b)||Qg(a).getComputedStyle(a,null).getPropertyValue(b)}function Wp(a){return function(){delete this[a]}}function Xp(a,b){return function(){this[a]=
b}}function Yp(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function Rg(a){return a.classList||new uj(a)}function uj(a){this._node=a;this._names=(a.getAttribute("class")||"").trim().split(/^|\s+/)}function vj(a,b){a=Rg(a);for(var c=-1,f=b.length;++c<f;)a.add(b[c])}function wj(a,b){a=Rg(a);for(var c=-1,f=b.length;++c<f;)a.remove(b[c])}function Zp(a){return function(){vj(this,a)}}function $p(a){return function(){wj(this,a)}}function aq(a,b){return function(){(b.apply(this,
arguments)?vj:wj)(this,a)}}function bq(){this.textContent=""}function cq(a){return function(){this.textContent=a}}function dq(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function eq(){this.innerHTML=""}function fq(a){return function(){this.innerHTML=a}}function gq(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function hq(){this.nextSibling&&this.parentNode.appendChild(this)}function iq(){this.previousSibling&&this.parentNode.insertBefore(this,
this.parentNode.firstChild)}function jq(){return null}function kq(){var a=this.parentNode;a&&a.removeChild(this)}function lq(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function mq(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function nq(a){return function(b){a.call(this,b,this.__data__)}}function oq(a){return a.trim().split(/^|\s+/).map(function(b){var c="",f=b.indexOf(".");0<=f&&(c=b.slice(f+1),b=b.slice(0,
f));return{type:b,name:c}})}function pq(a){return function(){var b=this.__on;if(b){for(var c=0,f=-1,g=b.length,h;c<g;++c)(h=b[c],a.type&&h.type!==a.type||h.name!==a.name)?b[++f]=h:this.removeEventListener(h.type,h.listener,h.options);++f?b.length=f:delete this.__on}}}function qq(a,b,c){return function(){var f=this.__on,g,h=nq(b);if(f)for(var m=0,l=f.length;m<l;++m)if((g=f[m]).type===a.type&&g.name===a.name){this.removeEventListener(g.type,g.listener,g.options);this.addEventListener(g.type,g.listener=
h,g.options=c);g.value=b;return}this.addEventListener(a.type,h,c);g={type:a.type,name:a.name,value:b,listener:h,options:c};f?f.push(g):this.__on=[g]}}function xj(a,b,c){var f=Qg(a),g=f.CustomEvent;"function"===typeof g?g=new g(b,c):(g=f.document.createEvent("Event"),c?(g.initEvent(b,c.bubbles,c.cancelable),g.detail=c.detail):g.initEvent(b,!1,!1));a.dispatchEvent(g)}function rq(a,b){return function(){return xj(this,a,b)}}function sq(a,b){return function(){return xj(this,a,b.apply(this,arguments))}}
function yj(){var a=this,b,c,f,g,h,m,l;return $jscomp.generator.createGenerator(yj,function(n){switch(n.nextAddress){case 1:b=a._groups,c=0,f=b.length;case 2:if(!(c<f)){n.jumpTo(0);break}g=b[c];h=0;m=g.length;case 5:if(!(h<m)){++c;n.jumpTo(2);break}if(!(l=g[h])){n.jumpTo(6);break}return n.yield(l,6);case 6:++h,n.jumpTo(5)}})}function Hb(a,b){this._groups=a;this._parents=b}function Zc(){return new Hb([[document.documentElement]],Sg)}function Ib(a){return"string"===typeof a?new Hb([[document.querySelector(a)]],
[document.documentElement]):new Hb([[a]],Sg)}function zj(){return new Tg}function Tg(){this._="@"+(++tq).toString(36)}function Aj(a){for(var b;b=a.sourceEvent;)a=b;return a}function $b(a,b){a=Aj(a);void 0===b&&(b=a.currentTarget);if(b){var c=b.ownerSVGElement||b;if(c.createSVGPoint)return c=c.createSVGPoint(),c.x=a.clientX,c.y=a.clientY,c=c.matrixTransform(b.getScreenCTM().inverse()),[c.x,c.y];if(b.getBoundingClientRect)return c=b.getBoundingClientRect(),[a.clientX-c.left-b.clientLeft,a.clientY-c.top-
b.clientTop]}return[a.pageX,a.pageY]}function rd(a){a.preventDefault();a.stopImmediatePropagation()}function We(a){var b=a.document.documentElement;a=Ib(a).on("dragstart.drag",rd,!0);if("onselectstart"in b)a.on("selectstart.drag",rd,!0);else b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none"}function Xe(a,b){var c=a.document.documentElement,f=Ib(a).on("dragstart.drag",null);b&&(f.on("click.drag",rd,!0),setTimeout(function(){f.on("click.drag",null)},0));if("onselectstart"in c)f.on("selectstart.drag",
null);else c.style.MozUserSelect=c.__noselect,delete c.__noselect}function Ug(a,b){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b.sourceEvent,enumerable:!0,configurable:!0},subject:{value:b.subject,enumerable:!0,configurable:!0},target:{value:b.target,enumerable:!0,configurable:!0},identifier:{value:b.identifier,enumerable:!0,configurable:!0},active:{value:b.active,enumerable:!0,configurable:!0},x:{value:b.x,enumerable:!0,configurable:!0},y:{value:b.y,
enumerable:!0,configurable:!0},dx:{value:b.dx,enumerable:!0,configurable:!0},dy:{value:b.dy,enumerable:!0,configurable:!0},_:{value:b.dispatch}})}function uq(a){return!a.ctrlKey&&!a.button}function vq(){return this.parentNode}function wq(a,b){return null==b?{x:a.x,y:a.y}:b}function xq(){return navigator.maxTouchPoints||"ontouchstart"in this}function sd(a,b,c){a.prototype=b.prototype=c;c.constructor=a}function ce(a,b){a=Object.create(a.prototype);for(var c in b)a[c]=b[c];return a}function Kc(){}function Bj(){return this.rgb().formatHex()}
function Cj(){return this.rgb().formatRgb()}function Lc(a){var b,c;a=(a+"").trim().toLowerCase();return(b=yq.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?Dj(b):3===c?new Fb(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1):8===c?Ye(b>>24&255,b>>16&255,b>>8&255,(b&255)/255):4===c?Ye(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|b&240,((b&15)<<4|b&15)/255):null):(b=zq.exec(a))?new Fb(b[1],b[2],b[3],1):(b=Aq.exec(a))?new Fb(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=Bq.exec(a))?Ye(b[1],b[2],b[3],
b[4]):(b=Cq.exec(a))?Ye(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=Dq.exec(a))?Ej(b[1],b[2]/100,b[3]/100,1):(b=Eq.exec(a))?Ej(b[1],b[2]/100,b[3]/100,b[4]):Fj.hasOwnProperty(a)?Dj(Fj[a]):"transparent"===a?new Fb(NaN,NaN,NaN,0):null}function Dj(a){return new Fb(a>>16&255,a>>8&255,a&255,1)}function Ye(a,b,c,f){0>=f&&(a=b=c=NaN);return new Fb(a,b,c,f)}function Vg(a){a instanceof Kc||(a=Lc(a));if(!a)return new Fb;a=a.rgb();return new Fb(a.r,a.g,a.b,a.opacity)}function td(a,b,c,f){return 1===arguments.length?
Vg(a):new Fb(a,b,c,null==f?1:f)}function Fb(a,b,c,f){this.r=+a;this.g=+b;this.b=+c;this.opacity=+f}function Gj(){return"#"+Wg(this.r)+Wg(this.g)+Wg(this.b)}function Hj(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function Wg(a){a=Math.max(0,Math.min(255,Math.round(a)||0));return(16>
a?"0":"")+a.toString(16)}function Ej(a,b,c,f){0>=f?a=b=c=NaN:0>=c||1<=c?a=b=NaN:0>=b&&(a=NaN);return new pc(a,b,c,f)}function Ij(a){if(a instanceof pc)return new pc(a.h,a.s,a.l,a.opacity);a instanceof Kc||(a=Lc(a));if(!a)return new pc;if(a instanceof pc)return a;a=a.rgb();var b=a.r/255,c=a.g/255,f=a.b/255,g=Math.min(b,c,f),h=Math.max(b,c,f),m=NaN,l=h-g,n=(h+g)/2;l?(m=b===h?(c-f)/l+6*(c<f):c===h?(f-b)/l+2:(b-c)/l+4,l/=.5>n?h+g:2-h-g,m*=60):l=0<n&&1>n?0:m;return new pc(m,l,n,a.opacity)}function Ze(a,
b,c,f){return 1===arguments.length?Ij(a):new pc(a,b,c,null==f?1:f)}function pc(a,b,c,f){this.h=+a;this.s=+b;this.l=+c;this.opacity=+f}function Xg(a,b,c){return 255*(60>a?b+(c-b)*a/60:180>a?c:240>a?b+(c-b)*(240-a)/60:b)}function Jj(a){if(a instanceof jc)return new jc(a.l,a.a,a.b,a.opacity);if(a instanceof qc)return Kj(a);a instanceof Fb||(a=Vg(a));var b=Yg(a.r),c=Yg(a.g),f=Yg(a.b),g=Zg(.2225045*b+.7168786*c+.0606169*f);if(b===c&&c===f)var h=b=g;else h=Zg((.4360747*b+.3850649*c+.1430804*f)/.96422),
b=Zg((.0139322*b+.0971045*c+.7141733*f)/.82521);return new jc(116*g-16,500*(h-g),200*(g-b),a.opacity)}function $e(a,b,c,f){return 1===arguments.length?Jj(a):new jc(a,b,c,null==f?1:f)}function jc(a,b,c,f){this.l=+a;this.a=+b;this.b=+c;this.opacity=+f}function Zg(a){return a>Fq?Math.pow(a,1/3):a/Lj+Mj}function $g(a){return a>ud?a*a*a:Lj*(a-Mj)}function ah(a){return 255*(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function Yg(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Nj(a){if(a instanceof
qc)return new qc(a.h,a.c,a.l,a.opacity);a instanceof jc||(a=Jj(a));if(0===a.a&&0===a.b)return new qc(NaN,0<a.l&&100>a.l?0:NaN,a.l,a.opacity);var b=Math.atan2(a.b,a.a)*Oj;return new qc(0>b?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function af(a,b,c,f){return 1===arguments.length?Nj(a):new qc(a,b,c,null==f?1:f)}function qc(a,b,c,f){this.h=+a;this.c=+b;this.l=+c;this.opacity=+f}function Kj(a){if(isNaN(a.h))return new jc(a.l,0,0,a.opacity);var b=a.h*Pj;return new jc(a.l,Math.cos(b)*a.c,Math.sin(b)*
a.c,a.opacity)}function kc(a,b,c,f){if(1===arguments.length){var g=a;if(g instanceof $c)g=new $c(g.h,g.s,g.l,g.opacity);else{g instanceof Fb||(g=Vg(g));var h=g.g/255,m=g.b/255,l=(Qj*m+g.r/255*-1.7884503806-3.5172982438*h)/(Qj+-1.7884503806-3.5172982438);m-=l;var n=(1.97294*(h-l)- -.29227*m)/-.90649;m=(h=Math.sqrt(n*n+m*m)/(1.97294*l*(1-l)))?Math.atan2(n,m)*Oj-120:NaN;g=new $c(0>m?m+360:m,h,l,g.opacity)}}else g=new $c(a,b,c,null==f?1:f);return g}function $c(a,b,c,f){this.h=+a;this.s=+b;this.l=+c;this.opacity=
+f}function Rj(a,b,c,f,g){var h=a*a,m=h*a;return((1-3*a+3*h-m)*b+(4-6*h+3*m)*c+(1+3*a+3*h-3*m)*f+m*g)/6}function Sj(a){var b=a.length-1;return function(c){var f=0>=c?c=0:1<=c?(c=1,b-1):Math.floor(c*b),g=a[f],h=a[f+1];return Rj((c-f/b)*b,0<f?a[f-1]:2*g-h,g,h,f<b-1?a[f+2]:2*h-g)}}function Tj(a){var b=a.length;return function(c){var f=Math.floor((0>(c%=1)?++c:c)*b);return Rj((c-f/b)*b,a[(f+b-1)%b],a[f%b],a[(f+1)%b],a[(f+2)%b])}}function Uj(a,b){return function(c){return a+c*b}}function Gq(a,b,c){return a=
Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(f){return Math.pow(a+f*b,c)}}function bf(a,b){var c=b-a;return c?Uj(a,180<c||-180>c?c-360*Math.round(c/360):c):cf(isNaN(a)?b:a)}function Hq(a){return 1===(a=+a)?Ab:function(b,c){return c-b?Gq(b,c,a):cf(isNaN(b)?c:b)}}function Ab(a,b){var c=b-a;return c?Uj(a,c):cf(isNaN(a)?b:a)}function Vj(a){return function(b){var c=b.length,f=Array(c),g=Array(c),h=Array(c),m;for(m=0;m<c;++m){var l=td(b[m]);f[m]=l.r||0;g[m]=l.g||0;h[m]=l.b||0}f=a(f);g=a(g);h=a(h);l.opacity=
1;return function(n){l.r=f(n);l.g=g(n);l.b=h(n);return l+""}}}function bh(a,b){b||(b=[]);var c=a?Math.min(b.length,a.length):0,f=b.slice(),g;return function(h){for(g=0;g<c;++g)f[g]=a[g]*(1-h)+b[g]*h;return f}}function Wj(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Xj(a,b){var c=b?b.length:0,f=a?Math.min(c,a.length):0,g=Array(f),h=Array(c),m;for(m=0;m<f;++m)g[m]=Mc(a[m],b[m]);for(;m<c;++m)h[m]=b[m];return function(l){for(m=0;m<f;++m)h[m]=g[m](l);return h}}function Yj(a,b){var c=
new Date;return a=+a,b=+b,function(f){return c.setTime(a*(1-f)+b*f),c}}function dc(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function Zj(a,b){var c={},f={},g;if(null===a||"object"!==typeof a)a={};if(null===b||"object"!==typeof b)b={};for(g in b)g in a?c[g]=Mc(a[g],b[g]):f[g]=b[g];return function(h){for(g in c)f[g]=c[g](h);return f}}function Iq(a){return function(){return a}}function Jq(a){return function(b){return a(b)+""}}function ch(a,b){var c=dh.lastIndex=eh.lastIndex=0,f,g,h,m=-1,
l=[],n=[];a+="";for(b+="";(f=dh.exec(a))&&(g=eh.exec(b));)(h=g.index)>c&&(h=b.slice(c,h),l[m]?l[m]+=h:l[++m]=h),(f=f[0])===(g=g[0])?l[m]?l[m]+=g:l[++m]=g:(l[++m]=null,n.push({i:m,x:dc(f,g)})),c=eh.lastIndex;c<b.length&&(h=b.slice(c),l[m]?l[m]+=h:l[++m]=h);return 2>l.length?n[0]?Jq(n[0].x):Iq(b):(b=n.length,function(x){for(var C=0,t;C<b;++C)l[(t=n[C]).i]=t.x(x);return l.join("")})}function Mc(a,b){var c=typeof b,f;return null==b||"boolean"===c?cf(b):("number"===c?dc:"string"===c?(f=Lc(b))?(b=f,de):
ch:b instanceof Lc?de:b instanceof Date?Yj:Wj(b)?bh:Array.isArray(b)?Xj:"function"!==typeof b.valueOf&&"function"!==typeof b.toString||isNaN(b)?Zj:dc)(a,b)}function df(a,b){return a=+a,b=+b,function(c){return Math.round(a*(1-c)+b*c)}}function ak(a,b,c,f,g,h){var m,l,n;if(m=Math.sqrt(a*a+b*b))a/=m,b/=m;if(n=a*c+b*f)c-=a*n,f-=b*n;if(l=Math.sqrt(c*c+f*f))c/=l,f/=l,n/=l;a*f<b*c&&(a=-a,b=-b,n=-n,m=-m);return{translateX:g,translateY:h,rotate:Math.atan2(b,a)*bk,skewX:Math.atan(n)*bk,scaleX:m,scaleY:l}}function ck(a,
b,c,f){function g(x){return x.length?x.pop()+" ":""}function h(x,C,t,u,v,y){x!==t||C!==u?(v=v.push("translate(",null,b,null,c),y.push({i:v-4,x:dc(x,t)},{i:v-2,x:dc(C,u)})):(t||u)&&v.push("translate("+t+b+u+c)}function m(x,C,t,u){x!==C?(180<x-C?C+=360:180<C-x&&(x+=360),u.push({i:t.push(g(t)+"rotate(",null,f)-2,x:dc(x,C)})):C&&t.push(g(t)+"rotate("+C+f)}function l(x,C,t,u){x!==C?u.push({i:t.push(g(t)+"skewX(",null,f)-2,x:dc(x,C)}):C&&t.push(g(t)+"skewX("+C+f)}function n(x,C,t,u,v,y){x!==t||C!==u?(v=
v.push(g(v)+"scale(",null,",",null,")"),y.push({i:v-4,x:dc(x,t)},{i:v-2,x:dc(C,u)})):1===t&&1===u||v.push(g(v)+"scale("+t+","+u+")")}return function(x,C){var t=[],u=[];x=a(x);C=a(C);h(x.translateX,x.translateY,C.translateX,C.translateY,t,u);m(x.rotate,C.rotate,t,u);l(x.skewX,C.skewX,t,u);n(x.scaleX,x.scaleY,C.scaleX,C.scaleY,t,u);x=C=null;return function(v){for(var y=-1,q=u.length,r;++y<q;)t[(r=u[y]).i]=r.x(v);return t.join("")}}}function dk(a){return((a=Math.exp(a))+1/a)/2}function ek(a){return function(b,
c){var f=a((b=Ze(b)).h,(c=Ze(c)).h),g=Ab(b.s,c.s),h=Ab(b.l,c.l),m=Ab(b.opacity,c.opacity);return function(l){b.h=f(l);b.s=g(l);b.l=h(l);b.opacity=m(l);return b+""}}}function fk(a){return function(b,c){var f=a((b=af(b)).h,(c=af(c)).h),g=Ab(b.c,c.c),h=Ab(b.l,c.l),m=Ab(b.opacity,c.opacity);return function(l){b.h=f(l);b.c=g(l);b.l=h(l);b.opacity=m(l);return b+""}}}function gk(a){return function f(c){function g(h,m){var l=a((h=kc(h)).h,(m=kc(m)).h),n=Ab(h.s,m.s),x=Ab(h.l,m.l),C=Ab(h.opacity,m.opacity);
return function(t){h.h=l(t);h.s=n(t);h.l=x(Math.pow(t,c));h.opacity=C(t);return h+""}}c=+c;g.gamma=f;return g}(1)}function hk(a,b){void 0===b&&(b=a,a=Mc);for(var c=0,f=b.length-1,g=b[0],h=Array(0>f?0:f);c<f;)h[c]=a(g,g=b[++c]);return function(m){var l=Math.max(0,Math.min(f-1,Math.floor(m*=f)));return h[l](m-l)}}function ee(){return ad||(ik(Kq),ad=fe.now()+ef)}function Kq(){ad=0}function ge(){this._call=this._time=this._next=null}function ff(a,b,c){var f=new ge;f.restart(a,b,c);return f}function jk(){ee();
++vd;for(var a=gf,b;a;)0<=(b=ad-a._time)&&a._call.call(null,b),a=a._next;--vd}function kk(){ad=(hf=fe.now())+ef;vd=he=0;try{jk()}finally{vd=0;for(var a,b=gf,c,f=Infinity;b;)b._call?(f>b._time&&(f=b._time),a=b,b=b._next):(c=b._next,b._next=null,b=a?a._next=c:gf=c);ie=a;fh(f);ad=0}}function Lq(){var a=fe.now(),b=a-hf;1E3<b&&(ef-=b,hf=a)}function fh(a){vd||(he&&(he=clearTimeout(he)),24<a-ad?(Infinity>a&&(he=setTimeout(kk,a-fe.now()-ef)),je&&(je=clearInterval(je))):(je||(hf=fe.now(),je=setInterval(Lq,
1E3)),vd=1,ik(kk)))}function gh(a,b,c){var f=new ge;b=null==b?0:+b;f.restart(function(g){f.stop();a(g+b)},b,c);return f}function jf(a,b,c,f,g,h){var m=a.__transition;if(!m)a.__transition={};else if(c in m)return;Mq(a,c,{name:b,index:f,group:g,on:Nq,tween:Oq,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:0})}function hh(a,b){a=lc(a,b);if(0<a.state)throw Error("too late; already scheduled");return a}function rc(a,b){a=lc(a,b);if(3<a.state)throw Error("too late; already running");
return a}function lc(a,b){a=a.__transition;if(!a||!(a=a[b]))throw Error("transition not found");return a}function Mq(a,b,c){function f(n){var x,C;if(1!==c.state)return h();for(u in m){var t=m[u];if(t.name===c.name){if(3===t.state)return gh(f);4===t.state?(t.state=6,t.timer.stop(),t.on.call("interrupt",a,a.__data__,t.index,t.group),delete m[u]):+u<b&&(t.state=6,t.timer.stop(),t.on.call("cancel",a,a.__data__,t.index,t.group),delete m[u])}}gh(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,
c.time),g(n))});c.state=2;c.on.call("start",a,a.__data__,c.index,c.group);if(2===c.state){c.state=3;l=Array(C=c.tween.length);var u=0;for(x=-1;u<C;++u)if(t=c.tween[u].value.call(a,a.__data__,c.index,c.group))l[++x]=t;l.length=x+1}}function g(n){n=n<c.duration?c.ease.call(null,n/c.duration):(c.timer.restart(h),c.state=5,1);for(var x=-1,C=l.length;++x<C;)l[x].call(a,n);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),h())}function h(){c.state=6;c.timer.stop();delete m[b];for(var n in m)return;
delete a.__transition}var m=a.__transition,l;m[b]=c;c.timer=ff(function(n){c.state=1;c.timer.restart(f,c.delay,c.time);c.delay<=n&&f(n-c.delay)},0,c.time)}function bd(a,b){var c=a.__transition,f,g=!0,h;if(c){b=null==b?null:b+"";for(h in c)if((f=c[h]).name!==b)g=!1;else{var m=2<f.state&&5>f.state;f.state=6;f.timer.stop();f.on.call(m?"interrupt":"cancel",a,a.__data__,f.index,f.group);delete c[h]}g&&delete a.__transition}}function Pq(a,b){var c,f;return function(){var g=rc(this,a),h=g.tween;if(h!==c){f=
c=h;h=0;for(var m=f.length;h<m;++h)if(f[h].name===b){f=f.slice();f.splice(h,1);break}}g.tween=f}}function Qq(a,b,c){var f,g;if("function"!==typeof c)throw Error();return function(){var h=rc(this,a),m=h.tween;if(m!==f){g=(f=m).slice();m={name:b,value:c};for(var l=0,n=g.length;l<n;++l)if(g[l].name===b){g[l]=m;break}l===n&&g.push(m)}h.tween=g}}function ih(a,b,c){var f=a._id;a.each(function(){var g=rc(this,f);(g.value||(g.value={}))[b]=c.apply(this,arguments)});return function(g){return lc(g,f).value[b]}}
function lk(a,b){var c;return("number"===typeof b?dc:b instanceof Lc?de:(c=Lc(b))?(b=c,de):ch)(a,b)}function Rq(a){return function(){this.removeAttribute(a)}}function Sq(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Tq(a,b,c){var f,g=c+"",h;return function(){var m=this.getAttribute(a);return m===g?null:m===f?h:h=b(f=m,c)}}function Uq(a,b,c){var f,g=c+"",h;return function(){var m=this.getAttributeNS(a.space,a.local);return m===g?null:m===f?h:h=b(f=m,c)}}function Vq(a,b,c){var f,
g,h;return function(){var m=c(this);if(null==m)return void this.removeAttribute(a);var l=this.getAttribute(a);var n=m+"";return l===n?null:l===f&&n===g?h:(g=n,h=b(f=l,m))}}function Wq(a,b,c){var f,g,h;return function(){var m=c(this);if(null==m)return void this.removeAttributeNS(a.space,a.local);var l=this.getAttributeNS(a.space,a.local);var n=m+"";return l===n?null:l===f&&n===g?h:(g=n,h=b(f=l,m))}}function Xq(a,b){return function(c){this.setAttribute(a,b.call(this,c))}}function Yq(a,b){return function(c){this.setAttributeNS(a.space,
a.local,b.call(this,c))}}function Zq(a,b){function c(){var h=b.apply(this,arguments);h!==g&&(f=(g=h)&&Yq(a,h));return f}var f,g;c._value=b;return c}function $q(a,b){function c(){var h=b.apply(this,arguments);h!==g&&(f=(g=h)&&Xq(a,h));return f}var f,g;c._value=b;return c}function ar(a,b){return function(){hh(this,a).delay=+b.apply(this,arguments)}}function br(a,b){return b=+b,function(){hh(this,a).delay=b}}function cr(a,b){return function(){rc(this,a).duration=+b.apply(this,arguments)}}function dr(a,
b){return b=+b,function(){rc(this,a).duration=b}}function er(a,b){if("function"!==typeof b)throw Error();return function(){rc(this,a).ease=b}}function fr(a,b){return function(){var c=b.apply(this,arguments);if("function"!==typeof c)throw Error();rc(this,a).ease=c}}function gr(a){return(a+"").trim().split(/^|\s+/).every(function(b){var c=b.indexOf(".");0<=c&&(b=b.slice(0,c));return!b||"start"===b})}function hr(a,b,c){var f,g,h=gr(b)?hh:rc;return function(){var m=h(this,a),l=m.on;if(l!==f)(g=(f=l).copy()).on(b,
c);m.on=g}}function ir(a){return function(){var b=this.parentNode,c;for(c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}}function jr(a,b){var c,f,g;return function(){var h=Yc(this,a),m=(this.style.removeProperty(a),Yc(this,a));return h===m?null:h===c&&m===f?g:g=b(c=h,f=m)}}function mk(a){return function(){this.style.removeProperty(a)}}function kr(a,b,c){var f,g=c+"",h;return function(){var m=Yc(this,a);return m===g?null:m===f?h:h=b(f=m,c)}}function lr(a,b,c){var f,g,h;return function(){var m=
Yc(this,a),l=c(this),n=l+"";null==l&&(n=l=(this.style.removeProperty(a),Yc(this,a)));return m===n?null:m===f&&n===g?h:(g=n,h=b(f=m,l))}}function mr(a,b){var c,f,g,h="style."+b,m="end."+h,l;return function(){var n=rc(this,a),x=n.on,C=null==n.value[h]?l||(l=mk(b)):void 0;if(x!==c||g!==C)(f=(c=x).copy()).on(m,g=C);n.on=f}}function nr(a,b,c){return function(f){this.style.setProperty(a,b.call(this,f),c)}}function or(a,b,c){function f(){var m=b.apply(this,arguments);m!==h&&(g=(h=m)&&nr(a,m,c));return g}
var g,h;f._value=b;return f}function pr(a){return function(){this.textContent=a}}function qr(a){return function(){var b=a(this);this.textContent=null==b?"":b}}function rr(a){return function(b){this.textContent=a.call(this,b)}}function sr(a){function b(){var g=a.apply(this,arguments);g!==f&&(c=(f=g)&&rr(g));return c}var c,f;b._value=a;return b}function sc(a,b,c,f){this._groups=a;this._parents=b;this._name=c;this._id=f}function nk(a){return Zc().transition(a)}function ok(a){return(1>=(a*=2)?a*a:--a*
(2-a)+1)/2}function jh(a){return(1>=(a*=2)?a*a*a:(a-=2)*a*a+2)/2}function pk(a){return(1-Math.cos(qk*a))/2}function Nc(a){return 1.0009775171065494*(Math.pow(2,-10*a)-9.765625E-4)}function rk(a){return(1>=(a*=2)?Nc(1-a):2-Nc(a-1))/2}function sk(a){return(1>=(a*=2)?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}function ke(a){return(a=+a)<kh?kf*a*a:a<tr?kf*(a-=ur)*a+.75:a<vr?kf*(a-=wr)*a+.9375:kf*(a-=xr)*a+.984375}function yr(a,b){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},
sourceEvent:{value:b.sourceEvent,enumerable:!0,configurable:!0},target:{value:b.target,enumerable:!0,configurable:!0},selection:{value:b.selection,enumerable:!0,configurable:!0},mode:{value:b.mode,enumerable:!0,configurable:!0},_:{value:b.dispatch}})}function tk(a){return[+a[0],+a[1]]}function lh(a){return[tk(a[0]),tk(a[1])]}function le(a){return{type:a}}function zr(a){return!a.ctrlKey&&!a.button}function Ar(){var a=this.ownerSVGElement||this;return a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,
[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function Br(){return navigator.maxTouchPoints||"ontouchstart"in this}function mh(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function nh(a){function b(r){var w=r.property("__brush",n).selectAll(".overlay").data([le("overlay")]);w.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ac.overlay).merge(w).each(function(){var B=mh(this).extent;Ib(this).attr("x",
B[0][0]).attr("y",B[0][1]).attr("width",B[1][0]-B[0][0]).attr("height",B[1][1]-B[0][1])});r.selectAll(".selection").data([le("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ac.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");w=r.selectAll(".handle").data(a.handles,function(B){return B.type});w.exit().remove();w.enter().append("rect").attr("class",function(B){return"handle handle--"+B.type}).attr("cursor",
function(B){return Ac[B.type]});r.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(t).on("touchstart.brush",h).on("touchmove.brush",m).on("touchend.brush touchcancel.brush",l).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var r=Ib(this),w=mh(this).selection;w?(r.selectAll(".selection").style("display",null).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1]),r.selectAll(".handle").style("display",
null).attr("x",function(B){return"e"===B.type[B.type.length-1]?w[1][0]-y/2:w[0][0]-y/2}).attr("y",function(B){return"s"===B.type[0]?w[1][1]-y/2:w[0][1]-y/2}).attr("width",function(B){return"n"===B.type||"s"===B.type?w[1][0]-w[0][0]+y:y}).attr("height",function(B){return"e"===B.type||"w"===B.type?w[1][1]-w[0][1]+y:y})):r.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(r,w,B){var D=r.__brush.emitter;return!D||B&&
D.clean?new g(r,w,B):D}function g(r,w,B){this.that=r;this.args=w;this.state=r.__brush;this.active=0;this.clean=B}function h(r){function w(O){for(var X=$jscomp.makeIterator(O.changedTouches||[O]),oa=X.next();!oa.done;oa=X.next()){oa=oa.value;for(var Y=$jscomp.makeIterator(E),ta=Y.next();!ta.done;ta=Y.next())ta=ta.value,ta.identifier===oa.identifier&&(ta.cur=$b(oa,P))}!k||A||G||1!==E.length||(X=E[0],uk(X.cur[0]-X[0])>uk(X.cur[1]-X[1])?G=!0:A=!0);X=$jscomp.makeIterator(E);for(oa=X.next();!oa.done;oa=
X.next())oa=oa.value,oa.cur&&(oa[0]=oa.cur[0],oa[1]=oa.cur[1]);Ua=!0;O.preventDefault();O.stopImmediatePropagation();B(O)}function B(O){var X=E[0],oa=X.point0;Da=X[0]-oa[0];Ja=X[1]-oa[1];switch(fa){case oh:case vk:R&&(Da=Jb(Ga-pa,Kb(L-U,Da)),H=pa+Da,T=U+Da);S&&(Ja=Jb(Ea-Qa,Kb(Aa-Ha,Ja)),K=Qa+Ja,Q=Ha+Ja);break;case wd:E[1]?(R&&(H=Jb(Ga,Kb(L,E[0][0])),T=Jb(Ga,Kb(L,E[1][0])),R=1),S&&(K=Jb(Ea,Kb(Aa,E[0][1])),Q=Jb(Ea,Kb(Aa,E[1][1])),S=1)):(0>R?(Da=Jb(Ga-pa,Kb(L-pa,Da)),H=pa+Da,T=U):0<R&&(Da=Jb(Ga-U,Kb(L-
U,Da)),H=pa,T=U+Da),0>S?(Ja=Jb(Ea-Qa,Kb(Aa-Qa,Ja)),K=Qa+Ja,Q=Ha):0<S&&(Ja=Jb(Ea-Ha,Kb(Aa-Ha,Ja)),K=Qa,Q=Ha+Ja));break;case xd:R&&(H=Jb(Ga,Kb(L,pa-Da*R)),T=Jb(Ga,Kb(L,U+Da*R))),S&&(K=Jb(Ea,Kb(Aa,Qa-Ja*S)),Q=Jb(Ea,Kb(Aa,Ha+Ja*S)))}T<H&&(R*=-1,X=pa,pa=U,U=X,X=H,H=T,T=X,W in wk&&da.attr("cursor",Ac[W=wk[W]]));Q<K&&(S*=-1,X=Qa,Qa=Ha,Ha=X,X=K,K=Q,Q=X,W in xk&&da.attr("cursor",Ac[W=xk[W]]));la.selection&&(qa=la.selection);A&&(H=qa[0][0],T=qa[1][0]);G&&(K=qa[0][1],Q=qa[1][1]);if(qa[0][0]!==H||qa[0][1]!==
K||qa[1][0]!==T||qa[1][1]!==Q)la.selection=[[H,K],[T,Q]],c.call(P),na.brush(O,fa.name)}function D(O){O.stopImmediatePropagation();if(O.touches){if(O.touches.length)return;q&&clearTimeout(q);q=setTimeout(function(){q=null},500)}else Xe(O.view,Ua),ra.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ba.attr("pointer-events","all");da.attr("cursor",Ac.overlay);la.selection&&(qa=la.selection);if(qa[0][0]===qa[1][0]||qa[0][1]===qa[1][1])la.selection=null,c.call(P);na.end(O,fa.name)}function J(O){switch(O.keyCode){case 16:k=
R&&S;break;case 18:fa===wd&&(R&&(U=T-Da*R,pa=H+Da*R),S&&(Ha=Q-Ja*S,Qa=K+Ja*S),fa=xd,B());break;case 32:if(fa===wd||fa===xd)0>R?U=T-Da:0<R&&(pa=H-Da),0>S?Ha=Q-Ja:0<S&&(Qa=K-Ja),fa=oh,da.attr("cursor",Ac.selection),B();break;default:return}O.preventDefault();O.stopImmediatePropagation()}function M(O){switch(O.keyCode){case 16:k&&(A=G=k=!1,B());break;case 18:fa===xd&&(0>R?U=T:0<R&&(pa=H),0>S?Ha=Q:0<S&&(Qa=K),fa=wd,B());break;case 32:fa===oh&&(O.altKey?(R&&(U=T-Da*R,pa=H+Da*R),S&&(Ha=Q-Ja*S,Qa=K+Ja*S),
fa=xd):(0>R?U=T:0<R&&(pa=H),0>S?Ha=Q:0<S&&(Qa=K),fa=wd),da.attr("cursor",Ac[W]),B());break;default:return}O.preventDefault();O.stopImmediatePropagation()}if((!q||r.touches)&&C.apply(this,arguments)){var P=this,W=r.target.__data__.type,fa="selection"===(u&&r.metaKey?W="overlay":W)?vk:u&&r.altKey?xd:wd,R=a===lf?null:Cr[W],S=a===mf?null:Dr[W],la=mh(P),ia=la.extent,qa=la.selection,Ga=ia[0][0],pa,Ea=ia[0][1],Qa,L=ia[1][0],U,Aa=ia[1][1],Ha,Da=0,Ja=0,Ua,k=R&&S&&u&&r.shiftKey,A,G,E=Array.from(r.touches||
[r],function(O){var X=O.identifier;O=$b(O,P);O.point0=O.slice();O.identifier=X;return O});"overlay"===W?(qa&&(Ua=!0),ia=[E[0],E[1]||E[0]],la.selection=qa=[[pa=a===lf?Ga:Kb(ia[0][0],ia[1][0]),Qa=a===mf?Ea:Kb(ia[0][1],ia[1][1])],[U=a===lf?L:Jb(ia[0][0],ia[1][0]),Ha=a===mf?Aa:Jb(ia[0][1],ia[1][1])]],1<E.length&&B()):(pa=qa[0][0],Qa=qa[0][1],U=qa[1][0],Ha=qa[1][1]);var H=pa;var K=Qa;var T=U;var Q=Ha;var ba=Ib(P).attr("pointer-events","none"),da=ba.selectAll(".overlay").attr("cursor",Ac[W]);bd(P);var na=
f(P,arguments,!0).beforestart();if(r.touches)na.moved=w,na.ended=D;else{var ra=Ib(r.view).on("mousemove.brush",w,!0).on("mouseup.brush",D,!0);if(u)ra.on("keydown.brush",J,!0).on("keyup.brush",M,!0);We(r.view)}c.call(P);na.start(r,fa.name)}}function m(r){f(this,arguments).moved(r)}function l(r){f(this,arguments).ended(r)}function n(){var r=this.__brush||{selection:null};r.extent=lh(x.apply(this,arguments));r.dim=a;return r}var x=Ar,C=zr,t=Br,u=!0,v=Xc("start","brush","end"),y=6,q;b.move=function(r,
w){r.tween?r.on("start.brush",function(B){f(this,arguments).beforestart().start(B)}).on("interrupt.brush end.brush",function(B){f(this,arguments).end(B)}).tween("brush",function(){function B(R){J.selection=1===R&&null===W?null:fa(R);c.call(D);M.brush()}var D=this,J=D.__brush,M=f(D,arguments),P=J.selection,W=a.input("function"===typeof w?w.apply(this,arguments):w,J.extent),fa=Mc(P,W);return null!==P&&null!==W?B:B(1)}):r.each(function(){var B=arguments,D=this.__brush,J=a.input("function"===typeof w?
w.apply(this,B):w,D.extent);B=f(this,B).beforestart();bd(this);D.selection=null===J?null:J;c.call(this);B.start().brush().end()})};b.clear=function(r){b.move(r,null)};g.prototype={beforestart:function(){1===++this.active&&(this.state.emitter=this,this.starting=!0);return this},start:function(r,w){this.starting?(this.starting=!1,this.emit("start",r,w)):this.emit("brush",r);return this},brush:function(r,w){this.emit("brush",r,w);return this},end:function(r,w){0===--this.active&&(delete this.state.emitter,
this.emit("end",r,w));return this},emit:function(r,w,B){var D=Ib(this.that).datum();v.call(r,this.that,new yr(r,{sourceEvent:w,target:b,selection:a.output(this.state.selection),mode:B,dispatch:v}),D)}};b.extent=function(r){return arguments.length?(x="function"===typeof r?r:ph(lh(r)),b):x};b.filter=function(r){return arguments.length?(C="function"===typeof r?r:ph(!!r),b):C};b.touchable=function(r){return arguments.length?(t="function"===typeof r?r:ph(!!r),b):t};b.handleSize=function(r){return arguments.length?
(y=+r,b):y};b.keyModifiers=function(r){return arguments.length?(u=!!r,b):u};b.on=function(){var r=v.on.apply(v,arguments);return r===v?b:r};return b}function qh(a,b){return Array.from({length:b-a},function(c,f){return a+f})}function Er(a){return function(b,c){return a(b.source.value+b.target.value,c.source.value+c.target.value)}}function rh(a,b){function c(l){var n=l.length,x=Array(n),C=qh(0,n),t=Array(n*n),u=Array(n),v=0,y;l=Float64Array.from({length:n*n},b?function(M,P){return l[P%n][P/n|0]}:function(M,
P){return l[P/n|0][P%n]});for(y=0;y<n;++y){for(var q=0,r=0;r<n;++r)q+=l[y*n+r]+a*l[r*n+y];v+=x[y]=q}y=(v=yk(0,zk-f*n)/v)?f:zk/n;q=0;g&&C.sort(function(M,P){return g(x[M],x[P])});r={};C=$jscomp.makeIterator(C);for(var w=C.next();!w.done;r={$jscomp$loop$prop$i$142$273:r.$jscomp$loop$prop$i$142$273},w=C.next()){r.$jscomp$loop$prop$i$142$273=w.value;w=q;if(a){var B=qh(~n+1,n).filter(function(M){return function(P){return 0>P?l[~P*n+M.$jscomp$loop$prop$i$142$273]:l[M.$jscomp$loop$prop$i$142$273*n+P]}}(r));
h&&B.sort(function(M){return function(P,W){return h(0>P?-l[~P*n+M.$jscomp$loop$prop$i$142$273]:l[M.$jscomp$loop$prop$i$142$273*n+P],0>W?-l[~W*n+M.$jscomp$loop$prop$i$142$273]:l[M.$jscomp$loop$prop$i$142$273*n+W])}}(r));B=$jscomp.makeIterator(B);for(var D=B.next();!D.done;D=B.next())D=D.value,0>D?(t[~D*n+r.$jscomp$loop$prop$i$142$273]||(t[~D*n+r.$jscomp$loop$prop$i$142$273]={source:null,target:null})).target={index:r.$jscomp$loop$prop$i$142$273,startAngle:q,endAngle:q+=l[~D*n+r.$jscomp$loop$prop$i$142$273]*
v,value:l[~D*n+r.$jscomp$loop$prop$i$142$273]}:(t[r.$jscomp$loop$prop$i$142$273*n+D]||(t[r.$jscomp$loop$prop$i$142$273*n+D]={source:null,target:null})).source={index:r.$jscomp$loop$prop$i$142$273,startAngle:q,endAngle:q+=l[r.$jscomp$loop$prop$i$142$273*n+D]*v,value:l[r.$jscomp$loop$prop$i$142$273*n+D]}}else for(B=qh(0,n).filter(function(M){return function(P){return l[M.$jscomp$loop$prop$i$142$273*n+P]||l[P*n+M.$jscomp$loop$prop$i$142$273]}}(r)),h&&B.sort(function(M){return function(P,W){return h(l[M.$jscomp$loop$prop$i$142$273*
n+P],l[M.$jscomp$loop$prop$i$142$273*n+W])}}(r)),B=$jscomp.makeIterator(B),D=B.next();!D.done;D=B.next()){var J=D.value;D=void 0;r.$jscomp$loop$prop$i$142$273<J?(D=t[r.$jscomp$loop$prop$i$142$273*n+J]||(t[r.$jscomp$loop$prop$i$142$273*n+J]={source:null,target:null}),D.source={index:r.$jscomp$loop$prop$i$142$273,startAngle:q,endAngle:q+=l[r.$jscomp$loop$prop$i$142$273*n+J]*v,value:l[r.$jscomp$loop$prop$i$142$273*n+J]}):(D=t[J*n+r.$jscomp$loop$prop$i$142$273]||(t[J*n+r.$jscomp$loop$prop$i$142$273]=
{source:null,target:null}),D.target={index:r.$jscomp$loop$prop$i$142$273,startAngle:q,endAngle:q+=l[r.$jscomp$loop$prop$i$142$273*n+J]*v,value:l[r.$jscomp$loop$prop$i$142$273*n+J]},r.$jscomp$loop$prop$i$142$273===J&&(D.source=D.target));D.source&&D.target&&D.source.value<D.target.value&&(J=D.source,D.source=D.target,D.target=J)}u[r.$jscomp$loop$prop$i$142$273]={index:r.$jscomp$loop$prop$i$142$273,startAngle:w,endAngle:q,value:x[r.$jscomp$loop$prop$i$142$273]};q+=y}t=Object.values(t);t.groups=u;return m?
t.sort(m):t}var f=0,g=null,h=null,m=null;c.padAngle=function(l){return arguments.length?(f=yk(0,l),c):f};c.sortGroups=function(l){return arguments.length?(g=l,c):g};c.sortSubgroups=function(l){return arguments.length?(h=l,c):h};c.sortChords=function(l){return arguments.length?(null==l?m=null:(m=Er(l))._=l,c):m&&m._};return c}function sh(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function Oc(){return new sh}function cd(a){return function(){return a}}function Fr(a){return a.source}function Gr(a){return a.target}
function Ak(a){return a.radius}function Hr(a){return a.startAngle}function Ir(a){return a.endAngle}function Jr(){return 0}function Kr(){return 10}function Bk(a){function b(){var C,t=c.apply(this,arguments),u=f.apply(this,arguments),v=n.apply(this,arguments)/2,y=Lr.call(arguments);t=+g.apply(this,(y[0]=t,y));var q=m.apply(this,y)-nf,r=l.apply(this,y)-nf;u=+h.apply(this,(y[0]=u,y));var w=m.apply(this,y)-nf;y=l.apply(this,y)-nf;x||(x=C=Oc());1E-12<v&&(Ck(r-q)>2*v+1E-12?r>q?(q+=v,r-=v):(q-=v,r+=v):q=
r=(q+r)/2,Ck(y-w)>2*v+1E-12?y>w?(w+=v,y-=v):(w-=v,y+=v):w=y=(w+y)/2);x.moveTo(t*yd(q),t*zd(q));x.arc(0,0,t,q,r);if(q!==w||r!==y)a?(v=+a.apply(this,arguments),v=u-v,r=(w+y)/2,x.quadraticCurveTo(0,0,v*yd(w),v*zd(w)),x.lineTo(u*yd(r),u*zd(r)),x.lineTo(v*yd(y),v*zd(y))):(x.quadraticCurveTo(0,0,u*yd(w),u*zd(w)),x.arc(0,0,u,w,y));x.quadraticCurveTo(0,0,t*yd(q),t*zd(q));x.closePath();if(C)return x=null,C+""||null}var c=Fr,f=Gr,g=Ak,h=Ak,m=Hr,l=Ir,n=Jr,x=null;a&&(b.headRadius=function(C){return arguments.length?
(a="function"===typeof C?C:cd(+C),b):a});b.radius=function(C){return arguments.length?(g=h="function"===typeof C?C:cd(+C),b):g};b.sourceRadius=function(C){return arguments.length?(g="function"===typeof C?C:cd(+C),b):g};b.targetRadius=function(C){return arguments.length?(h="function"===typeof C?C:cd(+C),b):h};b.startAngle=function(C){return arguments.length?(m="function"===typeof C?C:cd(+C),b):m};b.endAngle=function(C){return arguments.length?(l="function"===typeof C?C:cd(+C),b):l};b.padAngle=function(C){return arguments.length?
(n="function"===typeof C?C:cd(+C),b):n};b.source=function(C){return arguments.length?(c=C,b):c};b.target=function(C){return arguments.length?(f=C,b):f};b.context=function(C){return arguments.length?(x=null==C?null:C,b):x};return b}function Mr(a,b){return a-b}function Nr(){}function Dk(){function a(n){var x=m(n);if(Array.isArray(x))x=x.slice().sort(Mr);else{var C=za(n),t=C[0];C=C[1];x=Eb(t,C,x);x=oc(Math.floor(t/x)*x,Math.floor(C/x)*x,x)}return x.map(function(u){return b(n,u)})}function b(n,x){var C=
[],t=[];c(n,x,function(u){l(u,n,x);for(var v=0,y=u.length,q=u[y-1][1]*u[0][0]-u[y-1][0]*u[0][1];++v<y;)q+=u[v-1][1]*u[v][0]-u[v-1][0]*u[v][1];0<q?C.push([u]):t.push(u)});t.forEach(function(u){for(var v=0,y=C.length,q;v<y;++v){a:{var r=(q=C[v])[0];for(var w=u,B=-1,D=w.length;++B<D;){b:{var J=r;for(var M=w[B],P=M[0],W=M[1],fa=-1,R=0,S=J.length,la=S-1;R<S;la=R++){var ia=J[R],qa=ia[0],Ga=ia[1],pa=J[la];la=pa[0];var Ea=pa[1],Qa,L=ia;ia=pa;pa=M;if(Qa=(ia[0]-L[0])*(pa[1]-L[1])===(pa[0]-L[0])*(ia[1]-L[1]))L=
L[Qa=+(L[0]===ia[0])],pa=pa[Qa],ia=ia[Qa],Qa=L<=pa&&pa<=ia||ia<=pa&&pa<=L;if(Qa){J=0;break b}Ga>W!==Ea>W&&P<(la-qa)*(W-Ga)/(Ea-Ga)+qa&&(fa=-fa)}J=fa}if(J){r=J;break a}}r=0}if(-1!==r){q.push(u);break}}});return{type:"MultiPolygon",value:x,coordinates:C}}function c(n,x,C){function t(J){var M=[J[0][0]+q,J[0][1]+y];J=[J[1][0]+q,J[1][1]+y];var P=2*M[0]+M[1]*(g+1)*4,W=2*J[0]+J[1]*(g+1)*4,fa,R;(fa=v[P])?(R=u[W])?(delete v[fa.end],delete u[R.start],fa===R?(fa.ring.push(J),C(fa.ring)):u[fa.start]=v[R.end]=
{start:fa.start,end:R.end,ring:fa.ring.concat(R.ring)}):(delete v[fa.end],fa.ring.push(J),v[fa.end=W]=fa):(fa=u[W])?(R=v[P])?(delete u[fa.start],delete v[R.end],fa===R?(fa.ring.push(J),C(fa.ring)):u[R.start]=v[fa.end]={start:R.start,end:fa.end,ring:R.ring.concat(fa.ring)}):(delete u[fa.start],fa.ring.unshift(M),u[fa.start=P]=fa):u[P]=v[W]={start:P,end:W,ring:[M,J]}}var u=[],v=[],y;var q=y=-1;var r=n[0]>=x;for(Bc[r<<1].forEach(t);++q<g-1;){var w=r;r=n[q+1]>=x;Bc[w|r<<1].forEach(t)}for(Bc[r<<0].forEach(t);++y<
h-1;){q=-1;r=n[y*g+g]>=x;var B=n[y*g]>=x;for(Bc[r<<1|B<<2].forEach(t);++q<g-1;){w=r;r=n[y*g+g+q+1]>=x;var D=B;B=n[y*g+q+1]>=x;Bc[w|r<<1|B<<2|D<<3].forEach(t)}Bc[r|B<<3].forEach(t)}q=-1;B=n[y*g]>=x;for(Bc[B<<2].forEach(t);++q<g-1;)D=B,B=n[y*g+q+1]>=x,Bc[B<<2|D<<3].forEach(t);Bc[B<<3].forEach(t)}function f(n,x,C){n.forEach(function(t){var u=t[0],v=t[1],y=u|0,q=v|0,r=x[q*g+y];if(0<u&&u<g&&y===u){var w=x[q*g+y-1];t[0]=u+(C-w)/(r-w)-.5}0<v&&v<h&&q===v&&(w=x[(q-1)*g+y],t[1]=v+(C-w)/(r-w)-.5)})}var g=1,
h=1,m=Ig,l=f;a.contour=b;a.size=function(n){if(!arguments.length)return[g,h];var x=Math.floor(n[0]),C=Math.floor(n[1]);if(!(0<=x&&0<=C))throw Error("invalid size");return g=x,h=C,a};a.thresholds=function(n){return arguments.length?(m="function"===typeof n?n:Array.isArray(n)?Pc(Ek.call(n)):Pc(n),a):m};a.smooth=function(n){return arguments.length?(l=n?f:Nr,a):l===f};return a}function th(a,b,c){for(var f=a.width,g=a.height,h=(c<<1)+1,m=0;m<g;++m)for(var l=0,n=0;l<f+c;++l)l<f&&(n+=a.data[l+m*f]),l>=c&&
(l>=h&&(n-=a.data[l-h+m*f]),b.data[l-c+m*f]=n/Math.min(l+1,f-1+h-l,h))}function uh(a,b,c){for(var f=a.width,g=a.height,h=(c<<1)+1,m=0;m<f;++m)for(var l=0,n=0;l<g+c;++l)l<g&&(n+=a.data[m+l*f]),l>=c&&(l>=h&&(n-=a.data[m+(l-h)*f]),b.data[m+(l-c)*f]=n/Math.min(l+1,g-1+h-l,h))}function Or(a){return a[0]}function Pr(a){return a[1]}function Qr(){return 1}function vh(a,b,c,f){a-=c;b-=f;return a*a+b*b}function wh(a,b,c,f,g,h){f=(f-b)*(g-a);a=(c-a)*(h-b);return Math.abs(f-a)>=3.3306690738754716E-16*Math.abs(f+
a)?f-a:0}function of(a,b,c,f,g,h){return 0>(wh(g,h,a,b,c,f)||wh(a,b,c,f,g,h)||wh(c,f,g,h,a,b))}function Ad(a,b,c,f){if(20>=f-c)for(var g=c+1;g<=f;g++){for(var h=a[g],m=b[h],l=g-1;l>=c&&b[a[l]]>m;)a[l+1]=a[l--];a[l+1]=h}else{g=c+1;h=f;me(a,c+f>>1,g);b[a[c]]>b[a[f]]&&me(a,c,f);b[a[g]]>b[a[f]]&&me(a,g,f);b[a[c]]>b[a[g]]&&me(a,c,g);m=a[g];for(l=b[m];;){do g++;while(b[a[g]]<l);do h--;while(b[a[h]]>l);if(h<g)break;me(a,g,h)}a[c+1]=a[h];a[h]=m;f-g+1>=h-c?(Ad(a,b,g,f),Ad(a,b,c,h-1)):(Ad(a,b,c,h-1),Ad(a,b,
g,f))}}function me(a,b,c){var f=a[b];a[b]=a[c];a[c]=f}function Rr(a){return a[0]}function Sr(a){return a[1]}function Tr(a){return a[0]}function Ur(a){return a[1]}function Vr(a){var b=a.triangles;a=a.coords;for(var c=0;c<b.length;c+=3){var f=2*b[c],g=2*b[c+1],h=2*b[c+2];if(1E-10<(a[h]-a[f])*(a[g+1]-a[f+1])-(a[g]-a[f])*(a[h+1]-a[f+1]))return!1}return!0}function Wr(a,b,c){return[a+Math.sin(a+b)*c,b+Math.cos(a-b)*c]}function Fk(a,b,c,f){var g,h,m,l;return $jscomp.generator.createGenerator(Fk,function(n){switch(n.nextAddress){case 1:g=
0,h=$jscomp.makeIterator(a),m=h.next();case 2:if(m.done){n.jumpTo(0);break}l=m.value;return n.yield(b.call(f,l,g,a),5);case 5:return n.yield(c.call(f,l,g,a),6);case 6:++g,m=h.next(),n.jumpTo(2)}})}function Gk(a){return new Function("d","return {"+a.map(function(b,c){return JSON.stringify(b)+": d["+c+'] || ""'}).join(",")+"}")}function Xr(a,b){var c=Gk(a);return function(f,g){return b(c(f),g,a)}}function Hk(a){var b=Object.create(null),c=[];a.forEach(function(f){for(var g in f)g in b||c.push(b[g]=
g)});return c}function Xb(a,b){a+="";var c=a.length;return c<b?Array(b-c+1).join(0)+a:a}function pf(a){function b(l,n){function x(){if(q)return xh;if(r)return r=!1,Ik;var B,D=u,J;if(34===l.charCodeAt(D)){for(;u++<t&&34!==l.charCodeAt(u)||34===l.charCodeAt(++u););(B=u)>=t?q=!0:10===(J=l.charCodeAt(u++))?r=!0:13===J&&(r=!0,10===l.charCodeAt(u)&&++u);return l.slice(D+1,B-1).replace(/""/g,'"')}for(;u<t;){if(10===(J=l.charCodeAt(B=u++)))r=!0;else if(13===J)r=!0,10===l.charCodeAt(u)&&++u;else if(J!==m)continue;
return l.slice(D,B)}return q=!0,l.slice(D,t)}var C=[],t=l.length,u=0,v=0,y,q=0>=t,r=!1;10===l.charCodeAt(t-1)&&--t;for(13===l.charCodeAt(t-1)&&--t;(y=x())!==xh;){for(var w=[];y!==Ik&&y!==xh;)w.push(y),y=x();n&&null==(w=n(w,v++))||C.push(w)}return C}function c(l,n){return l.map(function(x){return n.map(function(C){return g(x[C])}).join(a)})}function f(l){return l.map(g).join(a)}function g(l){if(null==l)l="";else{if(l instanceof Date){var n=l.getUTCHours();var x=l.getUTCMinutes(),C=l.getUTCSeconds(),
t=l.getUTCMilliseconds();if(isNaN(l))l="Invalid Date";else{var u=l.getUTCFullYear();l=(0>u?"-"+Xb(-u,6):9999<u?"+"+Xb(u,6):Xb(u,4))+"-"+Xb(l.getUTCMonth()+1,2)+"-"+Xb(l.getUTCDate(),2)+(t?"T"+Xb(n,2)+":"+Xb(x,2)+":"+Xb(C,2)+"."+Xb(t,3)+"Z":C?"T"+Xb(n,2)+":"+Xb(x,2)+":"+Xb(C,2)+"Z":x||n?"T"+Xb(n,2)+":"+Xb(x,2)+"Z":"")}n=l}else n=h.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l;l=n}return l}var h=new RegExp('["'+a+"\n\r]"),m=a.charCodeAt(0);return{parse:function(l,n){var x,C;l=b(l,function(t,u){if(x)return x(t,
u-1);C=t;x=n?Xr(t,n):Gk(t)});l.columns=C||[];return l},parseRows:b,format:function(l,n){null==n&&(n=Hk(l));return[n.map(g).join(a)].concat(c(l,n)).join("\n")},formatBody:function(l,n){null==n&&(n=Hk(l));return c(l,n).join("\n")},formatRows:function(l){return l.map(f).join("\n")},formatRow:f,formatValue:g}}function Yr(a){if(!a.ok)throw Error(a.status+" "+a.statusText);return a.blob()}function Zr(a){if(!a.ok)throw Error(a.status+" "+a.statusText);return a.arrayBuffer()}function $r(a){if(!a.ok)throw Error(a.status+
" "+a.statusText);return a.text()}function qf(a,b){return fetch(a,b).then($r)}function Jk(a){return function(b,c,f){2===arguments.length&&"function"===typeof c&&(f=c,c=void 0);return qf(b,c).then(function(g){return a(g,f)})}}function as(a){if(!a.ok)throw Error(a.status+" "+a.statusText);if(204!==a.status&&205!==a.status)return a.json()}function yh(a){return function(b,c){return qf(b,c).then(function(f){return(new DOMParser).parseFromString(f,a)})}}function Kk(a,b,c,f){if(isNaN(b)||isNaN(c))return a;
var g,h=a._root;f={data:f};var m=a._x0,l=a._y0,n=a._x1,x=a._y1,C,t,u,v;if(!h)return a._root=f,a;for(;h.length;)if((u=b>=(C=(m+n)/2))?m=C:n=C,(v=c>=(t=(l+x)/2))?l=t:x=t,g=h,!(h=h[u|=v<<1]))return g[u]=f,a;var y=+a._x.call(null,h.data);var q=+a._y.call(null,h.data);if(b===y&&c===q)return f.next=h,g?g[u]=f:a._root=f,a;do g=g?g[u]=Array(4):a._root=Array(4),(u=b>=(C=(m+n)/2))?m=C:n=C,(v=c>=(t=(l+x)/2))?l=t:x=t;while((u|=v<<1)===(v=(q>=t)<<1|y>=C));return g[v]=h,g[u]=f,a}function Pb(a,b,c,f,g){this.node=
a;this.x0=b;this.y0=c;this.x1=f;this.y1=g}function bs(a){return a[0]}function cs(a){return a[1]}function rf(a,b,c){b=new zh(null==b?bs:b,null==c?cs:c,NaN,NaN,NaN,NaN);return null==a?b:b.addAll(a)}function zh(a,b,c,f,g,h){this._x=a;this._y=b;this._x0=c;this._y0=f;this._x1=g;this._y1=h;this._root=void 0}function Lk(a){for(var b={data:a.data},c=b;a=a.next;)c=c.next={data:a.data};return b}function xb(a){return function(){return a}}function ds(a){return a.x+a.vx}function es(a){return a.y+a.vy}function fs(a){return a.index}
function Mk(a,b){a=a.get(b);if(!a)throw Error("node not found: "+b);return a}function gs(){var a=1;return function(){return(a=(1664525*a+1013904223)%4294967296)/4294967296}}function hs(a){return a.x}function is(a){return a.y}function sf(a,b){if(0>(b=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;var c=a.slice(0,b);return[1<c.length?c[0]+c.slice(2):c,+a.slice(b+1)]}function Bd(a){return a=sf(Math.abs(a)),a?a[1]:NaN}function js(a,b){return function(c,f){for(var g=c.length,h=
[],m=0,l=a[0],n=0;0<g&&0<l;){n+l+1>f&&(l=Math.max(1,f-n));h.push(c.substring(g-=l,g+l));if((n+=l+1)>f)break;l=a[m=(m+1)%a.length]}return h.reverse().join(b)}}function ks(a){return function(b){return b.replace(/[0-9]/g,function(c){return a[+c]})}}function ne(a){if(!(b=ls.exec(a)))throw Error("invalid format: "+a);var b;return new tf({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function tf(a){this.fill=void 0===a.fill?
" ":a.fill+"";this.align=void 0===a.align?">":a.align+"";this.sign=void 0===a.sign?"-":a.sign+"";this.symbol=void 0===a.symbol?"":a.symbol+"";this.zero=!!a.zero;this.width=void 0===a.width?void 0:+a.width;this.comma=!!a.comma;this.precision=void 0===a.precision?void 0:+a.precision;this.trim=!!a.trim;this.type=void 0===a.type?"":a.type+""}function Nk(a,b){b=sf(a,b);if(!b)return a+"";a=b[0];b=b[1];return 0>b?"0."+Array(-b).join("0")+a:a.length>b+1?a.slice(0,b+1)+"."+a.slice(b+1):a+Array(b-a.length+
2).join("0")}function Ok(a){return a}function Pk(a){function b(C){function t(S){var la=P,ia=W,qa,Ga;if("c"===M)ia=fa(S)+ia,S="";else{S=+S;var pa=0>S||0>1/S;S=isNaN(S)?x:fa(Math.abs(S),D);if(J){var Ea=S.length,Qa=1,L=-1;a:for(;Qa<Ea;++Qa)switch(S[Qa]){case ".":L=qa=Qa;break;case "0":0===L&&(L=Qa);qa=Qa;break;default:if(!+S[Qa])break a;0<L&&(L=0)}S=0<L?S.slice(0,L)+S.slice(qa+1):S}pa&&0===+S&&"+"!==y&&(pa=!1);la=(pa?"("===y?y:n:"-"===y||"("===y?"":y)+la;ia=("s"===M?Qk[8+Rk/3]:"")+ia+(pa&&"("===y?")":
"");if(R)for(pa=-1,qa=S.length;++pa<qa;)if(Ga=S.charCodeAt(pa),48>Ga||57<Ga){ia=(46===Ga?h+S.slice(pa+1):S.slice(pa))+ia;S=S.slice(0,pa);break}}B&&!r&&(S=c(S,Infinity));Ga=la.length+S.length+ia.length;pa=Ga<w?Array(w-Ga+1).join(u):"";B&&r&&(S=c(pa+S,pa.length?w-ia.length:Infinity),pa="");switch(v){case "<":S=la+S+ia+pa;break;case "=":S=la+pa+S+ia;break;case "^":S=pa.slice(0,Ga=pa.length>>1)+la+S+ia+pa.slice(Ga);break;default:S=pa+la+S+ia}return m(S)}C=ne(C);var u=C.fill,v=C.align,y=C.sign,q=C.symbol,
r=C.zero,w=C.width,B=C.comma,D=C.precision,J=C.trim,M=C.type;"n"===M?(B=!0,M="g"):Sk[M]||(void 0===D&&(D=12),J=!0,M="g");if(r||"0"===u&&"="===v)r=!0,u="0",v="=";var P="$"===q?f:"#"===q&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",W="$"===q?g:/[%p]/.test(M)?l:"",fa=Sk[M],R=/[defgprs%]/.test(M);D=void 0===D?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));t.toString=function(){return C+""};return t}var c=void 0===a.grouping||void 0===a.thousands?Ok:js(Tk.call(a.grouping,Number),
a.thousands+""),f=void 0===a.currency?"":a.currency[0]+"",g=void 0===a.currency?"":a.currency[1]+"",h=void 0===a.decimal?".":a.decimal+"",m=void 0===a.numerals?Ok:ks(Tk.call(a.numerals,String)),l=void 0===a.percent?"%":a.percent+"",n=void 0===a.minus?"\u2212":a.minus+"",x=void 0===a.nan?"NaN":a.nan+"";return{format:b,formatPrefix:function(C,t){var u=b((C=ne(C),C.type="f",C));C=3*Math.max(-8,Math.min(8,Math.floor(Bd(t)/3)));var v=Math.pow(10,-C),y=Qk[8+C/3];return function(q){return u(v*q)+y}}}}function Uk(a){uf=
Pk(a);e.format=uf.format;e.formatPrefix=uf.formatPrefix;return uf}function Vk(a){return Math.max(0,-Bd(Math.abs(a)))}function Wk(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bd(b)/3)))-Bd(Math.abs(a)))}function Xk(a,b){a=Math.abs(a);b=Math.abs(b)-a;return Math.max(0,Bd(b)-Bd(a))+1}function Yk(a){return 1<a?0:-1>a?ab:Math.acos(a)}function Qb(a){return 1<a?nb:-1>a?-nb:Math.asin(a)}function Zk(a){return(a=Ma(a/2))*a}function pb(){}function vf(a,b){if(a&&$k.hasOwnProperty(a.type))$k[a.type](a,
b)}function Ah(a,b,c){var f=-1;c=a.length-c;for(b.lineStart();++f<c;){var g=a[f];b.point(g[0],g[1],g[2])}b.lineEnd()}function al(a,b){var c=-1,f=a.length;for(b.polygonStart();++c<f;)Ah(a[c],b,1);b.polygonEnd()}function mc(a,b){if(a&&bl.hasOwnProperty(a.type))bl[a.type](a,b);else vf(a,b)}function ms(){tc.point=ns}function os(){cl(dl,el)}function ns(a,b){tc.point=cl;dl=a;el=b;a*=Ta;b*=Ta;Bh=a;Ch=Ra(b=b/2+wf);Dh=Ma(b)}function cl(a,b){a*=Ta;b*=Ta;b=b/2+wf;var c=a-Bh,f=0<=c?1:-1,g=f*c;c=Ra(b);b=Ma(b);
var h=Dh*b,m=Ch*c+h*Ra(g);f=h*f*Ma(g);xf.add(Rb(f,m));Bh=a;Ch=c;Dh=b}function yf(a){return[Rb(a[1],a[0]),Qb(a[2])]}function dd(a){var b=a[0];a=a[1];var c=Ra(a);return[c*Ra(b),c*Ma(b),Ma(a)]}function zf(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Cd(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Eh(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Af(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Bf(a){var b=Bb(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=
b}function Fh(a,b){Qc.push(Cc=[qb=a,sb=a]);b<Yb&&(Yb=b);b>ac&&(ac=b)}function fl(a,b){var c=dd([a*Ta,b*Ta]);if(Dd){var f=Cd(Dd,c);f=Cd([f[1],-f[0],0],f);Bf(f);f=yf(f);var g=a-ed,h=0<g?1:-1,m=f[0]*jb*h;g=180<db(g);g^(h*ed<m&&m<h*a)?(f=f[1]*jb,f>ac&&(ac=f)):(m=(m+360)%360-180,g^(h*ed<m&&m<h*a))?(f=-f[1]*jb,f<Yb&&(Yb=f)):(b<Yb&&(Yb=b),b>ac&&(ac=b));g?a<ed?bc(qb,a)>bc(qb,sb)&&(sb=a):bc(a,sb)>bc(qb,sb)&&(qb=a):sb>=qb?(a<qb&&(qb=a),a>sb&&(sb=a)):a>ed?bc(qb,a)>bc(qb,sb)&&(sb=a):bc(a,sb)>bc(qb,sb)&&(qb=a)}else Qc.push(Cc=
[qb=a,sb=a]);b<Yb&&(Yb=b);b>ac&&(ac=b);Dd=c;ed=a}function gl(){Dc.point=fl}function hl(){Cc[0]=qb;Cc[1]=sb;Dc.point=Fh;Dd=null}function il(a,b){if(Dd){var c=a-ed;oe.add(180<db(c)?c+(0<c?360:-360):c)}else jl=a,kl=b;tc.point(a,b);fl(a,b)}function ps(){tc.lineStart()}function qs(){il(jl,kl);tc.lineEnd();1E-6<db(oe)&&(qb=-(sb=180));Cc[0]=qb;Cc[1]=sb;Dd=null}function bc(a,b){return 0>(b-=a)?b+360:b}function rs(a,b){return a[0]-b[0]}function ll(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function Gh(a,
b){a*=Ta;b*=Ta;var c=Ra(b);pe(c*Ra(a),c*Ma(a),Ma(b))}function pe(a,b,c){++qe;Cf+=(a-Cf)/qe;Df+=(b-Df)/qe;Ef+=(c-Ef)/qe}function ml(){nc.point=ss}function ss(a,b){a*=Ta;b*=Ta;var c=Ra(b);Sb=c*Ra(a);Tb=c*Ma(a);Ub=Ma(b);nc.point=ts;pe(Sb,Tb,Ub)}function ts(a,b){a*=Ta;b*=Ta;var c=Ra(b),f=c*Ra(a);a=c*Ma(a);b=Ma(b);var g=Rb(Bb((g=Tb*b-Ub*a)*g+(g=Ub*f-Sb*b)*g+(g=Sb*a-Tb*f)*g),Sb*f+Tb*a+Ub*b);Ff+=g;Gf+=g*(Sb+(Sb=f));Hf+=g*(Tb+(Tb=a));If+=g*(Ub+(Ub=b));pe(Sb,Tb,Ub)}function nl(){nc.point=Gh}function us(){nc.point=
vs}function ws(){ol(pl,ql);nc.point=Gh}function vs(a,b){pl=a;ql=b;a*=Ta;b*=Ta;nc.point=ol;var c=Ra(b);Sb=c*Ra(a);Tb=c*Ma(a);Ub=Ma(b);pe(Sb,Tb,Ub)}function ol(a,b){a*=Ta;b*=Ta;var c=Ra(b),f=c*Ra(a);a=c*Ma(a);b=Ma(b);c=Tb*b-Ub*a;var g=Ub*f-Sb*b,h=Sb*a-Tb*f,m=Hh(c,g,h),l=Qb(m);m=m&&-l/m;Ih.add(m*c);Jh.add(m*g);Kh.add(m*h);Ff+=l;Gf+=l*(Sb+(Sb=f));Hf+=l*(Tb+(Tb=a));If+=l*(Ub+(Ub=b));pe(Sb,Tb,Ub)}function Ed(a){return function(){return a}}function Lh(a,b){function c(f,g){return f=a(f,g),b(f[0],f[1])}a.invert&&
b.invert&&(c.invert=function(f,g){return f=b.invert(f,g),f&&a.invert(f[0],f[1])});return c}function Mh(a,b){return[db(a)>ab?a+Math.round(-a/Vb)*Vb:a,b]}function Nh(a,b,c){return(a%=Vb)?b||c?Lh(rl(a),sl(b,c)):rl(a):b||c?sl(b,c):Mh}function tl(a){return function(b,c){return b+=a,[b>ab?b-Vb:b<-ab?b+Vb:b,c]}}function rl(a){var b=tl(a);b.invert=tl(-a);return b}function sl(a,b){function c(l,n){var x=Ra(n),C=Ra(l)*x;l=Ma(l)*x;n=Ma(n);x=n*f+C*g;return[Rb(l*h-x*m,C*f-n*g),Qb(x*h+l*m)]}var f=Ra(a),g=Ma(a),
h=Ra(b),m=Ma(b);c.invert=function(l,n){var x=Ra(n),C=Ra(l)*x;l=Ma(l)*x;n=Ma(n);x=n*h-l*m;return[Rb(l*h+n*m,C*f+x*g),Qb(x*f-C*g)]};return c}function ul(a){function b(c){c=a(c[0]*Ta,c[1]*Ta);return c[0]*=jb,c[1]*=jb,c}a=Nh(a[0]*Ta,a[1]*Ta,2<a.length?a[2]*Ta:0);b.invert=function(c){c=a.invert(c[0]*Ta,c[1]*Ta);return c[0]*=jb,c[1]*=jb,c};return b}function vl(a,b,c,f,g,h){if(c){var m=Ra(b),l=Ma(b);c*=f;if(null==g)g=b+f*Vb,h=b-c/2;else if(g=wl(m,g),h=wl(m,h),0<f?g<h:g>h)g+=f*Vb;for(;0<f?g>h:g<h;g-=c)b=
yf([m,-l*Ra(g),-l*Ma(g)]),a.point(b[0],b[1])}}function wl(a,b){b=dd(b);b[0]-=a;Bf(b);a=Yk(-b[1]);return((0>-b[2]?-a:a)+Vb-1E-6)%Vb}function xl(){var a=[],b;return{point:function(c,f,g){b.push([c,f,g])},lineStart:function(){a.push(b=[])},lineEnd:pb,rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))},result:function(){var c=a;a=[];b=null;return c}}}function Jf(a,b){return 1E-6>db(a[0]-b[0])&&1E-6>db(a[1]-b[1])}function Kf(a,b,c,f){this.x=a;this.z=b;this.o=c;this.e=f;this.v=!1;this.n=this.p=
null}function yl(a,b,c,f,g){var h=[],m=[];a.forEach(function(t){if(!(0>=(u=t.length-1))){var u,v=t[0],y=t[u];if(Jf(v,y)){if(!v[2]&&!y[2]){g.lineStart();for(l=0;l<u;++l)g.point((v=t[l])[0],v[1]);g.lineEnd();return}y[0]+=2E-6}h.push(u=new Kf(v,t,null,!0));m.push(u.o=new Kf(v,null,u,!1));h.push(u=new Kf(y,t,null,!1));m.push(u.o=new Kf(y,null,u,!0))}});if(h.length){m.sort(b);zl(h);zl(m);var l=0;for(a=m.length;l<a;++l)m[l].e=c=!c;c=h[0];for(var n;;){for(var x=c,C=!0;x.v;)if((x=x.n)===c)return;b=x.z;g.lineStart();
do{x.v=x.o.v=!0;if(x.e){if(C)for(l=0,a=b.length;l<a;++l)g.point((n=b[l])[0],n[1]);else f(x.x,x.n.x,1,g);x=x.n}else{if(C)for(b=x.p.z,l=b.length-1;0<=l;--l)g.point((n=b[l])[0],n[1]);else f(x.x,x.p.x,-1,g);x=x.p}x=x.o;b=x.z;C=!C}while(!x.v);g.lineEnd()}}}function zl(a){if(b=a.length){for(var b,c=0,f=a[0],g;++c<b;)f.n=g=a[c],g.p=f,f=g;f.n=g=a[0];g.p=f}}function Oh(a){return db(a[0])<=ab?a[0]:ec(a[0])*((db(a[0])+ab)%Vb-ab)}function Al(a,b){var c=Oh(b);b=b[1];var f=Ma(b),g=[Ma(c),-Ra(c),0],h=0,m=0,l=new ub;
1===f?b=nb+1E-6:-1===f&&(b=-nb-1E-6);f=0;for(var n=a.length;f<n;++f)if(C=(x=a[f]).length){var x,C,t=x[C-1],u=Oh(t),v=t[1]/2+wf,y=Ma(v),q=Ra(v);for(v=0;v<C;++v,u=w,y=B,q=D,t=r){var r=x[v],w=Oh(r);D=r[1]/2+wf;var B=Ma(D),D=Ra(D),J=w-u,M=0<=J?1:-1,P=M*J,W=P>ab;y*=B;l.add(Rb(y*M*Ma(P),q*D+y*Ra(P)));h+=W?J+M*Vb:J;W^u>=c^w>=c&&(t=Cd(dd(t),dd(r)),Bf(t),u=Cd(g,t),Bf(u),u=(W^0<=J?-1:1)*Qb(u[2]),b>u||b===u&&(t[0]||t[1]))&&(m+=W^0<=J?1:-1)}}return(-1E-6>h||1E-6>h&&-1E-12>l)^m&1}function Bl(a,b,c,f){return function(g){function h(J,
M){a(J,M)&&g.point(J,M)}function m(J,M){u.point(J,M)}function l(){D.point=m;u.lineStart()}function n(){D.point=h;u.lineEnd()}function x(J,M){B.push([J,M]);y.point(J,M)}function C(){y.lineStart();B=[]}function t(){x(B[0][0],B[0][1]);y.lineEnd();var J=y.clean(),M=v.result(),P=M.length,W;B.pop();r.push(B);B=null;if(P)if(J&1){if(P=M[0],0<(M=P.length-1)){q||(g.polygonStart(),q=!0);g.lineStart();for(J=0;J<M;++J)g.point((W=P[J])[0],W[1]);g.lineEnd()}}else 1<P&&J&2&&M.push(M.pop().concat(M.shift())),w.push(M.filter(xs))}
var u=b(g),v=xl(),y=b(v),q=!1,r,w,B,D={point:h,lineStart:l,lineEnd:n,polygonStart:function(){D.point=x;D.lineStart=C;D.lineEnd=t;w=[];r=[]},polygonEnd:function(){D.point=h;D.lineStart=l;D.lineEnd=n;w=Kg(w);var J=Al(r,f);w.length?(q||(g.polygonStart(),q=!0),yl(w,ys,J,c,g)):J&&(q||(g.polygonStart(),q=!0),g.lineStart(),c(null,null,1,g),g.lineEnd());q&&(g.polygonEnd(),q=!1);w=r=null},sphere:function(){g.polygonStart();g.lineStart();c(null,null,1,g);g.lineEnd();g.polygonEnd()}};return D}}function xs(a){return 1<
a.length}function ys(a,b){return(0>(a=a.x)[0]?a[1]-nb-1E-6:nb-a[1])-(0>(b=b.x)[0]?b[1]-nb-1E-6:nb-b[1])}function Cl(a){function b(n,x){return Ra(n)*Ra(x)>g}function c(n,x,C){var t=dd(n),u=dd(x),v=[1,0,0];u=Cd(t,u);var y=zf(u,u);t=u[0];var q=y-t*t;if(!q)return!C&&n;y=g*y/q;q=-g*t/q;t=Cd(v,u);v=Af(v,y);u=Af(u,q);Eh(v,u);u=zf(v,t);y=zf(t,t);q=u*u-y*(zf(v,v)-1);if(!(0>q)){var r=Bb(q);q=Af(t,(-u-r)/y);Eh(q,v);q=yf(q);if(!C)return q;C=n[0];var w=x[0];n=n[1];x=x[1];if(w<C){var B=C;C=w;w=B}var D=w-C,J=1E-6>
db(D-ab);!J&&x<n&&(B=n,n=x,x=B);if(J||1E-6>D?J?0<n+x^q[1]<(1E-6>db(q[0]-C)?n:x):n<=q[1]&&q[1]<=x:D>ab^(C<=q[0]&&q[0]<=w))return x=Af(t,(-u+r)/y),Eh(x,v),[q,yf(x)]}}function f(n,x){var C=m?a:ab-a,t=0;n<-C?t|=1:n>C&&(t|=2);x<-C?t|=4:x>C&&(t|=8);return t}var g=Ra(a),h=6*Ta,m=0<g,l=1E-6<db(g);return Bl(b,function(n){var x,C,t,u,v;return{lineStart:function(){u=t=!1;v=1},point:function(y,q){var r=[y,q],w=b(y,q);q=m?w?0:f(y,q):w?f(y+(0>y?ab:-ab),q):0;!x&&(u=t=w)&&n.lineStart();w!==t&&(y=c(x,r),!y||Jf(x,
y)||Jf(r,y))&&(r[2]=1);if(w!==t)v=0,w?(n.lineStart(),y=c(r,x),n.point(y[0],y[1])):(y=c(x,r),n.point(y[0],y[1],2),n.lineEnd()),x=y;else if(l&&x&&m^w){var B;q&C||!(B=c(r,x,!0))||(v=0,m?(n.lineStart(),n.point(B[0][0],B[0][1]),n.point(B[1][0],B[1][1]),n.lineEnd()):(n.point(B[1][0],B[1][1]),n.lineEnd(),n.lineStart(),n.point(B[0][0],B[0][1],3)))}!w||x&&Jf(x,r)||n.point(r[0],r[1]);x=r;t=w;C=q},lineEnd:function(){t&&n.lineEnd();x=null},clean:function(){return v|(u&&t)<<1}}},function(n,x,C,t){vl(t,a,h,C,n,
x)},m?[0,-a]:[-ab,a-ab])}function zs(a,b,c,f,g,h){var m=a[0],l=a[1],n=0,x=1,C=b[0]-m,t=b[1]-l;c-=m;if(C||!(0<c)){c/=C;if(0>C){if(c<n)return;c<x&&(x=c)}else if(0<C){if(c>x)return;c>n&&(n=c)}c=g-m;if(C||!(0>c)){c/=C;if(0>C){if(c>x)return;c>n&&(n=c)}else if(0<C){if(c<n)return;c<x&&(x=c)}c=f-l;if(t||!(0<c)){c/=t;if(0>t){if(c<n)return;c<x&&(x=c)}else if(0<t){if(c>x)return;c>n&&(n=c)}c=h-l;if(t||!(0>c)){c/=t;if(0>t){if(c>x)return;c>n&&(n=c)}else if(0<t){if(c<n)return;c<x&&(x=c)}0<n&&(a[0]=m+n*C,a[1]=l+
n*t);1>x&&(b[0]=m+x*C,b[1]=l+x*t);return!0}}}}}function Lf(a,b,c,f){function g(n,x,C,t){var u=0,v=0;if(null==n||(u=h(n,C))!==(v=h(x,C))||0>l(n,x)^0<C){do t.point(0===u||3===u?a:c,1<u?f:b);while((u=(u+C+4)%4)!==v)}else t.point(x[0],x[1])}function h(n,x){return 1E-6>db(n[0]-a)?0<x?0:3:1E-6>db(n[0]-c)?0<x?2:1:1E-6>db(n[1]-b)?0<x?1:0:0<x?3:2}function m(n,x){return l(n.x,x.x)}function l(n,x){var C=h(n,1),t=h(x,1);return C!==t?C-t:0===C?x[1]-n[1]:1===C?n[0]-x[0]:2===C?n[1]-x[1]:x[0]-n[0]}return function(n){function x(R,
S){a<=R&&R<=c&&b<=S&&S<=f&&t.point(R,S)}function C(R,S){var la=a<=R&&R<=c&&b<=S&&S<=f;y&&q.push([R,S]);if(P)r=R,w=S,B=la,P=!1,la&&(t.lineStart(),t.point(R,S));else if(la&&M)t.point(R,S);else{var ia=[D=Math.max(-1E9,Math.min(1E9,D)),J=Math.max(-1E9,Math.min(1E9,J))],qa=[R=Math.max(-1E9,Math.min(1E9,R)),S=Math.max(-1E9,Math.min(1E9,S))];zs(ia,qa,a,b,c,f)?(M||(t.lineStart(),t.point(ia[0],ia[1])),t.point(qa[0],qa[1]),la||t.lineEnd(),W=!1):la&&(t.lineStart(),t.point(R,S),W=!1)}D=R;J=S;M=la}var t=n,u=xl(),
v,y,q,r,w,B,D,J,M,P,W,fa={point:x,lineStart:function(){fa.point=C;y&&y.push(q=[]);P=!0;M=!1;D=J=NaN},lineEnd:function(){v&&(C(r,w),B&&M&&u.rejoin(),v.push(u.result()));fa.point=x;M&&t.lineEnd()},polygonStart:function(){t=u;v=[];y=[];W=!0},polygonEnd:function(){for(var R,S=R=0,la=y.length;S<la;++S){var ia=y[S],qa=1,Ga=ia.length,pa=ia[0],Ea=pa[0];for(pa=pa[1];qa<Ga;++qa){var Qa=Ea;var L=pa;pa=ia[qa];Ea=pa[0];pa=pa[1];L<=f?pa>f&&(Ea-Qa)*(f-L)>(pa-L)*(a-Qa)&&++R:pa<=f&&(Ea-Qa)*(f-L)<(pa-L)*(a-Qa)&&--R}}S=
W&&R;la=(v=Kg(v)).length;if(S||la)n.polygonStart(),S&&(n.lineStart(),g(null,null,1,n),n.lineEnd()),la&&yl(v,m,R,g,n),n.polygonEnd();t=n;v=y=q=null}};return fa}}function As(){Fd.point=Fd.lineEnd=pb}function Bs(a,b){a*=Ta;b*=Ta;Ph=a;Mf=Ma(b);Nf=Ra(b);Fd.point=Cs}function Cs(a,b){a*=Ta;b*=Ta;var c=Ma(b);b=Ra(b);var f=db(a-Ph),g=Ra(f);f=Ma(f);f*=b;var h=Nf*c-Mf*b*g;g=Mf*c+Nf*b*g;Qh.add(Rb(Bb(f*f+h*h),g));Ph=a;Mf=c;Nf=b}function Dl(a){Qh=new ub;mc(a,Fd);return+Qh}function re(a,b){Rh[0]=a;Rh[1]=b;return Dl(Ds)}
function Of(a,b){return a&&El.hasOwnProperty(a.type)?El[a.type](a,b):!1}function Fl(a,b){for(var c,f,g,h=0,m=a.length;h<m;h++){f=re(a[h],b);if(0===f||0<h&&(g=re(a[h],a[h-1]),0<g&&c<=g&&f<=g&&(c+f-g)*(1-Math.pow((c-f)/g,2))<1E-12*g))return!0;c=f}return!1}function Gl(a,b){return!!Al(a.map(Es),Hl(b))}function Es(a){return a=a.map(Hl),a.pop(),a}function Hl(a){return[a[0]*Ta,a[1]*Ta]}function Il(a,b,c){var f=oc(a,b-1E-6,c).concat(b);return function(g){return f.map(function(h){return[g,h]})}}function Jl(a,
b,c){var f=oc(a,b-1E-6,c).concat(b);return function(g){return f.map(function(h){return[h,g]})}}function Kl(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return oc(Pf(h/u)*u,g,u).map(r).concat(oc(Pf(x/v)*v,n,v).map(w)).concat(oc(Pf(f/C)*C,c,C).filter(function(D){return 1E-6<db(D%u)}).map(y)).concat(oc(Pf(l/t)*t,m,t).filter(function(D){return 1E-6<db(D%v)}).map(q))}var c,f,g,h,m,l,n,x,C=10,t=C,u=90,v=360,y,q,r,w,B=2.5;a.lines=function(){return b().map(function(D){return{type:"LineString",
coordinates:D}})};a.outline=function(){return{type:"Polygon",coordinates:[r(h).concat(w(n).slice(1),r(g).reverse().slice(1),w(x).reverse().slice(1))]}};a.extent=function(D){return arguments.length?a.extentMajor(D).extentMinor(D):a.extentMinor()};a.extentMajor=function(D){if(!arguments.length)return[[h,x],[g,n]];h=+D[0][0];g=+D[1][0];x=+D[0][1];n=+D[1][1];h>g&&(D=h,h=g,g=D);x>n&&(D=x,x=n,n=D);return a.precision(B)};a.extentMinor=function(D){if(!arguments.length)return[[f,l],[c,m]];f=+D[0][0];c=+D[1][0];
l=+D[0][1];m=+D[1][1];f>c&&(D=f,f=c,c=D);l>m&&(D=l,l=m,m=D);return a.precision(B)};a.step=function(D){return arguments.length?a.stepMajor(D).stepMinor(D):a.stepMinor()};a.stepMajor=function(D){if(!arguments.length)return[u,v];u=+D[0];v=+D[1];return a};a.stepMinor=function(D){if(!arguments.length)return[C,t];C=+D[0];t=+D[1];return a};a.precision=function(D){if(!arguments.length)return B;B=+D;y=Il(l,m,90);q=Jl(f,c,B);r=Il(x,n,90);w=Jl(h,g,B);return a};return a.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,
-80.000001],[180,80.000001]])}function Fs(){Ec.point=Gs}function Gs(a,b){Ec.point=Ll;Ml=Sh=a;Nl=Th=b}function Ll(a,b){Uh.add(Th*a-Sh*b);Sh=a;Th=b}function Hs(){Ll(Ml,Nl)}function fd(a,b){Vh+=a;Wh+=b;++se}function Ol(){fc.point=Is}function Is(a,b){fc.point=Js;fd(uc=a,vc=b)}function Js(a,b){var c=a-uc,f=b-vc;c=Bb(c*c+f*f);Qf+=c*(uc+a)/2;Rf+=c*(vc+b)/2;Gd+=c;fd(uc=a,vc=b)}function Pl(){fc.point=fd}function Ks(){fc.point=Ls}function Ms(){Ql(Rl,Sl)}function Ls(a,b){fc.point=Ql;fd(Rl=uc=a,Sl=vc=b)}function Ql(a,
b){var c=a-uc,f=b-vc;c=Bb(c*c+f*f);Qf+=c*(uc+a)/2;Rf+=c*(vc+b)/2;Gd+=c;c=vc*a-uc*b;Xh+=c*(uc+a);Yh+=c*(vc+b);te+=3*c;fd(uc=a,vc=b)}function Tl(a){this._context=a}function Ns(a,b){ue.point=Ul;Vl=ve=a;Wl=we=b}function Ul(a,b){ve-=a;we-=b;Zh.add(Bb(ve*ve+we*we));ve=a;we=b}function Xl(){this._string=[]}function Yl(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function xe(a){return function(b){var c=new $h,f;for(f in a)c[f]=a[f];c.stream=b;return c}}function $h(){}function ai(a,
b,c){var f=a.clipExtent&&a.clipExtent();a.scale(150).translate([0,0]);null!=f&&a.clipExtent(null);mc(c,a.stream(Sf));b(Sf.result());null!=f&&a.clipExtent(f);return a}function Hd(a,b,c){return ai(a,function(f){var g=b[1][0]-b[0][0],h=b[1][1]-b[0][1],m=Math.min(g/(f[1][0]-f[0][0]),h/(f[1][1]-f[0][1]));g=+b[0][0]+(g-m*(f[1][0]+f[0][0]))/2;f=+b[0][1]+(h-m*(f[1][1]+f[0][1]))/2;a.scale(150*m).translate([g,f])},c)}function bi(a,b,c){return ai(a,function(f){var g=+b,h=g/(f[1][0]-f[0][0]);g=(g-h*(f[1][0]+
f[0][0]))/2;f=-h*f[0][1];a.scale(150*h).translate([g,f])},c)}function ci(a,b,c){return ai(a,function(f){var g=+b,h=g/(f[1][1]-f[0][1]),m=-h*f[0][0];f=(g-h*(f[1][1]+f[0][1]))/2;a.scale(150*h).translate([m,f])},c)}function Zl(a){return xe({point:function(b,c){b=a(b,c);this.stream.point(b[0],b[1])}})}function $l(a,b){function c(f,g,h,m,l,n,x,C,t,u,v,y,q,r){var w=x-f,B=C-g,D=w*w+B*B;if(D>4*b&&q--){var J=m+u,M=l+v,P=n+y,W=Bb(J*J+M*M+P*P),fa=Qb(P/=W),R=1E-6>db(db(P)-1)||1E-6>db(h-t)?(h+t)/2:Rb(M,J),S=a(R,
fa);fa=S[0];S=S[1];var la=fa-f,ia=S-g,qa=B*la-w*ia;if(qa*qa/D>b||.3<db((w*la+B*ia)/D-.5)||m*u+l*v+n*y<Os)c(f,g,h,m,l,n,fa,S,R,J/=W,M/=W,P,q,r),r.point(fa,S),c(fa,S,R,J,M,P,x,C,t,u,v,y,q,r)}}return function(f){function g(fa,R){fa=a(fa,R);f.point(fa[0],fa[1])}function h(){B=NaN;W.point=m;f.lineStart()}function m(fa,R){var S=dd([fa,R]);R=a(fa,R);c(B,D,w,J,M,P,B=R[0],D=R[1],w=fa,J=S[0],M=S[1],P=S[2],16,f);f.point(B,D)}function l(){W.point=g;f.lineEnd()}function n(){h();W.point=x;W.lineEnd=C}function x(fa,
R){m(t=fa,R);u=B;v=D;y=J;q=M;r=P;W.point=m}function C(){c(B,D,w,J,M,P,u,v,t,y,q,r,16,f);W.lineEnd=l;l()}var t,u,v,y,q,r,w,B,D,J,M,P,W={point:g,lineStart:h,lineEnd:l,polygonStart:function(){f.polygonStart();W.lineStart=n},polygonEnd:function(){f.polygonEnd();W.lineStart=h}};return W}}function Ps(a){return xe({point:function(b,c){b=a(b,c);return this.stream.point(b[0],b[1])}})}function Qs(a,b,c,f,g){function h(m,l){m*=f;l*=g;return[b+a*m,c-a*l]}h.invert=function(m,l){return[(m-b)/a*f,(c-l)/a*g]};return h}
function am(a,b,c,f,g,h){function m(y,q){y*=f;q*=g;return[n*y-x*q+b,c-x*y-n*q]}if(!h)return Qs(a,b,c,f,g);var l=Ra(h);h=Ma(h);var n=l*a,x=h*a,C=l/a,t=h/a,u=(h*c-l*b)/a,v=(h*b+l*c)/a;m.invert=function(y,q){return[f*(C*y-t*q+u),g*(v-t*y-C*q)]};return m}function wc(a){return di(function(){return a})()}function di(a){function b(pa){return ia(pa[0]*Ta,pa[1]*Ta)}function c(pa){return(pa=ia.invert(pa[0],pa[1]))&&[pa[0]*jb,pa[1]*jb]}function f(){var pa=am(m,0,0,r,w,q).apply(null,h(x,C));pa=am(m,l-pa[0],n-
pa[1],r,w,q);y=Nh(t,u,v);la=Lh(h,pa);ia=Lh(y,la);pa=la;S=+R?$l(pa,R):Zl(pa);return g()}function g(){qa=Ga=null;return b}var h,m=150,l=480,n=250,x=0,C=0,t=0,u=0,v=0,y,q=0,r=1,w=1,B=null,D=ei,J=null,M,P,W,fa=ye,R=.5,S,la,ia,qa,Ga;b.stream=function(pa){return qa&&Ga===pa?qa:qa=Rs(Ps(y)(D(S(fa(Ga=pa)))))};b.preclip=function(pa){return arguments.length?(D=pa,B=void 0,g()):D};b.postclip=function(pa){return arguments.length?(fa=pa,J=M=P=W=null,g()):fa};b.clipAngle=function(pa){return arguments.length?(D=
+pa?Cl(B=pa*Ta):(B=null,ei),g()):B*jb};b.clipExtent=function(pa){return arguments.length?(fa=null==pa?(J=M=P=W=null,ye):Lf(J=+pa[0][0],M=+pa[0][1],P=+pa[1][0],W=+pa[1][1]),g()):null==J?null:[[J,M],[P,W]]};b.scale=function(pa){return arguments.length?(m=+pa,f()):m};b.translate=function(pa){return arguments.length?(l=+pa[0],n=+pa[1],f()):[l,n]};b.center=function(pa){return arguments.length?(x=pa[0]%360*Ta,C=pa[1]%360*Ta,f()):[x*jb,C*jb]};b.rotate=function(pa){return arguments.length?(t=pa[0]%360*Ta,
u=pa[1]%360*Ta,v=2<pa.length?pa[2]%360*Ta:0,f()):[t*jb,u*jb,v*jb]};b.angle=function(pa){return arguments.length?(q=pa%360*Ta,f()):q*jb};b.reflectX=function(pa){return arguments.length?(r=pa?-1:1,f()):0>r};b.reflectY=function(pa){return arguments.length?(w=pa?-1:1,f()):0>w};b.precision=function(pa){if(arguments.length){var Ea=la;var Qa=R=pa*pa;Ea=(S=+Qa?$l(Ea,Qa):Zl(Ea),g())}else Ea=Bb(R);return Ea};b.fitExtent=function(pa,Ea){return Hd(b,pa,Ea)};b.fitSize=function(pa,Ea){return Hd(b,[[0,0],pa],Ea)};
b.fitWidth=function(pa,Ea){return bi(b,pa,Ea)};b.fitHeight=function(pa,Ea){return ci(b,pa,Ea)};return function(){h=a.apply(this,arguments);b.invert=h.invert&&c;return f()}}function fi(a){var b=0,c=ab/3,f=di(a);a=f(b,c);a.parallels=function(g){return arguments.length?f(b=g[0]*Ta,c=g[1]*Ta):[b*jb,c*jb]};return a}function Ss(a){function b(f,g){return[f*c,Ma(g)/c]}var c=Ra(a);b.invert=function(f,g){return[f/c,Qb(g*c)]};return b}function bm(a,b){function c(l,n){n=Bb(h-2*g*Ma(n))/g;return[n*Ma(l*=g),m-
n*Ra(l)]}var f=Ma(a),g=(f+Ma(b))/2;if(1E-6>db(g))return Ss(a);var h=1+f*(2*g-f),m=Bb(h)/g;c.invert=function(l,n){n=m-n;var x=Rb(l,db(n))*ec(n);0>n*g&&(x-=ab*ec(l)*ec(n));return[x/g,Qb((h-(l*l+n*n)*g*g)/(2*g))]};return c}function Tf(){return fi(bm).scale(155.424).center([0,33.6442])}function cm(){return Tf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ts(a){var b=a.length;return{point:function(c,f){for(var g=-1;++g<b;)a[g].point(c,f)},sphere:function(){for(var c=
-1;++c<b;)a[c].sphere()},lineStart:function(){for(var c=-1;++c<b;)a[c].lineStart()},lineEnd:function(){for(var c=-1;++c<b;)a[c].lineEnd()},polygonStart:function(){for(var c=-1;++c<b;)a[c].polygonStart()},polygonEnd:function(){for(var c=-1;++c<b;)a[c].polygonEnd()}}}function dm(a){return function(b,c){var f=Ra(b),g=Ra(c);f=a(f*g);return Infinity===f?[2,0]:[f*g*Ma(b),f*Ma(c)]}}function ze(a){return function(b,c){var f=Bb(b*b+c*c),g=a(f),h=Ma(g);g=Ra(g);return[Rb(b*h,f*g),Qb(f&&c*h/f)]}}function Ae(a,
b){return[a,Uf(Id((nb+b)/2))]}function em(a){function b(){var t=ab*g(),u=c(ul(c.rotate()).invert([0,0]));return m(null==l?[[u[0]-t,u[1]-t],[u[0]+t,u[1]+t]]:a===Ae?[[Math.max(u[0]-t,l),n],[Math.min(u[0]+t,x),C]]:[[l,Math.max(u[1]-t,n)],[x,Math.min(u[1]+t,C)]])}var c=wc(a),f=c.center,g=c.scale,h=c.translate,m=c.clipExtent,l=null,n,x,C;c.scale=function(t){return arguments.length?(g(t),b()):g()};c.translate=function(t){return arguments.length?(h(t),b()):h()};c.center=function(t){return arguments.length?
(f(t),b()):f()};c.clipExtent=function(t){return arguments.length?(null==t?l=n=x=C=null:(l=+t[0][0],n=+t[0][1],x=+t[1][0],C=+t[1][1]),b()):null==l?null:[[l,n],[x,C]]};return b()}function fm(a,b){function c(m,l){0<h?l<-nb+1E-6&&(l=-nb+1E-6):l>nb-1E-6&&(l=nb-1E-6);l=h/gi(Id((nb+l)/2),g);return[l*Ma(g*m),h-l*Ra(g*m)]}var f=Ra(a),g=a===b?Ma(a):Uf(f/Ra(b))/Uf(Id((nb+b)/2)/Id((nb+a)/2)),h=f*gi(Id((nb+a)/2),g)/g;if(!g)return Ae;c.invert=function(m,l){l=h-l;var n=ec(g)*Bb(m*m+l*l),x=Rb(m,db(l))*ec(l);0>l*
g&&(x-=ab*ec(m)*ec(l));return[x/g,2*Jd(gi(h/n,1/g))-nb]};return c}function Be(a,b){return[a,b]}function gm(a,b){function c(m,l){l=h-l;m*=g;return[l*Ma(m),h-l*Ra(m)]}var f=Ra(a),g=a===b?Ma(a):(f-Ra(b))/(b-a),h=f/g+a;if(1E-6>db(g))return Be;c.invert=function(m,l){l=h-l;var n=Rb(m,db(l))*ec(l);0>l*g&&(n-=ab*ec(m)*ec(l));return[n/g,h-ec(g)*Bb(m*m+l*l)]};return c}function hi(a,b){b=Qb(Vf*Ma(b));var c=b*b,f=c*c*c;return[a*Ra(b)/(Vf*(1.340264+3*-.081106*c+f*(7*8.93E-4+.034164*c))),b*(1.340264+-.081106*c+
f*(8.93E-4+.003796*c))]}function ii(a,b){var c=Ra(b),f=Ra(a)*c;return[c*Ma(a)/f,Ma(b)/f]}function ji(a,b){var c=b*b,f=c*c;return[a*(.8707-.131979*c+f*(-.013791+f*(.003971*c-.001529*f))),b*(1.007226+c*(.015085+f*(-.044475+.028874*c-.005916*f)))]}function ki(a,b){return[Ra(b)*Ma(a),Ma(b)]}function li(a,b){var c=Ra(b),f=1+Ra(a)*c;return[c*Ma(a)/f,Ma(b)/f]}function mi(a,b){return[Uf(Id((nb+b)/2)),-a]}function Us(a,b){return a.parent===b.parent?1:2}function Vs(a,b){return a+b.x}function Ws(a,b){return Math.max(a,
b.y)}function Xs(a){for(var b;b=a.children;)a=b[0];return a}function Ys(a){for(var b;b=a.children;)a=b[b.length-1];return a}function Zs(a){var b=0,c=a.children,f=c&&c.length;if(f)for(;0<=--f;)b+=c[f].value;else b=1;a.value=b}function hm(){var a=this,b,c,f,g,h,m;return $jscomp.generator.createGenerator(hm,function(l){switch(l.nextAddress){case 1:b=a,f=[b];case 2:c=f.reverse(),f=[];case 5:if(!(b=c.pop())){l.jumpTo(4);break}return l.yield(b,7);case 7:if(g=b.children)for(h=0,m=g.length;h<m;++h)f.push(g[h]);
l.jumpTo(5);break;case 4:f.length?l.jumpTo(2):l.jumpToEnd()}})}function ni(a,b){a instanceof Map?(a=[void 0,a],void 0===b&&(b=$s)):void 0===b&&(b=at);a=new Kd(a);for(var c,f=[a],g,h,m,l;c=f.pop();)if((h=b(c.data))&&(l=(h=Array.from(h)).length))for(c.children=h,m=l-1;0<=m;--m)f.push(g=h[m]=new Kd(h[m])),g.parent=c,g.depth=c.depth+1;return a.eachBefore(im)}function at(a){return a.children}function $s(a){return Array.isArray(a)?a[1]:null}function bt(a){void 0!==a.data.value&&(a.value=a.data.value);a.data=
a.data.data}function im(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function Kd(a){this.data=a;this.depth=this.height=0;this.parent=null}function jm(a){var b=0;a=Array.from(a);for(var c=a.length,f,g;c;)g=Math.random()*c--|0,f=a[c],a[c]=a[g],a[g]=f;c=a.length;f=[];for(var h;b<c;)if(g=a[b],h&&km(h,g))++b;else{a:if(b=f,oi(g,b))b=[g];else{for(f=0;f<b.length;++f)if(Wf(g,b[f])&&oi(Ce(b[f],g),b)){b=[b[f],g];break a}for(f=0;f<b.length-1;++f)for(h=f+1;h<b.length;++h)if(Wf(Ce(b[f],b[h]),g)&&
Wf(Ce(b[f],g),b[h])&&Wf(Ce(b[h],g),b[f])&&oi(lm(b[f],b[h],g),b)){b=[b[f],b[h],g];break a}throw Error();}a:{b=f=b;switch(b.length){case 1:b=b[0];b={x:b.x,y:b.y,r:b.r};break a;case 2:b=Ce(b[0],b[1]);break a;case 3:b=lm(b[0],b[1],b[2]);break a}b=void 0}h=b;b=0}return h}function Wf(a,b){var c=a.r-b.r,f=b.x-a.x;a=b.y-a.y;return 0>c||c*c<f*f+a*a}function km(a,b){var c=a.r-b.r+1E-9*Math.max(a.r,b.r,1),f=b.x-a.x;a=b.y-a.y;return 0<c&&c*c>f*f+a*a}function oi(a,b){for(var c=0;c<b.length;++c)if(!km(a,b[c]))return!1;
return!0}function Ce(a,b){var c=a.x,f=a.y;a=a.r;var g=b.x,h=b.y;b=b.r;var m=g-c,l=h-f,n=b-a,x=Math.sqrt(m*m+l*l);return{x:(c+g+m/x*n)/2,y:(f+h+l/x*n)/2,r:(x+a+b)/2}}function lm(a,b,c){var f=a.x,g=a.y;a=a.r;var h=b.x,m=b.y,l=b.r,n=c.x,x=c.y,C=c.r;c=f-h;b=f-n;var t=g-m,u=g-x,v=l-a,y=C-a,q=f*f+g*g-a*a;m=q-h*h-m*m+l*l;x=q-n*n-x*x+C*C;n=b*t-c*u;h=(t*x-u*m)/(2*n)-f;t=(u*v-t*y)/n;u=(b*m-c*x)/(2*n)-g;c=(c*y-b*v)/n;b=t*t+c*c-1;v=2*(a+h*t+u*c);a=h*h+u*u-a*a;a=-(b?(v+Math.sqrt(v*v-4*b*a))/(2*b):a/v);return{x:f+
h+t*a,y:g+u+c*a,r:a}}function mm(a,b,c){var f=a.x-b.x,g=a.y-b.y,h=f*f+g*g;if(h){var m=b.r+c.r;m*=m;var l=a.r+c.r;l*=l;if(m>l){var n=(h+l-m)/(2*h);m=Math.sqrt(Math.max(0,l/h-n*n));c.x=a.x-n*f-m*g;c.y=a.y-n*g+m*f}else n=(h+m-l)/(2*h),m=Math.sqrt(Math.max(0,m/h-n*n)),c.x=b.x+n*f-m*g,c.y=b.y+n*g+m*f}else c.x=b.x+c.r,c.y=b.y}function nm(a,b){var c=a.r+b.r-1E-6,f=b.x-a.x;a=b.y-a.y;return 0<c&&c*c>f*f+a*a}function om(a){var b=a._,c=a.next._,f=b.r+c.r;a=(b.x*c.r+c.x*b.r)/f;b=(b.y*c.r+c.y*b.r)/f;return a*
a+b*b}function Xf(a){this._=a;this.previous=this.next=null}function pm(a){if(!(c=(a="object"===typeof a&&"length"in a?a:Array.from(a)).length))return 0;var b,c;var f=a[0];f.x=0;f.y=0;if(!(1<c))return f.r;var g=a[1];f.x=-g.r;g.x=f.r;g.y=0;if(!(2<c))return f.r+g.r;mm(g,f,b=a[2]);f=new Xf(f);g=new Xf(g);b=new Xf(b);f.next=b.previous=g;g.next=f.previous=b;b.next=g.previous=f;var h=3;a:for(;h<c;++h){mm(f._,g._,b=a[h]);b=new Xf(b);var m=g.next;var l=f.previous;var n=g._.r;var x=f._.r;do if(n<=x){if(nm(m._,
b._)){g=m;f.next=g;g.previous=f;--h;continue a}n+=m._.r;m=m.next}else{if(nm(l._,b._)){f=l;f.next=g;g.previous=f;--h;continue a}x+=l._.r;l=l.previous}while(m!==l.next);b.previous=f;b.next=g;f.next=g.previous=g=b;for(m=om(f);(b=b.next)!==g;)(l=om(b))<m&&(f=b,m=l);g=f.next}f=[g._];for(b=g;(b=b.next)!==g;)f.push(b._);b=jm(f);for(h=0;h<c;++h)f=a[h],f.x-=b.x,f.y-=b.y;return b.r}function Yf(a){if("function"!==typeof a)throw Error();return a}function gd(){return 0}function Ld(a){return function(){return a}}
function ct(a){return Math.sqrt(a.value)}function qm(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function pi(a,b){return function(c){if(f=c.children){var f,g,h=f.length,m=a(c)*b||0;if(m)for(g=0;g<h;++g)f[g].r+=m;var l=pm(f);if(m)for(g=0;g<h;++g)f[g].r-=m;c.r=l+m}}}function rm(a){return function(b){var c=b.parent;b.r*=a;c&&(b.x=c.x+a*b.x,b.y=c.y+a*b.y)}}function sm(a){a.x0=Math.round(a.x0);a.y0=Math.round(a.y0);a.x1=Math.round(a.x1);a.y1=Math.round(a.y1)}function De(a,b,c,f,g){var h=
a.children,m=-1,l=h.length;for(f=a.value&&(f-b)/a.value;++m<l;)a=h[m],a.y0=c,a.y1=g,a.x0=b,a.x1=b+=a.value*f}function dt(a){return a.id}function et(a){return a.parentId}function ft(a,b){return a.parent===b.parent?1:2}function qi(a){var b=a.children;return b?b[0]:a.t}function ri(a){var b=a.children;return b?b[b.length-1]:a.t}function Zf(a,b){this._=a;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=b}function gt(a){a=new Zf(a,0);for(var b,c=[a],f,g,
h;b=c.pop();)if(g=b._.children)for(b.children=Array(f=g.length),h=f-1;0<=h;--h)c.push(f=b.children[h]=new Zf(g[h],h)),f.parent=b;(a.parent=new Zf(null,0)).children=[a];return a}function $f(a,b,c,f,g){var h=a.children,m=-1,l=h.length;for(g=a.value&&(g-c)/a.value;++m<l;)a=h[m],a.x0=b,a.x1=f,a.y0=c,a.y1=c+=a.value*g}function tm(a,b,c,f,g,h){for(var m=[],l=b.children,n,x,C=n=0,t=l.length,u,v=b.value,y,q,r,w,B,D;n<t;){b=g-c;u=h-f;do y=l[C++].value;while(!y&&C<t);q=r=y;D=Math.max(u/b,b/u)/(v*a);w=y*y*D;
for(B=Math.max(r/w,w/q);C<t;++C){y+=x=l[C].value;x<q&&(q=x);x>r&&(r=x);w=y*y*D;w=Math.max(r/w,w/q);if(w>B){y-=x;break}B=w}m.push(n={value:y,dice:b<u,children:l.slice(n,C)});n.dice?De(n,c,f,g,v?f+=u*y/v:h):$f(n,c,f,v?c+=b*y/v:g,h);v-=y;n=C}return m}function ht(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function it(a,b){return a[0]-b[0]||a[1]-b[1]}function um(a){var b=a.length,c=[0,1],f=2,g;for(g=2;g<b;++g){for(;1<f&&0>=ht(a[c[f-2]],a[c[f-1]],a[g]);)--f;c[f++]=g}return c.slice(0,f)}
function gc(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function Fc(a,b){switch(arguments.length){case 0:break;case 1:"function"===typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"===typeof b?this.interpolator(b):this.range(b)}return this}function si(){function a(h){var m=h+"",l=b.get(m);if(!l){if(g!==ti)return g;b.set(m,l=c.push(h))}return f[(l-1)%f.length]}var b=new Map,c=[],f=[],g=ti;a.domain=
function(h){if(!arguments.length)return c.slice();c=[];b=new Map;for(var m=$jscomp.makeIterator(h),l=m.next();!l.done;l=m.next()){l=l.value;var n=l+"";b.has(n)||b.set(n,c.push(l))}return a};a.range=function(h){return arguments.length?(f=Array.from(h),a):f.slice()};a.unknown=function(h){return arguments.length?(g=h,a):g};a.copy=function(){return si(c,f).unknown(g)};gc.apply(a,arguments);return a}function ui(){function a(){var u=c().length,v=h<g,y=v?h:g,q=v?g:h;m=(q-y)/Math.max(1,u-x+2*C);n&&(m=Math.floor(m));
y+=(q-y-m*(u-x))*t;l=m*(1-x);n&&(y=Math.round(y),l=Math.round(l));u=oc(u).map(function(r){return y+m*r});return f(v?u.reverse():u)}var b=si().unknown(void 0),c=b.domain,f=b.range,g=0,h=1,m,l,n=!1,x=0,C=0,t=.5;delete b.unknown;b.domain=function(u){return arguments.length?(c(u),a()):c()};b.range=function(u){if(arguments.length){var v=$jscomp.makeIterator(u);g=v.next().value;h=v.next().value;v=(g=+g,h=+h,a())}else v=[g,h];return v};b.rangeRound=function(u){u=$jscomp.makeIterator(u);g=u.next().value;
h=u.next().value;return g=+g,h=+h,n=!0,a()};b.bandwidth=function(){return l};b.step=function(){return m};b.round=function(u){return arguments.length?(n=!!u,a()):n};b.padding=function(u){return arguments.length?(x=Math.min(1,C=+u),a()):x};b.paddingInner=function(u){return arguments.length?(x=Math.min(1,u),a()):x};b.paddingOuter=function(u){return arguments.length?(C=+u,a()):C};b.align=function(u){return arguments.length?(t=Math.max(0,Math.min(1,u)),a()):t};b.copy=function(){return ui(c(),[g,h]).round(n).paddingInner(x).paddingOuter(C).align(t)};
return gc.apply(a(),arguments)}function vm(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;delete a.paddingOuter;a.copy=function(){return vm(b())};return a}function jt(a){return function(){return a}}function ag(a){return+a}function yb(a){return a}function vi(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:jt(isNaN(b)?NaN:.5)}function kt(a,b){if(a>b){var c=a;a=b;b=c}return function(f){return Math.max(a,Math.min(b,f))}}function lt(a,b,c){var f=a[0];a=a[1];var g=b[0];b=b[1];a<f?(f=vi(a,
f),g=c(b,g)):(f=vi(f,a),g=c(g,b));return function(h){return g(f(h))}}function mt(a,b,c){var f=Math.min(a.length,b.length)-1,g=Array(f),h=Array(f),m=-1;a[f]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++m<f;)g[m]=vi(a[m],a[m+1]),h[m]=c(b[m],b[m+1]);return function(l){var n=Jc(a,l,1,f)-1;return h[n](g[n](l))}}function Ee(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function Md(){function a(){var u=Math.min(c.length,
f.length);n!==yb&&(n=kt(c[0],c[u-1]));x=2<u?mt:lt;C=t=null;return b}function b(u){return null==u||isNaN(u=+u)?l:(C||(C=x(c.map(h),f,g)))(h(n(u)))}var c=wm,f=wm,g=Mc,h,m,l,n=yb,x,C,t;b.invert=function(u){return n(m((t||(t=x(f,c.map(h),dc)))(u)))};b.domain=function(u){return arguments.length?(c=Array.from(u,ag),a()):c.slice()};b.range=function(u){return arguments.length?(f=Array.from(u),a()):f.slice()};b.rangeRound=function(u){return f=Array.from(u),g=df,a()};b.clamp=function(u){return arguments.length?
(n=u?!0:yb,a()):n!==yb};b.interpolate=function(u){return arguments.length?(g=u,a()):g};b.unknown=function(u){return arguments.length?(l=u,b):l};return function(u,v){h=u;m=v;return a()}}function xm(a,b,c,f){c=Eb(a,b,c);var g;f=ne(null==f?",f":f);switch(f.type){case "s":return a=Math.max(Math.abs(a),Math.abs(b)),null!=f.precision||isNaN(g=Wk(c,a))||(f.precision=g),e.formatPrefix(f,a);case "":case "e":case "g":case "p":case "r":null!=f.precision||isNaN(g=Xk(c,Math.max(Math.abs(a),Math.abs(b))))||(f.precision=
g-("e"===f.type));break;case "f":case "%":null!=f.precision||isNaN(g=Vk(c))||(f.precision=g-2*("%"===f.type))}return e.format(f)}function Rc(a){var b=a.domain;a.ticks=function(c){var f=b();return Zb(f[0],f[f.length-1],null==c?10:c)};a.tickFormat=function(c,f){var g=b();return xm(g[0],g[g.length-1],null==c?10:c,f)};a.nice=function(c){null==c&&(c=10);var f=b(),g=0,h=f.length-1,m=f[g],l=f[h],n=10;if(l<m){var x=m;m=l;l=x;x=g;g=h;h=x}for(;0<n--;){x=Ob(m,l,c);if(x===C)return f[g]=m,f[h]=l,b(f);if(0<x)m=
Math.floor(m/x)*x,l=Math.ceil(l/x)*x;else if(0>x)m=Math.ceil(m*x)/x,l=Math.floor(l*x)/x;else break;var C=x}return a};return a}function ym(){var a=Md()(yb,yb);a.copy=function(){return Ee(a,ym())};gc.apply(a,arguments);return Rc(a)}function zm(a){function b(f){return null==f||isNaN(f=+f)?c:f}var c;b.invert=b;b.domain=b.range=function(f){return arguments.length?(a=Array.from(f,ag),b):a.slice()};b.unknown=function(f){return arguments.length?(c=f,b):c};b.copy=function(){return zm(a).unknown(c)};a=arguments.length?
Array.from(a,ag):[0,1];return Rc(b)}function Am(a,b){a=a.slice();var c=0,f=a.length-1,g=a[c],h=a[f];if(h<g){var m=c;c=f;f=m;m=g;g=h;h=m}a[c]=b.floor(g);a[f]=b.ceil(h);return a}function Bm(a){return Math.log(a)}function Cm(a){return Math.exp(a)}function nt(a){return-Math.log(-a)}function ot(a){return-Math.exp(-a)}function pt(a){return isFinite(a)?+("1e"+a):0>a?0:a}function qt(a){return 10===a?pt:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function rt(a){return a===Math.E?Math.log:10===a&&
Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function Dm(a){return function(b){return-a(-b)}}function wi(a){function b(){h=rt(g);m=qt(g);0>f()[0]?(h=Dm(h),m=Dm(m),a(nt,ot)):a(Bm,Cm);return c}var c=a(Bm,Cm),f=c.domain,g=10,h,m;c.base=function(l){return arguments.length?(g=+l,b()):g};c.domain=function(l){return arguments.length?(f(l),b()):f()};c.ticks=function(l){var n=f(),x=n[0];n=n[n.length-1];var C;if(C=n<x)t=x,x=n,n=t;var t=h(x),u=h(n),v=null==l?10:+l,y=[];if(!(g%
1)&&u-t<v){t=Math.floor(t);u=Math.ceil(u);if(0<x)for(;t<=u;++t){var q=1;for(l=m(t);q<g;++q){var r=l*q;if(!(r<x)){if(r>n)break;y.push(r)}}}else for(;t<=u;++t)for(q=g-1,l=m(t);1<=q;--q)if(r=l*q,!(r<x)){if(r>n)break;y.push(r)}2*y.length<v&&(y=Zb(x,n,v))}else y=Zb(t,u,Math.min(u-t,v)).map(m);return C?y.reverse():y};c.tickFormat=function(l,n){null==n&&(n=10===g?".0e":",");"function"!==typeof n&&(n=e.format(n));if(Infinity===l)return n;null==l&&(l=10);var x=Math.max(1,g*l/c.ticks().length);return function(C){var t=
C/m(Math.round(h(C)));t*g<g-.5&&(t*=g);return t<=x?n(C):""}};c.nice=function(){return f(Am(f(),{floor:function(l){return m(Math.floor(h(l)))},ceil:function(l){return m(Math.ceil(h(l)))}}))};return c}function Em(){var a=wi(Md()).domain([1,10]);a.copy=function(){return Ee(a,Em()).base(a.base())};gc.apply(a,arguments);return a}function Fm(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function Gm(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function xi(a){var b=
1,c=a(Fm(b),Gm(b));c.constant=function(f){return arguments.length?a(Fm(b=+f),Gm(b)):b};return Rc(c)}function Hm(){var a=xi(Md());a.copy=function(){return Ee(a,Hm()).constant(a.constant())};return gc.apply(a,arguments)}function Im(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function st(a){return 0>a?-Math.sqrt(-a):Math.sqrt(a)}function tt(a){return 0>a?-a*a:a*a}function yi(a){var b=a(yb,yb),c=1;b.exponent=function(f){return arguments.length?(c=+f,1===c?a(yb,yb):.5===c?a(st,tt):
a(Im(c),Im(1/c))):c};return Rc(b)}function zi(){var a=yi(Md());a.copy=function(){return Ee(a,zi()).exponent(a.exponent())};gc.apply(a,arguments);return a}function Jm(a){return Math.sign(a)*a*a}function Km(){function a(h){h=b(h);h=Math.sign(h)*Math.sqrt(Math.abs(h));return isNaN(h)?g:f?Math.round(h):h}var b=Md()(yb,yb),c=[0,1],f=!1,g;a.invert=function(h){return b.invert(Jm(h))};a.domain=function(h){return arguments.length?(b.domain(h),a):b.domain()};a.range=function(h){return arguments.length?(b.range((c=
Array.from(h,ag)).map(Jm)),a):c.slice()};a.rangeRound=function(h){return a.range(h).round(!0)};a.round=function(h){return arguments.length?(f=!!h,a):f};a.clamp=function(h){return arguments.length?(b.clamp(h),a):b.clamp()};a.unknown=function(h){return arguments.length?(g=h,a):g};a.copy=function(){return Km(b.domain(),c).round(f).clamp(b.clamp()).unknown(g)};gc.apply(a,arguments);return Rc(a)}function Lm(){function a(){var m=0,l=Math.max(1,f.length);for(g=Array(l-1);++m<l;)g[m-1]=jj(c,m/l);return b}
function b(m){return null==m||isNaN(m=+m)?h:f[Jc(g,m)]}var c=[],f=[],g=[],h;b.invertExtent=function(m){m=f.indexOf(m);return 0>m?[NaN,NaN]:[0<m?g[m-1]:c[0],m<g.length?g[m]:c[c.length-1]]};b.domain=function(m){if(!arguments.length)return c.slice();c=[];for(var l=$jscomp.makeIterator(m),n=l.next();!n.done;n=l.next())n=n.value,null==n||isNaN(n=+n)||c.push(n);c.sort(p);return a()};b.range=function(m){return arguments.length?(f=Array.from(m),a()):f.slice()};b.unknown=function(m){return arguments.length?
(h=m,b):h};b.quantiles=function(){return g.slice()};b.copy=function(){return Lm().domain(c).range(f).unknown(h)};return gc.apply(b,arguments)}function Mm(){function a(n){return null!=n&&n<=n?m[Jc(h,n,0,g)]:l}function b(){var n=-1;for(h=Array(g);++n<g;)h[n]=((n+1)*f-(n-g)*c)/(g+1);return a}var c=0,f=1,g=1,h=[.5],m=[0,1],l;a.domain=function(n){if(arguments.length){var x=$jscomp.makeIterator(n);c=x.next().value;f=x.next().value;x=(c=+c,f=+f,b())}else x=[c,f];return x};a.range=function(n){return arguments.length?
(g=(m=Array.from(n)).length-1,b()):m.slice()};a.invertExtent=function(n){n=m.indexOf(n);return 0>n?[NaN,NaN]:1>n?[c,h[0]]:n>=g?[h[g-1],f]:[h[n-1],h[n]]};a.unknown=function(n){return arguments.length?(l=n,a):a};a.thresholds=function(){return h.slice()};a.copy=function(){return Mm().domain([c,f]).range(m).unknown(l)};return gc.apply(Rc(a),arguments)}function Nm(){function a(h){return null!=h&&h<=h?c[Jc(b,h,0,g)]:f}var b=[.5],c=[0,1],f,g=1;a.domain=function(h){return arguments.length?(b=Array.from(h),
g=Math.min(b.length,c.length-1),a):b.slice()};a.range=function(h){return arguments.length?(c=Array.from(h),g=Math.min(b.length,c.length-1),a):c.slice()};a.invertExtent=function(h){h=c.indexOf(h);return[b[h-1],b[h]]};a.unknown=function(h){return arguments.length?(f=h,a):f};a.copy=function(){return Nm().domain(b).range(c).unknown(f)};return gc.apply(a,arguments)}function zb(a,b,c,f){function g(h){return a(h=0===arguments.length?new Date:new Date(+h)),h}g.floor=function(h){return a(h=new Date(+h)),h};
g.ceil=function(h){return a(h=new Date(h-1)),b(h,1),a(h),h};g.round=function(h){var m=g(h),l=g.ceil(h);return h-m<l-h?m:l};g.offset=function(h,m){return b(h=new Date(+h),null==m?1:Math.floor(m)),h};g.range=function(h,m,l){var n=[],x;h=g.ceil(h);l=null==l?1:Math.floor(l);if(!(h<m&&0<l))return n;do n.push(x=new Date(+h)),b(h,l),a(h);while(x<h&&h<m);return n};g.filter=function(h){return zb(function(m){if(m>=m)for(;a(m),!h(m);)m.setTime(m-1)},function(m,l){if(m>=m)if(0>l)for(;0>=++l;)for(;b(m,-1),!h(m););
else for(;0<=--l;)for(;b(m,1),!h(m););})};c&&(g.count=function(h,m){Ai.setTime(+h);Bi.setTime(+m);a(Ai);a(Bi);return Math.floor(c(Ai,Bi))},g.every=function(h){h=Math.floor(h);return isFinite(h)&&0<h?1<h?g.filter(f?function(m){return 0===f(m)%h}:function(m){return 0===g.count(0,m)%h}):g:null});return g}function hd(a){return zb(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(b,c){b.setDate(b.getDate()+7*c)},function(b,c){return(c-b-6E4*(c.getTimezoneOffset()-b.getTimezoneOffset()))/
Ci})}function id(a){return zb(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCDate(b.getUTCDate()+7*c)},function(b,c){return(c-b)/Ci})}function Om(a,b,c,f,g,h){function m(n,x,C){var t=Math.abs(x-n)/C,u=z(function(v){v=$jscomp.makeIterator(v);v.next();v.next();return v.next().value}).right(l,t);if(u===l.length)return a.every(Eb(n/Di,x/Di,C));if(0===u)return Nd.every(Math.max(Eb(n,x,C),1));x=$jscomp.makeIterator(l[t/l[u-1][2]<l[u][2]/t?u-
1:u]);n=x.next().value;x=x.next().value;return n.every(x)}var l=[[Gc,1,1E3],[Gc,5,5E3],[Gc,15,15E3],[Gc,30,3E4],[h,1,6E4],[h,5,3E5],[h,15,9E5],[h,30,18E5],[g,1,36E5],[g,3,108E5],[g,6,216E5],[g,12,432E5],[f,1,864E5],[f,2,1728E5],[c,1,Ci],[b,1,Pm],[b,3,3*Pm],[a,1,Di]];return[function(n,x,C){var t=x<n;t&&(x=$jscomp.makeIterator([x,n]),n=x.next().value,x=x.next().value);n=(C=C&&"function"===typeof C.range?C:m(n,x,C))?C.range(n,+x+1):[];return t?n.reverse():n},m]}function Ei(a){if(0<=a.y&&100>a.y){var b=
new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function Fi(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function Fe(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}function Qm(a){function b(R,S){return function(la){var ia=[],qa=-1,Ga=0,pa=R.length,Ea,Qa;for(la instanceof Date||(la=new Date(+la));++qa<pa;)if(37===R.charCodeAt(qa)){ia.push(R.slice(Ga,
qa));null!=(Ga=Rm[Ea=R.charAt(++qa)])?Ea=R.charAt(++qa):Ga="e"===Ea?" ":"0";if(Qa=S[Ea])Ea=Qa(la,Ga);ia.push(Ea);Ga=qa+1}ia.push(R.slice(Ga,qa));return ia.join("")}}function c(R,S){return function(la){var ia=Fe(1900,void 0,1);if(f(ia,R,la+="",0)!=la.length)return null;if("Q"in ia)return new Date(ia.Q);if("s"in ia)return new Date(1E3*ia.s+("L"in ia?ia.L:0));!S||"Z"in ia||(ia.Z=0);"p"in ia&&(ia.H=ia.H%12+12*ia.p);void 0===ia.m&&(ia.m="q"in ia?ia.q:0);if("V"in ia){if(1>ia.V||53<ia.V)return null;"w"in
ia||(ia.w=1);if("Z"in ia){la=Fi(Fe(ia.y,0,1));var qa=la.getUTCDay();la=4<qa||0===qa?Ge.ceil(la):Ge(la);la=Od.offset(la,7*(ia.V-1));ia.y=la.getUTCFullYear();ia.m=la.getUTCMonth();ia.d=la.getUTCDate()+(ia.w+6)%7}else la=Ei(Fe(ia.y,0,1)),qa=la.getDay(),la=4<qa||0===qa?He.ceil(la):He(la),la=Pd.offset(la,7*(ia.V-1)),ia.y=la.getFullYear(),ia.m=la.getMonth(),ia.d=la.getDate()+(ia.w+6)%7}else if("W"in ia||"U"in ia)"w"in ia||(ia.w="u"in ia?ia.u%7:"W"in ia?1:0),qa="Z"in ia?Fi(Fe(ia.y,0,1)).getUTCDay():Ei(Fe(ia.y,
0,1)).getDay(),ia.m=0,ia.d="W"in ia?(ia.w+6)%7+7*ia.W-(qa+5)%7:ia.w+7*ia.U-(qa+6)%7;return"Z"in ia?(ia.H+=ia.Z/100|0,ia.M+=ia.Z%100,Fi(ia)):Ei(ia)}}function f(R,S,la,ia){for(var qa=0,Ga=S.length,pa=la.length,Ea;qa<Ga;){if(ia>=pa)return-1;Ea=S.charCodeAt(qa++);if(37===Ea){if(Ea=S.charAt(qa++),Ea=fa[Ea in Rm?S.charAt(qa++):Ea],!Ea||0>(ia=Ea(R,la,ia)))return-1}else if(Ea!=la.charCodeAt(ia++))return-1}return ia}var g=a.dateTime,h=a.date,m=a.time,l=a.periods,n=a.days,x=a.shortDays,C=a.months,t=a.shortMonths,
u=Ie(l),v=Je(l),y=Ie(n),q=Je(n),r=Ie(x),w=Je(x),B=Ie(C),D=Je(C),J=Ie(t),M=Je(t),P={a:function(R){return x[R.getDay()]},A:function(R){return n[R.getDay()]},b:function(R){return t[R.getMonth()]},B:function(R){return C[R.getMonth()]},c:null,d:Sm,e:Sm,f:ut,g:vt,G:wt,H:xt,I:yt,j:zt,L:Tm,m:At,M:Bt,p:function(R){return l[+(12<=R.getHours())]},q:function(R){return 1+~~(R.getMonth()/3)},Q:Um,s:Vm,S:Ct,u:Dt,U:Et,V:Ft,w:Gt,W:Ht,x:null,X:null,y:It,Y:Jt,Z:Kt,"%":Wm},W={a:function(R){return x[R.getUTCDay()]},A:function(R){return n[R.getUTCDay()]},
b:function(R){return t[R.getUTCMonth()]},B:function(R){return C[R.getUTCMonth()]},c:null,d:Xm,e:Xm,f:Lt,g:Mt,G:Nt,H:Ot,I:Pt,j:Qt,L:Ym,m:Rt,M:St,p:function(R){return l[+(12<=R.getUTCHours())]},q:function(R){return 1+~~(R.getUTCMonth()/3)},Q:Um,s:Vm,S:Tt,u:Ut,U:Vt,V:Wt,w:Xt,W:Yt,x:null,X:null,y:Zt,Y:$t,Z:au,"%":Wm},fa={a:function(R,S,la){return(S=r.exec(S.slice(la)))?(R.w=w.get(S[0].toLowerCase()),la+S[0].length):-1},A:function(R,S,la){return(S=y.exec(S.slice(la)))?(R.w=q.get(S[0].toLowerCase()),la+
S[0].length):-1},b:function(R,S,la){return(S=J.exec(S.slice(la)))?(R.m=M.get(S[0].toLowerCase()),la+S[0].length):-1},B:function(R,S,la){return(S=B.exec(S.slice(la)))?(R.m=D.get(S[0].toLowerCase()),la+S[0].length):-1},c:function(R,S,la){return f(R,g,S,la)},d:Zm,e:Zm,f:bu,g:$m,G:an,H:bn,I:bn,j:cu,L:du,m:eu,M:fu,p:function(R,S,la){return(S=u.exec(S.slice(la)))?(R.p=v.get(S[0].toLowerCase()),la+S[0].length):-1},q:gu,Q:hu,s:iu,S:ju,u:ku,U:lu,V:mu,w:nu,W:ou,x:function(R,S,la){return f(R,h,S,la)},X:function(R,
S,la){return f(R,m,S,la)},y:$m,Y:an,Z:pu,"%":qu};P.x=b(h,P);P.X=b(m,P);P.c=b(g,P);W.x=b(h,W);W.X=b(m,W);W.c=b(g,W);return{format:function(R){var S=b(R+="",P);S.toString=function(){return R};return S},parse:function(R){var S=c(R+="",!1);S.toString=function(){return R};return S},utcFormat:function(R){var S=b(R+="",W);S.toString=function(){return R};return S},utcParse:function(R){var S=c(R+="",!0);S.toString=function(){return R};return S}}}function fb(a,b,c){var f=0>a?"-":"";a=(f?-a:a)+"";var g=a.length;
return f+(g<c?Array(c-g+1).join(b)+a:a)}function ru(a){return a.replace(su,"\\$&")}function Ie(a){return new RegExp("^(?:"+a.map(ru).join("|")+")","i")}function Je(a){return new Map(a.map(function(b,c){return[b.toLowerCase(),c]}))}function nu(a,b,c){return(b=Cb.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function ku(a,b,c){return(b=Cb.exec(b.slice(c,c+1)))?(a.u=+b[0],c+b[0].length):-1}function lu(a,b,c){return(b=Cb.exec(b.slice(c,c+2)))?(a.U=+b[0],c+b[0].length):-1}function mu(a,b,c){return(b=
Cb.exec(b.slice(c,c+2)))?(a.V=+b[0],c+b[0].length):-1}function ou(a,b,c){return(b=Cb.exec(b.slice(c,c+2)))?(a.W=+b[0],c+b[0].length):-1}function an(a,b,c){return(b=Cb.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function $m(a,b,c){return(b=Cb.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function pu(a,b,c){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),c+b[0].length):-1}function gu(a,b,c){return(b=Cb.exec(b.slice(c,c+1)))?
(a.q=3*b[0]-3,c+b[0].length):-1}function eu(a,b,c){return(b=Cb.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function Zm(a,b,c){return(b=Cb.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function cu(a,b,c){return(b=Cb.exec(b.slice(c,c+3)))?(a.m=0,a.d=+b[0],c+b[0].length):-1}function bn(a,b,c){return(b=Cb.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function fu(a,b,c){return(b=Cb.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function ju(a,b,c){return(b=Cb.exec(b.slice(c,c+2)))?
(a.S=+b[0],c+b[0].length):-1}function du(a,b,c){return(b=Cb.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function bu(a,b,c){return(b=Cb.exec(b.slice(c,c+6)))?(a.L=Math.floor(b[0]/1E3),c+b[0].length):-1}function qu(a,b,c){return(a=tu.exec(b.slice(c,c+1)))?c+a[0].length:-1}function hu(a,b,c){return(b=Cb.exec(b.slice(c)))?(a.Q=+b[0],c+b[0].length):-1}function iu(a,b,c){return(b=Cb.exec(b.slice(c)))?(a.s=+b[0],c+b[0].length):-1}function Sm(a,b){return fb(a.getDate(),b,2)}function xt(a,b){return fb(a.getHours(),
b,2)}function yt(a,b){return fb(a.getHours()%12||12,b,2)}function zt(a,b){return fb(1+Pd.count(xc(a),a),b,3)}function Tm(a,b){return fb(a.getMilliseconds(),b,3)}function ut(a,b){return Tm(a,b)+"000"}function At(a,b){return fb(a.getMonth()+1,b,2)}function Bt(a,b){return fb(a.getMinutes(),b,2)}function Ct(a,b){return fb(a.getSeconds(),b,2)}function Dt(a){a=a.getDay();return 0===a?7:a}function Et(a,b){return fb(Qd.count(xc(a)-1,a),b,2)}function cn(a){var b=a.getDay();return 4<=b||0===b?jd(a):jd.ceil(a)}
function Ft(a,b){a=cn(a);return fb(jd.count(xc(a),a)+(4===xc(a).getDay()),b,2)}function Gt(a){return a.getDay()}function Ht(a,b){return fb(He.count(xc(a)-1,a),b,2)}function It(a,b){return fb(a.getFullYear()%100,b,2)}function vt(a,b){a=cn(a);return fb(a.getFullYear()%100,b,2)}function Jt(a,b){return fb(a.getFullYear()%1E4,b,4)}function wt(a,b){var c=a.getDay();a=4<=c||0===c?jd(a):jd.ceil(a);return fb(a.getFullYear()%1E4,b,4)}function Kt(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+fb(a/60|
0,"0",2)+fb(a%60,"0",2)}function Xm(a,b){return fb(a.getUTCDate(),b,2)}function Ot(a,b){return fb(a.getUTCHours(),b,2)}function Pt(a,b){return fb(a.getUTCHours()%12||12,b,2)}function Qt(a,b){return fb(1+Od.count(yc(a),a),b,3)}function Ym(a,b){return fb(a.getUTCMilliseconds(),b,3)}function Lt(a,b){return Ym(a,b)+"000"}function Rt(a,b){return fb(a.getUTCMonth()+1,b,2)}function St(a,b){return fb(a.getUTCMinutes(),b,2)}function Tt(a,b){return fb(a.getUTCSeconds(),b,2)}function Ut(a){a=a.getUTCDay();return 0===
a?7:a}function Vt(a,b){return fb(Rd.count(yc(a)-1,a),b,2)}function dn(a){var b=a.getUTCDay();return 4<=b||0===b?kd(a):kd.ceil(a)}function Wt(a,b){a=dn(a);return fb(kd.count(yc(a),a)+(4===yc(a).getUTCDay()),b,2)}function Xt(a){return a.getUTCDay()}function Yt(a,b){return fb(Ge.count(yc(a)-1,a),b,2)}function Zt(a,b){return fb(a.getUTCFullYear()%100,b,2)}function Mt(a,b){a=dn(a);return fb(a.getUTCFullYear()%100,b,2)}function $t(a,b){return fb(a.getUTCFullYear()%1E4,b,4)}function Nt(a,b){var c=a.getUTCDay();
a=4<=c||0===c?kd(a):kd.ceil(a);return fb(a.getUTCFullYear()%1E4,b,4)}function au(){return"+0000"}function Wm(){return"%"}function Um(a){return+a}function Vm(a){return Math.floor(+a/1E3)}function en(a){Sd=Qm(a);e.timeFormat=Sd.format;e.timeParse=Sd.parse;e.utcFormat=Sd.utcFormat;e.utcParse=Sd.utcParse;return Sd}function uu(a){return a.toISOString()}function vu(a){a=new Date(a);return isNaN(a)?null:a}function wu(a){return new Date(a)}function xu(a){return a instanceof Date?+a:+new Date(+a)}function Gi(a,
b,c,f,g,h,m,l,n,x){function C(P){return(n(P)<P?y:l(P)<P?q:m(P)<P?r:h(P)<P?w:f(P)<P?g(P)<P?B:D:c(P)<P?J:M)(P)}var t=Md()(yb,yb),u=t.invert,v=t.domain,y=x(".%L"),q=x(":%S"),r=x("%I:%M"),w=x("%I %p"),B=x("%a %d"),D=x("%b %d"),J=x("%B"),M=x("%Y");t.invert=function(P){return new Date(u(P))};t.domain=function(P){return arguments.length?v(Array.from(P,xu)):v().map(wu)};t.ticks=function(P){var W=v();return a(W[0],W[W.length-1],null==P?10:P)};t.tickFormat=function(P,W){return null==W?C:x(W)};t.nice=function(P){var W=
v();P&&"function"===typeof P.range||(P=b(W[0],W[W.length-1],null==P?10:P));return P?v(Am(W,P)):t};t.copy=function(){return Ee(t,Gi(a,b,c,f,g,h,m,l,n,x))};return t}function bg(){function a(t){return null==t||isNaN(t=+t)?C:n(0===m?.5:(t=(l(t)-g)*m,x?Math.max(0,Math.min(1,t)):t))}function b(t){return function(u){if(arguments.length){var v=$jscomp.makeIterator(u);var y=v.next().value;v=v.next().value;y=(n=t(y,v),a)}else y=[n(0),n(1)];return y}}var c=0,f=1,g,h,m,l,n=yb,x=!1,C;a.domain=function(t){if(arguments.length){var u=
$jscomp.makeIterator(t);c=u.next().value;f=u.next().value;u=(g=l(c=+c),h=l(f=+f),m=g===h?0:1/(h-g),a)}else u=[c,f];return u};a.clamp=function(t){return arguments.length?(x=!!t,a):x};a.interpolator=function(t){return arguments.length?(n=t,a):n};a.range=b(Mc);a.rangeRound=b(df);a.unknown=function(t){return arguments.length?(C=t,a):C};return function(t){l=t;g=t(c);h=t(f);m=g===h?0:1/(h-g);return a}}function Sc(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}
function fn(){var a=Rc(bg()(yb));a.copy=function(){return Sc(a,fn())};return Fc.apply(a,arguments)}function gn(){var a=wi(bg()).domain([1,10]);a.copy=function(){return Sc(a,gn()).base(a.base())};return Fc.apply(a,arguments)}function hn(){var a=xi(bg());a.copy=function(){return Sc(a,hn()).constant(a.constant())};return Fc.apply(a,arguments)}function Hi(){var a=yi(bg());a.copy=function(){return Sc(a,Hi()).exponent(a.exponent())};return Fc.apply(a,arguments)}function jn(){function a(f){if(null!=f&&!isNaN(f=
+f))return c((Jc(b,f,1)-1)/(b.length-1))}var b=[],c=yb;a.domain=function(f){if(!arguments.length)return b.slice();b=[];for(var g=$jscomp.makeIterator(f),h=g.next();!h.done;h=g.next())h=h.value,null==h||isNaN(h=+h)||b.push(h);b.sort(p);return a};a.interpolator=function(f){return arguments.length?(c=f,a):c};a.range=function(){return b.map(function(f,g){return c(g/(b.length-1))})};a.quantiles=function(f){return Array.from({length:f+1},function(g,h){return ae(b,h/f)})};a.copy=function(){return jn(c).domain(b)};
return Fc.apply(a,arguments)}function cg(){function a(q){return isNaN(q=+q)?y:(q=.5+((q=+u(q))-l)*(h*q<h*l?x:C),t(v?Math.max(0,Math.min(1,q)):q))}function b(q){return function(r){if(arguments.length){var w=$jscomp.makeIterator(r);var B=w.next().value;var D=w.next().value;w=w.next().value;B=(t=hk(q,[B,D,w]),a)}else B=[t(0),t(.5),t(1)];return B}}var c=0,f=.5,g=1,h=1,m,l,n,x,C,t=yb,u,v=!1,y;a.domain=function(q){if(arguments.length){var r=$jscomp.makeIterator(q);c=r.next().value;f=r.next().value;g=r.next().value;
r=(m=u(c=+c),l=u(f=+f),n=u(g=+g),x=m===l?0:.5/(l-m),C=l===n?0:.5/(n-l),h=l<m?-1:1,a)}else r=[c,f,g];return r};a.clamp=function(q){return arguments.length?(v=!!q,a):v};a.interpolator=function(q){return arguments.length?(t=q,a):t};a.range=b(Mc);a.rangeRound=b(df);a.unknown=function(q){return arguments.length?(y=q,a):y};return function(q){u=q;m=q(c);l=q(f);n=q(g);x=m===l?0:.5/(l-m);C=l===n?0:.5/(n-l);h=l<m?-1:1;return a}}function kn(){var a=Rc(cg()(yb));a.copy=function(){return Sc(a,kn())};return Fc.apply(a,
arguments)}function ln(){var a=wi(cg()).domain([.1,1,10]);a.copy=function(){return Sc(a,ln()).base(a.base())};return Fc.apply(a,arguments)}function mn(){var a=xi(cg());a.copy=function(){return Sc(a,mn()).constant(a.constant())};return Fc.apply(a,arguments)}function Ii(){var a=yi(cg());a.copy=function(){return Sc(a,Ii()).exponent(a.exponent())};return Fc.apply(a,arguments)}function Za(a){for(var b=a.length/6|0,c=Array(b),f=0;f<b;)c[f]="#"+a.slice(6*f,6*++f);return c}function dg(a){var b=a.length;return function(c){return a[Math.max(0,
Math.min(b-1,Math.floor(c*b)))]}}function Xa(a){return function(){return a}}function nn(a){return 1<=a?eg:-1>=a?-eg:Math.asin(a)}function yu(a){return a.innerRadius}function zu(a){return a.outerRadius}function Au(a){return a.startAngle}function Bu(a){return a.endAngle}function Cu(a){return a&&a.padAngle}function fg(a,b,c,f,g,h,m){var l=a-c,n=b-f;m=(m?h:-h)/Td(l*l+n*n);n*=m;l*=-m;var x=a+n,C=b+l,t=c+n,u=f+l;c=(x+t)/2;f=(C+u)/2;b=t-x;a=u-C;m=b*b+a*a;h=g-h;u=x*u-t*C;var v=(0>a?-1:1)*Td(Du(0,h*h*m-u*
u));x=(u*a-b*v)/m;C=(-u*b-a*v)/m;t=(u*a+b*v)/m;b=(-u*b+a*v)/m;a=x-c;m=C-f;c=t-c;f=b-f;a*a+m*m>c*c+f*f&&(x=t,C=b);return{cx:x,cy:C,x01:-n,y01:-l,x11:x*(g/h-1),y11:C*(g/h-1)}}function gg(a){return"object"===typeof a&&"length"in a?a:Array.from(a)}function on(a){this._context=a}function hg(a){return new on(a)}function Ji(a){return a[0]}function Ki(a){return a[1]}function Li(a,b){function c(l){var n,x=(l=gg(l)).length,C,t=!1,u;null==g&&(m=h(u=Oc()));for(n=0;n<=x;++n)!(n<x&&f(C=l[n],n,l))===t&&((t=!t)?
m.lineStart():m.lineEnd()),t&&m.point(+a(C,n,l),+b(C,n,l));if(u)return m=null,u+""||null}var f=Xa(!0),g=null,h=hg,m=null;a="function"===typeof a?a:void 0===a?Ji:Xa(a);b="function"===typeof b?b:void 0===b?Ki:Xa(b);c.x=function(l){return arguments.length?(a="function"===typeof l?l:Xa(+l),c):a};c.y=function(l){return arguments.length?(b="function"===typeof l?l:Xa(+l),c):b};c.defined=function(l){return arguments.length?(f="function"===typeof l?l:Xa(!!l),c):f};c.curve=function(l){return arguments.length?
(h=l,null!=g&&(m=h(g)),c):h};c.context=function(l){return arguments.length?(null==l?g=m=null:m=h(g=l),c):g};return c}function pn(a,b,c){function f(C){var t,u,v=(C=gg(C)).length,y,q=!1,r,w=Array(v),B=Array(v);null==l&&(x=n(r=Oc()));for(t=0;t<=v;++t){if(!(t<v&&m(y=C[t],t,C))===q)if(q=!q){var D=t;x.areaStart();x.lineStart()}else{x.lineEnd();x.lineStart();for(u=t-1;u>=D;--u)x.point(w[u],B[u]);x.lineEnd();x.areaEnd()}q&&(w[t]=+a(y,t,C),B[t]=+b(y,t,C),x.point(h?+h(y,t,C):w[t],c?+c(y,t,C):B[t]))}if(r)return x=
null,r+""||null}function g(){return Li().defined(m).curve(n).context(l)}var h=null,m=Xa(!0),l=null,n=hg,x=null;a="function"===typeof a?a:void 0===a?Ji:Xa(+a);b="function"===typeof b?b:void 0===b?Xa(0):Xa(+b);c="function"===typeof c?c:void 0===c?Ki:Xa(+c);f.x=function(C){return arguments.length?(a="function"===typeof C?C:Xa(+C),h=null,f):a};f.x0=function(C){return arguments.length?(a="function"===typeof C?C:Xa(+C),f):a};f.x1=function(C){return arguments.length?(h=null==C?null:"function"===typeof C?
C:Xa(+C),f):h};f.y=function(C){return arguments.length?(b="function"===typeof C?C:Xa(+C),c=null,f):b};f.y0=function(C){return arguments.length?(b="function"===typeof C?C:Xa(+C),f):b};f.y1=function(C){return arguments.length?(c=null==C?null:"function"===typeof C?C:Xa(+C),f):c};f.lineX0=f.lineY0=function(){return g().x(a).y(b)};f.lineY1=function(){return g().x(a).y(c)};f.lineX1=function(){return g().x(h).y(b)};f.defined=function(C){return arguments.length?(m="function"===typeof C?C:Xa(!!C),f):m};f.curve=
function(C){return arguments.length?(n=C,null!=l&&(x=n(l)),f):n};f.context=function(C){return arguments.length?(null==C?l=x=null:x=n(l=C),f):l};return f}function Eu(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function Fu(a){return a}function qn(a){this._curve=a}function Mi(a){function b(c){return new qn(a(c))}b._curve=a;return b}function Ke(a){var b=a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=function(c){return arguments.length?b(Mi(c)):b()._curve};return a}function rn(){return Ke(Li().curve(sn))}
function tn(){var a=pn().curve(sn),b=a.curve,c=a.lineX0,f=a.lineX1,g=a.lineY0,h=a.lineY1;a.angle=a.x;delete a.x;a.startAngle=a.x0;delete a.x0;a.endAngle=a.x1;delete a.x1;a.radius=a.y;delete a.y;a.innerRadius=a.y0;delete a.y0;a.outerRadius=a.y1;delete a.y1;a.lineStartAngle=function(){return Ke(c())};delete a.lineX0;a.lineEndAngle=function(){return Ke(f())};delete a.lineX1;a.lineInnerRadius=function(){return Ke(g())};delete a.lineY0;a.lineOuterRadius=function(){return Ke(h())};delete a.lineY1;a.curve=
function(m){return arguments.length?b(Mi(m)):b()._curve};return a}function Le(a,b){return[(b=+b)*Math.cos(a-=Math.PI/2),b*Math.sin(a)]}function Gu(a){return a.source}function Hu(a){return a.target}function Ni(a){function b(){var l,n=Iu.call(arguments),x=c.apply(this,n),C=f.apply(this,n);m||(m=l=Oc());a(m,+g.apply(this,(n[0]=x,n)),+h.apply(this,n),+g.apply(this,(n[0]=C,n)),+h.apply(this,n));if(l)return m=null,l+""||null}var c=Gu,f=Hu,g=Ji,h=Ki,m=null;b.source=function(l){return arguments.length?(c=
l,b):c};b.target=function(l){return arguments.length?(f=l,b):f};b.x=function(l){return arguments.length?(g="function"===typeof l?l:Xa(+l),b):g};b.y=function(l){return arguments.length?(h="function"===typeof l?l:Xa(+l),b):h};b.context=function(l){return arguments.length?(m=null==l?null:l,b):m};return b}function Ju(a,b,c,f,g){a.moveTo(b,c);a.bezierCurveTo(b=(b+f)/2,c,b,g,f,g)}function Ku(a,b,c,f,g){a.moveTo(b,c);a.bezierCurveTo(b,c=(c+g)/2,f,c,f,g)}function Lu(a,b,c,f,g){var h=Le(b,c);b=Le(b,c=(c+g)/
2);c=Le(f,c);f=Le(f,g);a.moveTo(h[0],h[1]);a.bezierCurveTo(b[0],b[1],c[0],c[1],f[0],f[1])}function Tc(){}function ig(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function jg(a){this._context=a}function un(a){this._context=a}function vn(a){this._context=a}function wn(a,b){this._basis=new jg(a);this._beta=b}function kg(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),
a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function Oi(a,b){this._context=a;this._k=(1-b)/6}function Pi(a,b){this._context=a;this._k=(1-b)/6}function Qi(a,b){this._context=a;this._k=(1-b)/6}function Ri(a,b,c){var f=a._x1,g=a._y1,h=a._x2,m=a._y2;if(1E-12<a._l01_a){var l=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,n=3*a._l01_a*(a._l01_a+a._l12_a);f=(f*l-a._x0*a._l12_2a+a._x2*a._l01_2a)/n;g=(g*l-a._y0*a._l12_2a+a._y2*a._l01_2a)/n}1E-12<a._l23_a&&(l=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,
n=3*a._l23_a*(a._l23_a+a._l12_a),h=(h*l+a._x1*a._l23_2a-b*a._l12_2a)/n,m=(m*l+a._y1*a._l23_2a-c*a._l12_2a)/n);a._context.bezierCurveTo(f,g,h,m,a._x2,a._y2)}function xn(a,b){this._context=a;this._alpha=b}function yn(a,b){this._context=a;this._alpha=b}function zn(a,b){this._context=a;this._alpha=b}function An(a){this._context=a}function Bn(a,b,c){var f=a._x1-a._x0;b-=a._x1;var g=(a._y1-a._y0)/(f||0>b&&-0);a=(c-a._y1)/(b||0>f&&-0);return((0>g?-1:1)+(0>a?-1:1))*Math.min(Math.abs(g),Math.abs(a),.5*Math.abs((g*
b+a*f)/(f+b)))||0}function Cn(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function Si(a,b,c){var f=a._x0,g=a._x1,h=a._y1,m=(g-f)/3;a._context.bezierCurveTo(f+m,a._y0+m*b,g-m,h-m*c,g,h)}function lg(a){this._context=a}function Dn(a){this._context=new En(a)}function En(a){this._context=a}function Fn(a){this._context=a}function Gn(a){var b,c=a.length-1,f=Array(c),g=Array(c),h=Array(c);f[0]=0;g[0]=2;h[0]=a[0]+2*a[1];for(b=1;b<c-1;++b)f[b]=1,g[b]=4,h[b]=4*a[b]+2*a[b+1];f[c-1]=2;g[c-1]=7;h[c-
1]=8*a[c-1]+a[c];for(b=1;b<c;++b){var m=f[b]/g[b-1];g[b]-=m;h[b]-=m*h[b-1]}f[c-1]=h[c-1]/g[c-1];for(b=c-2;0<=b;--b)f[b]=(h[b]-f[b+1])/g[b];g[c-1]=(a[c]+f[c-1])/2;for(b=0;b<c-1;++b)g[b]=2*a[b+1]-f[b+1];return[f,g]}function mg(a,b){this._context=a;this._t=b}function Ud(a,b){if(1<(m=a.length))for(var c=1,f,g,h=a[b[0]],m,l=h.length;c<m;++c)for(g=h,h=a[b[c]],f=0;f<l;++f)h[f][1]+=h[f][0]=isNaN(g[f][1])?g[f][0]:g[f][1]}function Vd(a){a=a.length;for(var b=Array(a);0<=--a;)b[a]=a;return b}function Mu(a,b){return a[b]}
function Nu(a){var b=[];b.key=a;return b}function Hn(a){var b=a.map(Ou);return Vd(a).sort(function(c,f){return b[c]-b[f]})}function Ou(a){for(var b=-1,c=0,f=a.length,g,h=-Infinity;++b<f;)(g=+a[b][1])>h&&(h=g,c=b);return c}function In(a){var b=a.map(Jn);return Vd(a).sort(function(c,f){return b[c]-b[f]})}function Jn(a){for(var b=0,c=-1,f=a.length,g;++c<f;)if(g=+a[c][1])b+=g;return b}function Pu(a,b){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b.sourceEvent,
enumerable:!0,configurable:!0},target:{value:b.target,enumerable:!0,configurable:!0},transform:{value:b.transform,enumerable:!0,configurable:!0},_:{value:b.dispatch}})}function Hc(a,b,c){this.k=a;this.x=b;this.y=c}function Kn(a){for(;!a.__zoom;)if(!(a=a.parentNode))return ng;return a.__zoom}function Me(a){a.preventDefault();a.stopImmediatePropagation()}function Qu(a){return(!a.ctrlKey||"wheel"===a.type)&&!a.button}function Ru(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?
(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function Ln(){return this.__zoom||ng}function Su(a){return-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function Tu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Uu(a,b,c){var f=a.invertX(b[0][0])-c[0][0],g=a.invertX(b[1][0])-c[1][0],h=a.invertY(b[0][1])-c[0][1];b=a.invertY(b[1][1])-c[1][1];return a.translate(g>
f?(f+g)/2:Math.min(0,f)||Math.max(0,g),b>h?(h+b)/2:Math.min(0,h)||Math.max(0,b))}var Mn=z(p),Jc=Mn.right,Vu=Mn.left,Wu=z(I).center,ub=function(){this._partials=new Float64Array(32);this._n=0};ub.prototype.add=function(a){for(var b=this._partials,c=0,f=0;f<this._n&&32>f;f++){var g=b[f],h=a+g;(a=Math.abs(a)<Math.abs(g)?a-(h-g):g-(h-a))&&(b[c++]=a);a=h}b[c]=a;this._n=c+1;return this};ub.prototype.valueOf=function(){var a=this._partials,b=this._n,c=0;if(0<b){for(c=a[--b];0<b;){var f=c;var g=a[--b];c=
f+g;if(f=g-(c-f))break}0<b&&(0>f&&0>a[b-1]||0<f&&0<a[b-1])&&(g=2*f,f=c+g,g==f-c&&(c=f))}return c};var Wc=function(a,b){b=void 0===b?Na:b;var c=$jscomp.construct(Map,[],this.constructor);Object.defineProperties(c,{_intern:{value:new Map},_key:{value:b}});if(null!=a)for(a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next()){var f=$jscomp.makeIterator(b.value);b=f.next().value;f=f.next().value;c.set(b,f)}return c};$jscomp.inherits(Wc,Map);Wc.prototype.get=function(a){return Map.prototype.get.call(this,
va(this,a))};Wc.prototype.has=function(a){return Map.prototype.has.call(this,va(this,a))};Wc.prototype.set=function(a,b){return Map.prototype.set.call(this,ua(this,a),b)};Wc.prototype.delete=function(a){return Map.prototype.delete.call(this,Ba(this,a))};var Ne=function(a,b){b=void 0===b?Na:b;var c=$jscomp.construct(Set,[],this.constructor);Object.defineProperties(c,{_intern:{value:new Map},_key:{value:b}});if(null!=a)for(a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next())c.add(b.value);return c};
$jscomp.inherits(Ne,Set);Ne.prototype.has=function(a){return Set.prototype.has.call(this,va(this,a))};Ne.prototype.add=function(a){return Set.prototype.add.call(this,ua(this,a))};Ne.prototype.delete=function(a){return Set.prototype.delete.call(this,Ba(this,a))};var lp=Array.prototype.slice,Fg=Math.sqrt(50),Gg=Math.sqrt(10),Hg=Math.sqrt(2),Xu=oj(Math.random),Lg=Array.prototype.slice,wp={value:function(){}};Se.prototype=Xc.prototype={constructor:Se,on:function(a,b){var c=this._,f=vp(a+"",c),g,h=-1,
m=f.length;if(2>arguments.length)for(;++h<m;){var l;if(l=g=(a=f[h]).type){a:{l=c[g];for(var n=0,x=l.length;n<x;++n)if((g=l[n]).name===a.name){g=g.value;break a}g=void 0}l=g}if(l)return g}else{if(null!=b&&"function"!==typeof b)throw Error("invalid callback: "+b);for(;++h<m;)if(g=(a=f[h]).type)c[g]=rj(c[g],a.name,b);else if(null==b)for(g in c)c[g]=rj(c[g],a.name,null);return this}},copy:function(){var a={},b=this._,c;for(c in b)a[c]=b[c].slice();return new Se(a)},call:function(a,b){if(0<(g=arguments.length-
2))for(var c=Array(g),f=0,g,h;f<g;++f)c[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);h=this._[a];f=0;for(g=h.length;f<g;++f)h[f].value.apply(b,c)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);a=this._[a];for(var f=0,g=a.length;f<g;++f)a[f].value.apply(b,c)}};var Mg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},
Dp=Array.prototype.find,Hp=Array.prototype.filter;Ve.prototype={constructor:Ve,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};uj.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){a=
this._names.indexOf(a);0<=a&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return 0<=this._names.indexOf(a)}};var Sg=[null],bb={};Hb.prototype=Zc.prototype=(bb.constructor=Hb,bb.select=function(a){"function"!==typeof a&&(a=Ue(a));for(var b=this._groups,c=b.length,f=Array(c),g=0;g<c;++g)for(var h=b[g],m=h.length,l=f[g]=Array(m),n,x,C=0;C<m;++C)(n=h[C])&&(x=a.call(n,n.__data__,C,h))&&("__data__"in n&&(x.__data__=n.__data__),l[C]=x);return new Hb(f,
this._parents)},bb.selectAll=function(a){a="function"===typeof a?Bp(a):Og(a);for(var b=this._groups,c=b.length,f=[],g=[],h=0;h<c;++h)for(var m=b[h],l=m.length,n,x=0;x<l;++x)if(n=m[x])f.push(a.call(n,n.__data__,x,m)),g.push(n);return new Hb(f,g)},bb.selectChild=function(a){return this.select(null==a?Ep:Cp("function"===typeof a?a:sj(a)))},bb.selectChildren=function(a){return this.selectAll(null==a?Fp:Gp("function"===typeof a?a:sj(a)))},bb.filter=function(a){"function"!==typeof a&&(a=Pg(a));for(var b=
this._groups,c=b.length,f=Array(c),g=0;g<c;++g)for(var h=b[g],m=h.length,l=f[g]=[],n,x=0;x<m;++x)(n=h[x])&&a.call(n,n.__data__,x,h)&&l.push(n);return new Hb(f,this._parents)},bb.data=function(a,b){if(!arguments.length)return Array.from(this,Lp);var c=b?Kp:Jp,f=this._parents,g=this._groups;"function"!==typeof a&&(a=Ip(a));for(var h=g.length,m=Array(h),l=Array(h),n=Array(h),x=0;x<h;++x){var C=f[x],t=g[x],u=t.length,v=Ng(a.call(C,C&&C.__data__,x,f)),y=v.length,q=l[x]=Array(y),r=m[x]=Array(y);u=n[x]=
Array(u);c(C,t,q,r,u,v,b);for(t=C=0;C<y;++C)if(v=q[C]){for(C>=t&&(t=C+1);!(u=r[t])&&++t<y;);v._next=u||null}}m=new Hb(m,f);m._enter=l;m._exit=n;return m},bb.enter=function(){return new Hb(this._enter||this._groups.map(tj),this._parents)},bb.exit=function(){return new Hb(this._exit||this._groups.map(tj),this._parents)},bb.join=function(a,b,c){var f=this.enter(),g=this,h=this.exit();f="function"===typeof a?a(f):f.append(a+"");null!=b&&(g=b(g));null==c?h.remove():c(h);return f&&g?f.merge(g).order():
g},bb.merge=function(a){if(!(a instanceof Hb))throw Error("invalid merge");var b=this._groups;a=a._groups;for(var c=b.length,f=Math.min(c,a.length),g=Array(c),h=0;h<f;++h)for(var m=b[h],l=a[h],n=m.length,x=g[h]=Array(n),C,t=0;t<n;++t)if(C=m[t]||l[t])x[t]=C;for(;h<c;++h)g[h]=b[h];return new Hb(g,this._parents)},bb.selection=function(){return this},bb.order=function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var f=a[b],g=f.length-1,h=f[g],m;0<=--g;)if(m=f[g])h&&m.compareDocumentPosition(h)^
4&&h.parentNode.insertBefore(m,h),h=m;return this},bb.sort=function(a){function b(t,u){return t&&u?a(t.__data__,u.__data__):!t-!u}a||(a=Mp);for(var c=this._groups,f=c.length,g=Array(f),h=0;h<f;++h){for(var m=c[h],l=m.length,n=g[h]=Array(l),x,C=0;C<l;++C)if(x=m[C])n[C]=x;n.sort(b)}return(new Hb(g,this._parents)).order()},bb.call=function(){var a=arguments[0];arguments[0]=this;a.apply(null,arguments);return this},bb.nodes=function(){return Array.from(this)},bb.node=function(){for(var a=this._groups,
b=0,c=a.length;b<c;++b)for(var f=a[b],g=0,h=f.length;g<h;++g){var m=f[g];if(m)return m}return null},bb.size=function(){for(var a=0,b=$jscomp.makeIterator(this),c=b.next();!c.done;c=b.next())++a;return a},bb.empty=function(){return!this.node()},bb.each=function(a){for(var b=this._groups,c=0,f=b.length;c<f;++c)for(var g=b[c],h=0,m=g.length,l;h<m;++h)(l=g[h])&&a.call(l,l.__data__,h,g);return this},bb.attr=function(a,b){var c=be(a);if(2>arguments.length){var f=this.node();return c.local?f.getAttributeNS(c.space,
c.local):f.getAttribute(c)}return this.each((null==b?c.local?Op:Np:"function"===typeof b?c.local?Sp:Rp:c.local?Qp:Pp)(c,b))},bb.style=function(a,b,c){return 1<arguments.length?this.each((null==b?Tp:"function"===typeof b?Vp:Up)(a,b,null==c?"":c)):Yc(this.node(),a)},bb.property=function(a,b){return 1<arguments.length?this.each((null==b?Wp:"function"===typeof b?Yp:Xp)(a,b)):this.node()[a]},bb.classed=function(a,b){var c=(a+"").trim().split(/^|\s+/);if(2>arguments.length){for(var f=Rg(this.node()),g=
-1,h=c.length;++g<h;)if(!f.contains(c[g]))return!1;return!0}return this.each(("function"===typeof b?aq:b?Zp:$p)(c,b))},bb.text=function(a){return arguments.length?this.each(null==a?bq:("function"===typeof a?dq:cq)(a)):this.node().textContent},bb.html=function(a){return arguments.length?this.each(null==a?eq:("function"===typeof a?gq:fq)(a)):this.node().innerHTML},bb.raise=function(){return this.each(hq)},bb.lower=function(){return this.each(iq)},bb.append=function(a){var b="function"===typeof a?a:
Te(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},bb.insert=function(a,b){var c="function"===typeof a?a:Te(a),f=null==b?jq:"function"===typeof b?b:Ue(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),f.apply(this,arguments)||null)})},bb.remove=function(){return this.each(kq)},bb.clone=function(a){return this.select(a?mq:lq)},bb.datum=function(a){return arguments.length?this.property("__data__",a):this.node().__data__},bb.on=function(a,
b,c){var f=oq(a+""),g=f.length,h;if(2>arguments.length){var m=this.node().__on;if(m)for(var l=0,n=m.length,x;l<n;++l){var C=0;for(x=m[l];C<g;++C)if((h=f[C]).type===x.type&&h.name===x.name)return x.value}}else{m=b?qq:pq;for(C=0;C<g;++C)this.each(m(f[C],b,c));return this}},bb.dispatch=function(a,b){return this.each(("function"===typeof b?sq:rq)(a,b))},bb[Symbol.iterator]=yj,bb);var tq=0;Tg.prototype=zj.prototype={constructor:Tg,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;
return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var og=function(a){return function(){return a}};Ug.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var Wd=1/.7,yq=/^#([0-9a-f]{3,8})$/,zq=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,Aq=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Bq=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Cq=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Dq=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Eq=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
Fj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sd(Kc,Lc,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:Bj,formatHex:Bj,formatHsl:function(){return Ij(this).formatHsl()},formatRgb:Cj,toString:Cj});sd(Fb,td,ce(Kc,{brighter:function(a){a=null==a?Wd:Math.pow(Wd,a);return new Fb(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=null==
a?.7:Math.pow(.7,a);return new Fb(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Gj,formatHex:Gj,formatRgb:Hj,toString:Hj}));sd(pc,Ze,ce(Kc,{brighter:function(a){a=null==a?Wd:Math.pow(Wd,a);return new pc(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new pc(this.h,this.s,this.l*a,this.opacity)},
rgb:function(){var a=this.h%360+360*(0>this.h),b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l;b=c+(.5>c?c:1-c)*b;c=2*c-b;return new Fb(Xg(240<=a?a-240:a+120,c,b),Xg(a,c,b),Xg(120>a?a+240:a-120,c,b),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+
(1===a?")":", "+a+")")}}));var Pj=Math.PI/180,Oj=180/Math.PI,Mj=4/29,ud=6/29,Lj=3*ud*ud,Fq=ud*ud*ud;sd(jc,$e,ce(Kc,{brighter:function(a){return new jc(this.l+18*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new jc(this.l-18*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;b=.96422*$g(b);a=1*$g(a);c=.82521*$g(c);return new Fb(ah(3.1338561*b-1.6168667*a-.4906146*c),ah(-.9787684*b+1.9161415*
a+.033454*c),ah(.0719453*b-.2289914*a+1.4052427*c),this.opacity)}}));sd(qc,af,ce(Kc,{brighter:function(a){return new qc(this.h,this.c,this.l+18*(null==a?1:a),this.opacity)},darker:function(a){return new qc(this.h,this.c,this.l-18*(null==a?1:a),this.opacity)},rgb:function(){return Kj(this).rgb()}}));var Qj=1.78277*-.29227-.1347134789;sd($c,kc,ce(Kc,{brighter:function(a){a=null==a?Wd:Math.pow(Wd,a);return new $c(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new $c(this.h,
this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*Pj,b=+this.l,c=isNaN(this.s)?0:this.s*b*(1-b),f=Math.cos(a);a=Math.sin(a);return new Fb(255*(b+c*(-.14861*f+1.78277*a)),255*(b+c*(-.29227*f+-.90649*a)),255*(b+1.97294*c*f),this.opacity)}}));var cf=function(a){return function(){return a}},de=function c(b){function f(h,m){var l=g((h=td(h)).r,(m=td(m)).r),n=g(h.g,m.g),x=g(h.b,m.b),C=Ab(h.opacity,m.opacity);return function(t){h.r=l(t);h.g=n(t);h.b=x(t);h.opacity=C(t);return h+
""}}var g=Hq(b);f.gamma=c;return f}(1),Nn=Vj(Sj),Yu=Vj(Tj),dh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eh=new RegExp(dh.source,"g"),bk=180/Math.PI,Ti={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},pg,On=ck(function(b){b=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(b+"");return b.isIdentity?Ti:ak(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),Pn=ck(function(b){if(null==b)return Ti;pg||(pg=document.createElementNS("http://www.w3.org/2000/svg","g"));pg.setAttribute("transform",
b);if(!(b=pg.transform.baseVal.consolidate()))return Ti;b=b.matrix;return ak(b.a,b.b,b.c,b.d,b.e,b.f)},", ",")",")"),Qn=function h(c,f,g){function m(l,n){var x=l[0],C=l[1],t=l[2];l=n[2];var u=n[0]-x,v=n[1]-C,y=u*u+v*v;if(1E-12>y){var q=Math.log(l/t)/c;l=function(B){return[x+B*u,C+B*v,t*Math.exp(c*B*q)]}}else{var r=Math.sqrt(y);n=(l*l-t*t+g*y)/(2*t*f*r);l=(l*l-t*t-g*y)/(2*l*f*r);var w=Math.log(Math.sqrt(n*n+1)-n);q=(Math.log(Math.sqrt(l*l+1)-l)-w)/c;l=function(B){B*=q;var D=dk(w),J=c*B+w;var M=((J=
Math.exp(2*J))-1)/(J+1);var P=w;J=((P=Math.exp(P))-1/P)/2;M=t/(f*r)*(D*M-J);return[x+M*u,C+M*v,t*D/dk(c*B+w)]}}l.duration=1E3*q*c/Math.SQRT2;return l}m.rho=function(l){l=Math.max(.001,+l);var n=l*l;return h(l,n,n*n)};return m}(Math.SQRT2,2,4),Zu=ek(bf),$u=ek(Ab),av=fk(bf),bv=fk(Ab),cv=gk(bf),qg=gk(Ab),vd=0,he=0,je=0,gf,ie,hf=0,ad=0,ef=0,fe="object"===typeof performance&&performance.now?performance:Date,ik="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):
function(c){setTimeout(c,17)};ge.prototype=ff.prototype={constructor:ge,restart:function(c,f,g){if("function"!==typeof c)throw new TypeError("callback is not a function");g=(null==g?ee():+g)+(null==f?0:+f);this._next||ie===this||(ie?ie._next=this:gf=this,ie=this);this._call=c;this._time=g;fh()},stop:function(){this._call&&(this._call=null,this._time=Infinity,fh())}};var Nq=Xc("start","end","cancel","interrupt"),Oq=[],dv=Zc.prototype.constructor,Rn=0,ld=Zc.prototype,ib={};sc.prototype=nk.prototype=
(ib.constructor=sc,ib.select=function(c){var f=this._name,g=this._id;"function"!==typeof c&&(c=Ue(c));for(var h=this._groups,m=h.length,l=Array(m),n=0;n<m;++n)for(var x=h[n],C=x.length,t=l[n]=Array(C),u,v,y=0;y<C;++y)(u=x[y])&&(v=c.call(u,u.__data__,y,x))&&("__data__"in u&&(v.__data__=u.__data__),t[y]=v,jf(t[y],f,g,y,t,lc(u,g)));return new sc(l,this._parents,f,g)},ib.selectAll=function(c){var f=this._name,g=this._id;"function"!==typeof c&&(c=Og(c));for(var h=this._groups,m=h.length,l=[],n=[],x=0;x<
m;++x)for(var C=h[x],t=C.length,u,v=0;v<t;++v)if(u=C[v]){for(var y=c.call(u,u.__data__,v,C),q,r=lc(u,g),w=0,B=y.length;w<B;++w)(q=y[w])&&jf(q,f,g,w,y,r);l.push(y);n.push(u)}return new sc(l,n,f,g)},ib.filter=function(c){"function"!==typeof c&&(c=Pg(c));for(var f=this._groups,g=f.length,h=Array(g),m=0;m<g;++m)for(var l=f[m],n=l.length,x=h[m]=[],C,t=0;t<n;++t)(C=l[t])&&c.call(C,C.__data__,t,l)&&x.push(C);return new sc(h,this._parents,this._name,this._id)},ib.merge=function(c){if(c._id!==this._id)throw Error();
var f=this._groups;c=c._groups;for(var g=f.length,h=Math.min(g,c.length),m=Array(g),l=0;l<h;++l)for(var n=f[l],x=c[l],C=n.length,t=m[l]=Array(C),u,v=0;v<C;++v)if(u=n[v]||x[v])t[v]=u;for(;l<g;++l)m[l]=f[l];return new sc(m,this._parents,this._name,this._id)},ib.selection=function(){return new dv(this._groups,this._parents)},ib.transition=function(){for(var c=this._name,f=this._id,g=++Rn,h=this._groups,m=h.length,l=0;l<m;++l)for(var n=h[l],x=n.length,C,t=0;t<x;++t)if(C=n[t]){var u=lc(C,f);jf(C,c,g,t,
n,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new sc(h,this._parents,c,g)},ib.call=ld.call,ib.nodes=ld.nodes,ib.node=ld.node,ib.size=ld.size,ib.empty=ld.empty,ib.each=ld.each,ib.on=function(c,f){var g=this._id;return 2>arguments.length?lc(this.node(),g).on.on(c):this.each(hr(g,c,f))},ib.attr=function(c,f){var g=be(c),h="transform"===g?Pn:lk;return this.attrTween(c,"function"===typeof f?(g.local?Wq:Vq)(g,h,ih(this,"attr."+c,f)):null==f?(g.local?Sq:Rq)(g):(g.local?
Uq:Tq)(g,h,f))},ib.attrTween=function(c,f){var g="attr."+c;if(2>arguments.length)return(g=this.tween(g))&&g._value;if(null==f)return this.tween(g,null);if("function"!==typeof f)throw Error();var h=be(c);return this.tween(g,(h.local?Zq:$q)(h,f))},ib.style=function(c,f,g){var h="transform"===(c+="")?On:lk;return null==f?this.styleTween(c,jr(c,h)).on("end.style."+c,mk(c)):"function"===typeof f?this.styleTween(c,lr(c,h,ih(this,"style."+c,f))).each(mr(this._id,c)):this.styleTween(c,kr(c,h,f),g).on("end.style."+
c,null)},ib.styleTween=function(c,f,g){var h="style."+(c+="");if(2>arguments.length)return(h=this.tween(h))&&h._value;if(null==f)return this.tween(h,null);if("function"!==typeof f)throw Error();return this.tween(h,or(c,f,null==g?"":g))},ib.text=function(c){return this.tween("text","function"===typeof c?qr(ih(this,"text",c)):pr(null==c?"":c+""))},ib.textTween=function(c){var f="text";if(1>arguments.length)return(f=this.tween(f))&&f._value;if(null==c)return this.tween(f,null);if("function"!==typeof c)throw Error();
return this.tween(f,sr(c))},ib.remove=function(){return this.on("end.remove",ir(this._id))},ib.tween=function(c,f){var g=this._id;c+="";if(2>arguments.length){g=lc(this.node(),g).tween;for(var h=0,m=g.length,l;h<m;++h)if((l=g[h]).name===c)return l.value;return null}return this.each((null==f?Pq:Qq)(g,c,f))},ib.delay=function(c){var f=this._id;return arguments.length?this.each(("function"===typeof c?ar:br)(f,c)):lc(this.node(),f).delay},ib.duration=function(c){var f=this._id;return arguments.length?
this.each(("function"===typeof c?cr:dr)(f,c)):lc(this.node(),f).duration},ib.ease=function(c){var f=this._id;return arguments.length?this.each(er(f,c)):lc(this.node(),f).ease},ib.easeVarying=function(c){if("function"!==typeof c)throw Error();return this.each(fr(this._id,c))},ib.end=function(){var c,f,g=this,h=g._id,m=g.size();return new Promise(function(l,n){var x={value:n},C={value:function(){0===--m&&l()}};g.each(function(){var t=rc(this,h),u=t.on;u!==c&&(f=(c=u).copy(),f._.cancel.push(x),f._.interrupt.push(x),
f._.end.push(C));t.on=f});0===m&&l()})},ib[Symbol.iterator]=ld[Symbol.iterator],ib);var ev=function g(f){function h(m){return Math.pow(m,f)}f=+f;h.exponent=g;return h}(3),fv=function h(g){function m(l){return 1-Math.pow(1-l,g)}g=+g;m.exponent=h;return m}(3),Sn=function m(h){function l(n){return(1>=(n*=2)?Math.pow(n,h):2-Math.pow(2-n,h))/2}h=+h;l.exponent=m;return l}(3),qk=Math.PI,Tn=qk/2,kh=4/11,ur=6/11,tr=8/11,wr=9/11,vr=10/11,xr=21/22,kf=1/kh/kh,gv=function l(m){function n(x){return(x=+x)*x*(m*
(x-1)+x)}m=+m;n.overshoot=l;return n}(1.70158),hv=function n(l){function x(C){return--C*C*((C+1)*l+C)+1}l=+l;x.overshoot=n;return x}(1.70158),Un=function x(n){function C(t){return(1>(t*=2)?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}n=+n;C.overshoot=x;return C}(1.70158),Xd=2*Math.PI,iv=function t(x,C){function u(y){return x*Nc(- --y)*Math.sin((v-y)/C)}var v=Math.asin(1/(x=Math.max(1,x)))*(C/=Xd);u.amplitude=function(y){return t(y,C*Xd)};u.period=function(y){return t(x,y)};return u}(1,.3),Vn=function u(C,
t){function v(q){return 1-C*Nc(q=+q)*Math.sin((q+y)/t)}var y=Math.asin(1/(C=Math.max(1,C)))*(t/=Xd);v.amplitude=function(q){return u(q,t*Xd)};v.period=function(q){return u(C,q)};return v}(1,.3),jv=function v(t,u){function y(r){return(0>(r=2*r-1)?t*Nc(-r)*Math.sin((q-r)/u):2-t*Nc(r)*Math.sin((q+r)/u))/2}var q=Math.asin(1/(t=Math.max(1,t)))*(u/=Xd);y.amplitude=function(r){return v(r,u*Xd)};y.period=function(r){return v(t,r)};return y}(1,.3),kv={time:null,delay:0,duration:250,ease:jh};Zc.prototype.interrupt=
function(t){return this.each(function(){bd(this,t)})};Zc.prototype.transition=function(t){var u;if(t instanceof sc){var v=t._id;t=t._name}else v=++Rn,(u=kv).time=ee(),t=null==t?null:t+"";for(var y=this._groups,q=y.length,r=0;r<q;++r)for(var w=y[r],B=w.length,D,J=0;J<B;++J)if(D=w[J]){var M=D,P=t,W=v,fa=J,R=w,S;if(!(S=u))for(S=void 0;!(S=D.__transition)||!(S=S[v]);)if(!(D=D.parentNode))throw Error("transition "+v+" not found");jf(M,P,W,fa,R,S)}return new sc(y,this._parents,t,v)};var lv=[null],ph=function(t){return function(){return t}},
vk={name:"drag"},oh={name:"space"},wd={name:"handle"},xd={name:"center"},Ui=Math,uk=Ui.abs,Jb=Ui.max,Kb=Ui.min,mf={name:"x",handles:["w","e"].map(le),input:function(t,u){return null==t?null:[[+t[0],u[0][1]],[+t[1],u[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},lf={name:"y",handles:["n","s"].map(le),input:function(t,u){return null==t?null:[[u[0][0],+t[0]],[u[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},mv={name:"xy",handles:"n w e s nw ne sw se".split(" ").map(le),input:function(t){return null==
t?null:lh(t)},output:function(t){return t}},Ac={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},wk={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},xk={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Cr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Dr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Ck=Math.abs,yd=Math.cos,zd=Math.sin,Wn=Math.PI,nf=
Wn/2,zk=2*Wn,yk=Math.max,Vi=Math.PI,Wi=2*Vi,nv=Wi-1E-6;sh.prototype=Oc.prototype={constructor:sh,moveTo:function(t,u){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,u){this._+="L"+(this._x1=+t)+","+(this._y1=+u)},quadraticCurveTo:function(t,u,v,y){this._+="Q"+ +t+","+ +u+","+(this._x1=+v)+","+(this._y1=+y)},bezierCurveTo:function(t,u,v,y,q,r){this._+="C"+ +t+","+ +u+","+ +v+","+
+y+","+(this._x1=+q)+","+(this._y1=+r)},arcTo:function(t,u,v,y,q){t=+t;u=+u;v=+v;y=+y;q=+q;var r=this._x1,w=this._y1,B=v-t,D=y-u,J=r-t,M=w-u,P=J*J+M*M;if(0>q)throw Error("negative radius: "+q);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=u);else if(1E-6<P)if(1E-6<Math.abs(M*B-D*J)&&q){v-=r;y-=w;var W=B*B+D*D;w=Math.sqrt(W);r=Math.sqrt(P);P=q*Math.tan((Vi-Math.acos((W+P-(v*v+y*y))/(2*w*r)))/2);r=P/r;P/=w;1E-6<Math.abs(r-1)&&(this._+="L"+(t+r*J)+","+(u+r*M));this._+="A"+q+","+q+",0,0,"+
+(M*v>J*y)+","+(this._x1=t+P*B)+","+(this._y1=u+P*D)}else this._+="L"+(this._x1=t)+","+(this._y1=u)},arc:function(t,u,v,y,q,r){t=+t;u=+u;v=+v;r=!!r;var w=v*Math.cos(y),B=v*Math.sin(y),D=t+w,J=u+B,M=1^r;y=r?y-q:q-y;if(0>v)throw Error("negative radius: "+v);if(null===this._x1)this._+="M"+D+","+J;else if(1E-6<Math.abs(this._x1-D)||1E-6<Math.abs(this._y1-J))this._+="L"+D+","+J;v&&(0>y&&(y=y%Wi+Wi),y>nv?this._+="A"+v+","+v+",0,1,"+M+","+(t-w)+","+(u-B)+"A"+v+","+v+",0,1,"+M+","+(this._x1=D)+","+(this._y1=
J):1E-6<y&&(this._+="A"+v+","+v+",0,"+ +(y>=Vi)+","+M+","+(this._x1=t+v*Math.cos(q))+","+(this._y1=u+v*Math.sin(q))))},rect:function(t,u,v,y){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)+"h"+ +v+"v"+ +y+"h"+-v+"Z"},toString:function(){return this._}};var Lr=Array.prototype.slice,Ek=Array.prototype.slice,Pc=function(t){return function(){return t}},Bc=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],
[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Xn=Math.pow(2,-52),rg=new Uint32Array(512),Ic=function(t){var u=t.length>>1;if(0<u&&"number"!==typeof t[0])throw Error("Expected coords to contain numbers.");this.coords=t;t=Math.max(2*u-5,0);this._triangles=new Uint32Array(3*t);this._halfedges=new Int32Array(3*t);this._hashSize=Math.ceil(Math.sqrt(u));this._hullPrev=new Uint32Array(u);
this._hullNext=new Uint32Array(u);this._hullTri=new Uint32Array(u);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(u);this._dists=new Float64Array(u);this.update()};Ic.from=function(t,u,v){u=void 0===u?Rr:u;v=void 0===v?Sr:v;for(var y=t.length,q=new Float64Array(2*y),r=0;r<y;r++){var w=t[r];q[2*r]=u(w);q[2*r+1]=v(w)}return new Ic(q)};Ic.prototype.update=function(){for(var t,u,v=this.coords,y=this._hullPrev,q=this._hullNext,r=this._hullTri,w=this._hullHash,B=v.length>>
1,D=Infinity,J=Infinity,M=-Infinity,P=-Infinity,W=0;W<B;W++){var fa=v[2*W];t=v[2*W+1];fa<D&&(D=fa);t<J&&(J=t);fa>M&&(M=fa);t>P&&(P=t);this._ids[W]=W}M=(D+M)/2;J=(J+P)/2;D=Infinity;for(P=0;P<B;P++)if(W=vh(M,J,v[2*P],v[2*P+1]),W<D){var R=P;D=W}J=v[2*R];P=v[2*R+1];D=Infinity;for(M=0;M<B;M++)if(M!==R&&(W=vh(J,P,v[2*M],v[2*M+1]),W<D&&0<W)){var S=M;D=W}D=v[2*S];M=v[2*S+1];t=Infinity;for(W=0;W<B;W++)if(W!==R&&W!==S){fa=D-J;var la=M-P;u=v[2*W]-J;var ia=v[2*W+1]-P,qa=fa*fa+la*la,Ga=u*u+ia*ia,pa=.5/(fa*ia-
la*u);la=(ia*qa-la*Ga)*pa;fa=(fa*Ga-u*qa)*pa;fa=la*la+fa*fa;if(fa<t){var Ea=W;t=fa}}W=v[2*Ea];fa=v[2*Ea+1];if(Infinity===t){for(q=0;q<B;q++)this._dists[q]=v[2*q]-v[0]||v[2*q+1]-v[1];Ad(this._ids,this._dists,0,B-1);q=new Uint32Array(B);y=v=0;for(r=-Infinity;y<B;y++)w=this._ids[y],this._dists[w]>r&&(q[v++]=w,r=this._dists[w]);this.hull=q.subarray(0,v);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{of(J,P,D,M,W,fa)&&(t=S,u=D,qa=M,S=Ea,D=W,M=fa,Ea=t,W=u,fa=qa);u=D-J;t=M-P;qa=
W-J;ia=fa-P;Ga=u*u+t*t;pa=qa*qa+ia*ia;la=.5/(u*ia-t*qa);t=J+(ia*Ga-t*pa)*la;u=P+(u*pa-qa*Ga)*la;this._cx=t;this._cy=u;for(qa=0;qa<B;qa++)this._dists[qa]=vh(v[2*qa],v[2*qa+1],t,u);Ad(this._ids,this._dists,0,B-1);this._hullStart=R;B=3;q[R]=y[Ea]=S;q[S]=y[R]=Ea;q[Ea]=y[S]=R;r[R]=0;r[S]=1;r[Ea]=2;w.fill(-1);w[this._hashKey(J,P)]=R;w[this._hashKey(D,M)]=S;w[this._hashKey(W,fa)]=Ea;this.trianglesLen=0;this._addTriangle(R,S,Ea,-1,-1,-1);J=0;for(D=P=void 0;J<this._ids.length;J++)if(M=this._ids[J],W=v[2*M],
fa=v[2*M+1],!(0<J&&Math.abs(W-P)<=Xn&&Math.abs(fa-D)<=Xn)&&(P=W,D=fa,M!==R&&M!==S&&M!==Ea)){u=t=0;for(qa=this._hashKey(W,fa);u<this._hashSize&&(t=w[(qa+u)%this._hashSize],-1===t||t===q[t]);u++);u=t=y[t];for(qa=void 0;qa=q[u],!of(W,fa,v[2*u],v[2*u+1],v[2*qa],v[2*qa+1]);)if(u=qa,u===t){u=-1;break}if(-1!==u){Ga=this._addTriangle(u,M,q[u],-1,-1,r[u]);r[M]=this._legalize(Ga+2);r[u]=Ga;B++;for(pa=q[u];qa=q[pa],of(W,fa,v[2*pa],v[2*pa+1],v[2*qa],v[2*qa+1]);)Ga=this._addTriangle(pa,M,qa,r[M],-1,r[pa]),r[M]=
this._legalize(Ga+2),q[pa]=pa,B--,pa=qa;if(u===t)for(;qa=y[u],of(W,fa,v[2*qa],v[2*qa+1],v[2*u],v[2*u+1]);)Ga=this._addTriangle(qa,M,u,-1,r[u],r[qa]),this._legalize(Ga+2),r[qa]=Ga,q[u]=u,B--,u=qa;this._hullStart=y[M]=u;q[u]=y[pa]=M;q[M]=pa;w[this._hashKey(W,fa)]=M;w[this._hashKey(v[2*u],v[2*u+1])]=u}}this.hull=new Uint32Array(B);v=0;for(y=this._hullStart;v<B;v++)this.hull[v]=y,y=q[y];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}};
Ic.prototype._hashKey=function(t,u){var v=Math;t-=this._cx;u-=this._cy;t/=Math.abs(t)+Math.abs(u);return v.floor.call(v,(0<u?3-t:1+t)/4*this._hashSize)%this._hashSize};Ic.prototype._legalize=function(t){for(var u=this._triangles,v=this._halfedges,y=this.coords,q=0,r;;){var w=v[t],B=t-t%3;r=B+(t+2)%3;if(-1===w){if(0===q)break;t=rg[--q]}else{var D=w-w%3,J=D+(w+2)%3,M=u[r],P=u[t],W=u[B+(t+1)%3];B=u[J];var fa=y[2*B],R=y[2*B+1],S=y[2*M]-fa,la=y[2*M+1]-R,ia=y[2*P]-fa;P=y[2*P+1]-R;fa=y[2*W]-fa;W=y[2*W+1]-
R;R=ia*ia+P*P;var qa=fa*fa+W*W;if(0>S*(P*qa-R*W)-la*(ia*qa-R*fa)+(S*S+la*la)*(ia*W-P*fa)){u[t]=B;u[w]=M;M=v[J];if(-1===M){B=this._hullStart;do{if(this._hullTri[B]===J){this._hullTri[B]=t;break}B=this._hullPrev[B]}while(B!==this._hullStart)}this._link(t,M);this._link(w,v[r]);this._link(r,J);r=D+(w+1)%3;q<rg.length&&(rg[q++]=r)}else{if(0===q)break;t=rg[--q]}}}return r};Ic.prototype._link=function(t,u){this._halfedges[t]=u;-1!==u&&(this._halfedges[u]=t)};Ic.prototype._addTriangle=function(t,u,v,y,q,
r){var w=this.trianglesLen;this._triangles[w]=t;this._triangles[w+1]=u;this._triangles[w+2]=v;this._link(w,y);this._link(w+1,q);this._link(w+2,r);this.trianglesLen+=3;return w};var cc=function(){this._x0=this._y0=this._x1=this._y1=null;this._=""};cc.prototype.moveTo=function(t,u){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)};cc.prototype.closePath=function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")};cc.prototype.lineTo=function(t,u){this._+="L"+(this._x1=
+t)+","+(this._y1=+u)};cc.prototype.arc=function(t,u,v){t=+t;u=+u;v=+v;var y=t+v,q=u;if(0>v)throw Error("negative radius");if(null===this._x1)this._+="M"+y+","+q;else if(1E-6<Math.abs(this._x1-y)||1E-6<Math.abs(this._y1-q))this._+="L"+y+","+q;v&&(this._+="A"+v+","+v+",0,1,1,"+(t-v)+","+u+"A"+v+","+v+",0,1,1,"+(this._x1=y)+","+(this._y1=q))};cc.prototype.rect=function(t,u,v,y){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)+"h"+ +v+"v"+ +y+"h"+-v+"Z"};cc.prototype.value=function(){return this._||
null};var md=function(){this._=[]};md.prototype.moveTo=function(t,u){this._.push([t,u])};md.prototype.closePath=function(){this._.push(this._[0].slice())};md.prototype.lineTo=function(t,u){this._.push([t,u])};md.prototype.value=function(){return this._.length?this._:null};var vb=function(t,u){var v=$jscomp.makeIterator(void 0===u?[0,0,960,500]:u);u=v.next().value;var y=v.next().value,q=v.next().value;v=v.next().value;if(!((q=+q)>=(u=+u)&&(v=+v)>=(y=+y)))throw Error("invalid bounds");this.delaunay=
t;this._circumcenters=new Float64Array(2*t.points.length);this.vectors=new Float64Array(2*t.points.length);this.xmax=q;this.xmin=u;this.ymax=v;this.ymin=y;this._init()};vb.prototype.update=function(){this.delaunay.update();this._init();return this};vb.prototype._init=function(){var t=this.delaunay,u=t.points,v=t.hull,y=t.triangles;t=this.vectors;for(var q=this.circumcenters=this._circumcenters.subarray(0,y.length/3*2),r=0,w=0,B=y.length,D,J;r<B;r+=3,w+=2){J=2*y[r];var M=2*y[r+1],P=2*y[r+2];D=u[J];
J=u[J+1];var W=u[P],fa=u[P+1];P=u[M]-D;var R=u[M+1]-J;M=W-D;var S=fa-J,la=P*P+R*R,ia=M*M+S*S,qa=2*(P*S-R*M);qa?1E-8>Math.abs(qa)?(D=(D+W)/2,J=(J+fa)/2):(W=1/qa,D+=(S*la-R*ia)*W,J+=(P*ia-M*la)*W):(D=(D+W)/2-1E8*S,J=(J+fa)/2+1E8*M);q[w]=D;q[w+1]=J}y=v[v.length-1];r=4*y;B=u[2*y];J=u[2*y+1];t.fill(0);for(P=0;P<v.length;++P)y=v[P],q=r,w=B,D=J,r=4*y,B=u[2*y],J=u[2*y+1],t[q+2]=t[r]=D-J,t[q+3]=t[r+1]=B-w};vb.prototype.render=function(t){var u=null==t?t=new cc:void 0,v=this.delaunay,y=v.halfedges,q=v.inedges;
v=v.hull;var r=this.circumcenters,w=this.vectors;if(1>=v.length)return null;for(var B=0,D=y.length;B<D;++B){var J=y[B];if(!(J<B)){var M=2*Math.floor(B/3);J=2*Math.floor(J/3);this._renderSegment(r[M],r[M+1],r[J],r[J+1],t)}}y=v[v.length-1];for(B=0;B<v.length;++B)J=y,y=v[B],M=2*Math.floor(q[y]/3),D=r[M],M=r[M+1],J*=4,(J=this._project(D,M,w[J+2],w[J+3]))&&this._renderSegment(D,M,J[0],J[1],t);return u&&u.value()};vb.prototype.renderBounds=function(t){var u=null==t?t=new cc:void 0;t.rect(this.xmin,this.ymin,
this.xmax-this.xmin,this.ymax-this.ymin);return u&&u.value()};vb.prototype.renderCell=function(t,u){var v=null==u?u=new cc:void 0;t=this._clip(t);if(null!==t&&t.length){u.moveTo(t[0],t[1]);for(var y=t.length;t[0]===t[y-2]&&t[1]===t[y-1]&&1<y;)y-=2;for(var q=2;q<y;q+=2)t[q]===t[q-2]&&t[q+1]===t[q-1]||u.lineTo(t[q],t[q+1]);u.closePath();return v&&v.value()}};vb.prototype.cellPolygons=function u(){var v=this,y,q,r,w,B,D;return $jscomp.generator.createGenerator(u,function(J){switch(J.nextAddress){case 1:y=
v,q=y.delaunay,r=q.points,w=0,B=r.length/2;case 2:if(!(w<B)){J.jumpTo(0);break}D=v.cellPolygon(w);if(!D){J.jumpTo(3);break}D.index=w;return J.yield(D,6);case 6:case 3:++w,J.jumpTo(2)}})};vb.prototype.cellPolygon=function(u){var v=new md;this.renderCell(u,v);return v.value()};vb.prototype._renderSegment=function(u,v,y,q,r){var w=this._regioncode(u,v),B=this._regioncode(y,q);if(0===w&&0===B)r.moveTo(u,v),r.lineTo(y,q);else if(u=this._clipSegment(u,v,y,q,w,B))r.moveTo(u[0],u[1]),r.lineTo(u[2],u[3])};
vb.prototype.contains=function(u,v,y){return(v=+v,v!==v)||(y=+y,y!==y)?!1:this.delaunay._step(u,v,y)===u};vb.prototype.neighbors=function y(v){var q=this,r,w,B,D,J,M,P,W,fa;return $jscomp.generator.createGenerator(y,function(R){switch(R.nextAddress){case 1:r=q._clip(v);if(!r){R.jumpTo(0);break}w=$jscomp.makeIterator(q.delaunay.neighbors(v));B=w.next();case 3:if(B.done){R.jumpTo(0);break}D=B.value;J=q._clip(D);if(!J){R.jumpTo(4);break}M=0;P=r.length;case 9:if(!(M<P)){R.jumpTo(4);break}W=0;fa=J.length;
case 10:if(!(W<fa)){M+=2;R.jumpTo(9);break}if(r[M]!=J[W]||r[M+1]!=J[W+1]||r[(M+2)%P]!=J[(W+fa-2)%fa]||r[(M+3)%P]!=J[(W+fa-1)%fa]){R.jumpTo(11);break}return R.yield(D,14);case 14:R.jumpTo(4);break;case 11:W+=2;R.jumpTo(10);break;case 4:B=w.next(),R.jumpTo(3)}})};vb.prototype._cell=function(v){var y=this.circumcenters,q=this.delaunay,r=q.halfedges,w=q.triangles;q=q.inedges[v];if(-1===q)return null;var B=[],D=q;do{var J=Math.floor(D/3);B.push(y[2*J],y[2*J+1]);D=2===D%3?D-2:D+1;if(w[D]!==v)break;D=r[D]}while(D!==
q&&-1!==D);return B};vb.prototype._clip=function(v){if(0===v&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var y=this._cell(v);if(null===y)return null;var q=this.vectors,r=4*v;return q[r]||q[r+1]?this._clipInfinite(v,y,q[r],q[r+1],q[r+2],q[r+3]):this._clipFinite(v,y)};vb.prototype._clipFinite=function(v,y){for(var q=y.length,r=null,w,B,D=y[q-2],J=y[q-1],M,P=this._regioncode(D,J),W,fa,R=0;R<q;R+=2)if(w=D,B=J,D=y[R],J=y[R+1],M=
P,P=this._regioncode(D,J),0===M&&0===P)fa=0,r?r.push(D,J):r=[D,J];else{if(0===M){if(null===(w=this._clipSegment(w,B,D,J,M,P)))continue;B=$jscomp.makeIterator(w);B.next();B.next();w=B.next().value;M=B.next().value}else{if(null===(w=this._clipSegment(D,J,w,B,P,M)))continue;W=$jscomp.makeIterator(w);w=W.next().value;M=W.next().value;B=W.next().value;var S=W.next().value;W=fa;fa=this._edgecode(B,S);W&&fa&&this._edge(v,W,fa,r,r.length);r?r.push(B,S):r=[B,S]}W=fa;fa=this._edgecode(w,M);W&&fa&&this._edge(v,
W,fa,r,r.length);r?r.push(w,M):r=[w,M]}if(r)W=fa,fa=this._edgecode(r[0],r[1]),W&&fa&&this._edge(v,W,fa,r,r.length);else if(this.contains(v,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r};vb.prototype._clipSegment=function(v,y,q,r,w,B){for(;;){if(0===w&&0===B)return[v,y,q,r];if(w&B)return null;var D=w||B;if(D&8){D=v+(q-v)*(this.ymax-y)/(r-y);var J=this.ymax}else D&4?(D=v+(q-v)*(this.ymin-y)/(r-y),J=this.ymin):
D&2?(J=y+(r-y)*(this.xmax-v)/(q-v),D=this.xmax):(J=y+(r-y)*(this.xmin-v)/(q-v),D=this.xmin);w?(v=D,y=J,w=this._regioncode(v,y)):(q=D,r=J,B=this._regioncode(q,r))}};vb.prototype._clipInfinite=function(v,y,q,r,w,B){y=Array.from(y);var D;(D=this._project(y[0],y[1],q,r))&&y.unshift(D[0],D[1]);(D=this._project(y[y.length-2],y[y.length-1],w,B))&&y.push(D[0],D[1]);if(y=this._clipFinite(v,y))for(q=0,r=y.length,B=this._edgecode(y[r-2],y[r-1]);q<r;q+=2)w=B,B=this._edgecode(y[q],y[q+1]),w&&B&&(q=this._edge(v,
w,B,y,q),r=y.length);else this.contains(v,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(y=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return y};vb.prototype._edge=function(v,y,q,r,w){for(;y!==q;){var B=void 0,D=void 0;switch(y){case 5:y=4;continue;case 4:y=6;B=this.xmax;D=this.ymin;break;case 6:y=2;continue;case 2:y=10;B=this.xmax;D=this.ymax;break;case 10:y=8;continue;case 8:y=9;B=this.xmin;D=this.ymax;break;case 9:y=1;continue;case 1:y=5,B=this.xmin,D=
this.ymin}r[w]===B&&r[w+1]===D||!this.contains(v,B,D)||(r.splice(w,0,B,D),w+=2)}if(4<r.length)for(v=0;v<r.length;v+=2)if(y=(v+2)%r.length,q=(v+4)%r.length,r[v]===r[y]&&r[y]===r[q]||r[v+1]===r[y+1]&&r[y+1]===r[q+1])r.splice(y,2),v-=2;return w};vb.prototype._project=function(v,y,q,r){var w=Infinity,B;if(0>r){if(y<=this.ymin)return null;if((B=(this.ymin-y)/r)<w){var D=this.ymin;var J=v+(w=B)*q}}else if(0<r){if(y>=this.ymax)return null;(B=(this.ymax-y)/r)<w&&(D=this.ymax,J=v+(w=B)*q)}if(0<q){if(v>=this.xmax)return null;
(B=(this.xmax-v)/q)<w&&(J=this.xmax,D=y+B*r)}else if(0>q){if(v<=this.xmin)return null;(B=(this.xmin-v)/q)<w&&(J=this.xmin,D=y+B*r)}return[J,D]};vb.prototype._edgecode=function(v,y){return(v===this.xmin?1:v===this.xmax?2:0)|(y===this.ymin?4:y===this.ymax?8:0)};vb.prototype._regioncode=function(v,y){return(v<this.xmin?1:v>this.xmax?2:0)|(y<this.ymin?4:y>this.ymax?8:0)};var ov=2*Math.PI,Yd=Math.pow,Lb=function(v){this._delaunator=new Ic(v);this.inedges=new Int32Array(v.length/2);this._hullIndex=new Int32Array(v.length/
2);this.points=this._delaunator.coords;this._init()};Lb.from=function(v,y,q,r){y=void 0===y?Tr:y;q=void 0===q?Ur:q;if("length"in v){for(var w=v.length,B=new Float64Array(2*w),D=0;D<w;++D){var J=v[D];B[2*D]=y.call(r,J,D,v);B[2*D+1]=q.call(r,J,D,v)}v=B}else v=Float64Array.from(Fk(v,y,q,r));return new Lb(v)};Lb.prototype.update=function(){this._delaunator.update();this._init();return this};Lb.prototype._init=function(){var v=this._delaunator,y=this.points;if(v.hull&&2<v.hull.length&&Vr(v)){this.collinear=
Int32Array.from({length:y.length/2},function(P,W){return W}).sort(function(P,W){return y[2*P]-y[2*W]||y[2*P+1]-y[2*W+1]});v=this.collinear[0];var q=this.collinear[this.collinear.length-1];v=[y[2*v],y[2*v+1],y[2*q],y[2*q+1]];v=1E-8*Math.hypot(v[3]-v[1],v[2]-v[0]);q=0;for(var r=y.length/2;q<r;++q){var w=Wr(y[2*q],y[2*q+1],v);y[2*q]=w[0];y[2*q+1]=w[1]}this._delaunator=new Ic(y)}else delete this.collinear;w=this.halfedges=this._delaunator.halfedges;v=this.hull=this._delaunator.hull;var B=this.triangles=
this._delaunator.triangles;q=this.inedges.fill(-1);r=this._hullIndex.fill(-1);for(var D=0,J=w.length;D<J;++D){var M=B[2===D%3?D-2:D+1];if(-1===w[D]||-1===q[M])q[M]=D}w=0;for(B=v.length;w<B;++w)r[v[w]]=w;2>=v.length&&0<v.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=v[0],this.triangles[1]=v[1],this.triangles[2]=v[1],q[v[0]]=1,2===v.length&&(q[v[1]]=0))};Lb.prototype.voronoi=function(v){return new vb(this,v)};Lb.prototype.neighbors=
function q(y){var r=this,w,B,D,J,M,P,W,fa,R,S,la,ia;return $jscomp.generator.createGenerator(q,function(qa){switch(qa.nextAddress){case 1:w=r;B=w.inedges;D=w.hull;J=w._hullIndex;M=w.halfedges;P=w.triangles;W=w.collinear;if(!W){qa.jumpTo(2);break}fa=W.indexOf(y);if(!(0<fa)){qa.jumpTo(3);break}return qa.yield(W[fa-1],3);case 3:if(!(fa<W.length-1)){qa.jumpTo(5);break}return qa.yield(W[fa+1],5);case 5:return qa.return();case 2:R=B[y];if(-1===R)return qa.return();S=R;la=-1;case 7:return qa.yield(la=P[S],
10);case 10:S=2===S%3?S-2:S+1;if(P[S]!==y)return qa.return();S=M[S];if(-1!==S){qa.jumpTo(9);break}ia=D[(J[y]+1)%D.length];if(ia===la){qa.jumpTo(12);break}return qa.yield(ia,12);case 12:return qa.return();case 9:S!==R?qa.jumpTo(7):qa.jumpToEnd()}})};Lb.prototype.find=function(y,q,r){r=void 0===r?0:r;if((y=+y,y!==y)||(q=+q,q!==q))return-1;for(var w=r,B;0<=(B=this._step(r,y,q))&&B!==r&&B!==w;)r=B;return B};Lb.prototype._step=function(y,q,r){var w=this.inedges,B=this.hull,D=this._hullIndex,J=this.halfedges,
M=this.triangles,P=this.points;if(-1===w[y]||!P.length)return(y+1)%(P.length>>1);var W=y,fa=Yd(q-P[2*y],2)+Yd(r-P[2*y+1],2),R=w=w[y];do{var S=M[R],la=Yd(q-P[2*S],2)+Yd(r-P[2*S+1],2);la<fa&&(fa=la,W=S);R=2===R%3?R-2:R+1;if(M[R]!==y)break;R=J[R];if(-1===R){R=B[(D[y]+1)%B.length];if(R!==S&&Yd(q-P[2*R],2)+Yd(r-P[2*R+1],2)<fa)return R;break}}while(R!==w);return W};Lb.prototype.render=function(y){for(var q=null==y?y=new cc:void 0,r=this.points,w=this.halfedges,B=this.triangles,D=0,J=w.length;D<J;++D){var M=
w[D];if(!(M<D)){var P=2*B[D];M=2*B[M];y.moveTo(r[P],r[P+1]);y.lineTo(r[M],r[M+1])}}this.renderHull(y);return q&&q.value()};Lb.prototype.renderPoints=function(y,q){q=void 0===q?2:q;for(var r=null==y?y=new cc:void 0,w=this.points,B=0,D=w.length;B<D;B+=2){var J=w[B],M=w[B+1];y.moveTo(J+q,M);y.arc(J,M,q,0,ov)}return r&&r.value()};Lb.prototype.renderHull=function(y){var q=null==y?y=new cc:void 0,r=this.hull,w=this.points,B=2*r[0],D=r.length;y.moveTo(w[B],w[B+1]);for(B=1;B<D;++B){var J=2*r[B];y.lineTo(w[J],
w[J+1])}y.closePath();return q&&q.value()};Lb.prototype.hullPolygon=function(){var y=new md;this.renderHull(y);return y.value()};Lb.prototype.renderTriangle=function(y,q){var r=null==q?q=new cc:void 0,w=this.points,B=this.triangles,D=2*B[y*=3],J=2*B[y+1];y=2*B[y+2];q.moveTo(w[D],w[D+1]);q.lineTo(w[J],w[J+1]);q.lineTo(w[y],w[y+1]);q.closePath();return r&&r.value()};Lb.prototype.trianglePolygons=function q(){var r=this,w,B,D,J;return $jscomp.generator.createGenerator(q,function(M){1==M.nextAddress&&
(w=r,B=w.triangles,D=0,J=B.length/3);if(3!=M.nextAddress)return D<J?M.yield(r.trianglePolygon(D),3):M.jumpTo(0);++D;return M.jumpTo(2)})};Lb.prototype.trianglePolygon=function(q){var r=new md;this.renderTriangle(q,r);return r.value()};var Ik={},xh={},nd=pf(","),Yn=nd.parse,pv=nd.parseRows,qv=nd.format,rv=nd.formatBody,sv=nd.formatRows,tv=nd.formatRow,uv=nd.formatValue,od=pf("\t"),Zn=od.parse,vv=od.parseRows,wv=od.format,xv=od.formatBody,yv=od.formatRows,zv=od.formatRow,Av=od.formatValue,Bv=(new Date("2019-01-01T00:00")).getHours()||
(new Date("2019-07-01T00:00")).getHours(),Cv=Jk(Yn),Dv=Jk(Zn),Ev=yh("application/xml"),Fv=yh("text/html"),Gv=yh("image/svg+xml"),Wb=rf.prototype=zh.prototype;Wb.copy=function(){var q=new zh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,w,B;if(!r)return q;if(!r.length)return q._root=Lk(r),q;for(w=[{source:r,target:q._root=Array(4)}];r=w.pop();)for(var D=0;4>D;++D)if(B=r.source[D])B.length?w.push({source:B,target:r.target[D]=Array(4)}):r.target[D]=Lk(B);return q};Wb.add=function(q){var r=
+this._x.call(null,q),w=+this._y.call(null,q);return Kk(this.cover(r,w),r,w,q)};Wb.addAll=function(q){var r,w,B=q.length,D,J,M=Array(B),P=Array(B),W=Infinity,fa=Infinity,R=-Infinity,S=-Infinity;for(w=0;w<B;++w)isNaN(D=+this._x.call(null,r=q[w]))||isNaN(J=+this._y.call(null,r))||(M[w]=D,P[w]=J,D<W&&(W=D),D>R&&(R=D),J<fa&&(fa=J),J>S&&(S=J));if(W>R||fa>S)return this;this.cover(W,fa).cover(R,S);for(w=0;w<B;++w)Kk(this,M[w],P[w],q[w]);return this};Wb.cover=function(q,r){if(isNaN(q=+q)||isNaN(r=+r))return this;
var w=this._x0,B=this._y0,D=this._x1,J=this._y1;if(isNaN(w))D=(w=Math.floor(q))+1,J=(B=Math.floor(r))+1;else{for(var M=D-w||1,P=this._root,W,fa;w>q||q>=D||B>r||r>=J;)switch(fa=(r<B)<<1|q<w,W=Array(4),W[fa]=P,P=W,M*=2,fa){case 0:D=w+M;J=B+M;break;case 1:w=D-M;J=B+M;break;case 2:D=w+M;B=J-M;break;case 3:w=D-M,B=J-M}this._root&&this._root.length&&(this._root=P)}this._x0=w;this._y0=B;this._x1=D;this._y1=J;return this};Wb.data=function(){var q=[];this.visit(function(r){if(!r.length){do q.push(r.data);
while(r=r.next)}});return q};Wb.extent=function(q){return arguments.length?this.cover(+q[0][0],+q[0][1]).cover(+q[1][0],+q[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Wb.find=function(q,r,w){var B=this._x0,D=this._y0,J,M,P,W,fa=this._x1,R=this._y1,S=[],la=this._root,ia;la&&S.push(new Pb(la,B,D,fa,R));null==w?w=Infinity:(B=q-w,D=r-w,fa=q+w,R=r+w,w*=w);for(;ia=S.pop();)if(!(!(la=ia.node)||(J=ia.x0)>fa||(M=ia.y0)>R||(P=ia.x1)<B||(W=ia.y1)<D))if(la.length){ia=(J+P)/2;var qa=
(M+W)/2;S.push(new Pb(la[3],ia,qa,P,W),new Pb(la[2],J,qa,ia,W),new Pb(la[1],ia,M,P,qa),new Pb(la[0],J,M,ia,qa));if(la=(r>=qa)<<1|q>=ia)ia=S[S.length-1],S[S.length-1]=S[S.length-1-la],S[S.length-1-la]=ia}else if(ia=q-+this._x.call(null,la.data),qa=r-+this._y.call(null,la.data),ia=ia*ia+qa*qa,ia<w){var Ga=Math.sqrt(w=ia);B=q-Ga;D=r-Ga;fa=q+Ga;R=r+Ga;Ga=la.data}return Ga};Wb.remove=function(q){if(isNaN(W=+this._x.call(null,q))||isNaN(fa=+this._y.call(null,q)))return this;var r,w=this._root,B,D=this._x0,
J=this._y0,M=this._x1,P=this._y1,W,fa,R,S,la,ia;if(!w)return this;if(w.length)for(;;){(la=W>=(R=(D+M)/2))?D=R:M=R;(ia=fa>=(S=(J+P)/2))?J=S:P=S;if(!(r=w,w=w[la|=ia<<1]))return this;if(!w.length)break;if(r[la+1&3]||r[la+2&3]||r[la+3&3]){var qa=r;var Ga=la}}for(;w.data!==q;)if(!(B=w,w=w.next))return this;(q=w.next)&&delete w.next;if(B)return q?B.next=q:delete B.next,this;if(!r)return this._root=q,this;q?r[la]=q:delete r[la];(w=r[0]||r[1]||r[2]||r[3])&&w===(r[3]||r[2]||r[1]||r[0])&&!w.length&&(qa?qa[Ga]=
w:this._root=w);return this};Wb.removeAll=function(q){for(var r=0,w=q.length;r<w;++r)this.remove(q[r]);return this};Wb.root=function(){return this._root};Wb.size=function(){var q=0;this.visit(function(r){if(!r.length){do++q;while(r=r.next)}});return q};Wb.visit=function(q){var r=[],w,B=this._root,D,J,M,P;for(B&&r.push(new Pb(B,this._x0,this._y0,this._x1,this._y1));w=r.pop();)if(!q(B=w.node,J=w.x0,M=w.y0,P=w.x1,w=w.y1)&&B.length){var W=(J+P)/2,fa=(M+w)/2;(D=B[3])&&r.push(new Pb(D,W,fa,P,w));(D=B[2])&&
r.push(new Pb(D,J,fa,W,w));(D=B[1])&&r.push(new Pb(D,W,M,P,fa));(D=B[0])&&r.push(new Pb(D,J,M,W,fa))}return this};Wb.visitAfter=function(q){var r=[],w=[],B;for(this._root&&r.push(new Pb(this._root,this._x0,this._y0,this._x1,this._y1));B=r.pop();){var D=B.node;if(D.length){var J,M=B.x0,P=B.y0,W=B.x1,fa=B.y1,R=(M+W)/2,S=(P+fa)/2;(J=D[0])&&r.push(new Pb(J,M,P,R,S));(J=D[1])&&r.push(new Pb(J,R,P,W,S));(J=D[2])&&r.push(new Pb(J,M,S,R,fa));(J=D[3])&&r.push(new Pb(J,R,S,W,fa))}w.push(B)}for(;B=w.pop();)q(B.node,
B.x0,B.y0,B.x1,B.y1);return this};Wb.x=function(q){return arguments.length?(this._x=q,this):this._x};Wb.y=function(q){return arguments.length?(this._y=q,this):this._y};var Hv=Math.PI*(3-Math.sqrt(5)),ls=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;ne.prototype=tf.prototype;tf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?
"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Rk,Sk={"%":function(q,r){return(100*q).toFixed(r)},b:function(q){return Math.round(q).toString(2)},c:function(q){return q+""},d:function(q){return 1E21<=Math.abs(q=Math.round(q))?q.toLocaleString("en").replace(/,/g,""):q.toString(10)},e:function(q,r){return q.toExponential(r)},f:function(q,r){return q.toFixed(r)},g:function(q,r){return q.toPrecision(r)},o:function(q){return Math.round(q).toString(8)},p:function(q,r){return Nk(100*
q,r)},r:Nk,s:function(q,r){var w=sf(q,r);if(!w)return q+"";var B=w[0];w=w[1];w=w-(Rk=3*Math.max(-8,Math.min(8,Math.floor(w/3))))+1;var D=B.length;return w===D?B:w>D?B+Array(w-D+1).join("0"):0<w?B.slice(0,w)+"."+B.slice(w):"0."+Array(1-w).join("0")+sf(q,Math.max(0,r+w-1))[0]},X:function(q){return Math.round(q).toString(16).toUpperCase()},x:function(q){return Math.round(q).toString(16)}},Tk=Array.prototype.map,Qk="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),uf;e.format=void 0;e.formatPrefix=void 0;
Uk({thousands:",",grouping:[3],currency:["$",""]});var ab=Math.PI,nb=ab/2,wf=ab/4,Vb=2*ab,jb=180/ab,Ta=ab/180,db=Math.abs,Jd=Math.atan,Rb=Math.atan2,Ra=Math.cos,Pf=Math.ceil,$n=Math.exp,Hh=Math.hypot,Uf=Math.log,gi=Math.pow,Ma=Math.sin,ec=Math.sign||function(q){return 0<q?1:0>q?-1:0},Bb=Math.sqrt,Id=Math.tan,bl={Feature:function(q,r){vf(q.geometry,r)},FeatureCollection:function(q,r){q=q.features;for(var w=-1,B=q.length;++w<B;)vf(q[w].geometry,r)}},$k={Sphere:function(q,r){r.sphere()},Point:function(q,
r){q=q.coordinates;r.point(q[0],q[1],q[2])},MultiPoint:function(q,r){for(var w=q.coordinates,B=-1,D=w.length;++B<D;)q=w[B],r.point(q[0],q[1],q[2])},LineString:function(q,r){Ah(q.coordinates,r,0)},MultiLineString:function(q,r){q=q.coordinates;for(var w=-1,B=q.length;++w<B;)Ah(q[w],r,0)},Polygon:function(q,r){al(q.coordinates,r)},MultiPolygon:function(q,r){q=q.coordinates;for(var w=-1,B=q.length;++w<B;)al(q[w],r)},GeometryCollection:function(q,r){q=q.geometries;for(var w=-1,B=q.length;++w<B;)vf(q[w],
r)}},xf=new ub,sg=new ub,dl,el,Bh,Ch,Dh,tc={point:pb,lineStart:pb,lineEnd:pb,polygonStart:function(){xf=new ub;tc.lineStart=ms;tc.lineEnd=os},polygonEnd:function(){var q=+xf;sg.add(0>q?Vb+q:q);this.lineStart=this.lineEnd=this.point=pb},sphere:function(){sg.add(Vb)}},qb,Yb,sb,ac,ed,jl,kl,Dd,oe,Qc,Cc,Dc={point:Fh,lineStart:gl,lineEnd:hl,polygonStart:function(){Dc.point=il;Dc.lineStart=ps;Dc.lineEnd=qs;oe=new ub;tc.polygonStart()},polygonEnd:function(){tc.polygonEnd();Dc.point=Fh;Dc.lineStart=gl;Dc.lineEnd=
hl;0>xf?(qb=-(sb=180),Yb=-(ac=90)):1E-6<oe?ac=90:-1E-6>oe&&(Yb=-90);Cc[0]=qb;Cc[1]=sb},sphere:function(){qb=-(sb=180);Yb=-(ac=90)}},qe,Ff,Cf,Df,Ef,Gf,Hf,If,Ih,Jh,Kh,pl,ql,Sb,Tb,Ub,nc={sphere:pb,point:Gh,lineStart:ml,lineEnd:nl,polygonStart:function(){nc.lineStart=us;nc.lineEnd=ws},polygonEnd:function(){nc.lineStart=ml;nc.lineEnd=nl}};Mh.invert=Mh;var ei=Bl(function(){return!0},function(q){var r=NaN,w=NaN,B=NaN,D;return{lineStart:function(){q.lineStart();D=1},point:function(J,M){var P=0<J?ab:-ab,W=
db(J-r);if(1E-6>db(W-ab))q.point(r,w=0<(w+M)/2?nb:-nb),q.point(B,w),q.lineEnd(),q.lineStart(),q.point(P,w),q.point(J,w),D=0;else if(B!==P&&W>=ab){1E-6>db(r-B)&&(r-=1E-6*B);1E-6>db(J-P)&&(J-=1E-6*P);W=r;var fa=w,R=J,S,la,ia=Ma(W-R);w=1E-6<db(ia)?Jd((Ma(fa)*(la=Ra(M))*Ma(R)-Ma(M)*(S=Ra(fa))*Ma(W))/(S*la*ia)):(fa+M)/2;q.point(B,w);q.lineEnd();q.lineStart();q.point(P,w);D=0}q.point(r=J,w=M);B=P},lineEnd:function(){q.lineEnd();r=w=NaN},clean:function(){return 2-D}}},function(q,r,w,B){null==q?(w*=nb,B.point(-ab,
w),B.point(0,w),B.point(ab,w),B.point(ab,0),B.point(ab,-w),B.point(0,-w),B.point(-ab,-w),B.point(-ab,0),B.point(-ab,w)):1E-6<db(q[0]-r[0])?(q=q[0]<r[0]?ab:-ab,w=w*q/2,B.point(-q,w),B.point(0,w),B.point(q,w)):B.point(r[0],r[1])},[-ab,-nb]),Qh,Ph,Mf,Nf,Fd={sphere:pb,point:pb,lineStart:function(){Fd.point=Bs;Fd.lineEnd=As},lineEnd:pb,polygonStart:pb,polygonEnd:pb},Rh=[null,null],Ds={type:"LineString",coordinates:Rh},ao={Feature:function(q,r){return Of(q.geometry,r)},FeatureCollection:function(q,r){q=
q.features;for(var w=-1,B=q.length;++w<B;)if(Of(q[w].geometry,r))return!0;return!1}},El={Sphere:function(){return!0},Point:function(q,r){return 0===re(q.coordinates,r)},MultiPoint:function(q,r){q=q.coordinates;for(var w=-1,B=q.length;++w<B;)if(0===re(q[w],r))return!0;return!1},LineString:function(q,r){return Fl(q.coordinates,r)},MultiLineString:function(q,r){q=q.coordinates;for(var w=-1,B=q.length;++w<B;)if(Fl(q[w],r))return!0;return!1},Polygon:function(q,r){return Gl(q.coordinates,r)},MultiPolygon:function(q,
r){q=q.coordinates;for(var w=-1,B=q.length;++w<B;)if(Gl(q[w],r))return!0;return!1},GeometryCollection:function(q,r){q=q.geometries;for(var w=-1,B=q.length;++w<B;)if(Of(q[w],r))return!0;return!1}},ye=function(q){return q},Xi=new ub,Uh=new ub,Ml,Nl,Sh,Th,Ec={point:pb,lineStart:pb,lineEnd:pb,polygonStart:function(){Ec.lineStart=Fs;Ec.lineEnd=Hs},polygonEnd:function(){Ec.lineStart=Ec.lineEnd=Ec.point=pb;Xi.add(db(Uh));Uh=new ub},result:function(){var q=Xi/2;Xi=new ub;return q}},Zd=Infinity,tg=Zd,Oe=-Zd,
ug=Oe,Sf={point:function(q,r){q<Zd&&(Zd=q);q>Oe&&(Oe=q);r<tg&&(tg=r);r>ug&&(ug=r)},lineStart:pb,lineEnd:pb,polygonStart:pb,polygonEnd:pb,result:function(){var q=[[Zd,tg],[Oe,ug]];Oe=ug=-(tg=Zd=Infinity);return q}},Vh=0,Wh=0,se=0,Qf=0,Rf=0,Gd=0,Xh=0,Yh=0,te=0,Rl,Sl,uc,vc,fc={point:fd,lineStart:Ol,lineEnd:Pl,polygonStart:function(){fc.lineStart=Ks;fc.lineEnd=Ms},polygonEnd:function(){fc.point=fd;fc.lineStart=Ol;fc.lineEnd=Pl},result:function(){var q=te?[Xh/te,Yh/te]:Gd?[Qf/Gd,Rf/Gd]:se?[Vh/se,Wh/se]:
[NaN,NaN];Vh=Wh=se=Qf=Rf=Gd=Xh=Yh=te=0;return q}};Tl.prototype={_radius:4.5,pointRadius:function(q){return this._radius=q,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(q,r){switch(this._point){case 0:this._context.moveTo(q,r);this._point=1;break;case 1:this._context.lineTo(q,r);break;default:this._context.moveTo(q+this._radius,r),this._context.arc(q,
r,this._radius,0,Vb)}},result:pb};var Zh=new ub,Yi,Vl,Wl,ve,we,ue={point:pb,lineStart:function(){ue.point=Ns},lineEnd:function(){Yi&&Ul(Vl,Wl);ue.point=pb},polygonStart:function(){Yi=!0},polygonEnd:function(){Yi=null},result:function(){var q=+Zh;Zh=new ub;return q}};Xl.prototype={_radius:4.5,_circle:Yl(4.5),pointRadius:function(q){(q=+q)!==this._radius&&(this._radius=q,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=
0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(q,r){switch(this._point){case 0:this._string.push("M",q,",",r);this._point=1;break;case 1:this._string.push("L",q,",",r);break;default:null==this._circle&&(this._circle=Yl(this._radius)),this._string.push("M",q,",",r,this._circle)}},result:function(){if(this._string.length){var q=this._string.join("");this._string=[];return q}return null}};$h.prototype={constructor:$h,point:function(q,r){this.stream.point(q,
r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Os=Ra(30*Ta),Rs=xe({point:function(q,r){this.stream.point(q*Ta,r*Ta)}}),Zi=dm(function(q){return Bb(2/(1+q))});Zi.invert=ze(function(q){return 2*Qb(q/2)});var $i=dm(function(q){return(q=Yk(q))&&q/Ma(q)});$i.invert=ze(function(q){return q});Ae.invert=function(q,r){return[q,
2*Jd($n(r))-nb]};Be.invert=Be;var Vf=Bb(3)/2;hi.invert=function(q,r){for(var w=r,B=w*w,D=B*B*B,J=0,M;12>J&&!(M=w*(1.340264+-.081106*B+D*(8.93E-4+.003796*B))-r,B=1.340264+3*-.081106*B+D*(7*8.93E-4+.034164*B),w-=M/=B,B=w*w,D=B*B*B,1E-12>db(M));++J);return[Vf*q*(1.340264+3*-.081106*B+D*(7*8.93E-4+.034164*B))/Ra(w),Qb(Ma(w)/Vf)]};ii.invert=ze(Jd);ji.invert=function(q,r){var w=r,B=25;do{var D=w*w;var J=D*D;w-=J=(w*(1.007226+D*(.015085+J*(-.044475+.028874*D-.005916*J)))-r)/(1.007226+D*(.045255+J*(-.311325+
.259866*D-.005916*11*J)))}while(1E-6<db(J)&&0<--B);return[q/(.8707+(D=w*w)*(-.131979+D*(-.013791+D*D*D*(.003971-.001529*D)))),w]};ki.invert=ze(Qb);li.invert=ze(function(q){return 2*Jd(q)});mi.invert=function(q,r){return[-r,2*Jd($n(q))-nb]};var Mb={};Kd.prototype=ni.prototype=(Mb.constructor=Kd,Mb.count=function(){return this.eachAfter(Zs)},Mb.each=function(q,r){for(var w=-1,B=$jscomp.makeIterator(this),D=B.next();!D.done;D=B.next())q.call(r,D.value,++w,this);return this},Mb.eachAfter=function(q,r){for(var w,
B=[this],D=[],J,M,P=-1;w=B.pop();)if(D.push(w),w=w.children)for(J=0,M=w.length;J<M;++J)B.push(w[J]);for(;w=D.pop();)q.call(r,w,++P,this);return this},Mb.eachBefore=function(q,r){for(var w,B=[this],D,J=-1;w=B.pop();)if(q.call(r,w,++J,this),w=w.children)for(D=w.length-1;0<=D;--D)B.push(w[D]);return this},Mb.find=function(q,r){for(var w=-1,B=$jscomp.makeIterator(this),D=B.next();!D.done;D=B.next())if(D=D.value,q.call(r,D,++w,this))return D},Mb.sum=function(q){return this.eachAfter(function(r){for(var w=
+q(r.data)||0,B=r.children,D=B&&B.length;0<=--D;)w+=B[D].value;r.value=w})},Mb.sort=function(q){return this.eachBefore(function(r){r.children&&r.children.sort(q)})},Mb.path=function(q){var r=this;var w=r;var B=q;if(w!==B){var D=w.ancestors(),J=B.ancestors(),M=null;w=D.pop();for(B=J.pop();w===B;)M=w,w=D.pop(),B=J.pop();w=M}for(B=[r];r!==w;)r=r.parent,B.push(r);for(r=B.length;q!==w;)B.splice(r,0,q),q=q.parent;return B},Mb.ancestors=function(){for(var q=this,r=[q];q=q.parent;)r.push(q);return r},Mb.descendants=
function(){return Array.from(this)},Mb.leaves=function(){var q=[];this.eachBefore(function(r){r.children||q.push(r)});return q},Mb.links=function(){var q=this,r=[];q.each(function(w){w!==q&&r.push({source:w.parent,target:w})});return r},Mb.copy=function(){return ni(this).eachBefore(bt)},Mb[Symbol.iterator]=hm,Mb);var Iv={depth:-1},bo={};Zf.prototype=Object.create(Kd.prototype);var co=(1+Math.sqrt(5))/2,eo=function w(r){function B(D,J,M,P,W){tm(r,D,J,M,P,W)}B.ratio=function(D){return w(1<(D=+D)?D:
1)};return B}(co),Jv=function B(w){function D(J,M,P,W,fa){if((R=J._squarify)&&R.ratio===w)for(var R,S,la,ia=-1,qa,Ga=R.length,pa=J.value;++ia<Ga;){J=R[ia];S=J.children;la=J.value=0;for(qa=S.length;la<qa;++la)J.value+=S[la].value;J.dice?De(J,M,P,W,pa?P+=(fa-P)*J.value/pa:fa):$f(J,M,P,pa?M+=(W-M)*J.value/pa:W,fa);pa-=J.value}else J._squarify=R=tm(w,J,M,P,W,fa),R.ratio=w}D.ratio=function(J){return B(1<(J=+J)?J:1)};return D}(co),Gb=Math.random,Kv=function D(B){function J(M,P){M=null==M?0:+M;P=null==P?
1:+P;1===arguments.length?(P=M,M=0):P-=M;return function(){return B()*P+M}}J.source=D;return J}(Gb),Lv=function J(D){function M(P,W){2>arguments.length&&(W=P,P=0);P=Math.floor(P);W=Math.floor(W)-P;return function(){return Math.floor(D()*W+P)}}M.source=J;return M}(Gb),aj=function M(J){function P(W,fa){var R,S;W=null==W?0:+W;fa=null==fa?1:+fa;return function(){if(null!=R){var la=R;R=null}else{do R=2*J()-1,la=2*J()-1,S=R*R+la*la;while(!S||1<S)}return W+fa*la*Math.sqrt(-2*Math.log(S)/S)}}P.source=M;return P}(Gb),
Mv=function P(M){function W(){var R=fa.apply(this,arguments);return function(){return Math.exp(R())}}var fa=aj.source(M);W.source=P;return W}(Gb),fo=function W(P){function fa(R){return 0>=(R=+R)?function(){return 0}:function(){for(var S=0,la=R;1<la;--la)S+=P();return S+la*P()}}fa.source=W;return fa}(Gb),Nv=function fa(W){function R(la){if(0===(la=+la))return W;var ia=S(la);return function(){return ia()/la}}var S=fo.source(W);R.source=fa;return R}(Gb),Ov=function R(fa){function S(la){return function(){return-Math.log1p(-fa())/
la}}S.source=R;return S}(Gb),Pv=function S(R){function la(ia){if(0>(ia=+ia))throw new RangeError("invalid alpha");ia=1/-ia;return function(){return Math.pow(1-R(),ia)}}la.source=S;return la}(Gb),Qv=function la(S){function ia(qa){if(0>(qa=+qa)||1<qa)throw new RangeError("invalid p");return function(){return Math.floor(S()+qa)}}ia.source=la;return ia}(Gb),go=function ia(la){function qa(Ga){if(0>(Ga=+Ga)||1<Ga)throw new RangeError("invalid p");if(0===Ga)return function(){return Infinity};if(1===Ga)return function(){return 1};
Ga=Math.log1p(-Ga);return function(){return 1+Math.floor(Math.log1p(-la())/Ga)}}qa.source=ia;return qa}(Gb),bj=function qa(ia){function Ga(Ea,Qa){if(0>(Ea=+Ea))throw new RangeError("invalid k");if(0===Ea)return function(){return 0};Qa=null==Qa?1:+Qa;if(1===Ea)return function(){return-Math.log1p(-ia())*Qa};var L=(1>Ea?Ea+1:Ea)-1/3,U=1/(3*Math.sqrt(L)),Aa=1>Ea?function(){return Math.pow(ia(),1/Ea)}:function(){return 1};return function(){do{do var Ha=pa(),Da=1+U*Ha;while(0>=Da);Da*=Da*Da;var Ja=1-ia()}while(Ja>=
1-.0331*Ha*Ha*Ha*Ha&&Math.log(Ja)>=.5*Ha*Ha+L*(1-Da+Math.log(Da)));return L*Da*Aa()*Qa}}var pa=aj.source(ia)();Ga.source=qa;return Ga}(Gb),ho=function Ga(qa){function pa(Qa,L){var U=Ea(Qa),Aa=Ea(L);return function(){var Ha=U();return 0===Ha?0:Ha/(Ha+Aa())}}var Ea=bj.source(qa);pa.source=Ga;return pa}(Gb),io=function pa(Ga){function Ea(U,Aa){U=+U;return 1<=(Aa=+Aa)?function(){return U}:0>=Aa?function(){return 0}:function(){for(var Ha=0,Da=U,Ja=Aa;16<Da*Ja&&16<Da*(1-Ja);){var Ua=Math.floor((Da+1)*Ja),
k=L(Ua,Da-Ua+1)();k<=Ja?(Ha+=Ua,Da-=Ua,Ja=(Ja-k)/(1-k)):(Da=Ua-1,Ja/=k)}Ua=.5>Ja;Ja=Qa(Ua?Ja:1-Ja);k=Ja();for(var A=0;k<=Da;++A)k+=Ja();return Ha+(Ua?A:Da-A)}}var Qa=go.source(Ga),L=ho.source(Ga);Ea.source=pa;return Ea}(Gb),Rv=function Ea(pa){function Qa(L,U,Aa){if(0===(L=+L))var Ha=function(Da){return-Math.log(Da)};else L=1/L,Ha=function(Da){return Math.pow(Da,L)};U=null==U?0:+U;Aa=null==Aa?1:+Aa;return function(){return U+Aa*Ha(-Math.log1p(-pa()))}}Qa.source=Ea;return Qa}(Gb),Sv=function Qa(Ea){function L(U,
Aa){U=null==U?0:+U;Aa=null==Aa?1:+Aa;return function(){return U+Aa*Math.tan(Math.PI*Ea())}}L.source=Qa;return L}(Gb),Tv=function L(Qa){function U(Aa,Ha){Aa=null==Aa?0:+Aa;Ha=null==Ha?1:+Ha;return function(){var Da=Qa();return Aa+Ha*Math.log(Da/(1-Da))}}U.source=L;return U}(Gb),Uv=function U(L){function Aa(Ja){return function(){for(var Ua=0,k=Ja;16<k;){var A=Math.floor(.875*k),G=Ha(A)();if(G>k)return Ua+Da(A-1,k/G)();Ua+=A;k-=G}A=-Math.log1p(-L());for(G=0;A<=k;++G)A-=Math.log1p(-L());return Ua+G}}
var Ha=bj.source(L),Da=io.source(L);Aa.source=U;return Aa}(Gb),jo=1/4294967296,ti=Symbol("implicit"),wm=[0,1],Ai=new Date,Bi=new Date,Nd=zb(function(){},function(L,U){L.setTime(+L+U)},function(L,U){return U-L});Nd.every=function(L){L=Math.floor(L);return isFinite(L)&&0<L?1<L?zb(function(U){U.setTime(Math.floor(U/L)*L)},function(U,Aa){U.setTime(+U+Aa*L)},function(U,Aa){return(Aa-U)/L}):Nd:null};var ko=Nd.range,Ci=6048E5,Pm=2592E6,Di=31536E6,Gc=zb(function(L){L.setTime(L-L.getMilliseconds())},function(L,
U){L.setTime(+L+1E3*U)},function(L,U){return(U-L)/1E3},function(L){return L.getUTCSeconds()}),lo=Gc.range,vg=zb(function(L){L.setTime(L-L.getMilliseconds()-1E3*L.getSeconds())},function(L,U){L.setTime(+L+6E4*U)},function(L,U){return(U-L)/6E4},function(L){return L.getMinutes()}),Vv=vg.range,wg=zb(function(L){L.setTime(L-L.getMilliseconds()-1E3*L.getSeconds()-6E4*L.getMinutes())},function(L,U){L.setTime(+L+36E5*U)},function(L,U){return(U-L)/36E5},function(L){return L.getHours()}),Wv=wg.range,Pd=zb(function(L){return L.setHours(0,
0,0,0)},function(L,U){return L.setDate(L.getDate()+U)},function(L,U){return(U-L-6E4*(U.getTimezoneOffset()-L.getTimezoneOffset()))/864E5},function(L){return L.getDate()-1}),Xv=Pd.range,Qd=hd(0),He=hd(1),mo=hd(2),no=hd(3),jd=hd(4),oo=hd(5),po=hd(6),qo=Qd.range,Yv=He.range,Zv=mo.range,$v=no.range,aw=jd.range,bw=oo.range,cw=po.range,xg=zb(function(L){L.setDate(1);L.setHours(0,0,0,0)},function(L,U){L.setMonth(L.getMonth()+U)},function(L,U){return U.getMonth()-L.getMonth()+12*(U.getFullYear()-L.getFullYear())},
function(L){return L.getMonth()}),dw=xg.range,xc=zb(function(L){L.setMonth(0,1);L.setHours(0,0,0,0)},function(L,U){L.setFullYear(L.getFullYear()+U)},function(L,U){return U.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});xc.every=function(L){return isFinite(L=Math.floor(L))&&0<L?zb(function(U){U.setFullYear(Math.floor(U.getFullYear()/L)*L);U.setMonth(0,1);U.setHours(0,0,0,0)},function(U,Aa){U.setFullYear(U.getFullYear()+Aa*L)}):null};var ew=xc.range,yg=zb(function(L){L.setUTCSeconds(0,
0)},function(L,U){L.setTime(+L+6E4*U)},function(L,U){return(U-L)/6E4},function(L){return L.getUTCMinutes()}),fw=yg.range,zg=zb(function(L){L.setUTCMinutes(0,0,0)},function(L,U){L.setTime(+L+36E5*U)},function(L,U){return(U-L)/36E5},function(L){return L.getUTCHours()}),gw=zg.range,Od=zb(function(L){L.setUTCHours(0,0,0,0)},function(L,U){L.setUTCDate(L.getUTCDate()+U)},function(L,U){return(U-L)/864E5},function(L){return L.getUTCDate()-1}),hw=Od.range,Rd=id(0),Ge=id(1),ro=id(2),so=id(3),kd=id(4),to=id(5),
uo=id(6),vo=Rd.range,iw=Ge.range,jw=ro.range,kw=so.range,lw=kd.range,mw=to.range,nw=uo.range,Ag=zb(function(L){L.setUTCDate(1);L.setUTCHours(0,0,0,0)},function(L,U){L.setUTCMonth(L.getUTCMonth()+U)},function(L,U){return U.getUTCMonth()-L.getUTCMonth()+12*(U.getUTCFullYear()-L.getUTCFullYear())},function(L){return L.getUTCMonth()}),ow=Ag.range,yc=zb(function(L){L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},function(L,U){L.setUTCFullYear(L.getUTCFullYear()+U)},function(L,U){return U.getUTCFullYear()-L.getUTCFullYear()},
function(L){return L.getUTCFullYear()});yc.every=function(L){return isFinite(L=Math.floor(L))&&0<L?zb(function(U){U.setUTCFullYear(Math.floor(U.getUTCFullYear()/L)*L);U.setUTCMonth(0,1);U.setUTCHours(0,0,0,0)},function(U,Aa){U.setUTCFullYear(U.getUTCFullYear()+Aa*L)}):null};var pw=yc.range,wo=$jscomp.makeIterator(Om(yc,Ag,Rd,Od,zg,yg)),xo=wo.next().value,yo=wo.next().value,zo=$jscomp.makeIterator(Om(xc,xg,Qd,Pd,wg,vg)),Ao=zo.next().value,Bo=zo.next().value,Rm={"-":"",_:" ",0:"0"},Cb=/^\s*\d+/,tu=
/^%/,su=/[\\^$*+?|[\]().{}]/g,Sd;e.timeFormat=void 0;e.timeParse=void 0;e.utcFormat=void 0;e.utcParse=void 0;en({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var qw=
Date.prototype.toISOString?uu:e.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),rw=+new Date("2000-01-01T00:00:00.000Z")?vu:e.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),sw=Za("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),tw=Za("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),uw=Za("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),vw=Za("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ww=Za("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),xw=Za("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),
yw=Za("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),zw=Za("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Aw=Za("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Bw=Za("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),kb=function(L){return Nn(L[L.length-1])},Co=Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",
"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Za),Cw=kb(Co),Do=Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b",
"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Za),Dw=kb(Do),Eo=Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Za),
Ew=kb(Eo),Fo=Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Za),Fw=kb(Fo),Go=Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0",
"ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Za),Gw=kb(Go),Ho=Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d",
"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Za),Hw=kb(Ho),Io=Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",
"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Za),Iw=kb(Io),Jo=Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",
"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Za),Jw=kb(Jo),Ko=Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Za),
Kw=kb(Ko),Lo=Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Za),Lw=kb(Lo),Mo=Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b",
"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Za),Mw=kb(Mo),No=Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Za),Nw=kb(No),Oo=Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f",
"fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Za),Ow=kb(Oo),Po=Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Za),
Pw=kb(Po),Qo=Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Za),Qw=kb(Qo),Ro=Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f",
"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Za),Rw=kb(Ro),So=Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Za),Sw=kb(So),To=Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8",
"ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Za),Tw=kb(To),Uo=Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Za),
Uw=kb(Uo),Vo=Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Za),Vw=kb(Vo),Wo=Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026",
"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Za),Ww=kb(Wo),Xo=Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Za),Xw=kb(Xo),Yo=Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45",
"edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Za),Yw=kb(Yo),Zo=Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Za),
Zw=kb(Zo),$o=Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Za),$w=kb($o),ap=Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d",
"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Za),ax=kb(ap),bp=Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Za),bx=kb(bp),cx=qg(kc(300,.5,0),kc(-240,.5,1)),dx=qg(kc(-100,.75,.35),kc(80,
1.5,.8)),ex=qg(kc(260,.75,.35),kc(80,1.5,.8)),Bg=kc(),Cg=td(),fx=Math.PI/3,gx=2*Math.PI/3,hx=dg(Za("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),
ix=dg(Za("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),
jx=dg(Za("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),
kx=dg(Za("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),
cp=Math.abs,Nb=Math.atan2,pd=Math.cos,Du=Math.max,cj=Math.min,zc=Math.sin,Td=Math.sqrt,Uc=Math.PI,eg=Uc/2,Vc=2*Uc,Iu=Array.prototype.slice;on.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(L,U){L=+L;U=+U;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(L,U):this._context.moveTo(L,
U);break;case 1:this._point=2;default:this._context.lineTo(L,U)}}};var sn=Mi(hg);qn.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(L,U){this._curve.point(U*Math.sin(L),U*-Math.cos(L))}};var dj={draw:function(L,U){U=Math.sqrt(U/Uc);L.moveTo(U,0);L.arc(0,0,U,0,Vc)}},dp={draw:function(L,U){U=Math.sqrt(U/5)/2;L.moveTo(-3*U,-U);L.lineTo(-U,-U);L.lineTo(-U,
-3*U);L.lineTo(U,-3*U);L.lineTo(U,-U);L.lineTo(3*U,-U);L.lineTo(3*U,U);L.lineTo(U,U);L.lineTo(U,3*U);L.lineTo(-U,3*U);L.lineTo(-U,U);L.lineTo(-3*U,U);L.closePath()}},ep=Math.sqrt(1/3),lx=2*ep,fp={draw:function(L,U){U=Math.sqrt(U/lx);var Aa=U*ep;L.moveTo(0,-U);L.lineTo(Aa,0);L.lineTo(0,U);L.lineTo(-Aa,0);L.closePath()}},gp=Math.sin(Uc/10)/Math.sin(7*Uc/10),mx=Math.sin(Vc/10)*gp,nx=-Math.cos(Vc/10)*gp,hp={draw:function(L,U){U=Math.sqrt(.8908130915292852*U);var Aa=mx*U,Ha=nx*U;L.moveTo(0,-U);L.lineTo(Aa,
Ha);for(var Da=1;5>Da;++Da){var Ja=Vc*Da/5,Ua=Math.cos(Ja);Ja=Math.sin(Ja);L.lineTo(Ja*U,-Ua*U);L.lineTo(Ua*Aa-Ja*Ha,Ja*Aa+Ua*Ha)}L.closePath()}},ip={draw:function(L,U){U=Math.sqrt(U);var Aa=-U/2;L.rect(Aa,Aa,U,U)}},ej=Math.sqrt(3),jp={draw:function(L,U){U=-Math.sqrt(U/(3*ej));L.moveTo(0,2*U);L.lineTo(-ej*U,-U);L.lineTo(ej*U,-U);L.closePath()}},hc=Math.sqrt(3)/2,fj=1/Math.sqrt(12),ox=3*(fj/2+1),kp={draw:function(L,U){var Aa=Math.sqrt(U/ox);U=Aa/2;var Ha=Aa*fj;Aa=Aa*fj+Aa;var Da=-U;L.moveTo(U,Ha);
L.lineTo(U,Aa);L.lineTo(Da,Aa);L.lineTo(-.5*U-hc*Ha,hc*U+-.5*Ha);L.lineTo(-.5*U-hc*Aa,hc*U+-.5*Aa);L.lineTo(-.5*Da-hc*Aa,hc*Da+-.5*Aa);L.lineTo(-.5*U+hc*Ha,-.5*Ha-hc*U);L.lineTo(-.5*U+hc*Aa,-.5*Aa-hc*U);L.lineTo(-.5*Da+hc*Aa,-.5*Aa-hc*Da);L.closePath()}},px=[dj,dp,fp,ip,hp,jp,kp];jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:ig(this,this._x1,
this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(L,U){L=+L;U=+U;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(L,U):this._context.moveTo(L,U);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ig(this,L,U)}this._x0=this._x1;this._x1=L;this._y0=this._y1;this._y1=U}};un.prototype=
{areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,
this._y3),this.point(this._x4,this._y4)}},point:function(L,U){L=+L;U=+U;switch(this._point){case 0:this._point=1;this._x2=L;this._y2=U;break;case 1:this._point=2;this._x3=L;this._y3=U;break;case 2:this._point=3;this._x4=L;this._y4=U;this._context.moveTo((this._x0+4*this._x1+L)/6,(this._y0+4*this._y1+U)/6);break;default:ig(this,L,U)}this._x0=this._x1;this._x1=L;this._y0=this._y1;this._y1=U}};vn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(L,U){L=+L;U=+U;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Aa=(this._x0+4*this._x1+L)/6,Ha=(this._y0+4*this._y1+U)/6;this._line?this._context.lineTo(Aa,Ha):this._context.moveTo(Aa,Ha);break;case 3:this._point=4;default:ig(this,L,U)}this._x0=this._x1;this._x1=L;this._y0=
this._y1;this._y1=U}};var qd=function(L,U){this._context=L;this._x=U};qd.prototype.areaStart=function(){this._line=0};qd.prototype.areaEnd=function(){this._line=NaN};qd.prototype.lineStart=function(){this._point=0};qd.prototype.lineEnd=function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line};qd.prototype.point=function(L,U){L=+L;U=+U;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(L,U):this._context.moveTo(L,U);break;case 1:this._point=
2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+L)/2,this._y0,this._x0,U,L,U):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+U)/2,L,this._y0,L,U)}this._x0=L;this._y0=U};wn.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var L=this._x,U=this._y,Aa=L.length-1;if(0<Aa)for(var Ha=L[0],Da=U[0],Ja=L[Aa]-Ha,Ua=U[Aa]-Da,k=-1,A;++k<=Aa;)A=k/Aa,this._basis.point(this._beta*L[k]+(1-this._beta)*(Ha+A*Ja),this._beta*U[k]+(1-this._beta)*
(Da+A*Ua));this._x=this._y=null;this._basis.lineEnd()},point:function(L,U){this._x.push(+L);this._y.push(+U)}};var qx=function Aa(U){function Ha(Da){return 1===U?new jg(Da):new wn(Da,U)}Ha.beta=function(Da){return Aa(+Da)};return Ha}(.85);Oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);
break;case 3:kg(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(U,Aa){U=+U;Aa=+Aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(U,Aa):this._context.moveTo(U,Aa);break;case 1:this._point=2;this._x1=U;this._y1=Aa;break;case 2:this._point=3;default:kg(this,U,Aa)}this._x0=this._x1;this._x1=this._x2;this._x2=U;this._y0=this._y1;this._y1=this._y2;this._y2=Aa}};var rx=function Ha(Aa){function Da(Ja){return new Oi(Ja,
Aa)}Da.tension=function(Ja){return Ha(+Ja)};return Da}(0);Pi.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Aa,Ha){Aa=+Aa;Ha=+Ha;switch(this._point){case 0:this._point=1;this._x3=Aa;this._y3=Ha;break;case 1:this._point=2;this._context.moveTo(this._x4=Aa,this._y4=Ha);break;case 2:this._point=3;this._x5=Aa;this._y5=Ha;break;default:kg(this,Aa,Ha)}this._x0=this._x1;this._x1=this._x2;this._x2=Aa;this._y0=this._y1;this._y1=this._y2;this._y2=Ha}};var sx=function Da(Ha){function Ja(Ua){return new Pi(Ua,Ha)}Ja.tension=function(Ua){return Da(+Ua)};return Ja}(0);Qi.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ha,Da){Ha=+Ha;Da=+Da;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:kg(this,Ha,Da)}this._x0=this._x1;this._x1=this._x2;this._x2=Ha;this._y0=this._y1;this._y1=this._y2;this._y2=Da}};var tx=function Ja(Da){function Ua(k){return new Qi(k,Da)}Ua.tension=function(k){return Ja(+k)};return Ua}(0);xn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,Ja){Da=+Da;Ja=+Ja;if(this._point){var Ua=this._x2-Da,k=this._y2-Ja;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ua*Ua+k*k,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Da,Ja):this._context.moveTo(Da,Ja);break;case 1:this._point=
2;break;case 2:this._point=3;default:Ri(this,Da,Ja)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Da;this._y0=this._y1;this._y1=this._y2;this._y2=Ja}};var ux=function Ua(Ja){function k(A){return Ja?new xn(A,Ja):new Oi(A,0)}k.alpha=function(A){return Ua(+A)};return k}(.5);yn.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ja,Ua){Ja=+Ja;Ua=+Ua;if(this._point){var k=this._x2-Ja,A=this._y2-
Ua;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(k*k+A*A,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Ja;this._y3=Ua;break;case 1:this._point=2;this._context.moveTo(this._x4=Ja,this._y4=Ua);break;case 2:this._point=3;this._x5=Ja;this._y5=Ua;break;default:Ri(this,Ja,Ua)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Ja;this._y0=this._y1;this._y1=this._y2;this._y2=Ua}};var vx=function k(Ua){function A(G){return Ua?
new yn(G,Ua):new Pi(G,0)}A.alpha=function(G){return k(+G)};return A}(.5);zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ua,k){Ua=+Ua;k=+k;if(this._point){var A=this._x2-
Ua,G=this._y2-k;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(A*A+G*G,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ri(this,Ua,k)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Ua;this._y0=this._y1;this._y1=this._y2;
this._y2=k}};var wx=function A(k){function G(E){return k?new zn(E,k):new Qi(E,0)}G.alpha=function(E){return A(+E)};return G}(.5);An.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(k,A){k=+k;A=+A;this._point?this._context.lineTo(k,A):(this._point=1,this._context.moveTo(k,A))}};lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=
this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Si(this,this._t0,Cn(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(k,A){var G=NaN;k=+k;A=+A;if(k!==this._x1||A!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(k,A):this._context.moveTo(k,A);break;case 1:this._point=2;break;case 2:this._point=3;Si(this,
Cn(this,G=Bn(this,k,A)),G);break;default:Si(this,this._t0,G=Bn(this,k,A))}this._x0=this._x1;this._x1=k;this._y0=this._y1;this._y1=A;this._t0=G}}};(Dn.prototype=Object.create(lg.prototype)).point=function(k,A){lg.prototype.point.call(this,A,k)};En.prototype={moveTo:function(k,A){this._context.moveTo(A,k)},closePath:function(){this._context.closePath()},lineTo:function(k,A){this._context.lineTo(A,k)},bezierCurveTo:function(k,A,G,E,H,K){this._context.bezierCurveTo(A,k,E,G,K,H)}};Fn.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var k=this._x,A=this._y,G=k.length;if(G)if(this._line?this._context.lineTo(k[0],A[0]):this._context.moveTo(k[0],A[0]),2===G)this._context.lineTo(k[1],A[1]);else for(var E=Gn(k),H=Gn(A),K=0,T=1;T<G;++K,++T)this._context.bezierCurveTo(E[0][K],H[0][K],E[1][K],H[1][K],k[T],A[T]);(this._line||0!==this._line&&1===G)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(k,
A){this._x.push(+k);this._y.push(+A)}};mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(k,A){k=+k;A=+A;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(k,
A):this._context.moveTo(k,A);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,A),this._context.lineTo(k,A);else{var G=this._x*(1-this._t)+k*this._t;this._context.lineTo(G,this._y);this._context.lineTo(G,A)}}this._x=k;this._y=A}};var Dg=function(k){return function(){return k}};Hc.prototype={constructor:Hc,scale:function(k){return 1===k?this:new Hc(this.k*k,this.x,this.y)},translate:function(k,A){return 0===k&0===A?this:new Hc(this.k,this.x+this.k*k,this.y+this.k*A)},apply:function(k){return[k[0]*
this.k+this.x,k[1]*this.k+this.y]},applyX:function(k){return k*this.k+this.x},applyY:function(k){return k*this.k+this.y},invert:function(k){return[(k[0]-this.x)/this.k,(k[1]-this.y)/this.k]},invertX:function(k){return(k-this.x)/this.k},invertY:function(k){return(k-this.y)/this.k},rescaleX:function(k){return k.copy().domain(k.range().map(this.invertX,this).map(k.invert,k))},rescaleY:function(k){return k.copy().domain(k.range().map(this.invertY,this).map(k.invert,k))},toString:function(){return"translate("+
this.x+","+this.y+") scale("+this.k+")"}};var ng=new Hc(1,0,0);Kn.prototype=Hc.prototype;e.Adder=ub;e.Delaunay=Lb;e.FormatSpecifier=tf;e.InternMap=Wc;e.InternSet=Ne;e.Voronoi=vb;e.active=function(k,A){var G=k.__transition,E,H;if(G)for(H in A=null==A?null:A+"",G)if(1<(E=G[H]).state&&E.name===A)return new sc([[k]],lv,A,+H);return null};e.arc=function(){function k(){var da,na=+A.apply(this,arguments),ra=+G.apply(this,arguments),O=K.apply(this,arguments)-eg,X=T.apply(this,arguments)-eg,oa=cp(X-O),Y=X>
O;ba||(ba=da=Oc());if(ra<na){var ta=ra;ra=na;na=ta}if(1E-12<ra)if(oa>Vc-1E-12)ba.moveTo(ra*pd(O),ra*zc(O)),ba.arc(0,0,ra,O,X,!Y),1E-12<na&&(ba.moveTo(na*pd(X),na*zc(X)),ba.arc(0,0,na,X,O,Y));else{var ha=O,wa=X;ta=O;var xa=X,ka=oa,Ca=oa,Ka=Q.apply(this,arguments)/2,Sa=1E-12<Ka&&(H?+H.apply(this,arguments):Td(na*na+ra*ra)),$a=cj(cp(ra-na)/2,+E.apply(this,arguments)),Wa=$a,lb=$a;if(1E-12<Sa){var ob=nn(Sa/na*zc(Ka));Ka=nn(Sa/ra*zc(Ka));1E-12<(ka-=2*ob)?(ob*=Y?1:-1,ta+=ob,xa-=ob):(ka=0,ta=xa=(O+X)/2);
1E-12<(Ca-=2*Ka)?(Ka*=Y?1:-1,ha+=Ka,wa-=Ka):(Ca=0,ha=wa=(O+X)/2)}O=ra*pd(ha);X=ra*zc(ha);ob=na*pd(xa);Ka=na*zc(xa);if(1E-12<$a){var sa=ra*pd(wa),Pa=ra*zc(wa),ya=na*pd(ta),Ia=na*zc(ta);if(oa=oa<Uc){var Fa=ya-O;oa=Ia-X;Sa=ob-sa;var Ya=Ka-Pa,Va=Ya*Fa-Sa*oa;1E-12>Va*Va?Fa=void 0:(Va=(Sa*(X-Pa)-Ya*(O-sa))/Va,Fa=[O+Va*Fa,X+Va*oa]);oa=Fa}oa&&(Wa=O-Fa[0],lb=X-Fa[1],oa=sa-Fa[0],Sa=Pa-Fa[1],Wa=(Wa*oa+lb*Sa)/(Td(Wa*Wa+lb*lb)*Td(oa*oa+Sa*Sa)),lb=1/zc((1<Wa?0:-1>Wa?Uc:Math.acos(Wa))/2),Fa=Td(Fa[0]*Fa[0]+Fa[1]*
Fa[1]),Wa=cj($a,(na-Fa)/(lb-1)),lb=cj($a,(ra-Fa)/(lb+1)))}1E-12<Ca?1E-12<lb?(ha=fg(ya,Ia,O,X,ra,lb,Y),wa=fg(sa,Pa,ob,Ka,ra,lb,Y),ba.moveTo(ha.cx+ha.x01,ha.cy+ha.y01),lb<$a?ba.arc(ha.cx,ha.cy,lb,Nb(ha.y01,ha.x01),Nb(wa.y01,wa.x01),!Y):(ba.arc(ha.cx,ha.cy,lb,Nb(ha.y01,ha.x01),Nb(ha.y11,ha.x11),!Y),ba.arc(0,0,ra,Nb(ha.cy+ha.y11,ha.cx+ha.x11),Nb(wa.cy+wa.y11,wa.cx+wa.x11),!Y),ba.arc(wa.cx,wa.cy,lb,Nb(wa.y11,wa.x11),Nb(wa.y01,wa.x01),!Y))):(ba.moveTo(O,X),ba.arc(0,0,ra,ha,wa,!Y)):ba.moveTo(O,X);1E-12<
na&&1E-12<ka?1E-12<Wa?(ha=fg(ob,Ka,sa,Pa,na,-Wa,Y),wa=fg(O,X,ya,Ia,na,-Wa,Y),ba.lineTo(ha.cx+ha.x01,ha.cy+ha.y01),Wa<$a?ba.arc(ha.cx,ha.cy,Wa,Nb(ha.y01,ha.x01),Nb(wa.y01,wa.x01),!Y):(ba.arc(ha.cx,ha.cy,Wa,Nb(ha.y01,ha.x01),Nb(ha.y11,ha.x11),!Y),ba.arc(0,0,na,Nb(ha.cy+ha.y11,ha.cx+ha.x11),Nb(wa.cy+wa.y11,wa.cx+wa.x11),Y),ba.arc(wa.cx,wa.cy,Wa,Nb(wa.y11,wa.x11),Nb(wa.y01,wa.x01),!Y))):ba.arc(0,0,na,xa,ta,Y):ba.lineTo(ob,Ka)}else ba.moveTo(0,0);ba.closePath();if(da)return ba=null,da+""||null}var A=yu,
G=zu,E=Xa(0),H=null,K=Au,T=Bu,Q=Cu,ba=null;k.centroid=function(){var da=(+A.apply(this,arguments)+ +G.apply(this,arguments))/2,na=(+K.apply(this,arguments)+ +T.apply(this,arguments))/2-Uc/2;return[pd(na)*da,zc(na)*da]};k.innerRadius=function(da){return arguments.length?(A="function"===typeof da?da:Xa(+da),k):A};k.outerRadius=function(da){return arguments.length?(G="function"===typeof da?da:Xa(+da),k):G};k.cornerRadius=function(da){return arguments.length?(E="function"===typeof da?da:Xa(+da),k):E};
k.padRadius=function(da){return arguments.length?(H=null==da?null:"function"===typeof da?da:Xa(+da),k):H};k.startAngle=function(da){return arguments.length?(K="function"===typeof da?da:Xa(+da),k):K};k.endAngle=function(da){return arguments.length?(T="function"===typeof da?da:Xa(+da),k):T};k.padAngle=function(da){return arguments.length?(Q="function"===typeof da?da:Xa(+da),k):Q};k.context=function(da){return arguments.length?(ba=null==da?null:da,k):ba};return k};e.area=pn;e.areaRadial=tn;e.ascending=
p;e.autoType=function(k){for(var A in k){var G=k[A].trim(),E;if(G)if("true"===G)G=!0;else if("false"===G)G=!1;else if("NaN"===G)G=NaN;else if(isNaN(E=+G))if(E=G.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Bv&&E[4]&&!E[7]&&(G=G.replace(/-/g,"/").replace(/T/," ")),G=new Date(G);else continue;else G=E;else G=null;k[A]=G}return k};e.axisBottom=function(k){return Re(3,k)};e.axisLeft=function(k){return Re(4,k)};e.axisRight=function(k){return Re(2,
k)};e.axisTop=function(k){return Re(1,k)};e.bin=ij;e.bisect=Jc;e.bisectCenter=Wu;e.bisectLeft=Vu;e.bisectRight=Jc;e.bisector=z;e.blob=function(k,A){return fetch(k,A).then(Yr)};e.brush=function(){return nh(mv)};e.brushSelection=function(k){return(k=k.__brush)?k.dim.output(k.selection):null};e.brushX=function(){return nh(mf)};e.brushY=function(){return nh(lf)};e.buffer=function(k,A){return fetch(k,A).then(Zr)};e.chord=function(){return rh(!1,!1)};e.chordDirected=function(){return rh(!0,!1)};e.chordTranspose=
function(){return rh(!1,!0)};e.cluster=function(){function k(K){var T,Q=0;K.eachAfter(function(O){var X=O.children;if(X){var oa=X.reduce(Vs,0)/X.length;O.x=oa;O.y=1+X.reduce(Ws,0)}else O.x=T?Q+=A(O,T):0,O.y=0,T=O});var ba=Xs(K),da=Ys(K),na=ba.x-A(ba,da)/2,ra=da.x+A(da,ba)/2;return K.eachAfter(H?function(O){O.x=(O.x-K.x)*G;O.y=(K.y-O.y)*E}:function(O){O.x=(O.x-na)/(ra-na)*G;O.y=(1-(K.y?O.y/K.y:1))*E})}var A=Us,G=1,E=1,H=!1;k.separation=function(K){return arguments.length?(A=K,k):A};k.size=function(K){return arguments.length?
(H=!1,G=+K[0],E=+K[1],k):H?null:[G,E]};k.nodeSize=function(K){return arguments.length?(H=!0,G=+K[0],E=+K[1],k):H?[G,E]:null};return k};e.color=Lc;e.contourDensity=function(){function k(ha){var wa=new Float32Array(oa*Y),xa=new Float32Array(oa*Y);ha.forEach(function(ka,Ca,Ka){var Sa=+T(ka,Ca,Ka)+X>>O,$a=+Q(ka,Ca,Ka)+X>>O;ka=+ba(ka,Ca,Ka);0<=Sa&&Sa<oa&&0<=$a&&$a<Y&&(wa[Sa+$a*oa]+=ka)});th({width:oa,height:Y,data:wa},{width:oa,height:Y,data:xa},ra>>O);uh({width:oa,height:Y,data:xa},{width:oa,height:Y,
data:wa},ra>>O);th({width:oa,height:Y,data:wa},{width:oa,height:Y,data:xa},ra>>O);uh({width:oa,height:Y,data:xa},{width:oa,height:Y,data:wa},ra>>O);th({width:oa,height:Y,data:wa},{width:oa,height:Y,data:xa},ra>>O);uh({width:oa,height:Y,data:xa},{width:oa,height:Y,data:wa},ra>>O);ha=ta(wa);Array.isArray(ha)||(xa=Pe(wa),ha=Eb(0,xa,ha),ha=oc(0,Math.floor(xa/ha)*ha,ha),ha.shift());return Dk().thresholds(ha).size([oa,Y])(wa).map(A)}function A(ha){ha.value*=Math.pow(2,-2*O);ha.coordinates.forEach(G);return ha}
function G(ha){ha.forEach(E)}function E(ha){ha.forEach(H)}function H(ha){ha[0]=ha[0]*Math.pow(2,O)-X;ha[1]=ha[1]*Math.pow(2,O)-X}function K(){X=3*ra;oa=da+2*X>>O;Y=na+2*X>>O;return k}var T=Or,Q=Pr,ba=Qr,da=960,na=500,ra=20,O=2,X=3*ra,oa=da+2*X>>O,Y=na+2*X>>O,ta=Pc(20);k.x=function(ha){return arguments.length?(T="function"===typeof ha?ha:Pc(+ha),k):T};k.y=function(ha){return arguments.length?(Q="function"===typeof ha?ha:Pc(+ha),k):Q};k.weight=function(ha){return arguments.length?(ba="function"===typeof ha?
ha:Pc(+ha),k):ba};k.size=function(ha){if(!arguments.length)return[da,na];var wa=+ha[0],xa=+ha[1];if(!(0<=wa&&0<=xa))throw Error("invalid size");return da=wa,na=xa,K()};k.cellSize=function(ha){if(!arguments.length)return 1<<O;if(!(1<=(ha=+ha)))throw Error("invalid cell size");return O=Math.floor(Math.log(ha)/Math.LN2),K()};k.thresholds=function(ha){return arguments.length?(ta="function"===typeof ha?ha:Array.isArray(ha)?Pc(Ek.call(ha)):Pc(ha),k):ta};k.bandwidth=function(ha){if(!arguments.length)return Math.sqrt(ra*
(ra+1));if(!(0<=(ha=+ha)))throw Error("invalid bandwidth");return ra=Math.round((Math.sqrt(4*ha*ha+1)-1)/2),K()};return k};e.contours=Dk;e.count=N;e.create=function(k){return Ib(Te(k).call(document.documentElement))};e.creator=Te;e.cross=function(k){for(var A=[],G=0;G<arguments.length;++G)A[G-0]=arguments[G];var E=A;A="function"===typeof E[E.length-1]&&ea(E.pop());E=E.map(ca);G=E.map(V);var H=E.length-1,K=Array(H+1).fill(0),T=[];if(0>H||G.some(aa))return T;for(;;){T.push(K.map(function(ba,da){return E[da][ba]}));
for(var Q=H;++K[Q]===G[Q];){if(0===Q)return A?T.map(A):T;K[Q--]=0}}};e.csv=Cv;e.csvFormat=qv;e.csvFormatBody=rv;e.csvFormatRow=tv;e.csvFormatRows=sv;e.csvFormatValue=uv;e.csvParse=Yn;e.csvParseRows=pv;e.cubehelix=kc;e.cumsum=function(k,A){var G=0,E=0;return Float64Array.from(k,void 0===A?function(H){return G+=+H||0}:function(H){return G+=+A(H,E++,k)||0})};e.curveBasis=function(k){return new jg(k)};e.curveBasisClosed=function(k){return new un(k)};e.curveBasisOpen=function(k){return new vn(k)};e.curveBumpX=
function(k){return new qd(k,!0)};e.curveBumpY=function(k){return new qd(k,!1)};e.curveBundle=qx;e.curveCardinal=rx;e.curveCardinalClosed=sx;e.curveCardinalOpen=tx;e.curveCatmullRom=ux;e.curveCatmullRomClosed=vx;e.curveCatmullRomOpen=wx;e.curveLinear=hg;e.curveLinearClosed=function(k){return new An(k)};e.curveMonotoneX=function(k){return new lg(k)};e.curveMonotoneY=function(k){return new Dn(k)};e.curveNatural=function(k){return new Fn(k)};e.curveStep=function(k){return new mg(k,.5)};e.curveStepAfter=
function(k){return new mg(k,1)};e.curveStepBefore=function(k){return new mg(k,0)};e.descending=function(k,A){return A<k?-1:A>k?1:A>=k?0:NaN};e.deviation=ma;e.difference=function(k,A){for(var G=[],E=1;E<arguments.length;++E)G[E-1]=arguments[E];k=new Set(k);G=$jscomp.makeIterator(G);for(E=G.next();!E.done;E=G.next()){E=$jscomp.makeIterator(E.value);for(var H=E.next();!H.done;H=E.next())k.delete(H.value)}return k};e.disjoint=function(k,A){var G=A[Symbol.iterator]();A=new Set;var E={};k=$jscomp.makeIterator(k);
for(var H=k.next();!H.done;E={$jscomp$loop$prop$value$264:E.$jscomp$loop$prop$value$264,$jscomp$loop$prop$done$265:E.$jscomp$loop$prop$done$265},H=k.next()){H=H.value;if(A.has(H))return!1;E.$jscomp$loop$prop$value$264=void 0;for(E.$jscomp$loop$prop$done$265=void 0;function(K){return function(){var T=G.next();K.$jscomp$loop$prop$value$264=T.value;K.$jscomp$loop$prop$done$265=T.done;return T}}(E)()&&!E.$jscomp$loop$prop$done$265;){if(Object.is(H,E.$jscomp$loop$prop$value$264))return!1;A.add(E.$jscomp$loop$prop$value$264)}}return!0};
e.dispatch=Xc;e.drag=function(){function k(ka){ka.on("mousedown.drag",A).filter(ra).on("touchstart.drag",H).on("touchmove.drag",K).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(ka,Ca){!wa&&ba.call(this,ka,Ca)&&(Ca=Q(this,da.call(this,ka,Ca),ka,Ca,"mouse"))&&(Ib(ka.view).on("mousemove.drag",G,!0).on("mouseup.drag",E,!0),We(ka.view),ka.stopImmediatePropagation(),ha=!1,Y=ka.clientX,ta=ka.clientY,Ca("start",ka))}function G(ka){rd(ka);
if(!ha){var Ca=ka.clientX-Y,Ka=ka.clientY-ta;ha=Ca*Ca+Ka*Ka>xa}O.mouse("drag",ka)}function E(ka){Ib(ka.view).on("mousemove.drag mouseup.drag",null);Xe(ka.view,ha);rd(ka);O.mouse("end",ka)}function H(ka,Ca){if(ba.call(this,ka,Ca)){var Ka=ka.changedTouches,Sa=da.call(this,ka,Ca),$a=Ka.length,Wa,lb;for(Wa=0;Wa<$a;++Wa)if(lb=Q(this,Sa,ka,Ca,Ka[Wa].identifier,Ka[Wa]))ka.stopImmediatePropagation(),lb("start",ka,Ka[Wa])}}function K(ka){var Ca=ka.changedTouches,Ka=Ca.length,Sa,$a;for(Sa=0;Sa<Ka;++Sa)if($a=
O[Ca[Sa].identifier])rd(ka),$a("drag",ka,Ca[Sa])}function T(ka){var Ca=ka.changedTouches,Ka=Ca.length,Sa,$a;wa&&clearTimeout(wa);wa=setTimeout(function(){wa=null},500);for(Sa=0;Sa<Ka;++Sa)if($a=O[Ca[Sa].identifier])ka.stopImmediatePropagation(),$a("end",ka,Ca[Sa])}function Q(ka,Ca,Ka,Sa,$a,Wa){var lb=X.copy(),ob=$b(Wa||Ka,Ca),sa;if(null!=(sa=na.call(ka,new Ug("beforestart",{sourceEvent:Ka,target:k,identifier:$a,active:oa,x:ob[0],y:ob[1],dx:0,dy:0,dispatch:lb}),Sa))){var Pa=sa.x-ob[0]||0;var ya=sa.y-
ob[1]||0;return function gb(Fa,Ya,Va){var wb=ob;switch(Fa){case "start":O[$a]=gb;var tb=oa++;break;case "end":delete O[$a],--oa;case "drag":ob=$b(Va||Ya,Ca),tb=oa}lb.call(Fa,ka,new Ug(Fa,{sourceEvent:Ya,subject:sa,target:k,identifier:$a,active:tb,x:ob[0]+Pa,y:ob[1]+ya,dx:ob[0]-wb[0],dy:ob[1]-wb[1],dispatch:lb}),Sa)}}}var ba=uq,da=vq,na=wq,ra=xq,O={},X=Xc("start","drag","end"),oa=0,Y,ta,ha,wa,xa=0;k.filter=function(ka){return arguments.length?(ba="function"===typeof ka?ka:og(!!ka),k):ba};k.container=
function(ka){return arguments.length?(da="function"===typeof ka?ka:og(ka),k):da};k.subject=function(ka){return arguments.length?(na="function"===typeof ka?ka:og(ka),k):na};k.touchable=function(ka){return arguments.length?(ra="function"===typeof ka?ka:og(!!ka),k):ra};k.on=function(){var ka=X.on.apply(X,arguments);return ka===X?k:ka};k.clickDistance=function(ka){return arguments.length?(xa=(ka=+ka)*ka,k):Math.sqrt(xa)};return k};e.dragDisable=We;e.dragEnable=Xe;e.dsv=function(k,A,G,E){3===arguments.length&&
"function"===typeof G&&(E=G,G=void 0);var H=pf(k);return qf(A,G).then(function(K){return H.parse(K,E)})};e.dsvFormat=pf;e.easeBack=Un;e.easeBackIn=gv;e.easeBackInOut=Un;e.easeBackOut=hv;e.easeBounce=ke;e.easeBounceIn=function(k){return 1-ke(1-k)};e.easeBounceInOut=function(k){return(1>=(k*=2)?1-ke(1-k):ke(k-1)+1)/2};e.easeBounceOut=ke;e.easeCircle=sk;e.easeCircleIn=function(k){return 1-Math.sqrt(1-k*k)};e.easeCircleInOut=sk;e.easeCircleOut=function(k){return Math.sqrt(1- --k*k)};e.easeCubic=jh;e.easeCubicIn=
function(k){return k*k*k};e.easeCubicInOut=jh;e.easeCubicOut=function(k){return--k*k*k+1};e.easeElastic=Vn;e.easeElasticIn=iv;e.easeElasticInOut=jv;e.easeElasticOut=Vn;e.easeExp=rk;e.easeExpIn=function(k){return Nc(1-+k)};e.easeExpInOut=rk;e.easeExpOut=function(k){return 1-Nc(k)};e.easeLinear=function(k){return+k};e.easePoly=Sn;e.easePolyIn=ev;e.easePolyInOut=Sn;e.easePolyOut=fv;e.easeQuad=ok;e.easeQuadIn=function(k){return k*k};e.easeQuadInOut=ok;e.easeQuadOut=function(k){return k*(2-k)};e.easeSin=
pk;e.easeSinIn=function(k){return 1===+k?1:1-Math.cos(k*Tn)};e.easeSinInOut=pk;e.easeSinOut=function(k){return Math.sin(k*Tn)};e.every=function(k,A){if("function"!==typeof A)throw new TypeError("test is not a function");for(var G=-1,E=$jscomp.makeIterator(k),H=E.next();!H.done;H=E.next())if(!A(H.value,++G,k))return!1;return!0};e.extent=za;e.fcumsum=function(k,A){var G=new ub,E=-1;return Float64Array.from(k,void 0===A?function(H){return G.add(+H||0)}:function(H){return G.add(+A(H,++E,k)||0)})};e.filter=
function(k,A){if("function"!==typeof A)throw new TypeError("test is not a function");for(var G=[],E=-1,H=$jscomp.makeIterator(k),K=H.next();!K.done;K=H.next())K=K.value,A(K,++E,k)&&G.push(K);return G};e.forceCenter=function(k,A){function G(){var K,T=E.length,Q=0,ba=0;for(K=0;K<T;++K){var da=E[K];Q+=da.x;ba+=da.y}Q=(Q/T-k)*H;ba=(ba/T-A)*H;for(K=0;K<T;++K)da=E[K],da.x-=Q,da.y-=ba}var E,H=1;null==k&&(k=0);null==A&&(A=0);G.initialize=function(K){E=K};G.x=function(K){return arguments.length?(k=+K,G):k};
G.y=function(K){return arguments.length?(A=+K,G):A};G.strength=function(K){return arguments.length?(H=+K,G):H};return G};e.forceCollide=function(k){function A(){function da(xa,ka,Ca,Ka,Sa){var $a=xa.data;xa=xa.r;var Wa=ta+xa;if($a)$a.index>X.index&&(ka=oa-$a.x-$a.vx,Ca=Y-$a.y-$a.vy,Ka=ka*ka+Ca*Ca,Ka<Wa*Wa&&(0===ka&&(ka=1E-6*(T()-.5),Ka+=ka*ka),0===Ca&&(Ca=1E-6*(T()-.5),Ka+=Ca*Ca),Ka=(Wa-(Ka=Math.sqrt(Ka)))/Ka*Q,X.vx+=(ka*=Ka)*(Wa=(xa*=xa)/(ha+xa)),X.vy+=(Ca*=Ka)*Wa,$a.vx-=ka*(Wa=1-Wa),$a.vy-=Ca*Wa));
else return ka>oa+Wa||Ka<oa-Wa||Ca>Y+Wa||Sa<Y-Wa}for(var na,ra=H.length,O,X,oa,Y,ta,ha,wa=0;wa<ba;++wa)for(O=rf(H,ds,es).visitAfter(G),na=0;na<ra;++na)X=H[na],ta=K[X.index],ha=ta*ta,oa=X.x+X.vx,Y=X.y+X.vy,O.visit(da)}function G(da){if(da.data)return da.r=K[da.data.index];for(var na=da.r=0;4>na;++na)da[na]&&da[na].r>da.r&&(da.r=da[na].r)}function E(){if(H){var da,na=H.length;K=Array(na);for(da=0;da<na;++da){var ra=H[da];K[ra.index]=+k(ra,da,H)}}}var H,K,T,Q=1,ba=1;"function"!==typeof k&&(k=xb(null==
k?1:+k));A.initialize=function(da,na){H=da;T=na;E()};A.iterations=function(da){return arguments.length?(ba=+da,A):ba};A.strength=function(da){return arguments.length?(Q=+da,A):Q};A.radius=function(da){return arguments.length?(k="function"===typeof da?da:xb(+da),E(),A):k};return A};e.forceLink=function(k){function A(Y){for(var ta=0,ha=k.length;ta<oa;++ta)for(var wa=0,xa,ka,Ca,Ka,Sa;wa<ha;++wa)xa=k[wa],ka=xa.source,xa=xa.target,Ca=xa.x+xa.vx-ka.x-ka.vx||1E-6*(X()-.5),Ka=xa.y+xa.vy-ka.y-ka.vy||1E-6*
(X()-.5),Sa=Math.sqrt(Ca*Ca+Ka*Ka),Sa=(Sa-da[wa])/Sa*Y*Q[wa],Ca*=Sa,Ka*=Sa,xa.vx-=Ca*(Sa=O[wa]),xa.vy-=Ka*Sa,ka.vx+=Ca*(Sa=1-Sa),ka.vy+=Ka*Sa}function G(){if(na){var Y=na.length,ta=k.length,ha=new Map(na.map(function(xa,ka){return[K(xa,ka,na),xa]}));var wa=0;for(ra=Array(Y);wa<ta;++wa)Y=k[wa],Y.index=wa,"object"!==typeof Y.source&&(Y.source=Mk(ha,Y.source)),"object"!==typeof Y.target&&(Y.target=Mk(ha,Y.target)),ra[Y.source.index]=(ra[Y.source.index]||0)+1,ra[Y.target.index]=(ra[Y.target.index]||0)+
1;wa=0;for(O=Array(ta);wa<ta;++wa)Y=k[wa],O[wa]=ra[Y.source.index]/(ra[Y.source.index]+ra[Y.target.index]);Q=Array(ta);E();da=Array(ta);H()}}function E(){if(na)for(var Y=0,ta=k.length;Y<ta;++Y)Q[Y]=+T(k[Y],Y,k)}function H(){if(na)for(var Y=0,ta=k.length;Y<ta;++Y)da[Y]=+ba(k[Y],Y,k)}var K=fs,T=function(Y){return 1/Math.min(ra[Y.source.index],ra[Y.target.index])},Q,ba=xb(30),da,na,ra,O,X,oa=1;null==k&&(k=[]);A.initialize=function(Y,ta){na=Y;X=ta;G()};A.links=function(Y){return arguments.length?(k=Y,
G(),A):k};A.id=function(Y){return arguments.length?(K=Y,A):K};A.iterations=function(Y){return arguments.length?(oa=+Y,A):oa};A.strength=function(Y){return arguments.length?(T="function"===typeof Y?Y:xb(+Y),E(),A):T};A.distance=function(Y){return arguments.length?(ba="function"===typeof Y?Y:xb(+Y),H(),A):ba};return A};e.forceManyBody=function(){function k(X){var oa=H.length,Y=rf(H,hs,is).visitAfter(G);Q=X;for(X=0;X<oa;++X)K=H[X],Y.visit(E)}function A(){if(H){var X,oa=H.length;da=Array(oa);for(X=0;X<
oa;++X){var Y=H[X];da[Y.index]=+ba(Y,X,H)}}}function G(X){var oa=0,Y,ta,ha=0,wa,xa,ka;if(X.length){for(wa=xa=ka=0;4>ka;++ka)(Y=X[ka])&&(ta=Math.abs(Y.value))&&(oa+=Y.value,ha+=ta,wa+=ta*Y.x,xa+=ta*Y.y);X.x=wa/ha;X.y=xa/ha}else{Y=X;Y.x=Y.data.x;Y.y=Y.data.y;do oa+=da[Y.data.index];while(Y=Y.next)}X.value=oa}function E(X,oa,Y,ta){if(!X.value)return!0;Y=X.x-K.x;var ha=X.y-K.y;oa=ta-oa;ta=Y*Y+ha*ha;if(oa*oa/O<ta)return ta<ra&&(0===Y&&(Y=1E-6*(T()-.5),ta+=Y*Y),0===ha&&(ha=1E-6*(T()-.5),ta+=ha*ha),ta<na&&
(ta=Math.sqrt(na*ta)),K.vx+=Y*X.value*Q/ta,K.vy+=ha*X.value*Q/ta),!0;if(!(X.length||ta>=ra)){if(X.data!==K||X.next)0===Y&&(Y=1E-6*(T()-.5),ta+=Y*Y),0===ha&&(ha=1E-6*(T()-.5),ta+=ha*ha),ta<na&&(ta=Math.sqrt(na*ta));do X.data!==K&&(oa=da[X.data.index]*Q/ta,K.vx+=Y*oa,K.vy+=ha*oa);while(X=X.next)}}var H,K,T,Q,ba=xb(-30),da,na=1,ra=Infinity,O=.81;k.initialize=function(X,oa){H=X;T=oa;A()};k.strength=function(X){return arguments.length?(ba="function"===typeof X?X:xb(+X),A(),k):ba};k.distanceMin=function(X){return arguments.length?
(na=X*X,k):Math.sqrt(na)};k.distanceMax=function(X){return arguments.length?(ra=X*X,k):Math.sqrt(ra)};k.theta=function(X){return arguments.length?(O=X*X,k):Math.sqrt(O)};return k};e.forceRadial=function(k,A,G){function E(da){for(var na=0,ra=K.length;na<ra;++na){var O=K[na],X=O.x-A||1E-6,oa=O.y-G||1E-6,Y=Math.sqrt(X*X+oa*oa);Y=(ba[na]-Y)*Q[na]*da/Y;O.vx+=X*Y;O.vy+=oa*Y}}function H(){if(K){var da,na=K.length;Q=Array(na);ba=Array(na);for(da=0;da<na;++da)ba[da]=+k(K[da],da,K),Q[da]=isNaN(ba[da])?0:+T(K[da],
da,K)}}var K,T=xb(.1),Q,ba;"function"!==typeof k&&(k=xb(+k));null==A&&(A=0);null==G&&(G=0);E.initialize=function(da){K=da;H()};E.strength=function(da){return arguments.length?(T="function"===typeof da?da:xb(+da),H(),E):T};E.radius=function(da){return arguments.length?(k="function"===typeof da?da:xb(+da),H(),E):k};E.x=function(da){return arguments.length?(A=+da,E):A};E.y=function(da){return arguments.length?(G=+da,E):G};return E};e.forceSimulation=function(k){function A(){G();X.call("tick",K);T<Q&&
(O.stop(),X.call("end",K))}function G(Y){var ta,ha=k.length;void 0===Y&&(Y=1);for(var wa=0;wa<Y;++wa)for(T+=(da-T)*ba,ra.forEach(function(ka){ka(T)}),ta=0;ta<ha;++ta){var xa=k[ta];null==xa.fx?xa.x+=xa.vx*=na:(xa.x=xa.fx,xa.vx=0);null==xa.fy?xa.y+=xa.vy*=na:(xa.y=xa.fy,xa.vy=0)}return K}function E(){for(var Y=0,ta=k.length,ha;Y<ta;++Y){ha=k[Y];ha.index=Y;null!=ha.fx&&(ha.x=ha.fx);null!=ha.fy&&(ha.y=ha.fy);if(isNaN(ha.x)||isNaN(ha.y)){var wa=10*Math.sqrt(.5+Y),xa=Y*Hv;ha.x=wa*Math.cos(xa);ha.y=wa*Math.sin(xa)}if(isNaN(ha.vx)||
isNaN(ha.vy))ha.vx=ha.vy=0}}function H(Y){Y.initialize&&Y.initialize(k,oa);return Y}var K,T=1,Q=.001,ba=1-Math.pow(Q,1/300),da=0,na=.6,ra=new Map,O=ff(A),X=Xc("tick","end"),oa=gs();null==k&&(k=[]);E();return K={tick:G,restart:function(){return O.restart(A),K},stop:function(){return O.stop(),K},nodes:function(Y){return arguments.length?(k=Y,E(),ra.forEach(H),K):k},alpha:function(Y){return arguments.length?(T=+Y,K):T},alphaMin:function(Y){return arguments.length?(Q=+Y,K):Q},alphaDecay:function(Y){return arguments.length?
(ba=+Y,K):+ba},alphaTarget:function(Y){return arguments.length?(da=+Y,K):da},velocityDecay:function(Y){return arguments.length?(na=1-Y,K):1-na},randomSource:function(Y){return arguments.length?(oa=Y,ra.forEach(H),K):oa},force:function(Y,ta){return 1<arguments.length?(null==ta?ra.delete(Y):ra.set(Y,H(ta)),K):ra.get(Y)},find:function(Y,ta,ha){var wa,xa=k.length;ha=null==ha?Infinity:ha*ha;for(wa=0;wa<xa;++wa){var ka=k[wa];var Ca=Y-ka.x;var Ka=ta-ka.y;Ca=Ca*Ca+Ka*Ka;if(Ca<ha){var Sa=ka;ha=Ca}}return Sa},
on:function(Y,ta){return 1<arguments.length?(X.on(Y,ta),K):X.on(Y)}}};e.forceX=function(k){function A(Q){for(var ba=0,da=H.length,na;ba<da;++ba)na=H[ba],na.vx+=(T[ba]-na.x)*K[ba]*Q}function G(){if(H){var Q,ba=H.length;K=Array(ba);T=Array(ba);for(Q=0;Q<ba;++Q)K[Q]=isNaN(T[Q]=+k(H[Q],Q,H))?0:+E(H[Q],Q,H)}}var E=xb(.1),H,K,T;"function"!==typeof k&&(k=xb(null==k?0:+k));A.initialize=function(Q){H=Q;G()};A.strength=function(Q){return arguments.length?(E="function"===typeof Q?Q:xb(+Q),G(),A):E};A.x=function(Q){return arguments.length?
(k="function"===typeof Q?Q:xb(+Q),G(),A):k};return A};e.forceY=function(k){function A(Q){for(var ba=0,da=H.length,na;ba<da;++ba)na=H[ba],na.vy+=(T[ba]-na.y)*K[ba]*Q}function G(){if(H){var Q,ba=H.length;K=Array(ba);T=Array(ba);for(Q=0;Q<ba;++Q)K[Q]=isNaN(T[Q]=+k(H[Q],Q,H))?0:+E(H[Q],Q,H)}}var E=xb(.1),H,K,T;"function"!==typeof k&&(k=xb(null==k?0:+k));A.initialize=function(Q){H=Q;G()};A.strength=function(Q){return arguments.length?(E="function"===typeof Q?Q:xb(+Q),G(),A):E};A.y=function(Q){return arguments.length?
(k="function"===typeof Q?Q:xb(+Q),G(),A):k};return A};e.formatDefaultLocale=Uk;e.formatLocale=Pk;e.formatSpecifier=ne;e.fsum=function(k,A){var G=new ub;if(void 0===A){k=$jscomp.makeIterator(k);for(var E=k.next();!E.done;E=k.next())A=E.value,(A=+A)&&G.add(A)}else{var H=-1,K=$jscomp.makeIterator(k);for(E=K.next();!E.done;E=K.next())E=E.value,(E=+A(E,++H,k))&&G.add(E)}return+G};e.geoAlbers=cm;e.geoAlbersUsa=function(){function k(O){var X=O[0];O=O[1];return na=null,(K.point(X,O),na)||(Q.point(X,O),na)||
(da.point(X,O),na)}function A(){G=E=null;return k}var G,E,H=cm(),K,T=Tf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Q,ba=Tf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),da,na,ra={point:function(O,X){na=[O,X]}};k.invert=function(O){var X=H.scale(),oa=H.translate(),Y=(O[0]-oa[0])/X;X=(O[1]-oa[1])/X;return(.12<=X&&.234>X&&-.425<=Y&&-.214>Y?T:.166<=X&&.234>X&&-.214<=Y&&-.115>Y?ba:H).invert(O)};k.stream=function(O){return G&&E===O?G:G=Ts([H.stream(E=O),T.stream(O),ba.stream(O)])};k.precision=
function(O){if(!arguments.length)return H.precision();H.precision(O);T.precision(O);ba.precision(O);return A()};k.scale=function(O){if(!arguments.length)return H.scale();H.scale(O);T.scale(.35*O);ba.scale(O);return k.translate(H.translate())};k.translate=function(O){if(!arguments.length)return H.translate();var X=H.scale(),oa=+O[0],Y=+O[1];K=H.translate(O).clipExtent([[oa-.455*X,Y-.238*X],[oa+.455*X,Y+.238*X]]).stream(ra);Q=T.translate([oa-.307*X,Y+.201*X]).clipExtent([[oa-.425*X+1E-6,Y+.12*X+1E-6],
[oa-.214*X-1E-6,Y+.234*X-1E-6]]).stream(ra);da=ba.translate([oa-.205*X,Y+.212*X]).clipExtent([[oa-.214*X+1E-6,Y+.166*X+1E-6],[oa-.115*X-1E-6,Y+.234*X-1E-6]]).stream(ra);return A()};k.fitExtent=function(O,X){return Hd(k,O,X)};k.fitSize=function(O,X){return Hd(k,[[0,0],O],X)};k.fitWidth=function(O,X){return bi(k,O,X)};k.fitHeight=function(O,X){return ci(k,O,X)};return k.scale(1070)};e.geoArea=function(k){sg=new ub;mc(k,tc);return 2*sg};e.geoAzimuthalEqualArea=function(){return wc(Zi).scale(124.75).clipAngle(179.999)};
e.geoAzimuthalEqualAreaRaw=Zi;e.geoAzimuthalEquidistant=function(){return wc($i).scale(79.4188).clipAngle(179.999)};e.geoAzimuthalEquidistantRaw=$i;e.geoBounds=function(k){var A,G,E;ac=sb=-(qb=Yb=Infinity);Qc=[];mc(k,Dc);if(A=Qc.length){Qc.sort(rs);k=1;var H=Qc[0];for(G=[H];k<A;++k){var K=Qc[k];ll(H,K[0])||ll(H,K[1])?(bc(H[0],K[1])>bc(H[0],H[1])&&(H[1]=K[1]),bc(K[0],H[1])>bc(H[0],H[1])&&(H[0]=K[0])):G.push(H=K)}var T=-Infinity;A=G.length-1;k=0;for(H=G[A];k<=A;H=K,++k)K=G[k],(E=bc(H[1],K[0]))>T&&(T=
E,qb=K[0],sb=H[1])}Qc=Cc=null;return Infinity===qb||Infinity===Yb?[[NaN,NaN],[NaN,NaN]]:[[qb,Yb],[sb,ac]]};e.geoCentroid=function(k){qe=Ff=Cf=Df=Ef=Gf=Hf=If=0;Ih=new ub;Jh=new ub;Kh=new ub;mc(k,nc);k=+Ih;var A=+Jh,G=+Kh,E=Hh(k,A,G);return 1E-12>E&&(k=Gf,A=Hf,G=If,1E-6>Ff&&(k=Cf,A=Df,G=Ef),E=Hh(k,A,G),1E-12>E)?[NaN,NaN]:[Rb(A,k)*jb,Qb(G/E)*jb]};e.geoCircle=function(){function k(){var Q=A.apply(this,arguments),ba=G.apply(this,arguments)*Ta,da=E.apply(this,arguments)*Ta;H=[];K=Nh(-Q[0]*Ta,-Q[1]*Ta,0).invert;
vl(T,ba,da,1);Q={type:"Polygon",coordinates:[H]};H=K=null;return Q}var A=Ed([0,0]),G=Ed(90),E=Ed(6),H,K,T={point:function(Q,ba){H.push(Q=K(Q,ba));Q[0]*=jb;Q[1]*=jb}};k.center=function(Q){return arguments.length?(A="function"===typeof Q?Q:Ed([+Q[0],+Q[1]]),k):A};k.radius=function(Q){return arguments.length?(G="function"===typeof Q?Q:Ed(+Q),k):G};k.precision=function(Q){return arguments.length?(E="function"===typeof Q?Q:Ed(+Q),k):E};return k};e.geoClipAntimeridian=ei;e.geoClipCircle=Cl;e.geoClipExtent=
function(){var k=0,A=0,G=960,E=500,H,K,T;return T={stream:function(Q){return H&&K===Q?H:H=Lf(k,A,G,E)(K=Q)},extent:function(Q){return arguments.length?(k=+Q[0][0],A=+Q[0][1],G=+Q[1][0],E=+Q[1][1],H=K=null,T):[[k,A],[G,E]]}}};e.geoClipRectangle=Lf;e.geoConicConformal=function(){return fi(fm).scale(109.5).parallels([30,30])};e.geoConicConformalRaw=fm;e.geoConicEqualArea=Tf;e.geoConicEqualAreaRaw=bm;e.geoConicEquidistant=function(){return fi(gm).scale(131.154).center([0,13.9389])};e.geoConicEquidistantRaw=
gm;e.geoContains=function(k,A){return(k&&ao.hasOwnProperty(k.type)?ao[k.type]:Of)(k,A)};e.geoDistance=re;e.geoEqualEarth=function(){return wc(hi).scale(177.158)};e.geoEqualEarthRaw=hi;e.geoEquirectangular=function(){return wc(Be).scale(152.63)};e.geoEquirectangularRaw=Be;e.geoGnomonic=function(){return wc(ii).scale(144.049).clipAngle(60)};e.geoGnomonicRaw=ii;e.geoGraticule=Kl;e.geoGraticule10=function(){return Kl()()};e.geoIdentity=function(){function k(){oa=G*K;Y=G*T;wa=xa=null;return A}function A(ka){var Ca=
ka[0]*oa;ka=ka[1]*Y;if(Q){var Ka=ka*ba-Ca*da;Ca=Ca*ba+ka*da;ka=Ka}return[Ca+E,ka+H]}var G=1,E=0,H=0,K=1,T=1,Q=0,ba,da,na=null,ra,O,X,oa=1,Y=1,ta=xe({point:function(ka,Ca){ka=A([ka,Ca]);this.stream.point(ka[0],ka[1])}}),ha=ye,wa,xa;A.invert=function(ka){var Ca=ka[0]-E;ka=ka[1]-H;if(Q){var Ka=ka*ba+Ca*da;Ca=Ca*ba-ka*da;ka=Ka}return[Ca/oa,ka/Y]};A.stream=function(ka){return wa&&xa===ka?wa:wa=ta(ha(xa=ka))};A.postclip=function(ka){return arguments.length?(ha=ka,na=ra=O=X=null,k()):ha};A.clipExtent=function(ka){return arguments.length?
(ha=null==ka?(na=ra=O=X=null,ye):Lf(na=+ka[0][0],ra=+ka[0][1],O=+ka[1][0],X=+ka[1][1]),k()):null==na?null:[[na,ra],[O,X]]};A.scale=function(ka){return arguments.length?(G=+ka,k()):G};A.translate=function(ka){return arguments.length?(E=+ka[0],H=+ka[1],k()):[E,H]};A.angle=function(ka){return arguments.length?(Q=ka%360*Ta,da=Ma(Q),ba=Ra(Q),k()):Q*jb};A.reflectX=function(ka){return arguments.length?(K=ka?-1:1,k()):0>K};A.reflectY=function(ka){return arguments.length?(T=ka?-1:1,k()):0>T};A.fitExtent=function(ka,
Ca){return Hd(A,ka,Ca)};A.fitSize=function(ka,Ca){return Hd(A,[[0,0],ka],Ca)};A.fitWidth=function(ka,Ca){return bi(A,ka,Ca)};A.fitHeight=function(ka,Ca){return ci(A,ka,Ca)};return A};e.geoInterpolate=function(k,A){var G=k[0]*Ta,E=k[1]*Ta;k=A[0]*Ta;A=A[1]*Ta;var H=Ra(E),K=Ma(E),T=Ra(A),Q=Ma(A),ba=H*Ra(G),da=H*Ma(G),na=T*Ra(k),ra=T*Ma(k),O=2*Qb(Bb(Zk(A-E)+H*T*Zk(k-G))),X=Ma(O);k=O?function(oa){var Y=Ma(oa*=O)/X,ta=Ma(O-oa)/X;oa=ta*ba+Y*na;var ha=ta*da+Y*ra;Y=ta*K+Y*Q;return[Rb(ha,oa)*jb,Rb(Y,Bb(oa*
oa+ha*ha))*jb]}:function(){return[G*jb,E*jb]};k.distance=O;return k};e.geoLength=Dl;e.geoMercator=function(){return em(Ae).scale(961/Vb)};e.geoMercatorRaw=Ae;e.geoNaturalEarth1=function(){return wc(ji).scale(175.295)};e.geoNaturalEarth1Raw=ji;e.geoOrthographic=function(){return wc(ki).scale(249.5).clipAngle(90.000001)};e.geoOrthographicRaw=ki;e.geoPath=function(k,A){function G(T){T&&("function"===typeof E&&K.pointRadius(+E.apply(this,arguments)),mc(T,H(K)));return K.result()}var E=4.5,H,K;G.area=
function(T){mc(T,H(Ec));return Ec.result()};G.measure=function(T){mc(T,H(ue));return ue.result()};G.bounds=function(T){mc(T,H(Sf));return Sf.result()};G.centroid=function(T){mc(T,H(fc));return fc.result()};G.projection=function(T){return arguments.length?(H=null==T?(k=null,ye):(k=T).stream,G):k};G.context=function(T){if(!arguments.length)return A;K=null==T?(A=null,new Xl):new Tl(A=T);"function"!==typeof E&&K.pointRadius(E);return G};G.pointRadius=function(T){if(!arguments.length)return E;E="function"===
typeof T?T:(K.pointRadius(+T),+T);return G};return G.projection(k).context(A)};e.geoProjection=wc;e.geoProjectionMutator=di;e.geoRotation=ul;e.geoStereographic=function(){return wc(li).scale(250).clipAngle(142)};e.geoStereographicRaw=li;e.geoStream=mc;e.geoTransform=function(k){return{stream:xe(k)}};e.geoTransverseMercator=function(){var k=em(mi),A=k.center,G=k.rotate;k.center=function(E){return arguments.length?A([-E[1],E[0]]):(E=A(),[E[1],-E[0]])};k.rotate=function(E){return arguments.length?G([E[0],
E[1],2<E.length?E[2]+90:90]):(E=G(),[E[0],E[1],E[2]-90])};return G([0,0,90]).scale(159.155)};e.geoTransverseMercatorRaw=mi;e.gray=function(k,A){return new jc(k,0,0,null==A?1:A)};e.greatest=function(k,A){A=void 0===A?p:A;var G=!1;if(1===A.length){k=$jscomp.makeIterator(k);for(var E=k.next();!E.done;E=k.next()){E=E.value;var H=A(E);if(G?0<p(H,T):0===p(H,H)){var K=E;var T=H;G=!0}}}else for(T=$jscomp.makeIterator(k),k=T.next();!k.done;k=T.next())if(k=k.value,G?0<A(k,K):0===A(k,k))K=k,G=!0;return K};e.greatestIndex=
function(k,A){A=void 0===A?p:A;if(1===A.length)return kj(k,A);var G=-1,E=-1;k=$jscomp.makeIterator(k);for(var H=k.next();!H.done;H=k.next())if(H=H.value,++E,0>G?0===A(H,H):0<A(H,K)){var K=H;G=E}return G};e.group=Oa;e.groupSort=function(k,A,G){return(1===A.length?rb(hb(k,A,G),function(E,H){var K=$jscomp.makeIterator(E);E=K.next().value;K=K.next().value;var T=$jscomp.makeIterator(H);H=T.next().value;T=T.next().value;return p(K,T)||p(E,H)}):rb(Oa(k,G),function(E,H){var K=$jscomp.makeIterator(E);E=K.next().value;
K=K.next().value;var T=$jscomp.makeIterator(H);H=T.next().value;T=T.next().value;return A(K,T)||p(E,H)})).map(function(E){return $jscomp.makeIterator(E).next().value})};e.groups=function(k,A){for(var G=[],E=1;E<arguments.length;++E)G[E-1]=arguments[E];return eb(k,Array.from,La,G)};e.hcl=af;e.hierarchy=ni;e.histogram=ij;e.hsl=Ze;e.html=Fv;e.image=function(k,A){return new Promise(function(G,E){var H=new Image,K;for(K in A)H[K]=A[K];H.onerror=E;H.onload=function(){G(H)};H.src=k})};e.index=function(k,
A){for(var G=[],E=1;E<arguments.length;++E)G[E-1]=arguments[E];return eb(k,La,cb,G)};e.indexes=function(k,A){for(var G=[],E=1;E<arguments.length;++E)G[E-1]=arguments[E];return eb(k,Array.from,cb,G)};e.interpolate=Mc;e.interpolateArray=function(k,A){return(Wj(A)?bh:Xj)(k,A)};e.interpolateBasis=Sj;e.interpolateBasisClosed=Tj;e.interpolateBlues=Xw;e.interpolateBrBG=Cw;e.interpolateBuGn=Lw;e.interpolateBuPu=Mw;e.interpolateCividis=function(k){k=Math.max(0,Math.min(1,k));return"rgb("+Math.max(0,Math.min(255,
Math.round(-4.54-k*(35.34-k*(2381.73-k*(6402.7-k*(7024.72-2710.57*k)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+k*(170.73+k*(52.82-k*(131.46-k*(176.58-67.37*k)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+k*(442.36-k*(2482.43-k*(6167.24-k*(6614.94-2475.67*k)))))))+")"};e.interpolateCool=ex;e.interpolateCubehelix=cv;e.interpolateCubehelixDefault=cx;e.interpolateCubehelixLong=qg;e.interpolateDate=Yj;e.interpolateDiscrete=function(k){var A=k.length;return function(G){return k[Math.max(0,
Math.min(A-1,Math.floor(G*A)))]}};e.interpolateGnBu=Nw;e.interpolateGreens=Yw;e.interpolateGreys=Zw;e.interpolateHcl=av;e.interpolateHclLong=bv;e.interpolateHsl=Zu;e.interpolateHslLong=$u;e.interpolateHue=function(k,A){var G=bf(+k,+A);return function(E){E=G(E);return E-360*Math.floor(E/360)}};e.interpolateInferno=jx;e.interpolateLab=function(k,A){var G=Ab((k=$e(k)).l,(A=$e(A)).l),E=Ab(k.a,A.a),H=Ab(k.b,A.b),K=Ab(k.opacity,A.opacity);return function(T){k.l=G(T);k.a=E(T);k.b=H(T);k.opacity=K(T);return k+
""}};e.interpolateMagma=ix;e.interpolateNumber=dc;e.interpolateNumberArray=bh;e.interpolateObject=Zj;e.interpolateOrRd=Ow;e.interpolateOranges=bx;e.interpolatePRGn=Dw;e.interpolatePiYG=Ew;e.interpolatePlasma=kx;e.interpolatePuBu=Qw;e.interpolatePuBuGn=Pw;e.interpolatePuOr=Fw;e.interpolatePuRd=Rw;e.interpolatePurples=$w;e.interpolateRainbow=function(k){if(0>k||1<k)k-=Math.floor(k);var A=Math.abs(k-.5);Bg.h=360*k-100;Bg.s=1.5-1.5*A;Bg.l=.8-.9*A;return Bg+""};e.interpolateRdBu=Gw;e.interpolateRdGy=Hw;
e.interpolateRdPu=Sw;e.interpolateRdYlBu=Iw;e.interpolateRdYlGn=Jw;e.interpolateReds=ax;e.interpolateRgb=de;e.interpolateRgbBasis=Nn;e.interpolateRgbBasisClosed=Yu;e.interpolateRound=df;e.interpolateSinebow=function(k){var A;k=(.5-k)*Math.PI;Cg.r=255*(A=Math.sin(k))*A;Cg.g=255*(A=Math.sin(k+fx))*A;Cg.b=255*(A=Math.sin(k+gx))*A;return Cg+""};e.interpolateSpectral=Kw;e.interpolateString=ch;e.interpolateTransformCss=On;e.interpolateTransformSvg=Pn;e.interpolateTurbo=function(k){k=Math.max(0,Math.min(1,
k));return"rgb("+Math.max(0,Math.min(255,Math.round(34.61+k*(1172.33-k*(10793.56-k*(33300.12-k*(38394.49-14825.05*k)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+k*(557.33+k*(1225.33-k*(3574.96-k*(1073.77+707.56*k)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+k*(3211.1-k*(15327.97-k*(27814-k*(22569.18-6838.66*k)))))))+")"};e.interpolateViridis=hx;e.interpolateWarm=dx;e.interpolateYlGn=Uw;e.interpolateYlGnBu=Tw;e.interpolateYlOrBr=Vw;e.interpolateYlOrRd=Ww;e.interpolateZoom=Qn;e.interrupt=
bd;e.intersection=function(k,A){for(var G=[],E=1;E<arguments.length;++E)G[E-1]=arguments[E];k=new Set(k);G=G.map(op);E=$jscomp.makeIterator(k);var H=E.next();a:for(;!H.done;H=E.next()){H=H.value;for(var K=$jscomp.makeIterator(G),T=K.next();!T.done;T=K.next())if(!T.value.has(H)){k.delete(H);continue a}}return k};e.interval=function(k,A,G){var E=new ge,H=A;if(null==A)return E.restart(k,A,G),E;E._restart=E.restart;E.restart=function(K,T,Q){T=+T;Q=null==Q?ee():+Q;E._restart(function na(da){da+=H;E._restart(na,
H+=T,Q);K(da)},T,Q)};E.restart(k,A,G);return E};e.isoFormat=qw;e.isoParse=rw;e.json=function(k,A){return fetch(k,A).then(as)};e.lab=$e;e.lch=function(k,A,G,E){return 1===arguments.length?Nj(k):new qc(G,A,k,null==E?1:E)};e.least=function(k,A){A=void 0===A?p:A;var G=!1;if(1===A.length){k=$jscomp.makeIterator(k);for(var E=k.next();!E.done;E=k.next()){E=E.value;var H=A(E);if(G?0>p(H,T):0===p(H,H)){var K=E;var T=H;G=!0}}}else for(T=$jscomp.makeIterator(k),k=T.next();!k.done;k=T.next())if(k=k.value,G?0>
A(k,K):0===A(k,k))K=k,G=!0;return K};e.leastIndex=nj;e.line=Li;e.lineRadial=rn;e.linkHorizontal=function(){return Ni(Ju)};e.linkRadial=function(){var k=Ni(Lu);k.angle=k.x;delete k.x;k.radius=k.y;delete k.y;return k};e.linkVertical=function(){return Ni(Ku)};e.local=zj;e.map=function(k,A){if("function"!==typeof k[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof A)throw new TypeError("mapper is not a function");return Array.from(k,function(G,E){return A(G,E,k)})};
e.matcher=Pg;e.max=Pe;e.maxIndex=kj;e.mean=function(k,A){var G=0,E=0;if(void 0===A){k=$jscomp.makeIterator(k);for(var H=k.next();!H.done;H=k.next())A=H.value,null!=A&&(A=+A)>=A&&(++G,E+=A)}else{var K=-1,T=$jscomp.makeIterator(k);for(H=T.next();!H.done;H=T.next())H=H.value,null!=(H=A(H,++K,k))&&(H=+H)>=H&&(++G,E+=H)}if(G)return E/G};e.median=function(k,A){return ae(k,.5,A)};e.merge=Kg;e.min=Qe;e.minIndex=mj;e.namespace=be;e.namespaces=Mg;e.nice=hj;e.now=ee;e.pack=function(){function k(K){K.x=G/2;K.y=
E/2;A?K.eachBefore(qm(A)).eachAfter(pi(H,.5)).eachBefore(rm(1)):K.eachBefore(qm(ct)).eachAfter(pi(gd,1)).eachAfter(pi(H,K.r/Math.min(G,E))).eachBefore(rm(Math.min(G,E)/(2*K.r)));return K}var A=null,G=1,E=1,H=gd;k.radius=function(K){return arguments.length?(A=null==K?null:Yf(K),k):A};k.size=function(K){return arguments.length?(G=+K[0],E=+K[1],k):[G,E]};k.padding=function(K){return arguments.length?(H="function"===typeof K?K:Ld(+K),k):H};return k};e.packEnclose=jm;e.packSiblings=function(k){pm(k);return k};
e.pairs=function(k,A){A=void 0===A?mp:A;var G=[],E=!1;k=$jscomp.makeIterator(k);for(var H=k.next();!H.done;H=k.next()){H=H.value;E&&G.push(A(K,H));var K=H;E=!0}return G};e.partition=function(){function k(T){var Q=T.height+1;T.x0=T.y0=H;T.x1=G;T.y1=E/Q;T.eachBefore(A(E,Q));K&&T.eachBefore(sm);return T}function A(T,Q){return function(ba){ba.children&&De(ba,ba.x0,T*(ba.depth+1)/Q,ba.x1,T*(ba.depth+2)/Q);var da=ba.x0,na=ba.y0,ra=ba.x1-H,O=ba.y1-H;ra<da&&(da=ra=(da+ra)/2);O<na&&(na=O=(na+O)/2);ba.x0=da;
ba.y0=na;ba.x1=ra;ba.y1=O}}var G=1,E=1,H=0,K=!1;k.round=function(T){return arguments.length?(K=!!T,k):K};k.size=function(T){return arguments.length?(G=+T[0],E=+T[1],k):[G,E]};k.padding=function(T){return arguments.length?(H=+T,k):H};return k};e.path=Oc;e.permute=mb;e.pie=function(){function k(Q){var ba,da=(Q=gg(Q)).length;var na=0;var ra=Array(da),O=Array(da),X=+H.apply(this,arguments);var oa=Math.min(Vc,Math.max(-Vc,K.apply(this,arguments)-X));var Y=Math.min(Math.abs(oa)/da,T.apply(this,arguments)),
ta=Y*(0>oa?-1:1),ha;for(ba=0;ba<da;++ba)0<(ha=O[ra[ba]=ba]=+A(Q[ba],ba,Q))&&(na+=ha);null!=G?ra.sort(function(xa,ka){return G(O[xa],O[ka])}):null!=E&&ra.sort(function(xa,ka){return E(Q[xa],Q[ka])});ba=0;for(oa=na?(oa-da*ta)/na:0;ba<da;++ba,X=wa){na=ra[ba];ha=O[na];var wa=X+(0<ha?ha*oa:0)+ta;O[na]={data:Q[na],index:ba,value:ha,startAngle:X,endAngle:wa,padAngle:Y}}return O}var A=Fu,G=Eu,E=null,H=Xa(0),K=Xa(Vc),T=Xa(0);k.value=function(Q){return arguments.length?(A="function"===typeof Q?Q:Xa(+Q),k):
A};k.sortValues=function(Q){return arguments.length?(G=Q,E=null,k):G};k.sort=function(Q){return arguments.length?(E=Q,G=null,k):E};k.startAngle=function(Q){return arguments.length?(H="function"===typeof Q?Q:Xa(+Q),k):H};k.endAngle=function(Q){return arguments.length?(K="function"===typeof Q?Q:Xa(+Q),k):K};k.padAngle=function(Q){return arguments.length?(T="function"===typeof Q?Q:Xa(+Q),k):T};return k};e.piecewise=hk;e.pointRadial=Le;e.pointer=$b;e.pointers=function(k,A){k.target&&(k=Aj(k),void 0===
A&&(A=k.currentTarget),k=k.touches||[k]);return Array.from(k,function(G){return $b(G,A)})};e.polygonArea=function(k){for(var A=-1,G=k.length,E,H=k[G-1],K=0;++A<G;)E=H,H=k[A],K+=E[1]*H[0]-E[0]*H[1];return K/2};e.polygonCentroid=function(k){for(var A=-1,G=k.length,E=0,H=0,K,T=k[G-1],Q,ba=0;++A<G;)K=T,T=k[A],ba+=Q=K[0]*T[1]-T[0]*K[1],E+=(K[0]+T[0])*Q,H+=(K[1]+T[1])*Q;return ba*=3,[E/ba,H/ba]};e.polygonContains=function(k,A){var G=k.length,E=k[G-1],H=A[0];A=A[1];for(var K=E[0],T=E[1],Q,ba=!1,da=0;da<
G;++da)E=k[da],Q=E[0],E=E[1],E>A!==T>A&&H<(K-Q)*(A-E)/(T-E)+Q&&(ba=!ba),K=Q,T=E;return ba};e.polygonHull=function(k){if(3>(G=k.length))return null;var A,G,E=Array(G),H=Array(G);for(A=0;A<G;++A)E[A]=[+k[A][0],+k[A][1],A];E.sort(it);for(A=0;A<G;++A)H[A]=[E[A][0],-E[A][1]];G=um(E);H=um(H);var K=H[0]===G[0],T=H[H.length-1]===G[G.length-1],Q=[];for(A=G.length-1;0<=A;--A)Q.push(k[E[G[A]][2]]);for(A=+K;A<H.length-T;++A)Q.push(k[E[H[A]][2]]);return Q};e.polygonLength=function(k){var A=-1,G=k.length,E=k[G-
1],H=E[0];E=E[1];for(var K=0;++A<G;){var T=H;var Q=E;E=k[A];H=E[0];E=E[1];T-=H;Q-=E;K+=Math.hypot(T,Q)}return K};e.precisionFixed=Vk;e.precisionPrefix=Wk;e.precisionRound=Xk;e.quadtree=rf;e.quantile=ae;e.quantileSorted=jj;e.quantize=function(k,A){for(var G=Array(A),E=0;E<A;++E)G[E]=k(E/(A-1));return G};e.quickselect=Jg;e.radialArea=tn;e.radialLine=rn;e.randomBates=Nv;e.randomBernoulli=Qv;e.randomBeta=ho;e.randomBinomial=io;e.randomCauchy=Sv;e.randomExponential=Ov;e.randomGamma=bj;e.randomGeometric=
go;e.randomInt=Lv;e.randomIrwinHall=fo;e.randomLcg=function(k){k=void 0===k?Math.random():k;var A=(0<=k&&1>k?k/jo:Math.abs(k))|0;return function(){return A=1664525*A+1013904223|0,jo*(A>>>0)}};e.randomLogNormal=Mv;e.randomLogistic=Tv;e.randomNormal=aj;e.randomPareto=Pv;e.randomPoisson=Uv;e.randomUniform=Kv;e.randomWeibull=Rv;e.range=oc;e.reduce=function(k,A,G){if("function"!==typeof A)throw new TypeError("reducer is not a function");var E=k[Symbol.iterator](),H,K=-1;if(3>arguments.length){var T=E.next();
var Q=T.done;G=T.value;if(Q)return;++K}for(;function(){var ba=E.next();Q=ba.done;H=ba.value;return ba}(),!Q;)G=A(G,H,++K,k);return G};e.reverse=function(k){if("function"!==typeof k[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(k).reverse()};e.rgb=td;e.ribbon=function(){return Bk()};e.ribbonArrow=function(){return Bk(Kr)};e.rollup=hb;e.rollups=function(k,A,G){for(var E=[],H=2;H<arguments.length;++H)E[H-2]=arguments[H];return eb(k,Array.from,A,E)};e.scaleBand=ui;e.scaleDiverging=
kn;e.scaleDivergingLog=ln;e.scaleDivergingPow=Ii;e.scaleDivergingSqrt=function(){return Ii.apply(null,arguments).exponent(.5)};e.scaleDivergingSymlog=mn;e.scaleIdentity=zm;e.scaleImplicit=ti;e.scaleLinear=ym;e.scaleLog=Em;e.scaleOrdinal=si;e.scalePoint=function(){return vm(ui.apply(null,arguments).paddingInner(1))};e.scalePow=zi;e.scaleQuantile=Lm;e.scaleQuantize=Mm;e.scaleRadial=Km;e.scaleSequential=fn;e.scaleSequentialLog=gn;e.scaleSequentialPow=Hi;e.scaleSequentialQuantile=jn;e.scaleSequentialSqrt=
function(){return Hi.apply(null,arguments).exponent(.5)};e.scaleSequentialSymlog=hn;e.scaleSqrt=function(){return zi.apply(null,arguments).exponent(.5)};e.scaleSymlog=Hm;e.scaleThreshold=Nm;e.scaleTime=function(){return gc.apply(Gi(Ao,Bo,xc,xg,Qd,Pd,wg,vg,Gc,e.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};e.scaleUtc=function(){return gc.apply(Gi(xo,yo,yc,Ag,Rd,Od,zg,yg,Gc,e.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};e.scan=function(k,A){k=nj(k,A);
return 0>k?void 0:k};e.schemeAccent=tw;e.schemeBlues=Xo;e.schemeBrBG=Co;e.schemeBuGn=Lo;e.schemeBuPu=Mo;e.schemeCategory10=sw;e.schemeDark2=uw;e.schemeGnBu=No;e.schemeGreens=Yo;e.schemeGreys=Zo;e.schemeOrRd=Oo;e.schemeOranges=bp;e.schemePRGn=Do;e.schemePaired=vw;e.schemePastel1=ww;e.schemePastel2=xw;e.schemePiYG=Eo;e.schemePuBu=Qo;e.schemePuBuGn=Po;e.schemePuOr=Fo;e.schemePuRd=Ro;e.schemePurples=$o;e.schemeRdBu=Go;e.schemeRdGy=Ho;e.schemeRdPu=So;e.schemeRdYlBu=Io;e.schemeRdYlGn=Jo;e.schemeReds=ap;
e.schemeSet1=yw;e.schemeSet2=zw;e.schemeSet3=Aw;e.schemeSpectral=Ko;e.schemeTableau10=Bw;e.schemeYlGn=Uo;e.schemeYlGnBu=To;e.schemeYlOrBr=Vo;e.schemeYlOrRd=Wo;e.select=Ib;e.selectAll=function(k){return"string"===typeof k?new Hb([document.querySelectorAll(k)],[document.documentElement]):new Hb([null==k?[]:Ng(k)],Sg)};e.selection=Zc;e.selector=Ue;e.selectorAll=Og;e.shuffle=Xu;e.shuffler=oj;e.some=function(k,A){if("function"!==typeof A)throw new TypeError("test is not a function");for(var G=-1,E=$jscomp.makeIterator(k),
H=E.next();!H.done;H=E.next())if(A(H.value,++G,k))return!0;return!1};e.sort=rb;e.stack=function(){function k(K){var T=Array.from(A.apply(this,arguments),Nu),Q,ba=T.length,da=-1,na=$jscomp.makeIterator(K);for(Q=na.next();!Q.done;Q=na.next()){var ra=Q.value;Q=0;for(++da;Q<ba;++Q)(T[Q][da]=[0,+H(ra,T[Q].key,da,K)]).data=ra}Q=0;for(da=gg(G(T));Q<ba;++Q)T[da[Q]].index=Q;E(T,da);return T}var A=Xa([]),G=Vd,E=Ud,H=Mu;k.keys=function(K){return arguments.length?(A="function"===typeof K?K:Xa(Array.from(K)),
k):A};k.value=function(K){return arguments.length?(H="function"===typeof K?K:Xa(+K),k):H};k.order=function(K){return arguments.length?(G=null==K?Vd:"function"===typeof K?K:Xa(Array.from(K)),k):G};k.offset=function(K){return arguments.length?(E=null==K?Ud:K,k):E};return k};e.stackOffsetDiverging=function(k,A){if(0<(ba=k.length))for(var G,E=0,H,K,T,Q,ba,da=k[A[0]].length;E<da;++E)for(G=T=Q=0;G<ba;++G)0<(K=(H=k[A[G]][E])[1]-H[0])?(H[0]=T,H[1]=T+=K):0>K?(H[1]=Q,H[0]=Q+=K):(H[0]=0,H[1]=K)};e.stackOffsetExpand=
function(k,A){if(0<(E=k.length)){for(var G,E,H=0,K=k[0].length,T;H<K;++H){for(T=G=0;G<E;++G)T+=k[G][H][1]||0;if(T)for(G=0;G<E;++G)k[G][H][1]/=T}Ud(k,A)}};e.stackOffsetNone=Ud;e.stackOffsetSilhouette=function(k,A){if(0<(H=k.length)){for(var G=0,E=k[A[0]],H,K=E.length;G<K;++G){for(var T=0,Q=0;T<H;++T)Q+=k[T][G][1]||0;E[G][1]+=E[G][0]=-Q/2}Ud(k,A)}};e.stackOffsetWiggle=function(k,A){if(0<(T=k.length)&&0<(K=(H=k[A[0]]).length)){for(var G=0,E=1,H,K,T;E<K;++E){for(var Q=0,ba=0,da=0;Q<T;++Q){var na=k[A[Q]],
ra=na[E][1]||0;na=(ra-(na[E-1][1]||0))/2;for(var O=0;O<Q;++O){var X=k[A[O]];na+=(X[E][1]||0)-(X[E-1][1]||0)}ba+=ra;da+=na*ra}H[E-1][1]+=H[E-1][0]=G;ba&&(G-=da/ba)}H[E-1][1]+=H[E-1][0]=G;Ud(k,A)}};e.stackOrderAppearance=Hn;e.stackOrderAscending=In;e.stackOrderDescending=function(k){return In(k).reverse()};e.stackOrderInsideOut=function(k){var A=k.length,G=k.map(Jn),E=Hn(k),H=0,K=0,T=[],Q=[];for(k=0;k<A;++k){var ba=E[k];H<K?(H+=G[ba],T.push(ba)):(K+=G[ba],Q.push(ba))}return Q.reverse().concat(T)};e.stackOrderNone=
Vd;e.stackOrderReverse=function(k){return Vd(k).reverse()};e.stratify=function(){function k(E){var H=Array.from(E),K=H.length,T,Q,ba=new Map;for(T=0;T<K;++T){var da=H[T];var na=H[T]=new Kd(da);if(null!=(Q=A(da,T,E))&&(Q+="")){var ra=na.id=Q;ba.set(ra,ba.has(ra)?bo:na)}null!=(Q=G(da,T,E))&&(Q+="")&&(na.parent=Q)}for(T=0;T<K;++T)if(na=H[T],Q=na.parent){E=ba.get(Q);if(!E)throw Error("missing: "+Q);if(E===bo)throw Error("ambiguous: "+Q);E.children?E.children.push(na):E.children=[na];na.parent=E}else{if(O)throw Error("multiple roots");
var O=na}if(!O)throw Error("no root");O.parent=Iv;O.eachBefore(function(X){X.depth=X.parent.depth+1;--K}).eachBefore(im);O.parent=null;if(0<K)throw Error("cycle");return O}var A=dt,G=et;k.id=function(E){return arguments.length?(A=Yf(E),k):A};k.parentId=function(E){return arguments.length?(G=Yf(E),k):G};return k};e.style=Yc;e.subset=function(k,A){return qj(A,k)};e.sum=function(k,A){var G=0;if(void 0===A){k=$jscomp.makeIterator(k);for(var E=k.next();!E.done;E=k.next())if(A=E.value,A=+A)G+=A}else{var H=
-1,K=$jscomp.makeIterator(k);for(E=K.next();!E.done;E=K.next())if(E=E.value,E=+A(E,++H,k))G+=E}return G};e.superset=qj;e.svg=Gv;e.symbol=function(k,A){function G(){var H;E||(E=H=Oc());k.apply(this,arguments).draw(E,+A.apply(this,arguments));if(H)return E=null,H+""||null}var E=null;k="function"===typeof k?k:Xa(k||dj);A="function"===typeof A?A:Xa(void 0===A?64:+A);G.type=function(H){return arguments.length?(k="function"===typeof H?H:Xa(H),G):k};G.size=function(H){return arguments.length?(A="function"===
typeof H?H:Xa(+H),G):A};G.context=function(H){return arguments.length?(E=null==H?null:H,G):E};return G};e.symbolCircle=dj;e.symbolCross=dp;e.symbolDiamond=fp;e.symbolSquare=ip;e.symbolStar=hp;e.symbolTriangle=jp;e.symbolWye=kp;e.symbols=px;e.text=qf;e.thresholdFreedmanDiaconis=function(k,A,G){return Math.ceil((G-A)/(2*(ae(k,.75)-ae(k,.25))*Math.pow(N(k),-1/3)))};e.thresholdScott=function(k,A,G){return Math.ceil((G-A)/(3.5*ma(k)*Math.pow(N(k),-1/3)))};e.thresholdSturges=Ig;e.tickFormat=xm;e.tickIncrement=
Ob;e.tickStep=Eb;e.ticks=Zb;e.timeDay=Pd;e.timeDays=Xv;e.timeFormatDefaultLocale=en;e.timeFormatLocale=Qm;e.timeFriday=oo;e.timeFridays=bw;e.timeHour=wg;e.timeHours=Wv;e.timeInterval=zb;e.timeMillisecond=Nd;e.timeMilliseconds=ko;e.timeMinute=vg;e.timeMinutes=Vv;e.timeMonday=He;e.timeMondays=Yv;e.timeMonth=xg;e.timeMonths=dw;e.timeSaturday=po;e.timeSaturdays=cw;e.timeSecond=Gc;e.timeSeconds=lo;e.timeSunday=Qd;e.timeSundays=qo;e.timeThursday=jd;e.timeThursdays=aw;e.timeTickInterval=Bo;e.timeTicks=Ao;
e.timeTuesday=mo;e.timeTuesdays=Zv;e.timeWednesday=no;e.timeWednesdays=$v;e.timeWeek=Qd;e.timeWeeks=qo;e.timeYear=xc;e.timeYears=ew;e.timeout=gh;e.timer=ff;e.timerFlush=jk;e.transition=nk;e.transpose=pj;e.tree=function(){function k(ba){var da=gt(ba);da.eachAfter(A);da.parent.m=-da.z;da.eachBefore(G);if(Q)ba.eachBefore(E);else{var na=ba,ra=ba,O=ba;ba.eachBefore(function(ta){ta.x<na.x&&(na=ta);ta.x>ra.x&&(ra=ta);ta.depth>O.depth&&(O=ta)});da=na===ra?1:H(na,ra)/2;var X=da-na.x,oa=K/(ra.x+da+X),Y=T/(O.depth||
1);ba.eachBefore(function(ta){ta.x=(ta.x+X)*oa;ta.y=ta.depth*Y})}return ba}function A(ba){var da=ba.children,na=ba.parent.children,ra=ba.i?na[ba.i-1]:null;if(da){for(var O=0,X=0,oa=ba.children,Y=oa.length,ta;0<=--Y;)ta=oa[Y],ta.z+=O,ta.m+=O,O+=ta.s+(X+=ta.c);da=(da[0].z+da[da.length-1].z)/2;ra?(ba.z=ra.z+H(ba._,ra._),ba.m=ba.z-da):ba.z=da}else ra&&(ba.z=ra.z+H(ba._,ra._));da=ba.parent;na=ba.parent.A||na[0];if(ra){X=O=ba;oa=O.parent.children[0];Y=O.m;ta=X.m;for(var ha=ra.m,wa=oa.m,xa;ra=ri(ra),O=qi(O),
ra&&O;){oa=qi(oa);X=ri(X);X.a=ba;xa=ra.z+ha-O.z-Y+H(ra._,O._);if(0<xa){var ka=ra.a.parent===ba.parent?ra.a:na,Ca=ba,Ka=xa,Sa=Ka/(Ca.i-ka.i);Ca.c-=Sa;Ca.s+=Ka;ka.c+=Sa;Ca.z+=Ka;Ca.m+=Ka;Y+=xa;ta+=xa}ha+=ra.m;Y+=O.m;wa+=oa.m;ta+=X.m}ra&&!ri(X)&&(X.t=ra,X.m+=ha-ta);O&&!qi(oa)&&(oa.t=O,oa.m+=Y-wa,na=ba)}da.A=na}function G(ba){ba._.x=ba.z+ba.parent.m;ba.m+=ba.parent.m}function E(ba){ba.x*=K;ba.y=ba.depth*T}var H=ft,K=1,T=1,Q=null;k.separation=function(ba){return arguments.length?(H=ba,k):H};k.size=function(ba){return arguments.length?
(Q=!1,K=+ba[0],T=+ba[1],k):Q?null:[K,T]};k.nodeSize=function(ba){return arguments.length?(Q=!0,K=+ba[0],T=+ba[1],k):Q?[K,T]:null};return k};e.treemap=function(){function k(O){O.x0=O.y0=0;O.x1=H;O.y1=K;O.eachBefore(A);T=[0];E&&O.eachBefore(sm);return O}function A(O){var X=T[O.depth],oa=O.x0+X,Y=O.y0+X,ta=O.x1-X,ha=O.y1-X;ta<oa&&(oa=ta=(oa+ta)/2);ha<Y&&(Y=ha=(Y+ha)/2);O.x0=oa;O.y0=Y;O.x1=ta;O.y1=ha;O.children&&(X=T[O.depth+1]=Q(O)/2,oa+=ra(O)-X,Y+=ba(O)-X,ta-=da(O)-X,ha-=na(O)-X,ta<oa&&(oa=ta=(oa+ta)/
2),ha<Y&&(Y=ha=(Y+ha)/2),G(O,oa,Y,ta,ha))}var G=eo,E=!1,H=1,K=1,T=[0],Q=gd,ba=gd,da=gd,na=gd,ra=gd;k.round=function(O){return arguments.length?(E=!!O,k):E};k.size=function(O){return arguments.length?(H=+O[0],K=+O[1],k):[H,K]};k.tile=function(O){return arguments.length?(G=Yf(O),k):G};k.padding=function(O){return arguments.length?k.paddingInner(O).paddingOuter(O):k.paddingInner()};k.paddingInner=function(O){return arguments.length?(Q="function"===typeof O?O:Ld(+O),k):Q};k.paddingOuter=function(O){return arguments.length?
k.paddingTop(O).paddingRight(O).paddingBottom(O).paddingLeft(O):k.paddingTop()};k.paddingTop=function(O){return arguments.length?(ba="function"===typeof O?O:Ld(+O),k):ba};k.paddingRight=function(O){return arguments.length?(da="function"===typeof O?O:Ld(+O),k):da};k.paddingBottom=function(O){return arguments.length?(na="function"===typeof O?O:Ld(+O),k):na};k.paddingLeft=function(O){return arguments.length?(ra="function"===typeof O?O:Ld(+O),k):ra};return k};e.treemapBinary=function(k,A,G,E,H){function K(ra,
O,X,oa,Y,ta,ha){if(ra>=O-1)ra=T[ra],ra.x0=oa,ra.y0=Y,ra.x1=ta,ra.y1=ha;else{for(var wa=na[ra],xa=X/2+wa,ka=ra+1,Ca=O-1;ka<Ca;){var Ka=ka+Ca>>>1;na[Ka]<xa?ka=Ka+1:Ca=Ka}xa-na[ka-1]<na[ka]-xa&&ra+1<ka&&--ka;wa=na[ka]-wa;xa=X-wa;ta-oa>ha-Y?(X=X?(oa*xa+ta*wa)/X:ta,K(ra,ka,wa,oa,Y,X,ha),K(ka,O,xa,X,Y,ta,ha)):(X=X?(Y*xa+ha*wa)/X:ha,K(ra,ka,wa,oa,Y,ta,X),K(ka,O,xa,oa,X,ta,ha))}}var T=k.children,Q,ba=T.length,da,na=Array(ba+1);for(na[0]=da=Q=0;Q<ba;++Q)na[Q+1]=da+=T[Q].value;K(0,ba,k.value,A,G,E,H)};e.treemapDice=
De;e.treemapResquarify=Jv;e.treemapSlice=$f;e.treemapSliceDice=function(k,A,G,E,H){(k.depth&1?$f:De)(k,A,G,E,H)};e.treemapSquarify=eo;e.tsv=Dv;e.tsvFormat=wv;e.tsvFormatBody=xv;e.tsvFormatRow=zv;e.tsvFormatRows=yv;e.tsvFormatValue=Av;e.tsvParse=Zn;e.tsvParseRows=vv;e.union=function(k){for(var A=[],G=0;G<arguments.length;++G)A[G-0]=arguments[G];G=new Set;A=$jscomp.makeIterator(A);for(var E=A.next();!E.done;E=A.next()){E=$jscomp.makeIterator(E.value);for(var H=E.next();!H.done;H=E.next())G.add(H.value)}return G};
e.utcDay=Od;e.utcDays=hw;e.utcFriday=to;e.utcFridays=mw;e.utcHour=zg;e.utcHours=gw;e.utcMillisecond=Nd;e.utcMilliseconds=ko;e.utcMinute=yg;e.utcMinutes=fw;e.utcMonday=Ge;e.utcMondays=iw;e.utcMonth=Ag;e.utcMonths=ow;e.utcSaturday=uo;e.utcSaturdays=nw;e.utcSecond=Gc;e.utcSeconds=lo;e.utcSunday=Rd;e.utcSundays=vo;e.utcThursday=kd;e.utcThursdays=lw;e.utcTickInterval=yo;e.utcTicks=xo;e.utcTuesday=ro;e.utcTuesdays=jw;e.utcWednesday=so;e.utcWednesdays=kw;e.utcWeek=Rd;e.utcWeeks=vo;e.utcYear=yc;e.utcYears=
pw;e.variance=Z;e.version="6.7.0";e.window=Qg;e.xml=Ev;e.zip=function(){return pj(arguments)};e.zoom=function(){function k(sa){sa.property("__zoom",Ln).on("wheel.zoom",Q).on("mousedown.zoom",ba).on("dblclick.zoom",da).filter(ha).on("touchstart.zoom",na).on("touchmove.zoom",ra).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(sa,Pa){Pa=Math.max(wa[0],Math.min(wa[1],Pa));return Pa===sa.k?sa:new Hc(Pa,sa.x,sa.y)}function G(sa,Pa,ya){var Ia=Pa[0]-
ya[0]*sa.k;Pa=Pa[1]-ya[1]*sa.k;return Ia===sa.x&&Pa===sa.y?sa:new Hc(sa.k,Ia,Pa)}function E(sa){return[(+sa[0][0]+ +sa[1][0])/2,(+sa[0][1]+ +sa[1][1])/2]}function H(sa,Pa,ya,Ia){sa.on("start.zoom",function(){K(this,arguments).event(Ia).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(Ia).end()}).tween("zoom",function(){var Fa=arguments,Ya=K(this,Fa).event(Ia),Va=oa.apply(this,Fa),gb=null==ya?E(Va):"function"===typeof ya?ya.apply(this,Fa):ya,wb=Math.max(Va[1][0]-Va[0][0],Va[1][1]-
Va[0][1]);Va=this.__zoom;var tb="function"===typeof Pa?Pa.apply(this,Fa):Pa,Eg=Ca(Va.invert(gb).concat(wb/Va.k),tb.invert(gb).concat(wb/tb.k));return function(ic){if(1===ic)ic=tb;else{ic=Eg(ic);var gj=wb/ic[2];ic=new Hc(gj,gb[0]-ic[0]*gj,gb[1]-ic[1]*gj)}Ya.zoom(null,ic)}})}function K(sa,Pa,ya){return!ya&&sa.__zooming||new T(sa,Pa)}function T(sa,Pa){this.that=sa;this.args=Pa;this.active=0;this.sourceEvent=null;this.extent=oa.apply(sa,Pa);this.taps=0}function Q(sa,Pa){for(var ya=[],Ia=1;Ia<arguments.length;++Ia)ya[Ia-
1]=arguments[Ia];if(X.apply(this,arguments)){var Fa=K(this,ya).event(sa);ya=this.__zoom;Ia=Math.max(wa[0],Math.min(wa[1],ya.k*Math.pow(2,ta.apply(this,arguments))));var Ya=$b(sa);if(Fa.wheel){if(Fa.mouse[0][0]!==Ya[0]||Fa.mouse[0][1]!==Ya[1])Fa.mouse[1]=ya.invert(Fa.mouse[0]=Ya);clearTimeout(Fa.wheel)}else{if(ya.k===Ia)return;Fa.mouse=[Ya,ya.invert(Ya)];bd(this);Fa.start()}Me(sa);Fa.wheel=setTimeout(function(){Fa.wheel=null;Fa.end()},150);Fa.zoom("mouse",Y(G(A(ya,Ia),Fa.mouse[0],Fa.mouse[1]),Fa.extent,
xa))}}function ba(sa,Pa){for(var ya=[],Ia=1;Ia<arguments.length;++Ia)ya[Ia-1]=arguments[Ia];if(!Wa&&X.apply(this,arguments)){var Fa=K(this,ya,!0).event(sa),Ya=Ib(sa.view).on("mousemove.zoom",function(tb){Me(tb);if(!Fa.moved){var Eg=tb.clientX-gb,ic=tb.clientY-wb;Fa.moved=Eg*Eg+ic*ic>lb}Fa.event(tb).zoom("mouse",Y(G(Fa.that.__zoom,Fa.mouse[0]=$b(tb,Va),Fa.mouse[1]),Fa.extent,xa))},!0).on("mouseup.zoom",function(tb){Ya.on("mousemove.zoom mouseup.zoom",null);Xe(tb.view,Fa.moved);Me(tb);Fa.event(tb).end()},
!0);ya=$b(sa,Va);var Va=sa.currentTarget,gb=sa.clientX,wb=sa.clientY;We(sa.view);sa.stopImmediatePropagation();Fa.mouse=[ya,this.__zoom.invert(ya)];bd(this);Fa.start()}}function da(sa,Pa){for(var ya=[],Ia=1;Ia<arguments.length;++Ia)ya[Ia-1]=arguments[Ia];if(X.apply(this,arguments)){var Fa=this.__zoom;Ia=$b(sa.changedTouches?sa.changedTouches[0]:sa,this);var Ya=Fa.invert(Ia);ya=Y(G(A(Fa,Fa.k*(sa.shiftKey?.5:2)),Ia,Ya),oa.apply(this,ya),xa);Me(sa);0<ka?Ib(this).transition().duration(ka).call(H,ya,Ia,
sa):Ib(this).call(k.transform,ya,Ia,sa)}}function na(sa,Pa){for(var ya=[],Ia=1;Ia<arguments.length;++Ia)ya[Ia-1]=arguments[Ia];if(X.apply(this,arguments)){Ia=sa.touches;var Fa=Ia.length;ya=K(this,ya,sa.changedTouches.length===Fa).event(sa);var Ya;sa.stopImmediatePropagation();for(Ya=0;Ya<Fa;++Ya){var Va=Ia[Ya];var gb=$b(Va,this);gb=[gb,this.__zoom.invert(gb),Va.identifier];if(ya.touch0)ya.touch1||ya.touch0[2]===gb[2]||(ya.touch1=gb,ya.taps=0);else{ya.touch0=gb;var wb=!0;ya.taps=1+!!Sa}}Sa&&(Sa=clearTimeout(Sa));
wb&&(2>ya.taps&&($a=gb[0],Sa=setTimeout(function(){Sa=null},500)),bd(this),ya.start())}}function ra(sa,Pa){for(var ya=[],Ia=1;Ia<arguments.length;++Ia)ya[Ia-1]=arguments[Ia];if(this.__zooming){ya=K(this,ya).event(sa);var Fa=sa.changedTouches,Ya=Fa.length,Va;Me(sa);for(Va=0;Va<Ya;++Va){Ia=Fa[Va];var gb=$b(Ia,this);ya.touch0&&ya.touch0[2]===Ia.identifier?ya.touch0[0]=gb:ya.touch1&&ya.touch1[2]===Ia.identifier&&(ya.touch1[0]=gb)}Ia=ya.that.__zoom;if(ya.touch1){gb=ya.touch0[0];Fa=ya.touch0[1];Va=ya.touch1[0];
Ya=ya.touch1[1];var wb=(wb=Va[0]-gb[0])*wb+(wb=Va[1]-gb[1])*wb;var tb=(tb=Ya[0]-Fa[0])*tb+(tb=Ya[1]-Fa[1])*tb;Ia=A(Ia,Math.sqrt(wb/tb));gb=[(gb[0]+Va[0])/2,(gb[1]+Va[1])/2];wb=[(Fa[0]+Ya[0])/2,(Fa[1]+Ya[1])/2]}else if(ya.touch0)gb=ya.touch0[0],wb=ya.touch0[1];else return;ya.zoom("touch",Y(G(Ia,gb,wb),ya.extent,xa))}}function O(sa,Pa){for(var ya=[],Ia=1;Ia<arguments.length;++Ia)ya[Ia-1]=arguments[Ia];if(this.__zooming){ya=K(this,ya).event(sa);Ia=sa.changedTouches;var Fa=Ia.length,Ya;sa.stopImmediatePropagation();
Wa&&clearTimeout(Wa);Wa=setTimeout(function(){Wa=null},500);for(Ya=0;Ya<Fa;++Ya){var Va=Ia[Ya];ya.touch0&&ya.touch0[2]===Va.identifier?delete ya.touch0:ya.touch1&&ya.touch1[2]===Va.identifier&&delete ya.touch1}ya.touch1&&!ya.touch0&&(ya.touch0=ya.touch1,delete ya.touch1);ya.touch0?ya.touch0[1]=this.__zoom.invert(ya.touch0[0]):(ya.end(),2===ya.taps&&(Va=$b(Va,this),Math.hypot($a[0]-Va[0],$a[1]-Va[1])<ob&&(Va=Ib(this).on("dblclick.zoom"))&&Va.apply(this,arguments)))}}var X=Qu,oa=Ru,Y=Uu,ta=Su,ha=Tu,
wa=[0,Infinity],xa=[[-Infinity,-Infinity],[Infinity,Infinity]],ka=250,Ca=Qn,Ka=Xc("start","zoom","end"),Sa,$a,Wa,lb=0,ob=10;k.transform=function(sa,Pa,ya,Ia){var Fa=sa.selection?sa.selection():sa;Fa.property("__zoom",Ln);sa!==Fa?H(sa,Pa,ya,Ia):Fa.interrupt().each(function(){K(this,arguments).event(Ia).start().zoom(null,"function"===typeof Pa?Pa.apply(this,arguments):Pa).end()})};k.scaleBy=function(sa,Pa,ya,Ia){k.scaleTo(sa,function(){var Fa=this.__zoom.k,Ya="function"===typeof Pa?Pa.apply(this,arguments):
Pa;return Fa*Ya},ya,Ia)};k.scaleTo=function(sa,Pa,ya,Ia){k.transform(sa,function(){var Fa=oa.apply(this,arguments),Ya=this.__zoom,Va=null==ya?E(Fa):"function"===typeof ya?ya.apply(this,arguments):ya,gb=Ya.invert(Va),wb="function"===typeof Pa?Pa.apply(this,arguments):Pa;return Y(G(A(Ya,wb),Va,gb),Fa,xa)},ya,Ia)};k.translateBy=function(sa,Pa,ya,Ia){k.transform(sa,function(){return Y(this.__zoom.translate("function"===typeof Pa?Pa.apply(this,arguments):Pa,"function"===typeof ya?ya.apply(this,arguments):
ya),oa.apply(this,arguments),xa)},null,Ia)};k.translateTo=function(sa,Pa,ya,Ia,Fa){k.transform(sa,function(){var Ya=oa.apply(this,arguments),Va=this.__zoom,gb=null==Ia?E(Ya):"function"===typeof Ia?Ia.apply(this,arguments):Ia;return Y(ng.translate(gb[0],gb[1]).scale(Va.k).translate("function"===typeof Pa?-Pa.apply(this,arguments):-Pa,"function"===typeof ya?-ya.apply(this,arguments):-ya),Ya,xa)},Ia,Fa)};T.prototype={event:function(sa){sa&&(this.sourceEvent=sa);return this},start:function(){1===++this.active&&
(this.that.__zooming=this,this.emit("start"));return this},zoom:function(sa,Pa){this.mouse&&"mouse"!==sa&&(this.mouse[1]=Pa.invert(this.mouse[0]));this.touch0&&"touch"!==sa&&(this.touch0[1]=Pa.invert(this.touch0[0]));this.touch1&&"touch"!==sa&&(this.touch1[1]=Pa.invert(this.touch1[0]));this.that.__zoom=Pa;this.emit("zoom");return this},end:function(){0===--this.active&&(delete this.that.__zooming,this.emit("end"));return this},emit:function(sa){var Pa=Ib(this.that).datum();Ka.call(sa,this.that,new Pu(sa,
{sourceEvent:this.sourceEvent,target:k,type:sa,transform:this.that.__zoom,dispatch:Ka}),Pa)}};k.wheelDelta=function(sa){return arguments.length?(ta="function"===typeof sa?sa:Dg(+sa),k):ta};k.filter=function(sa){return arguments.length?(X="function"===typeof sa?sa:Dg(!!sa),k):X};k.touchable=function(sa){return arguments.length?(ha="function"===typeof sa?sa:Dg(!!sa),k):ha};k.extent=function(sa){return arguments.length?(oa="function"===typeof sa?sa:Dg([[+sa[0][0],+sa[0][1]],[+sa[1][0],+sa[1][1]]]),k):
oa};k.scaleExtent=function(sa){return arguments.length?(wa[0]=+sa[0],wa[1]=+sa[1],k):[wa[0],wa[1]]};k.translateExtent=function(sa){return arguments.length?(xa[0][0]=+sa[0][0],xa[1][0]=+sa[1][0],xa[0][1]=+sa[0][1],xa[1][1]=+sa[1][1],k):[[xa[0][0],xa[0][1]],[xa[1][0],xa[1][1]]]};k.constrain=function(sa){return arguments.length?(Y=sa,k):Y};k.duration=function(sa){return arguments.length?(ka=+sa,k):ka};k.interpolate=function(sa){return arguments.length?(Ca=sa,k):Ca};k.on=function(){var sa=Ka.on.apply(Ka,
arguments);return sa===Ka?k:sa};k.clickDistance=function(sa){return arguments.length?(lb=(sa=+sa)*sa,k):Math.sqrt(lb)};k.tapDistance=function(sa){return arguments.length?(ob=+sa,k):ob};return k};e.zoomIdentity=ng;e.zoomTransform=Kn;Object.defineProperty(e,"__esModule",{value:!0})});var WMSVersion={version100:"1.0.0",version111:"1.1.1",version130:"1.3.0"},htmlTab="",tddjs=function(e,p){var z=!0,F=[],I=F.set=!1,ja=null,N=function(V){ca="";I&&(ja.close(),I=!1);document.getElementById("info").innerHTML=ca;if(0!=z){F.x=V.x;F.y=V.y;F.set=!0;var aa=p.getLatLongFromPixelCoord({x:V.x,y:V.y});V=p.getLayers();if(isDefined(V)){info=p.getLayers().getFeatureInfoUrl;var ca="";0==p.layers.length&&(ca="No layer: Load a valid sounding layer.",document.getElementById("info").innerHTML=ca);V=[];
for(var ea=0;ea<p.layers.length;ea++)p.layers[p.layers.length-ea-1].service.includes("TEMP")&&V.push(p.layers[p.layers.length-ea-1]);0==V.length&&(ca="No Sounding Layer: Load a valid sounding layer.",document.getElementById("info").innerHTML=ca);ea=null;for(var Z in V)console.log(Z,V.length),ea=V[Z],null!=ea&&""!==ea.getFeatureInfoUrl?!1===ea.queryable?p.featureInfoRequestReady("Layer is not queryable.",ea):(ca='<img src="./img/ajax-loader.gif" alt="Loading..."/>',document.getElementById("info").innerHTML=
ca,getJSONdata(ea,p,F.x,F.y,"text/plain",function(ma){null!=ma?(null!=ma.data?(ja=window.open("sondTemp.html","Sondeo",'itemId="sond",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=1040,height=600'),ja.myvar=ma,I=!0,ca="Profile for location ["+Math.round(100*aa.x)/100+","+Math.round(100*aa.y)/100+"]",ca+=" - Station:"+ma.meta.name+"<br/>",document.getElementById("info").innerHTML="",document.getElementById("info").innerHTML=ca,document.getElementById("table").innerHTML=
""):(ca="Profile for location ["+Math.round(100*aa.x)/100+","+Math.round(100*aa.y)/100+"]",ca+=" - Station:"+ma.meta.name+"<br/>",document.getElementById("info").innerHTML="",document.getElementById("info").innerHTML=ca,document.getElementById("table").innerHTML="",htmlTab+="</TABLE>"),document.getElementById("table").innerHTML=htmlTab):(ca="No valid data",document.getElementById("info").innerHTML=ca)})):(ca="Wrong layer: Load a valid sounding layer.",document.getElementById("info").innerHTML=ca)}else $("#info").html("No valid data received:<br/>"+
data)}};p.addListener("mouseclicked",N,!0);this.enable=function(){e.html('<div id="info"></div><div id="table"></div>');$("#info").html("Click on the map to load a profile.");p.enableInlineGetFeatureInfo(!1);z=!0};this.disable=function(){z=!1;p.enableInlineGetFeatureInfo(!0);F.set=!1;I&&(ja.close(),I=!1)};this.resize=function(V,aa){$("#mitdd").width(V);F.set&&N(F)};this.enable()};try{WMJSExtApplications.Sondeo=tddjs}catch(e){}
function createXHR(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return!1}
function MakeHTTPRequest(e,p,z,F){function I(V){errorfunction?errorfunction(V,pointer):p(void 0,pointer)}function ja(){!1===z?(e=F+"REQUEST="+URLEncode(e),MakeHTTPRequest(e,p,errorfunction,pointer,!0,F)):I("status("+N.status+") to "+e)}e=-1===e.indexOf("?")?e+"?":e+"&";e+="rand="+Math.random();z||(z=!1);try{var N=createXHR();N.open("GET",e,!0);N.onreadystatechange=function(){if(4===N.readyState)if(200===N.status){try{var V=N.responseText}catch(aa){I("Exception occured:"+aa);return}void 0===V||""===
V?I("request returned no data"):p(null,N.response)}else window.alert("ALLI"),ja()};N.send(null)}catch(V){window.alert("AQUI"),ja()}}
function getJSONdata(e,p,z,F,I,ja){document.getElementById("info").innerHTML="Procesando<br>";document.getElementById("table").innerHTML="";var N=WMJScheckURL(e.service);N+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+e.version;N+="&LAYERS="+URLEncode(e.name);e.name.split(",");I=N;N+="&QUERY_LAYERS=p,z,t,td,windSpd,windDir,eVSS&INFO_FORMAT=application/json";I+="&QUERY_LAYERS=station_name,ps,alt,station_cname&INFO_FORMAT=application/json";var V="&"+getBBOXandProjString(e,p);V+="WIDTH="+p.width;V+=
"&HEIGHT="+p.height;if(e.version===WMSVersion.version100||e.version===WMSVersion.version111)V=V+("&X="+z)+("&Y="+F);e.version===WMSVersion.version130&&(V=V+("&I="+z)+("&J="+F));V+="&FORMAT=image/gif&STYLES=";try{V+="&"+p._getMapDimURL(e),N+=V,I+=V}catch(ca){callback(null,void 0)}debug('<a target="_blank" href="'+N+'">'+N+"</a>",!1);var aa=e.service+"&SERVICE=WMS&REQUEST=GetMetaData&VERSION="+e.version;aa+="&LAYERS="+URLEncode(e.name);aa+="&LAYER=station_name";aa+="&FORMAT=application/json";console.log("META",
I);console.log("DATA",aa);getMeta(I,function(ca){null!=ca?getData(aa,ca,N,function(ea){ja({meta:ca,data:ea})}):ja(null)})}function WMJScheckURL(e){if(!isDefined(e))return"?";e=e.trim();-1===e.indexOf("?")&&(e+="?");return e}function isDefined(e){return"undefined"===typeof e?!1:!0}
function URLEncode(e){if(!e||void 0===e||""===e||"string"!==typeof e)return e;e=e.replace(/%/g,"%25");e=e.replace(/\+/g,"%2B");e=e.replace(/ /g,"%20");e=e.replace(/\^/g,"%5E");e=e.replace(/&/g,"%26");e=e.replace(/\?/g,"%3F");e=e.replace(/>/g,"%3E");e=e.replace(/</g,"%3C");e=e.replace(/\\/g,"%5C");for(var p="",z=0;z<e.length;z++){var F=e.charAt(z);if(" "===F)p+="%20";else if(-1!=="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz%-_.!~*'()".indexOf(F))p+=F;else{var I=F.charCodeAt(0);255<
I?(alert("Unicode Character '"+F+"' cannot be encoded using standard URL encoding.\n(URL encoding only supports 8-bit characters.)\nA space (+) will be substituted."),p+="+"):(p+="%",p+="0123456789ABCDEF".charAt(I>>4&15),p+="0123456789ABCDEF".charAt(I&15))}}return p}
function getBBOXandProjString(e,p){var z="";if(e.version===WMSVersion.version100||e.version===WMSVersion.version111)z+="SRS="+URLEncode(p.srs)+"&",z+="BBOX="+p.bbox.left+","+p.bbox.bottom+","+p.bbox.right+","+p.bbox.top+"&";e.version===WMSVersion.version130&&(z+="CRS="+URLEncode(p.srs)+"&",z="EPSG:4326"===p.srs&&!1===e.wms130bboxcompatibilitymode?z+("BBOX="+p.bbox.bottom+","+p.bbox.left+","+p.bbox.top+","+p.bbox.right+"&"):z+("BBOX="+p.bbox.left+","+p.bbox.bottom+","+p.bbox.right+","+p.bbox.top+"&"));
return z}function getLevels(e,p,z){MakeHTTPRequest(e,function(F,I){null!=F?console.error(F):(F=I.indexOf("lev"),I=I.slice(F),F=I.indexOf(";"),I=I.slice(0,F),I=I.split("="),I=parseInt(I[1])-1,z(I))})}
function getMeta(e,p){MakeHTTPRequest(e,function(z,F){if(null!=z)console.error(z);else{z=[];try{var I=JSON.parse(F),ja=I[0].point.coords;ja=ja.split(",");var N=parseFloat(ja[0]),V=parseFloat(ja[1]),aa=Object.keys(I[1].data),ca=aa.toString();ca=ca.split("T");var ea=ca[0].replaceAll("-","");ea=parseInt(ea);var Z=parseInt(ca[1].substring(0,2)),ma=I[1].data[aa];if("nodata"!=ma){ma+=" "+I[5].data[aa];aa=Object.keys(I[2].data);var za=I[2].data[aa];za/=100;aa=Object.keys(I[3].data);var va=I[3].data[aa];
va=parseFloat(va);isNaN(va)&&(va=0);z={model:"OBSERVACION",index:ma,date:ea,run:Z,step:0,lon:N,lat:V,ps:za,zs:va,name:ma};p(z)}else p(null)}catch(ua){p(null)}}})}
function getData(e,p,z,F){var I="&DIM_lev=";z.includes("files")&&(I="&elevation=");htmlTab="<TABLE BORDER>";htmlTab+="<TR> <TD>Nivel</TD> <TD>P</TD> <TD>Z</TD> <TD>T</TD> <TD>TD</TD> <TD>WD</TD> <TD>WS</TD> </TR>";getLevels(e,p,function(ja){null==ja&&(window.errorMessage("No hay niveles!"),F(null));var N=parseInt(ja),V=Math.floor(N/100);N%=100;for(var aa=0,ca=0,ea=[],Z=0;Z<V;Z++)ca=aa+99,ea.push(z+I+aa+"/"+ca),aa=ca+1;ea.push(z+I+aa+"/"+(aa+N));ea=ea.reverse();var ma=[];getDataN(ea,ja,p,ma,function(za){null==
za&&(window.errorMessage("No hay niveles!"),F(null));if(0==ma.length)window.alert("El sondeo no tiene datos validos para este diagrama"),F(null);else{za=parseFloat(ma[ma.length-1].p);var va=parseFloat(ma[0].p);850>=va?(window.alert("El primer nivel esta demasiado alto! - P0: "+va+"hpa\n\n El primer nivel debe ser mayor de 850hPa"),F(null)):300<za?(window.alert("Ultimo nivel demasiado bajo! - Pn: "+za+"hpa\n\n El ultimo nivel debe ser menor de 300hPa"),F(null)):(htmlTab+="</TABLE>",F(ma))}})})}
function getDataN(e,p,z,F,I){if(0!=e.length){var ja=e.pop(),N=ja.indexOf("lev");N=ja.slice(N);var V=N.indexOf("=")+1,aa=N.indexOf("/"),ca=N.slice(V,aa);document.getElementById("info").innerHTML+="Procesando niviles "+ca+" a "+(parseInt(ca)+99)+" de "+p+"<br>";MakeHTTPRequest(ja,function(ea,Z){if(null!=ea)console.error(ea);else if(!Z.includes("ServiceException")){ea=z.zs;var ma=z.ps,za=100;150>ma&&(za=100);console.log("PRESION SF",ma);var va=JSON.parse(Z);Object.keys(va[0].data);Z=va[0].data;ma=va[1].data;
var ua=va[2].data,Ba=va[3].data,Na=va[4].data,La=va[5].data;va=va[6].data;var Oa=parseInt(ca);isDefined(Z[Oa])||(Oa+=1);Oa=Object.keys(Z[Oa]);var hb=F.length,cb;for(cb in Z){var eb=Z[cb],mb=ma[cb],rb=ua[cb],Db=Ba[cb],Zb=Na[cb],Ob=La[cb],Eb=va[cb];Eb=Eb[Oa];parseFloat(Eb);eb=eb[Oa];eb=parseFloat(eb);eb/=za;999999999<eb||0>eb||(mb=parseFloat(mb[Oa]),mb<ea||(rb=parseFloat(rb[Oa]),isNaN(rb)||(rb-=273.15,Db=parseFloat(Db[Oa])-273.15,isNaN(Db)||(Zb=parseFloat(Zb[Oa]),Eb=Ob=parseFloat(Ob[Oa]),0>Eb||(Ob*=
Math.PI/180,Ob%=2*Math.PI,htmlTab+="<TR><TD>"+hb+"</TD> <TD>"+eb+"</TD> <TD>"+mb+"</TD> <TD>"+rb.toFixed(2)+"</TD> <TD>"+Db.toFixed(2)+"</TD> <TD>"+Eb.toFixed(0)+"</TD> <TD>"+Zb.toFixed(2)+"</TD></TR>",eb={n:hb,p:eb,z:mb,t:rb,td:Db,wD:Ob,wS:Zb},hb+=1,F.push(eb))))))}}getDataN(e,p,z,F,I)})}else I(F)}var wsond=function(e){};var gfiapp_point_interest=function(e,p){var z=this,F=[],I=!0,ja=function(N,V){var aa=null,ca=null,ea=null;setflags=function(){aa&&ca&&ea?(lon=aa,lat=ca,name=ea,fullUrl=knmiFlagURL+"file="+pointInterestFileName+"&location="+lon+","+lat+"&name="+name,$.ajax({type:"GET",url:fullUrl,success:function(ma){"OK"===ma.status?(ma=Ext.getCmp("webmapjs_add_point_interest"),ma.getEl().dom.style.background="#BCED91",p.getImageStore().clear(),p.draw("draw")):(ma=Ext.getCmp("webmapjs_add_point_interest"),ma.getEl().dom.style.background=
"#FF4040")},dataType:"jsonp",contentType:"application/jsonp",jsonpCallback:"resultSetFlag",crossDomain:!0})):(ea||$("#webmapjs_point_interest_name").css("border","2px solid red"),aa||$("#webmapjs_point_interest_lon").css("border","2px solid red"),ca||$("#webmapjs_point_interest_lat").css("border","2px solid red"))};delete_flag=function(){Ext.MessageBox.show({title:I18n.delete_title_confirm.text,msg:I18n.are_you_sure.text,buttons:Ext.MessageBox.YESNO,icon:Ext.MessageBox.WARNING,fn:function(ma){"yes"==
ma&&(name=$(".webmapjs_label_selected_point_interest").text(),fullUrl=knmiFlagURL+"file="+pointInterestFileName+"&name="+name,$.ajax({type:"GET",url:fullUrl,success:function(za){Ext.getCmp("webmapjs_delete_point_interest").getEl().dom.style.background="#BCED91";p.getImageStore().clear();p.draw()},dataType:"jsonp",contentType:"application/jsonp",jsonpCallback:"resultSetFlag",crossDomain:!0}))}})};e.html("<label class='webmapjs_label_point_interest' for='webmapjs_div_point_interest'>"+I18n.add_point_interest_abstract.text+
"</label><div id='webmapjs_div_point_interest' class='webmapjs_div_point_interest'><input type='number' step='0.01' id='webmapjs_point_interest_lat' class='webmapjs_input_point_interest' placeholder='Lat:'/><input type='number' step='0.01' id='webmapjs_point_interest_lon' class='webmapjs_input_point_interest' placeholder='Lon:'/><input type='text' id='webmapjs_point_interest_name' class='webmapjs_input_point_interest' placeholder='"+I18n.insert_name.text+"' /></div><div class='webmapjs_point_added'></div><div class='webmapjs_point_not_added'></div><label class='webmapjs_label_selected_point_interest_abstract' for='webmapjs_div_selected_point_interest'>"+
I18n.selected_flag.text+"</label><div id='webmapjs_div_selected_point_interest' class='webmapjs_div_selected_point_interest'><label class='webmapjs_label_selected_point_interest'>"+I18n.default_selected_flag.text+"</label></div>");Ext.create("Ext.Button",{text:I18n.add_point_interest.text,id:"webmapjs_add_point_interest",tooltip:I18n.add_flag_tooltip.tooltip,renderTo:"webmapjs_div_point_interest",handler:function(){setflags()}});Ext.create("Ext.Button",{text:I18n.delete.text,id:"webmapjs_delete_point_interest",
tooltip:I18n.delete_selected_flag_tooltip.tooltip,renderTo:"webmapjs_div_selected_point_interest",cls:"webmapjs_button_delete_point_interest",handler:function(){delete_flag()}});$("#webmapjs_point_interest_name, #webmapjs_point_interest_lon, #webmapjs_point_interest_lat").keypress(function(ma){if(13==ma.which)return setflags(),!1});var Z=function(){var ma=e.find(".gfiapp_point_interest");ma.empty();for(var za=p.getLayers(),va=0;va<za.length;va++){var ua=za[va],Ba=jQuery("<div />",{css:{margin:8}});
ma.append(Ba);Ba.html("LAYER "+ua.service)}z.resize(N,V)};Z();p.addListener("onlayeradd",Z,!0);p.addListener("mouseclicked",function(ma){if(0!=I){var za=p.getLatLongFromPixelCoord({x:ma.x,y:ma.y});aa=za.x;ca=za.y;$("#webmapjs_point_interest_lon").val(za.x.toFixed(5));$("#webmapjs_point_interest_lat").val(za.y.toFixed(5));$("#webmapjs_point_interest_lon, #webmapjs_point_interest_lat").css("border","1px solid grey");za=p.getLayers();ma=p.getWMSGetFeatureInfoRequestURL(za[0],ma.x,ma.y).replace("&INFO_FORMAT=text/html",
"&INFO_FORMAT=application/json")+"&JSONP=featureInfoCallback";$.ajax({dataType:"jsonp",jsonpCallback:"featureInfoCallback",type:"GET",cache:!1,url:ma,success:function(va){va[1]&&"nodata"!==va[1].data?($(".webmapjs_label_selected_point_interest").text(va[1].data),$(".webmapjs_button_delete_point_interest").css("display","inline")):($(".webmapjs_label_selected_point_interest").text(I18n.default_selected_flag.text),$(".webmapjs_button_delete_point_interest").css("display","none"))},error:function(va,
ua,Ba){debug(ua+", "+Ba)}})}},!0);$("#webmapjs_point_interest_name").on("input",function(ma){onChangeEvents("name",ma)});$("#webmapjs_point_interest_lon").on("input",function(ma){onChangeEvents("lon",ma);changeMapPin()});$("#webmapjs_point_interest_lat").on("input",function(ma){onChangeEvents("lat",ma);changeMapPin()});this.onChangeEvents=function(ma,za){var va=Ext.getCmp("webmapjs_add_point_interest");va.getEl().dom.style.background="";va=Ext.getCmp("webmapjs_delete_point_interest");va.getEl().dom.style.background=
"";switch(ma){case "name":ea=za.target.value;break;case "lon":aa=za.target.value;break;case "lat":ca=za.target.value}$("#webmapjs_point_interest_"+ma).css("border","1px solid grey")};this.changeMapPin=function(){p.positionMapPinByLatLon({x:aa,y:ca})};p.enableInlineGetFeatureInfo(!1)};this.enable=function(N,V){ja(N,V);I=!0};this.disable=function(){I=!1;p.enableInlineGetFeatureInfo(!0)};this.resize=function(N,V){for(var aa=0;aa<F.length;aa++)F[aa].setSize(N,V/F.length);for(aa=0;aa<F.length;aa++);};
z.enable()};WMJSExtApplications["Points of interest"]=gfiapp_point_interest;var gfiapp_eprofile=function(e,p){var z=this,F=[],I=function(ja,N){e.html('<div id="info"></div><div class="gfiapp_eprofile">bla</div>');var V=function(ea,Z){Z=Z.id;for(var ma=0;ma<F.length;ma++){var za=F[ma].getWebMapJS();za.suspendEvent("onupdatebbox");ma!=Z&&0==ea.equals(F[ma].getWebMapJS().getProjection().bbox)&&(za.zoomTo(ea),F[ma].updateBBOX(ea));za.resumeEvent("onupdatebbox")}},aa=function(ea,Z){ea=Z.id;for(Z=0;Z<F.length;Z++){var ma=F[Z].getWebMapJS();ma.suspendEvent("onupdatebbox");ma.suspendEvent("onloadingcomplete");
Z!=ea&&ma.draw();ma.resumeEvent("onloadingcomplete");ma.resumeEvent("onupdatebbox")}},ca=function(){var ea=e.find(".gfiapp_eprofile");ea.empty();for(var Z=p.getLayers(),ma=0;ma<Z.length;ma++){var za=Z[ma],va=jQuery("<div />",{css:{margin:8}});ea.append(va);F[ma]=new GFITimeElevationWindow(va);F[ma].getWebMapJS().addLayer(za);F[ma].getWebMapJS().getListener().id=ma;F[ma].getWebMapJS().addListener("onupdatebbox",V,!0);F[ma].getWebMapJS().addListener("onloadingcomplete",aa,!0)}z.resize(ja,N)};ca();p.addListener("ondimchange",
function(){var ea=F[0].getWebMapJS(),Z=ea.getProjection().bbox.clone();ea=ea.getProjection().bbox.right-ea.getProjection().bbox.left;var ma=(new Date(p.getDimension("time").currentValue)).getTime();Z.left=ma;Z.right=ma+ea;for(ea=0;ea<F.length;ea++)F[ea].getWebMapJS().zoomTo(Z)},!0);p.addListener("onlayeradd",ca,!0);console.log(F[0]);F[0].getWebMapJS().addListener("onloadingcomplete",function(){var ea=F[0].getWebMapJS().getProjection().bbox.clone();$("#info").html("Displaying dates "+p.dateToISO8601(new Date(ea.left))+
" till "+p.dateToISO8601(new Date(ea.right)))},!0);p.enableInlineGetFeatureInfo(!1)};this.enable=function(ja,N){I(ja,N)};this.disable=function(){p.enableInlineGetFeatureInfo(!0)};this.resize=function(ja,N){for(var V=0;V<F.length;V++)F[V].setSize(ja,N/F.length);for(V=0;V<F.length;V++);};z.enable()};WMJSExtApplications.EProfile=gfiapp_eprofile;var autowms_app=function(e,p){initWMJS();e.addClass("autowms_app_container");var z="https://geoservices.knmi.nl/autowms?";try{z=autowmsURL}catch(Z){}var F={},I=[],ja=function(Z){var ma=aa();e.html(ma+JSON.stringify(Z));$(".autowms_app_fileitem_return").attr("onclick","").click(function(za){I=[];ea("")});$(".autowms_app_fileitem_refresh").attr("onclick","").click(function(za){var va=$(this).attr("name");$(".autowms_app_fileitem").remove();$(".autowms_app_layeritem").remove();setTimeout(function(){ea(va)},
100)})},N=function(Z){var ma=Z.name;return Z.leaf?"<span class='autowms_app_fileitem' name='"+Z.name+"'>&#128451;&nbsp;"+ma+"</span>":"<span class='autowms_app_fileitem autowms_app_diritem' name='"+Z.name+"'>&#128448;&nbsp;"+ma+"</span>"},V=function(Z,ma){var za="<span class='autowms_app_layeritem' title='Click to add to viewer' name='"+Z.name+"'><span class='autowms_app_layeritem_text'>Layer "+Z.text+" - ("+Z.name+")</span>";return za+="<span class='autowms_app_layeritem_image'><img src=\""+(ma+
"&service=WMS&request=getmap&format=image/png&layers="+Z.name+"&width=400&CRS=EPSG:4326&STYLES=&EXCEPTIONS=INIMAGE&showlegend=true&"+Math.random())+'" /></span></span>'},aa=function(Z,ma){return"<span class='autowms_app_currentpath'>AutoWMS link: <span class='autowms_app_request_container'><input class='autowms_app_request_input' type=\"text\" value=\""+z+"\"></input>  <span class='autowms_app_request_button'>-></span></span><hr/><span class='autowms_app_currentpath'>Current folder: ./"+(ma+'</span><span class="autowms_app_fileitem_header"><span class="autowms_app_fileitem_return">&#128193;&nbsp;<b>../ (&#8679;)</b></span><span class="autowms_app_fileitem_refresh" name="')+
(ma+'">&#8635;&nbsp;<b>Refresh</b></span></span>')},ca=function(Z,ma){e.html("... working ... ");var za=WMJSGetServiceFromStore(ma,xml2jsonrequestURL);za.getLayerObjectsFlat(function(va){var ua=""+aa(Z,ma);ua+="<span class='autowms_app_serviceabstract'><b>"+za.title.replace(/!/g,"<br/>")+"</b><hr/>"+za.abstract.replace(/!/g,"<br/>");if(ma&&(ua+='<hr/>WMS: <a target="_blank" href="'+ma+'&service=WMS&request=GetCapabilities">'+ma+"</a>",1<ma.split("?").length)){var Ba=new WMJSKVP(ma.split("?")[1]),
Na=ma.split("?")[0].replace("adagucserver","adagucopendap/");Na=Na.replace(/([^:]\/)\/+/g,"$1");Ba.source&&(Na+=Ba.source);Ba.dataset&&(Na+=Ba.dataset+"/");ua=ua+('<hr/>OpenDAP: <span class=\'autowms_app_opendaplinks\'><a target="_blank" href="'+Na+'">'+Na+'</a><a target="_blank" href="')+(Na+'.das">DAS</a><a target="_blank" href="')+(Na+'.dds">DDS</a></span>')}ua+="</span>";e.html("... working ... ");F={};for(Ba=0;Ba<va.length;Ba++)ua+=V(va[Ba],ma),F[va[Ba].name]=va[Ba];e.html(ua);$(".autowms_app_layeritem").attr("onclick",
"").click(function(La){La=F[$(this).attr("name")];window.location.hash="addlayer('"+ma+"','"+La.name+"')"});$(".autowms_app_fileitem_return").attr("onclick","").click(function(La){ea(I.pop())});$(".autowms_app_fileitem_refresh").attr("onclick","").click(function(La){var Oa=$(this).attr("name");$(".autowms_app_fileitem").remove();$(".autowms_app_layeritem").remove();setTimeout(function(){ca(Z,Oa)},100)});$(".autowms_app_request_button").attr("onclick","").click(function(La){ea("")});$(".autowms_app_request_input").keyup(function(La){13==
La.keyCode&&ea("")})},function(va){va=aa();va=va+"<span class='autowms_app_error_container'><span class='autowms_app_error_container_header'>Unable to get WMS GetCapabilities</span><a target='_blank' href=\""+(ma+'service=WMS&request=GetCapabilities">'+ma+"</a>");e.html(va+"</span>");$(".autowms_app_fileitem_return").attr("onclick","").click(function(ua){I=[];ea("")})},!0)},ea=function(Z){Z&&"undefined"!==Z||(Z="");var ma=$(".autowms_app_request_input").first().val();ma&&0<ma.length&&(z=ma.trim().split("?")[0],
z.endsWith("?")||(z+="?"));var za=function(ua){if(ua.error)e.html("Error from server: "+ua.error);else{F={};I[I.length-1]!==Z&&I.push(Z);var Ba=aa(ua,Z);e.html("... working ... ");ua.result.sort(function(La,Oa){if(La.name<=Oa.name)return-1;if(La.name>Oa.name)return 1;if(La.name==Oa.name)return 0});for(var Na=0;Na<ua.result.length;Na++)Ba+=N(ua.result[Na]),F[ua.result[Na].name]=ua.result[Na];e.html(Ba);$(".autowms_app_fileitem_return").attr("onclick","").click(function(La){I.pop();ea(I[I.length-1])});
$(".autowms_app_fileitem_refresh").attr("onclick","").click(function(La){var Oa=$(this).attr("name");$(".autowms_app_fileitem").remove();$(".autowms_app_layeritem").remove();setTimeout(function(){ea(Oa)},100)});$(".autowms_app_fileitem").attr("onclick","").click(function(La){La=F[$(this).attr("name")];!1===La.leaf?ea(La.path):ca(ua,La.adaguc)});$(".autowms_app_request_button").attr("onclick","").click(function(La){ea("")});$(".autowms_app_request_input").keyup(function(La){13==La.keyCode&&ea("")})}},
va=z+"request=getfiles&path="+Z;e.html('... Reading <a href="'+va+'">'+va+"</a> ... ");try{$.ajax({contentType:"application/json",crossDomain:!0,type:"GET",url:va,success:za,error:function(ua){console.error("Request failed without jsonp, trying jsonp");za({result:[]});$.ajax({dataType:"jsonp",contentType:"application/jsonp",crossDomain:!0,type:"GET",url:va,success:za,error:function(Ba){ja("Unable to do ajax call")}})}})}catch(ua){console.error(ua),ja(ua)}};this.enable=function(){e.html("<div>Initializing...</div>");
ea("")};this.disable=function(){};this.resize=function(Z,ma){}};try{WMJSExtApplications.AutoWMS=autowms_app}catch(e){};
//# sourceMappingURL=WMJSExt.min.js.map
