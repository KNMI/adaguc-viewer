var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var l=0;return function(){return l<c.length?{done:!1,value:c[l++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,l,v){if(c==Array.prototype||c==Object.prototype)return c;c[l]=v.value;return c};$jscomp.getGlobal=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var l=0;l<c.length;++l){var v=c[l];if(v&&v.Math==Math)return v}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(c,l){var v=$jscomp.propertyToPolyfillSymbol[l];if(null==v)return c[l];v=c[v];return void 0!==v?v:c[l]};
$jscomp.polyfill=function(c,l,v,D){l&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(c,l,v,D):$jscomp.polyfillUnisolated(c,l,v,D))};$jscomp.polyfillUnisolated=function(c,l,v,D){v=$jscomp.global;c=c.split(".");for(D=0;D<c.length-1;D++){var E=c[D];if(!(E in v))return;v=v[E]}c=c[c.length-1];D=v[c];l=l(D);l!=D&&null!=l&&$jscomp.defineProperty(v,c,{configurable:!0,writable:!0,value:l})};
$jscomp.polyfillIsolated=function(c,l,v,D){var E=c.split(".");c=1===E.length;D=E[0];D=!c&&D in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var Y=0;Y<E.length-1;Y++){var H=E[Y];if(!(H in D))return;D=D[H]}E=E[E.length-1];v=$jscomp.IS_SYMBOL_NATIVE&&"es6"===v?D[E]:null;l=l(v);null!=l&&(c?$jscomp.defineProperty($jscomp.polyfills,E,{configurable:!0,writable:!0,value:l}):l!==v&&(void 0===$jscomp.propertyToPolyfillSymbol[E]&&(v=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[E]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(E):$jscomp.POLYFILL_PREFIX+v+"$"+E),$jscomp.defineProperty(D,$jscomp.propertyToPolyfillSymbol[E],{configurable:!0,writable:!0,value:l})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(c){if(c)return c;var l=function(Y,H){this.$jscomp$symbol$id_=Y;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:H})};l.prototype.toString=function(){return this.$jscomp$symbol$id_};var v="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",D=0,E=function(Y){if(this instanceof E)throw new TypeError("Symbol is not a constructor");return new l(v+(Y||"")+"_"+D++,Y)};return E},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var l="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),v=0;v<l.length;v++){var D=$jscomp.global[l[v]];"function"===typeof D&&"function"!=typeof D.prototype[c]&&$jscomp.defineProperty(D.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return c},"es6",
"es3");$jscomp.iteratorPrototype=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};$jscomp.createTemplateTagFirstArg=function(c){return c.raw=c};$jscomp.createTemplateTagFirstArgWithRaw=function(c,l){c.raw=l;return c};$jscomp.makeIterator=function(c){var l="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return l?l.call(c):$jscomp.arrayIterator(c)};$jscomp.arrayFromIterator=function(c){for(var l,v=[];!(l=c.next()).done;)v.push(l.value);return v};
$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(c){var l=function(){};l.prototype=c;return new l};
$jscomp.getConstructImplementation=function(){function c(){function v(){}new v;Reflect.construct(v,[],function(){});return new v instanceof v}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(c())return Reflect.construct;var l=Reflect.construct;return function(v,D,E){v=l(v,D);E&&Reflect.setPrototypeOf(v,E.prototype);return v}}return function(v,D,E){void 0===E&&(E=v);E=$jscomp.objectCreate(E.prototype||Object.prototype);return Function.prototype.apply.call(v,E,D)||
E}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var c={a:!0},l={};try{return l.__proto__=c,l.a}catch(v){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(c,l){c.__proto__=l;if(c.__proto__!==l)throw new TypeError(c+" is not extensible");return c}:null;
$jscomp.inherits=function(c,l){c.prototype=$jscomp.objectCreate(l.prototype);c.prototype.constructor=c;if($jscomp.setPrototypeOf){var v=$jscomp.setPrototypeOf;v(c,l)}else for(v in l)if("prototype"!=v)if(Object.defineProperties){var D=Object.getOwnPropertyDescriptor(l,v);D&&Object.defineProperty(c,v,D)}else c[v]=l[v];c.superClass_=l.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(c){if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(c){this.yieldResult=c};
$jscomp.generator.Context.prototype.throw_=function(c){this.abruptCompletion_={exception:c,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(c){this.abruptCompletion_={return:c};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(c){this.abruptCompletion_={jumpTo:c};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(c,l){this.nextAddress=l;return{value:c}};
$jscomp.generator.Context.prototype.yieldAll=function(c,l){c=$jscomp.makeIterator(c);var v=c.next();$jscomp.generator.ensureIteratorResultIsObject_(v);if(v.done)this.yieldResult=v.value,this.nextAddress=l;else return this.yieldAllIterator_=c,this.yield(v.value,l)};$jscomp.generator.Context.prototype.jumpTo=function(c){this.nextAddress=c};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(c,l){this.catchAddress_=c;void 0!=l&&(this.finallyAddress_=l)};$jscomp.generator.Context.prototype.setFinallyBlock=function(c){this.catchAddress_=0;this.finallyAddress_=c||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(c,l){this.nextAddress=c;this.catchAddress_=l||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(c){this.catchAddress_=c||0;c=this.abruptCompletion_.exception;this.abruptCompletion_=null;return c};$jscomp.generator.Context.prototype.enterFinallyBlock=function(c,l,v){v?this.finallyContexts_[v]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=c||0;this.finallyAddress_=l||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(c,l){l=this.finallyContexts_.splice(l||0)[0];if(l=this.abruptCompletion_=this.abruptCompletion_||l){if(l.isException)return this.jumpToErrorHandler_();void 0!=l.jumpTo&&this.finallyAddress_<l.jumpTo?(this.nextAddress=l.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=c};$jscomp.generator.Context.prototype.forIn=function(c){return new $jscomp.generator.Context.PropertyIterator(c)};
$jscomp.generator.Context.PropertyIterator=function(c){this.object_=c;this.properties_=[];for(var l in c)this.properties_.push(l);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var c=this.properties_.pop();if(c in this.object_)return c}return null};$jscomp.generator.Engine_=function(c){this.context_=new $jscomp.generator.Context;this.program_=c};
$jscomp.generator.Engine_.prototype.next_=function(c){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,c,this.context_.next_);this.context_.next_(c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(c){this.context_.start_();var l=this.context_.yieldAllIterator_;if(l)return this.yieldAllStep_("return"in l?l["return"]:function(v){return{value:v,done:!0}},c,this.context_.return);this.context_.return(c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(c){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],c,this.context_.next_);this.context_.throw_(c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(c,l,v){try{var D=c.call(this.context_.yieldAllIterator_,l);$jscomp.generator.ensureIteratorResultIsObject_(D);if(!D.done)return this.context_.stop_(),D;var E=D.value}catch(Y){return this.context_.yieldAllIterator_=null,this.context_.throw_(Y),this.nextStep_()}this.context_.yieldAllIterator_=null;v.call(this.context_,E);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var c=this.program_(this.context_);if(c)return this.context_.stop_(),{value:c.value,done:!1}}catch(l){this.context_.yieldResult=void 0,this.context_.throw_(l)}this.context_.stop_();if(this.context_.abruptCompletion_){c=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(c.isException)throw c.exception;return{value:c.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(c){this.next=function(l){return c.next_(l)};this.throw=function(l){return c.throw_(l)};this.return=function(l){return c.return_(l)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(c,l){l=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(l));$jscomp.setPrototypeOf&&c.prototype&&$jscomp.setPrototypeOf(l,c.prototype);return l};
$jscomp.asyncExecutePromiseGenerator=function(c){function l(D){return c.next(D)}function v(D){return c.throw(D)}return new Promise(function(D,E){function Y(H){H.done?D(H.value):Promise.resolve(H.value).then(l,v).then(Y,E)}Y(c.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(c){return $jscomp.asyncExecutePromiseGenerator(c())};$jscomp.asyncExecutePromiseGeneratorProgram=function(c){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c)))};
$jscomp.polyfill("Reflect",function(c){return c?c:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(c){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Reflect.setPrototypeOf",function(c){if(c)return c;if($jscomp.setPrototypeOf){var l=$jscomp.setPrototypeOf;return function(v,D){try{return l(v,D),!0}catch(E){return!1}}}return null},"es6","es5");
$jscomp.polyfill("Promise",function(c){function l(){this.batch_=null}function v(H){return H instanceof E?H:new E(function(N,K){N(H)})}if(c&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return c;l.prototype.asyncExecute=function(H){if(null==this.batch_){this.batch_=[];var N=this;this.asyncExecuteFunction(function(){N.executeBatch_()})}this.batch_.push(H)};
var D=$jscomp.global.setTimeout;l.prototype.asyncExecuteFunction=function(H){D(H,0)};l.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var H=this.batch_;this.batch_=[];for(var N=0;N<H.length;++N){var K=H[N];H[N]=null;try{K()}catch(ba){this.asyncThrow_(ba)}}}this.batch_=null};l.prototype.asyncThrow_=function(H){this.asyncExecuteFunction(function(){throw H;})};var E=function(H){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var N=
this.createResolveAndReject_();try{H(N.resolve,N.reject)}catch(K){N.reject(K)}};E.prototype.createResolveAndReject_=function(){function H(ba){return function(Z){K||(K=!0,ba.call(N,Z))}}var N=this,K=!1;return{resolve:H(this.resolveTo_),reject:H(this.reject_)}};E.prototype.resolveTo_=function(H){if(H===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(H instanceof E)this.settleSameAsPromise_(H);else{a:switch(typeof H){case "object":var N=null!=H;break a;case "function":N=
!0;break a;default:N=!1}N?this.resolveToNonPromiseObj_(H):this.fulfill_(H)}};E.prototype.resolveToNonPromiseObj_=function(H){var N=void 0;try{N=H.then}catch(K){this.reject_(K);return}"function"==typeof N?this.settleSameAsThenable_(N,H):this.fulfill_(H)};E.prototype.reject_=function(H){this.settle_(2,H)};E.prototype.fulfill_=function(H){this.settle_(1,H)};E.prototype.settle_=function(H,N){if(0!=this.state_)throw Error("Cannot settle("+H+", "+N+"): Promise already settled in state"+this.state_);this.state_=
H;this.result_=N;2===this.state_&&this.scheduleUnhandledRejectionCheck_();this.executeOnSettledCallbacks_()};E.prototype.scheduleUnhandledRejectionCheck_=function(){var H=this;D(function(){if(H.notifyUnhandledRejection_()){var N=$jscomp.global.console;"undefined"!==typeof N&&N.error(H.result_)}},1)};E.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var H=$jscomp.global.CustomEvent,N=$jscomp.global.Event,K=$jscomp.global.dispatchEvent;if("undefined"===typeof K)return!0;
"function"===typeof H?H=new H("unhandledrejection",{cancelable:!0}):"function"===typeof N?H=new N("unhandledrejection",{cancelable:!0}):(H=$jscomp.global.document.createEvent("CustomEvent"),H.initCustomEvent("unhandledrejection",!1,!0,H));H.promise=this;H.reason=this.result_;return K(H)};E.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var H=0;H<this.onSettledCallbacks_.length;++H)Y.asyncExecute(this.onSettledCallbacks_[H]);this.onSettledCallbacks_=null}};var Y=
new l;E.prototype.settleSameAsPromise_=function(H){var N=this.createResolveAndReject_();H.callWhenSettled_(N.resolve,N.reject)};E.prototype.settleSameAsThenable_=function(H,N){var K=this.createResolveAndReject_();try{H.call(N,K.resolve,K.reject)}catch(ba){K.reject(ba)}};E.prototype.then=function(H,N){function K(X,oa){return"function"==typeof X?function(qa){try{ba(X(qa))}catch(sa){Z(sa)}}:oa}var ba,Z,P=new E(function(X,oa){ba=X;Z=oa});this.callWhenSettled_(K(H,ba),K(N,Z));return P};E.prototype.catch=
function(H){return this.then(void 0,H)};E.prototype.callWhenSettled_=function(H,N){function K(){switch(ba.state_){case 1:H(ba.result_);break;case 2:N(ba.result_);break;default:throw Error("Unexpected state: "+ba.state_);}}var ba=this;null==this.onSettledCallbacks_?Y.asyncExecute(K):this.onSettledCallbacks_.push(K);this.isRejectionHandled_=!0};E.resolve=v;E.reject=function(H){return new E(function(N,K){K(H)})};E.race=function(H){return new E(function(N,K){for(var ba=$jscomp.makeIterator(H),Z=ba.next();!Z.done;Z=
ba.next())v(Z.value).callWhenSettled_(N,K)})};E.all=function(H){var N=$jscomp.makeIterator(H),K=N.next();return K.done?v([]):new E(function(ba,Z){function P(qa){return function(sa){X[qa]=sa;oa--;0==oa&&ba(X)}}var X=[],oa=0;do X.push(void 0),oa++,v(K.value).callWhenSettled_(P(X.length-1),Z),K=N.next();while(!K.done)})};return E},"es6","es3");
$jscomp.findInternal=function(c,l,v){c instanceof String&&(c=String(c));for(var D=c.length,E=0;E<D;E++){var Y=c[E];if(l.call(v,Y,E,c))return{i:E,v:Y}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(l,v){return $jscomp.findInternal(this,l,v).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(c){return c?c:function(l,v,D){var E=this.length||0;0>v&&(v=Math.max(0,E+v));if(null==D||D>E)D=E;D=Number(D);0>D&&(D=Math.max(0,E+D));for(v=Number(v||0);v<D;v++)this[v]=l;return this}},"es6","es3");$jscomp.typedArrayFill=function(c){return c?c:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Object.is",function(c){return c?c:function(l,v){return l===v?0!==l||1/l===1/v:l!==l&&v!==v}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(l,v){var D=this;D instanceof String&&(D=String(D));var E=D.length;v=v||0;for(0>v&&(v=Math.max(v+E,0));v<E;v++){var Y=D[v];if(Y===l||Object.is(Y,l))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(c,l,v){if(null==c)throw new TypeError("The 'this' value for String.prototype."+v+" must not be null or undefined");if(l instanceof RegExp)throw new TypeError("First argument to String.prototype."+v+" must not be a regular expression");return c+""};$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(l,v){return-1!==$jscomp.checkStringArgs(this,l,"includes").indexOf(l,v||0)}},"es6","es3");
$jscomp.polyfill("Array.from",function(c){return c?c:function(l,v,D){v=null!=v?v:function(N){return N};var E=[],Y="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];if("function"==typeof Y){l=Y.call(l);for(var H=0;!(Y=l.next()).done;)E.push(v.call(D,Y.value,H++))}else for(Y=l.length,H=0;H<Y;H++)E.push(v.call(D,l[H],H));return E}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var c={},l=Object.create(new $jscomp.global.Proxy(c,{get:function(v,D,E){return v==c&&"q"==D&&E==l}}));return!0===l.q}catch(v){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(c,l){return Object.prototype.hasOwnProperty.call(c,l)};
$jscomp.polyfill("WeakMap",function(c){function l(){if(!c||!Object.seal)return!1;try{var ba=Object.seal({}),Z=Object.seal({}),P=new c([[ba,2],[Z,3]]);if(2!=P.get(ba)||3!=P.get(Z))return!1;P.delete(ba);P.set(Z,4);return!P.has(ba)&&4==P.get(Z)}catch(X){return!1}}function v(){}function D(ba){var Z=typeof ba;return"object"===Z&&null!==ba||"function"===Z}function E(ba){if(!$jscomp.owns(ba,H)){var Z=new v;$jscomp.defineProperty(ba,H,{value:Z})}}function Y(ba){if(!$jscomp.ISOLATE_POLYFILLS){var Z=Object[ba];
Z&&(Object[ba]=function(P){if(P instanceof v)return P;Object.isExtensible(P)&&E(P);return Z(P)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(l())return c;var H="$jscomp_hidden_"+Math.random();Y("freeze");Y("preventExtensions");Y("seal");var N=0,K=function(ba){this.id_=(N+=Math.random()+1).toString();if(ba){ba=$jscomp.makeIterator(ba);for(var Z;!(Z=ba.next()).done;)Z=Z.value,this.set(Z[0],Z[1])}};K.prototype.set=function(ba,Z){if(!D(ba))throw Error("Invalid WeakMap key");
E(ba);if(!$jscomp.owns(ba,H))throw Error("WeakMap key fail: "+ba);ba[H][this.id_]=Z;return this};K.prototype.get=function(ba){return D(ba)&&$jscomp.owns(ba,H)?ba[H][this.id_]:void 0};K.prototype.has=function(ba){return D(ba)&&$jscomp.owns(ba,H)&&$jscomp.owns(ba[H],this.id_)};K.prototype.delete=function(ba){return D(ba)&&$jscomp.owns(ba,H)&&$jscomp.owns(ba[H],this.id_)?delete ba[H][this.id_]:!1};return K},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(c){function l(){if($jscomp.ASSUME_NO_NATIVE_MAP||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var K=Object.seal({x:4}),ba=new c($jscomp.makeIterator([[K,"s"]]));if("s"!=ba.get(K)||1!=ba.size||ba.get({x:4})||ba.set({x:4},"t")!=ba||2!=ba.size)return!1;var Z=ba.entries(),P=Z.next();if(P.done||P.value[0]!=K||"s"!=P.value[1])return!1;P=Z.next();return P.done||4!=P.value[0].x||"t"!=P.value[1]||!Z.next().done?!1:!0}catch(X){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(l())return c;var v=new WeakMap,D=function(K){this.data_={};this.head_=H();this.size=0;if(K){K=$jscomp.makeIterator(K);for(var ba;!(ba=K.next()).done;)ba=ba.value,this.set(ba[0],ba[1])}};D.prototype.set=function(K,ba){K=0===K?0:K;var Z=E(this,K);Z.list||(Z.list=this.data_[Z.id]=[]);Z.entry?Z.entry.value=ba:(Z.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:K,value:ba},Z.list.push(Z.entry),
this.head_.previous.next=Z.entry,this.head_.previous=Z.entry,this.size++);return this};D.prototype.delete=function(K){K=E(this,K);return K.entry&&K.list?(K.list.splice(K.index,1),K.list.length||delete this.data_[K.id],K.entry.previous.next=K.entry.next,K.entry.next.previous=K.entry.previous,K.entry.head=null,this.size--,!0):!1};D.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=H();this.size=0};D.prototype.has=function(K){return!!E(this,K).entry};D.prototype.get=function(K){return(K=
E(this,K).entry)&&K.value};D.prototype.entries=function(){return Y(this,function(K){return[K.key,K.value]})};D.prototype.keys=function(){return Y(this,function(K){return K.key})};D.prototype.values=function(){return Y(this,function(K){return K.value})};D.prototype.forEach=function(K,ba){for(var Z=this.entries(),P;!(P=Z.next()).done;)P=P.value,K.call(ba,P[1],P[0],this)};D.prototype[Symbol.iterator]=D.prototype.entries;var E=function(K,ba){var Z=ba&&typeof ba;"object"==Z||"function"==Z?v.has(ba)?Z=
v.get(ba):(Z=""+ ++N,v.set(ba,Z)):Z="p_"+ba;var P=K.data_[Z];if(P&&$jscomp.owns(K.data_,Z))for(K=0;K<P.length;K++){var X=P[K];if(ba!==ba&&X.key!==X.key||ba===X.key)return{id:Z,list:P,index:K,entry:X}}return{id:Z,list:P,index:-1,entry:void 0}},Y=function(K,ba){var Z=K.head_;return $jscomp.iteratorPrototype(function(){if(Z){for(;Z.head!=K.head_;)Z=Z.previous;for(;Z.next!=Z.head;)return Z=Z.next,{done:!1,value:ba(Z)};Z=null}return{done:!0,value:void 0}})},H=function(){var K={};return K.previous=K.next=
K.head=K},N=0;return D},"es6","es3");
$jscomp.polyfill("Set",function(c){function l(){if($jscomp.ASSUME_NO_NATIVE_SET||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var D=Object.seal({x:4}),E=new c($jscomp.makeIterator([D]));if(!E.has(D)||1!=E.size||E.add(D)!=E||1!=E.size||E.add({x:4})!=E||2!=E.size)return!1;var Y=E.entries(),H=Y.next();if(H.done||H.value[0]!=D||H.value[1]!=D)return!1;H=Y.next();return H.done||H.value[0]==D||4!=H.value[0].x||H.value[1]!=H.value[0]?!1:Y.next().done}catch(N){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(l())return c;var v=function(D){this.map_=new Map;if(D){D=$jscomp.makeIterator(D);for(var E;!(E=D.next()).done;)this.add(E.value)}this.size=this.map_.size};v.prototype.add=function(D){D=0===D?0:D;this.map_.set(D,D);this.size=this.map_.size;return this};v.prototype.delete=function(D){D=this.map_.delete(D);this.size=this.map_.size;return D};v.prototype.clear=function(){this.map_.clear();this.size=0};v.prototype.has=
function(D){return this.map_.has(D)};v.prototype.entries=function(){return this.map_.entries()};v.prototype.values=function(){return this.map_.values()};v.prototype.keys=v.prototype.values;v.prototype[Symbol.iterator]=v.prototype.values;v.prototype.forEach=function(D,E){var Y=this;this.map_.forEach(function(H){return D.call(E,H,H,Y)})};return v},"es6","es3");
$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(c,l){for(var v=1;v<arguments.length;v++){var D=arguments[v];if(D)for(var E in D)$jscomp.owns(D,E)&&(c[E]=D[E])}return c};$jscomp.polyfill("Object.assign",function(c){return c||$jscomp.assign},"es6","es3");$jscomp.polyfill("Object.values",function(c){return c?c:function(l){var v=[],D;for(D in l)$jscomp.owns(l,D)&&v.push(l[D]);return v}},"es8","es3");
$jscomp.polyfill("Math.hypot",function(c){return c?c:function(l){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var v,D,E;for(v=E=0;v<arguments.length;v++)E=Math.max(E,Math.abs(arguments[v]));if(1E100<E||1E-100>E){if(!E)return E;for(v=D=0;v<arguments.length;v++){var Y=Number(arguments[v])/E;D+=Y*Y}return Math.sqrt(D)*E}for(v=D=0;v<arguments.length;v++)Y=Number(arguments[v]),D+=Y*Y;return Math.sqrt(D)}},"es6","es3");
$jscomp.polyfill("Math.sign",function(c){return c?c:function(l){l=Number(l);return 0===l||isNaN(l)?l:0<l?1:-1}},"es6","es3");$jscomp.polyfill("Math.log1p",function(c){return c?c:function(l){l=Number(l);if(.25>l&&-.25<l){for(var v=l,D=1,E=l,Y=0,H=1;Y!=E;)v*=l,H*=-1,E=(Y=E)+H*v/++D;return E}return Math.log(1+l)}},"es6","es3");$jscomp.polyfill("Math.log10",function(c){return c?c:function(l){return Math.log(l)/Math.LN10}},"es6","es3");
$jscomp.polyfill("Math.log2",function(c){return c?c:function(l){return Math.log(l)/Math.LN2}},"es6","es3");$jscomp.polyfill("Math.expm1",function(c){return c?c:function(l){l=Number(l);if(.25>l&&-.25<l){for(var v=l,D=1,E=l,Y=0;Y!=E;)v*=l/++D,E=(Y=E)+v;return E}return Math.exp(l)-1}},"es6","es3");
$jscomp.iteratorFromArray=function(c,l){c instanceof String&&(c+="");var v=0,D=!1,E={next:function(){if(!D&&v<c.length){var Y=v++;return{value:l(Y,c[Y]),done:!1}}D=!0;return{done:!0,value:void 0}}};E[Symbol.iterator]=function(){return E};return E};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(l){return l})}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(c){return c?c:function(l,v){var D=$jscomp.checkStringArgs(this,l,"endsWith");l+="";void 0===v&&(v=D.length);v=Math.max(0,Math.min(v|0,D.length));for(var E=l.length;0<E&&0<v;)if(D[--v]!=l[--E])return!1;return 0>=E}},"es6","es3");var WMJSExtApplications=[];Ext.define("webmapjsext.WMJSExt.LayerPropertiesPanel",{extend:"Ext.tab.Panel",alias:"WMJSExtLayerPropertiesPanel",initComponent:function(){var c=this;c.applyColorScaleRange=function(){var v=c.getComponent("wmsextensions").getComponent("colorscalerangeminvalue").getValue(),D=c.getComponent("wmsextensions").getComponent("colorscalerangemaxvalue").getValue();c.WMJSLayerObject.wmsextensions({colorscalerange:v+","+D});c.WMJSLayerObject.draw("LayerPropertiesPanel::applyColorScaleRange")};c.applyWMSVersion=
function(){var v=c.getComponent("wmsversionpanel").getComponent("wmsversion").getValue();c.WMJSLayerObject.version=v;c.WMJSLayerObject.draw("LayerPropertiesPanel::applyWMSVersion")};c.projectionStore=Ext.create("Ext.data.Store",{fields:["title","srs","bbox"],data:{items:[]},proxy:{type:"memory",reader:{type:"json",root:"items"}}});var l=function(){Ext.create("Ext.window.Window",{width:"90%",height:"90%",autoDestroy:!0,closeAction:"close",maximizable:!0,layout:"fit",items:[Ext.create("WCSPanel",{autoDestroy:!0,
closeAction:"close",WMJSLayer:c.WMJSLayerObject})]}).show()};Ext.apply(this,{layout:"fit",frame:!1,border:!1,margin:0,items:[{xtype:"panel",title:I18n.color_range.text,margin:6,itemId:"wmsextensions",items:[{itemId:"colorscalerangeminvalue",xtype:"numberfield",fieldLabel:I18n.min_value.text,value:0,margin:6,listeners:{specialkey:function(v,D){D.getKey()==D.ENTER&&c.applyColorScaleRange()}}},{itemId:"colorscalerangemaxvalue",xtype:"numberfield",fieldLabel:I18n.max_value.text,value:"1.0",margin:6,listeners:{specialkey:function(v,
D){D.getKey()==D.ENTER&&c.applyColorScaleRange()}}}],buttons:[{xtype:"button",text:I18n.reset.text,handler:function(){c.WMJSLayerObject.wmsextensions({colorscalerange:""});c.WMJSLayerObject.draw("LayerPropertiesPanel::reset")}},{xtype:"button",text:I18n.apply.text,handler:function(){c.applyColorScaleRange()}}]},{xtype:"panel",title:I18n.wms_version.text,margin:6,itemId:"wmsversionpanel",items:[{itemId:"wmsversion",xtype:"textfield",labelWidth:250,margin:6,fieldLabel:I18n.wms_version.text,value:c.WMJSLayerObject.version,
listeners:{specialkey:function(v,D){D.getKey()==D.ENTER&&c.applyWMSVersion()}}},{xtype:"checkbox",itemId:"usewms130comaptmode",labelWidth:250,fieldLabel:I18n.wms_comp_mode.text,margin:6,listeners:{change:function(v,D){c.WMJSLayerObject.wms130bboxcompatibilitymode=D;c.WMJSLayerObject.draw("LayerPropertiesPanel::WMS1.3.0CompatMode")}}}]},{xtype:"panel",title:I18n.projections.text,margin:6,itemId:"wmsprojectionpanel",layout:"fit",items:[{xtype:"grid",border:!1,store:c.projectionStore,columns:[{text:I18n.title.text,
dataIndex:"title",flex:2},{text:I18n.epsg_code.text,dataIndex:"srs",flex:1},{text:I18n.bounding_box.text,dataIndex:"bbox",flex:2}],listeners:{select:{fn:function(v,D){v=D.get("bbox");D=D.get("srs");c.WMJSLayerObject.parentMaps[0].setProjection({srs:D,bbox:v});c.WMJSLayerObject.parentMaps[0].draw("wmsprojectionpanel")}}}}],listeners:{show:{fn:function(){c.projectionStore.removeAll();for(var v=0;v<c.WMJSLayerObject.projectionProperties.length;v++){var D=c.WMJSLayerObject.projectionProperties[v].srs;
try{D=epsgDescriptionLookup[c.WMJSLayerObject.projectionProperties[v].srs]}catch(E){}isDefined(D)||(D=c.WMJSLayerObject.projectionProperties[v].srs);c.projectionStore.add({title:D,srs:c.WMJSLayerObject.projectionProperties[v].srs,bbox:c.WMJSLayerObject.projectionProperties[v].bbox})}}}}},{xtype:"panel",title:I18n.file_metadata.text,margin:6,itemId:"wmsfilemetadatapanel",layout:"fit",listeners:{show:{fn:function(){c.getComponent("wmsfilemetadatapanel").update('<a target="_blank" href="'+c.WMJSLayerObject.service+
"&service=wms&request=getmetadata&format=image/png&srs=EPSG:4326&layer="+c.WMJSLayerObject.name+'">'+I18n.show_file_metadata.text+"</a>")}}}},{xtype:"panel",title:I18n.download_data_wcs.text,margin:6,itemId:"wcs",layout:"fit",items:[{xtype:"button",text:I18n.show.text,handler:function(){l()}}],listeners:{show:{fn:function(){l()}}}}],listeners:{afterlayout:{fn:function(){}}}});webmapjsext.WMJSExt.LayerPropertiesPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.StylePanel",{extend:"Ext.panel.Panel",alias:"WMJSExtStylePanel",initComponent:function(){var c=this;c.buildData=function(){var l=[];if(!this.WMJSLayerObject.styles)return{name:I18n.default.text,title:I18n.default.text,abstracttext:I18n.no_styles_available.text};for(var v=0;v<c.WMJSLayerObject.styles.length;v++){var D={title:c.WMJSLayerObject.styles[v].title,name:c.WMJSLayerObject.styles[v].name,abstracttext:c.WMJSLayerObject.styles[v].abstracttext,legend:c.WMJSLayerObject.styles[v].legendURL};
l.push(D);0==v&&(c.defaultStyle=D)}return l};c.store=Ext.create("Ext.data.Store",{fields:[{name:"title",type:"string"},{name:"name",type:"string"},{name:"legend",type:"string"},{name:"abstracttext",type:"string"}]});c.grid=Ext.create("Ext.grid.Panel",{store:c.store,columns:[{header:I18n.title.text,dataIndex:"title",width:180},{header:I18n.name.text,dataIndex:"name",width:100},{header:I18n.description.text,dataIndex:"abstracttext",flex:!0}],border:0,listeners:{itemclick:{fn:function(l,v,D,E,Y,H){c.itemclick&&
c.itemclick(c,{name:v.get("name"),title:v.get("title")})}},itemmouseenter:{fn:function(l,v,D,E,Y,H){l=v.get("legend");c.legendWindow||(c.legendWindow=Ext.create("Ext.window.Window",{header:!1,layout:"auto",width:200,minHeight:300,autoDestroy:!1,closeAction:"hide",autoScroll:!1}));v=c.getPosition()[0]+c.getWidth()+10;D=c.getPosition()[1];c.legendWindow.showAt([v,D]);c.legendWindow.update('<img class="legendimage" src="'+l+'&transparent=true"/>')}},itemmouseleave:{fn:function(){c.legendWindow.hide()}}}});
c.loadStyles=function(l){c.WMJSLayerObject=l;c.store.loadRawData(c.buildData())};Ext.apply(this,{closable:!0,border:!1,layout:"fit",maxHeight:300,autoScroll:!0,items:[this.grid]});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.DimensionPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtDimensionPanel",initComponent:function(c){var l=this;l.currentValue=void 0;l.currentSize=void 0;var v=0;try{v=this.dimension.getIndexForValue(this.dimension.defaultValue)}catch(E){}if(l.dimension.currentValue)try{v=this.dimension.getIndexForValue(l.dimension.currentValue)}catch(E){}-1==v&&(v=l.dimension.size()-1);l.currentIndex=v;try{l.dimension.currentValue=l.dimension.getValueForIndex(v)}catch(E){error("WMJSExtDimensionPanel: getValueForIndex "+
v+" failed")}l.dimSlider=Ext.create("Ext.slider.Single",{width:50,useTips:!1,region:"center",value:v,minValue:0,maxValue:l.dimension.size()-1,increment:1,listeners:{drag:{fn:function(E){l.sliderChanged(E.getValue())}},change:{fn:function(E){l.sliderChanged(E.getValue())}}}});l.setValue=function(E){if(E!==l.currentValue||l.dimension.size()!==l.currentSize)return l._setValue(E)};l._setValue=function(E){l.currentValue=E;l.currentSize=l.dimension.size();try{if(E==WMJSDateTooEarlyString)l.currentIndex=
0,l.dimensionValueLabel.setValueText(WMJSDateTooEarlyString);else if(E==WMJSDateTooLateString)l.currentIndex=l.dimension.size()-1,l.dimensionValueLabel.setValueText(WMJSDateTooLateString);else if(l.currentIndex=this.dimension.getIndexForValue(E),-1!=l.currentIndex)l.dimensionValueLabel.setValueText(l.getValue());else{var Y=parseISO8601DateToDate(E),H=parseISO8601DateToDate(l.dimension.get(0)),N=parseISO8601DateToDate(l.dimension.get(l.dimension.size()-1));Y.getTime()<H.getTime()?(l.dimensionValueLabel.setValueText(WMJSDateTooEarlyString),
l.layer.setDimension(l.dimension.name,WMJSDateTooEarlyString),l.currentIndex=0):Y.getTime()>N.getTime()?(l.dimensionValueLabel.setValueText(WMJSDateTooLateString),l.layer.setDimension(l.dimension.name,WMJSDateTooLateString),l.currentIndex=l.dimension.size()-1):(l.dimensionValueLabel.setValueText(WMJSDateOutSideRange),l.layer.setDimension(l.dimension.name,WMJSDateOutSideRange))}}catch(K){l.dimensionValueLabel.setValueText(WMJSDateOutSideRange),l.layer.setDimension(l.dimension.name,WMJSDateOutSideRange),
l.currentIndex=0}l.dimSlider.suspendEvents();l.dimSlider.setValue(l.currentIndex,!1);l.dimSlider.resumeEvents()};l.checkReferenceTime=function(E){for(var Y=-1,H=-1,N=0;N<l.dimensionPanels.length;N++){var K=l.layer.getDimension(l.dimensionPanels[N].dimension.name);"time"==K.name&&"ISO8601"==K.units&&(H=N);"reference_time"==K.name&&"ISO8601"==K.units&&(Y=N)}l.dimSlider.suspendEvents();if(-1!=H&&-1!=Y&&(N=l.layer.getDimension(l.dimensionPanels[H].dimension.name),K=l.layer.getDimension(l.dimensionPanels[Y].dimension.name),
N.getValue()<K.getValue()))if(l.dimensionPanels[Y].dimension.name==E.name){E=N.getValue();do E=N.get(N.getIndexForValue(E)+1);while(E<K.getValue());l.dimensionPanels[H].dimSlider.setValue(N.getIndexForValue(E),!1)}else if(l.dimensionPanels[H].dimension.name==E.name){E=K.getValue();do E=K.get(K.getIndexForValue(E)-1);while(E>K.getValue());l.dimensionPanels[Y].dimSlider.setValue(K.getIndexForValue(E),!1)}l.dimSlider.resumeEvents()};l.sliderChanged=function(E){try{l.layer.parentMaps[0].stopAnimating()}catch(Y){}l.currentIndex=
E;l.dimensionValueLabel.setValueText(l.getValue());l.layer.setDimension(l.dimension.name,l.getValue());l.layer.draw("DimensionPanel::sliderChanged");isDefined(l.dateTimeWindow)&&l.dateTimeWindow.setDimension(this.dimension)};l.getValue=function(){return l.dimension.get(l.currentIndex)};l.dimensionValueLabel=Ext.create("Ext.form.Label",{cls:"dimensionValueLabel",xtype:"label",region:"center",text:l.getValue()});l.dimensionTitleLabel=Ext.create("Ext.form.Label",{cls:"dimensionTitleLabel",xtype:"label",
region:"center",text:""});l.dimensionPositionLabel=Ext.create("Ext.form.Label",{cls:"dimensionPositionLabel",xtype:"label",region:"center",text:""});l.dimensionValueLabel.setValueText=function(E){if(E==WMJSDateOutSideRange||E==WMJSDateTooEarlyString||E==WMJSDateTooLateString){try{l.dimensionValueLabel.getEl().setStyle("backgroundColor","#FFAAAA")}catch(Y){}l.dimensionPositionLabel.setText(" - (-/"+(l.dimension.size()-1+1)+")")}else{try{l.dimensionValueLabel.getEl().setStyle("backgroundColor","white")}catch(Y){}l.dimensionPositionLabel.setText(" - ("+
(l.currentIndex+1)+"/"+(l.dimension.size()-1+1)+")")}l.dimensionValueLabel.setText(E);l.dimensionTitleLabel.setText(I18n.dimension.text+" "+l.dimension.name+" in "+l.dimension.units)};l.dimensionValueLabel.setValueText(l.getValue());v=[];v.push(l.dimensionValueLabel);l.dimensionOptionsList=[];if("ISO8601"==l.dimension.units){var D=Ext.create(Ext.button.Button,{xtype:"button",text:"Set time",region:"east",handler:function(){timeselectorWindow.show()}});v.push(D);D=!1;l.layer.name&&-1!=l.layer.name.indexOf("GOME")&&
(D=!0);D&&(D=Ext.create("Ext.data.Store",{fields:[{name:"title",type:"string"},{name:"name",type:"string"}],data:[{title:"No duration",name:""},{title:"1 Second",name:"PT1S"},{title:"10 Seconds",name:"PT10S"},{title:"12 Seconds",name:"PT12S"},{title:"30 Seconds",name:"PT30S"},{title:"1 Minute",name:"PT1M"},{title:"5 Minutes",name:"PT5M"},{title:"10 Minutes",name:"PT10M"},{title:"15 Minutes",name:"PT15M"},{title:"30 Minutes",name:"PT30M"},{title:"60 Minutes",name:"PT1H"},{title:"90 Minutes",name:"PT1H30M"},
{title:"180 Minutes",name:"PT3H"},{title:"360 Minutes",name:"PT6H"},{title:"Daily",name:"P1D"}]}),D=Ext.create("Ext.form.ComboBox",{fieldLabel:"Choose duration",store:D,queryMode:"local",displayField:"title",valueField:"name",region:"center",listeners:{select:function(E,Y){l.timeRangeDuration=Y[0].get("name");E=l.dimension.getValue();try{E=l.layer.parentMaps[0].getDimension(l.dimension.name).currentValue}catch(H){}-1!=E.indexOf("/")&&(E=E.split("/")[0]);l.dimension.setTimeRangeDuration(l.timeRangeDuration);
l.dimSlider.setMaxValue(l.dimension.size()-1);console.log("Setting value back:"+E);l.layer.setDimension(l.dimension.name,E);l._setValue(E);l.layer.draw("DimensionPanel::sliderChanged")}}}),l.dimensionOptionsList.push(D))}l.dimensionValuePanel={type:"panel",layout:"border",background:"white",bodyStyle:{"background-color":"white"},border:!1,items:v};Ext.apply(this,{margin:"0",padding:"5 3 5 3",border:!1,frame:!1,plain:!0,bodyStyle:{"background-color":"white"},layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",
height:22,plain:!0,border:!1,layout:"hbox",items:[l.dimensionTitleLabel,l.dimensionPositionLabel]},{xtype:"panel",height:24,margin:"0 0 0 0",frame:!1,border:!1,plain:!0,layout:"border",bodyStyle:{"background-color":"white"},items:[{xtype:"panel",region:"west",width:13,frame:!1,border:!1,layout:"border",items:[{margin:"0 0 0 0",xtype:"checkbox",bodyStyle:{"background-color":"white"},frame:!1,border:!1,plain:!0,checked:l.dimension.linked,handler:function(E,Y){l.dimension.linked=Y}}]},{xtype:"panel",
region:"center",frame:!1,border:!1,plain:!0,layout:"border",items:[{xtype:"panel",layout:"fit",frame:!1,border:!1,plain:!0,region:"center",items:[l.dimSlider],bodyStyle:{"background-color":"white"}},{xtype:"panel",region:"east",width:40,layout:"hbox",border:!1,frame:!1,bodyStyle:{"background-color":"white"},items:[{xtype:"button",text:"&lt;",width:20,height:22,handler:function(){l.dimSlider.setValue(l.dimSlider.getValue()-1)}},{xtype:"button",text:"&gt;",width:20,height:22,handler:function(){l.dimSlider.setValue(l.dimSlider.getValue()+
1)}}]}]}]},{xtype:"panel",height:22,plain:!0,border:!1,layout:"fit",items:[l.dimensionValuePanel]},{xtype:"panel",plain:!0,border:!1,layout:"fit",items:l.dimensionOptionsList}]});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.MapPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtMapPanel",initComponent:function(){var c=this;c.webmapjsid=c.id+"wmjs";c.pointinfobutton=c.id+"pib";c.baseLayer=void 0;Ext.apply(this,{html:'<div id="'+c.webmapjsid+'"/>',layout:"fit",frame:!1,border:!1,margin:0,listeners:{afterlayout:{fn:function(){if(!c.webMapJS){initWMJS();c.webMapJS=new WMJSMap(Ext.fly(c.webmapjsid).dom);c.webMapJS.setWMJSTileRendererTileSettings(WMJSTileRendererTileSettings);c.webMapJS.setBaseURL("./webmapjs/");
c.webMapJS.requestProxy="./webmapjs_php/MakeRequest.php?";for(var l=[],v=0;v<baseLayerConfiguration.length;v++)if(new WMJSLayer(baseLayerConfiguration[v]),0==v){var D=new WMJSLayer(baseLayerConfiguration[v]);c.baseLayer=D;l.push(D);D=new WMJSLayer(baseLayerConfiguration[v]);D.enabled=!1;l.push(D)}else D=new WMJSLayer(baseLayerConfiguration[v]),l.push(D);c.webMapJS.setBaseLayers(l);l=c.getSize();c.webMapJS.setSize(l.width,l.height);c.webMapJS.setProjection(defaultProjection);c.webMapJS.draw("resize event")}}},
resize:{fn:function(l,v,D){isDefined(c.webMapJS)&&(l=c.getSize(),c.webMapJS.setSize(l.width,l.height),c.webMapJS.draw("resize event"))}}}});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.ServicePanel",{extend:"Ext.panel.Panel",alias:"WMJSExtServicePanel",initComponent:function(){var c=this;c.store=Ext.create("Ext.data.TreeStore",{root:{text:"Ext JS",id:"src",name:"test",expanded:!0},fields:["text","name"],folderSort:!0,sorters:[{property:"text",direction:"ASC"}]});c.selectedLayerName=c.name;c.tree=Ext.create("Ext.tree.Panel",{store:c.store,hideHeaders:!0,rootVisible:!1,fields:["text","name"],border:0,listeners:{itemclick:{fn:function(l,v,D,E,Y,H){c.itemclick&&
(c.selectedLayerName=v.get("name"),1==v.get("leaf")&&c.itemclick(c,c.selectedLayerName,c.service))}}}});c.buildTreeFromNodes=function(l){if(0!=isDefined(c.service)&&0!=c.service.length){c.setLoading("Reading getCapabilities ...");c.WMSService=WMJSGetServiceFromStore(c.service,xml2jsonrequestURL);var v=function(E){c.tree.getRootNode().removeAll();c.tree.getRootNode().appendChild(E);c.setLoading(!1)},D=function(E){error("WMJSExtServicePanel: Unable to do GetCapabilities: "+E);Ext.Msg.alert("WMJSExtServicePanel",
"Exception:\n"+E);c.tree.getRootNode().removeAll();c.setLoading(!1)};try{c.WMSService.getNodes(v,D,l,xml2jsonrequestURL)}catch(E){D(E)}}};Ext.apply(this,{closable:!1,border:!1,layout:"fit",autoScroll:!0,listeners:{afterrender:{fn:function(){c.buildTreeFromNodes()}}},items:[this.tree]});this.superclass.initComponent.apply(this,arguments)}});var webmapjsext_WMJSExt_ServicePanels=[];
Ext.define("webmapjsext.WMJSExt.ServicePanelManager",{extend:"Ext.panel.Panel",alias:"WMJSExtServicePanelManager",requires:["webmapjsext.WMJSExt.ServicePanel"],initComponent:function(){this.getServicePanel=function(c,l){for(var v=0;v<webmapjsext_WMJSExt_ServicePanels.length;v++)if(webmapjsext_WMJSExt_ServicePanels[v].service==c)return webmapjsext_WMJSExt_ServicePanels[v].layerpanel=l,webmapjsext_WMJSExt_ServicePanels[v].window;var D=[];webmapjsext_WMJSExt_ServicePanels.push(D);D.layerpanel=l;D.service=
c;D.servicePanel=Ext.create("webmapjsext.WMJSExt.ServicePanel",{header:!1,constrain:!0,autoDestroy:!1,height:400,service:D.layerpanel.WMJSLayer.service,name:D.layerpanel.WMJSLayer.name,border:0,itemclick:function(E,Y){D.layerpanel.setLayer(Y)}});D.window=Ext.create("webmapjsext.WMJSExt.WindowFader",{title:I18n.layers.text,autoDestroy:!1,closeAction:"hide",autoScroll:!0,floating:!0,animate:!0,constrain:!0,width:500,items:[D.servicePanel],bbar:[{iconCls:"button_refresh",handler:function(){D.window.refresh()}},
{text:I18n.embed.text,tooltip:"Embed layer view",handler:function(){D.window.hide();D.layerpanel.add(Ext.create("webmapjsext.WMJSExt.ServicePanel",{title:I18n.layers.text,header:!0,collapsible:!0,service:D.layerpanel.WMJSLayer.service,name:D.layerpanel.WMJSLayer.name,border:2,itemclick:function(E,Y,H){D.layerpanel.setLayer(Y,H)}}))}},{scale:"small",tooltip:I18n.add_new_layer.tooltip,iconCls:"layer_logos button_layerlist_layernew",handler:function(){Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:function(E){D.layerpanel.service=
E.service;D.layerpanel.name=E.layer;D.layerpanel.WMJSLayer.service=D.layerpanel.service;D.layerpanel.WMJSLayer.name=D.layerpanel.name;D.layerpanel.parseLayer(!0,function(Y,H){isDefined(E.ready)&&E.ready(l,D.layerpanel.parentWebMapJS)});return l},webMapJS:D.layerpanel.parentWebMapJS}).show()}}]});D.window.refresh=function(){D.servicePanel.buildTreeFromNodes(!0)};return D.window}}});var webmapjsext_WMJSExt_LayerPanel_ServicePanelManager,getServicePanelManager=function(){webmapjsext_WMJSExt_LayerPanel_ServicePanelManager||(webmapjsext_WMJSExt_LayerPanel_ServicePanelManager=Ext.create("webmapjsext.WMJSExt.ServicePanelManager",{}));return webmapjsext_WMJSExt_LayerPanel_ServicePanelManager};
Ext.define("webmapjsext.WMJSExt.LayerPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtLayerPanel",requires:"webmapjsext.WMJSExt.DimensionPanel webmapjsext.WMJSExt.StylePanel webmapjsext.WMJSExt.LayerPropertiesPanel Ext.form.field.Checkbox Ext.form.Label Ext.layout.container.Border Ext.slider.Single Ext.grid.Panel".split(" "),initComponent:function(){var c=this;isDefined(c.opacity)||(c.opacity=1);c.WMJSLayer=new WMJSLayer({service:c.service,name:c.name,style:c.style,opacity:c.opacity,transparent:c.transparent,
enabled:c.enabled});c.opacitySliderChanged=function(l){c.WMJSLayer&&(c.WMJSLayer.setOpacity(l/100),c.opacity=l,0==c.WMJSLayer.enabled?0<l&&(c.WMJSLayer.display(!0),c.hideShowButton.setIconCls("button_layer_visible"),c.WMJSLayer.draw("LayerPanel::Opacity")):0==l&&(c.opacity_backup=100,c.hideShowButton.setIconCls("button_layer_hidden"),c.WMJSLayer.display(!1),c.WMJSLayer.draw("LayerPanel::Opacity")))};c.opacitySlider=Ext.create("Ext.slider.Single",{width:50,useTips:!1,animate:!1,value:100*c.opacity,
minValue:0,maxValue:100,increment:1,tooltip:"transparency",listeners:{drag:{fn:function(l){c.opacitySliderChanged(l.getValue())}},change:{fn:function(l){c.opacitySliderChanged(l.getValue())}}}});c.hideShowButton=Ext.create("Ext.button.Button",{xtype:"button",tooltip:I18n.hide_or_display_layer.tooltip,iconCls:!0===c.WMJSLayer.enabled?"button_layer_visible":"button_layer_hidden",handler:function(l,v){c.WMJSLayer.display(!c.WMJSLayer.enabled);0==c.WMJSLayer.enabled?(this.setIconCls("button_layer_hidden"),
c.opacity_backup=c.opacitySlider.getValue(),c.opacitySlider.setValue(0)):(this.setIconCls("button_layer_visible"),c.opacitySlider.setValue(c.opacity_backup));c.WMJSLayer.draw("LayerPanel::HideShow")}});c.hideShowLegendButton=Ext.create("Ext.button.Button",{xtype:"button",tooltip:I18n.hide_or_display_legend.tooltip,iconCls:!0===c.WMJSLayer.displayLegendInMapEnable?"button_scale_on":"button_scale_off",handler:function(l,v){c.WMJSLayer.displayLegendInMap(!c.WMJSLayer.displayLegendInMapEnable);0==c.WMJSLayer.displayLegendInMapEnable?
this.setIconCls("button_scale_off"):this.setIconCls("button_scale_on");c.WMJSLayer.draw("LayerPanel::HideShow")}});c.select=function(){for(var l=c.parentPanelList.items,v=0;v<l.getCount();v++)l.get(v).unselect();try{c.getEl().dom.style.border="3px solid #8080FF"}catch(D){}c.selected=!0};c.unselect=function(){try{c.getEl().dom.style.border="3px solid #777"}catch(l){}c.selected=!1};c.setOpacity=function(l){c.opacitySlider.setValue(100*l);c.opacity=100*l};c.dimCallBackAdded=!1;c.dimensionPanels=[];c.parseLayer=
function(l,v){if(0!=isDefined(this.WMJSLayer.service)&&0!=this.WMJSLayer.service.length){c.setLoading("Reading GetCapabilities ...");for(var D=[],E=0;E<c.WMJSLayer.dimensions.length;E++)D.push(this.WMJSLayer.dimensions[E].clone());c.dimensionPanels=[];c.dimUpdate=function(){for(var H=0;H<c.dimensionPanels.length;H++){var N=c.WMJSLayer.getDimension(c.dimensionPanels[H].dimension.name);c.dimensionPanels[H].setValue(N.getValue())}};c.setDimension=function(H,N){var K=c.getDimensionPanel(H);isDefined(K)?
(c.WMJSLayer.setDimension(H,N),K.setValue(N)):error("WMJSExtLayerPanel::Dimension "+H+" not found")};c.getDimensionPanel=function(H){for(var N=0;N<c.dimensionPanels.length;N++)if(c.dimensionPanels[N].dimension.name===H)return c.dimensionPanels[N]};var Y=function(H){var N=H;H.message&&(N=H.message);c.setLoading(!1);H="Unable to parse layer "+c.WMJSLayer.name+"\n"+N;c.WMJSLayer.hasError=!0;error(H)};E=function(H){if(void 0!=c.WMJSLayer.parentMaps[0])if(c.WMJSLayer!=H)isDefined(H)&&Y("WMJSExtLayerPanel internal error:\n"+
H),v&&v(c),c.afterlayerready&&c.afterlayerready(c);else if(c.WMJSLayer.hasError){c.setLoading(!1);c.productButton.setText(c.WMJSLayer.path+c.WMJSLayer.title);c.styleButton.setText("");var N=c.WMJSLayer.lastError;isDefined(N)||(N="An error occurred connecting to WMS server");c.setTitle(N);error(N);H=new WMJSTimer;N=N.replaceAll("\n","<br/>");H.init(10,function(){Ext.Msg.alert(I18n.unable_to_connect_server.text,I18n.unable_to_connect_server.text+"<br/><br/>"+N)});v&&v(c);c.afterlayerready&&c.afterlayerready(c)}else{c.WMJSLayer.getLayerRelative(function(P,
X,oa){c.productButton.setText("("+(X+1)+"/"+oa+") "+c.WMJSLayer.title)},function(P){c.productButton.setText(c.WMJSLayer.path+c.WMJSLayer.title)});c.setStyleText(c.WMJSLayer.getStyleObject(c.WMJSLayer.currentStyle));c.dimensionPanels=[];c.dimensionPanelContainer.removeAll();var K="";for(H=0;H<c.WMJSLayer.dimensions.length;H++){for(var ba=0;ba<D.length;ba++)D[ba].name==c.WMJSLayer.dimensions[H].name&&(c.WMJSLayer.dimensions[H].currentValue=D[ba].currentValue);ba=Ext.create("WMJSExtDimensionPanel",{dimension:c.WMJSLayer.dimensions[H],
layer:c.WMJSLayer,dimensionPanels:c.dimensionPanels});c.dimensionPanels.push(ba);c.dimensionPanelContainer.add(ba);0<K.length&&(K+=", ");K+=c.WMJSLayer.dimensions[H].name}c.afterlayerready&&(v&&v(c),c.afterlayerready(c));c.setLoading(!1);for(H=0;H<c.WMJSLayer.dimensions.length;H++)K=c.WMJSLayer.parentMaps[0].getDimension(c.WMJSLayer.dimensions[H].name),isDefined(K)&&c.WMJSLayer.dimensions[H].setClosestValue(K.currentValue);for(H=0;H<c.WMJSLayer.dimensions.length;H++)c.dimensionPanels[H].setValue(c.WMJSLayer.dimensions[H].currentValue);
c.WMJSLayer.parentMaps[0].rebuildMapDimensions();0==c.dimCallBackAdded&&(c.WMJSLayer.parentMaps[0].addListener("ondimchange",c.dimUpdate,!0),c.dimCallBackAdded=!0);try{c.styleButton.loadStyles()}catch(P){}var Z=!1;isDefined(c.name)&&0<c.name.length&&(Z=!0);c.setTitle("Layer "+c.WMJSLayer.name);if(!1===Z){if(1==c.autoChooseLayer){c.autoChooseLayer=!1;c.WMJSLayer.autoSelectLayer(function(P){c.setLayer(P.name);c.WMJSLayer.zoomToLayer();Z=!0});return}c.productButton.showService()}c.WMJSLayer.WMJSService?
c.layerAbstractPanel.update("<span style='margin:5px;display:block;padding:5px;'><b>"+I18n.layer.text+"</b><table class='adagucviewer_wmsjsext_layerpanel_abstract'><tr><td style='width:50px;'><i>"+I18n.title.text+"</i></td><td>"+c.WMJSLayer.title+"</td></tr><tr><td><i>"+I18n.name.text+"</i></td><td>"+c.WMJSLayer.name+"</td></tr><tr><td><i>"+I18n.abstract.text+"</i></td><td>"+c.WMJSLayer.abstract+"</td></tr></table><hr/><b>"+I18n.service.text+"</b><table class='adagucviewer_wmsjsext_layerpanel_abstract'><tr><td><i>"+
I18n.title.text+"</i></td><td> "+c.WMJSLayer.WMJSService.title+"</td></tr><tr><td><i>"+I18n.service.text+"</i></td><td>"+c.WMJSLayer.WMJSService.onlineresource+"</td></tr><tr><td><i>"+I18n.abstract.text+"</i></td><td>"+c.WMJSLayer.WMJSService.abstract+"</td></tr></table></span>"):c.layerAbstractPanel.update("...");H=function(){var P=c.WMJSLayer.parentMaps[0].getLegendGraphicURLForLayer(c.WMJSLayer),X=c.WMJSLayer.parentMaps[0].getLegendStore();if(c.layerLegendPanel.getEl()){var oa=$(c.layerLegendPanel.getEl().dom).find("canvas")[0].getContext("2d");
(P=X.getImageForSrc(P))?(oa.rect(0,0,90,250),oa.fillStyle="white",oa.fill(),oa.drawImage(P.getElement()[0],0,0)):(oa.rect(0,0,90,250),oa.fillStyle="gray",oa.fill())}};c.WMJSLayer.parentMaps[0].getListener().addToCallback("onlegendready",H,!0);H()}};try{if(c.WMJSLayer.parseLayer(E,l,"LayerPanel::parseLayer",xml2jsonrequestURL),!0===l)try{console.log("clearing cache"),c.WMJSLayer&&c.WMJSLayer.parentMaps&&0<c.WMJSLayer.parentMaps.length&&(c.WMJSLayer.parentMaps[0].clearImageStore(),c.WMJSLayer.parentMaps[0].loadLegendInline(!0))}catch(H){console.error(H)}}catch(H){Y(H)}}};
c.duplicateLayer=function(){createNewLayerPanel(c.parentWebMapJS,c.WMJSLayer)};c.productButton=Ext.create("Ext.button.Button",{text:I18n.please_select_product.text,textAlign:"left",iconAlign:"right",iconCls:"button_combobox",tooltip:I18n.select_layer_product_from_service.tooltip,handler:function(l){void 0==c.service||0==c.service.length?Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:function(v){c.service=v.service;c.name=v.layer;c.WMJSLayer.service=c.service;c.WMJSLayer.name=c.name;
c.parseLayer(!0,function(D,E){isDefined(v.ready)&&v.ready(c,c.parentWebMapJS)});return c},webMapJS:c.parentWebMapJS}).show():l.showService()}});c.productButton.showService=function(){var l=getServicePanelManager();c.servicePanelWindow=l.getServicePanel(c.service,c);c.servicePanelWindow.showAt([this.getPosition()[0]+32,this.getPosition()[1]])};c.styleButton=Ext.create("Ext.button.Button",{text:I18n.default.text,textAlign:"left",iconAlign:"right",iconCls:"button_combobox",tooltip:I18n.change_style_layer.tooltip,
handler:function(){c.styleButton.loadStyles();c.stylePanel.showAt([this.getPosition()[0]+32,this.getPosition()[1]])},listeners:{afterrender:{fn:function(){c.stylePanel||(c.stylePanel=Ext.create("webmapjsext.WMJSExt.WindowFader",{title:I18n.available_styles.text,width:650,autoDestroy:!1,closeAction:"hide",items:[Ext.create("WMJSExtStylePanel",{header:!1,WMJSLayerObject:c.WMJSLayer,border:0,itemclick:function(l,v){c.setStyle(c.WMJSLayer.getStyleObject(v.name))}})]}));c.styleButton.loadStyles=function(){if(c.stylePanel&&
(c.stylePanel.getComponent(0).loadStyles(c.WMJSLayer),c.styleButton.setText("default"),0<c.WMJSLayer.currentStyle.length)){var l=c.WMJSLayer.currentStyle;c.styleButton.setText(l);try{c.setStyleText(c.WMJSLayer.getStyleObject(c.WMJSLayer.currentStyle))}catch(v){}}}}}}});c.dimensionPanelContainer=Ext.create("Ext.panel.Panel",{border:!1,padding:1,collapsed:!1,collapsible:!0,title:I18n.dimensions.text,cls:"WMJSExtLayerPanelDimensionHeader"});c.servicePanelContainer=Ext.create("webmapjsext.WMJSExt.ServicePanel",
{title:I18n.layers.text,cls:"WMJSExtLayerPanelDimensionHeader",header:!0,collapsible:!0,collapsed:!0,service:c.WMJSLayer.service,name:c.WMJSLayer.name,border:2,itemclick:function(l,v,D){c.setLayer(v,D)}});c.layerInfoPanelContainer=Ext.create("Ext.panel.Panel",{border:!1,frame:!1,height:35,padding:"3 3 3 3",layout:"border",items:[{xtype:"panel",region:"center",layout:"fit",border:!1,frame:!1,items:[c.productButton]},{style:{borderColor:"#EEE",borderStyle:"solid",borderWidth:"0px",backgroundColor:"#FFF"},
xtype:"panel",region:"east",itemId:"layerinfo",width:40,layout:"hbox",border:!1,frame:!1,padding:"0 0 0 0",items:[{xtype:"button",text:"&lt;",width:20,height:29,handler:function(){c.WMJSLayer.getPreviousLayer(function(l){c.setLayer(l.name)})}},{xtype:"button",text:"&gt;",width:20,height:29,handler:function(){c.WMJSLayer.getNextLayer(function(l){c.setLayer(l.name)})}}]}]});c.setLayer=function(l,v){c.WMJSLayer.name=l;isDefined(v)&&(c.WMJSLayer.service=v);c.parseLayer();c.WMJSLayer.draw("LayerPanel::setLayer");
c.servicePanelWindow&&c.servicePanelWindow.hide();c.stylePanel&&c.styleButton.loadStyles()};c.setStyleText=function(l){0==isDefined(l)?c.styleButton.setText("default"):c.styleButton.setText("("+(l.index+1)+"/"+l.nrOfStyles+") "+l.title)};c.setStyle=function(l){try{c.WMJSLayer.setStyle(l.name)}catch(v){}c.WMJSLayer.draw("LayerPanel::setStyle");c.stylePanel.hide();c.setStyleText(l)};c.styleInfoPanelContainer=Ext.create("Ext.panel.Panel",{border:!1,frame:!1,height:32,padding:"0 3 3 3",layout:"border",
items:[{xtype:"panel",region:"center",layout:"fit",border:!1,frame:!1,items:[c.styleButton]},{style:{borderColor:"#EEE",borderStyle:"solid",borderWidth:"0px",backgroundColor:"#FFF"},xtype:"panel",region:"east",width:40,layout:"hbox",border:!1,frame:!1,items:[{xtype:"button",text:"&lt;",width:20,height:29,handler:function(){c.setStyle(c.WMJSLayer.getStyleObject(c.WMJSLayer.currentStyle,-1))}},{xtype:"button",text:"&gt;",width:20,height:29,handler:function(){c.setStyle(c.WMJSLayer.getStyleObject(c.WMJSLayer.currentStyle,
1))}}]}]});c.animationButton={listeners:{afterrender:{fn:function(l){c.WMJSLayer.parentMaps[0].isAnimating&&l.setIconCls("button_stop_animation");c.WMJSLayer.parentMaps[0].addListener("onstopanimation",function(){l.setIconCls("button_play_animation")},!0);c.WMJSLayer.parentMaps[0].addListener("onstartanimation",function(){l.setIconCls("button_stop_animation")},!0)}}},scale:"small",iconCls:"button_play_animation",tooltip:I18n.start_or_stop_animation.tooltip,handler:function(l){if(c.WMJSLayer.parentMaps[0].isAnimating)c.WMJSLayer.parentMaps[0].stopAnimating(),
l.setIconCls("button_play_animation");else if(l.setIconCls("button_stop_animation"),l=c.WMJSLayer.getDimension("time"),void 0==l)alert(I18n.no_time_dimension_in_layer.text);else{var v=[],D=l.size(),E=D-24,Y=D,H=l.getIndexForValue(l.currentValue);H=Y-1-H;E-=H;Y-=H;0>E&&(Y+=-E,E=0);0>Y&&(Y=0);E>D-1&&(E=D-1);Y>D&&(Y=D);for(D=E;D<Y;D++)v.push({name:l.name,value:l.getValueForIndex(D)});c.WMJSLayer.parentMaps[0].draw(v)}}};c.moveUp=function(){var l=c.up("panel"),v=l.items.indexOf(c);0<v&&(l.move(v,v-1),
c.WMJSLayer.moveUp())};c.moveDown=function(){var l=c.up("panel"),v=l.items.indexOf(c);v<l.items.length-1&&(l.move(v,v+1),c.WMJSLayer.moveDown())};c.layerLegendPanel=Ext.create("Ext.panel.Panel",{xtype:"panel",region:"west",html:"<canvas width=90 height=250></canvas>",border:!1,frame:!1,plain:!0,width:90});c.layerAbstractPanel=Ext.create("Ext.panel.Panel",{xtype:"panel",region:"center",layout:"fit",autoScroll:!0,border:!1,frame:!1,plain:!0});Ext.apply(this,{margin:"0 0 2 0",frame:!0,plain:!0,padding:"0 0 0 0",
collapsible:!1,closable:!0,hideCollapseTool:!1,header:!0,layout:{type:"vbox",align:"stretch"},items:[c.layerInfoPanelContainer,c.styleInfoPanelContainer,c.dimensionPanelContainer,c.servicePanelContainer,{xtype:"panel",layout:"border",frame:!1,border:!1,plain:!0,title:"Service info",cls:"WMJSExtLayerPanelDimensionHeader",collapsible:!0,collapsed:!0,height:250,region:"center",items:[c.layerAbstractPanel,c.layerLegendPanel]}],bbar:[{xtype:"button",tooltip:I18n.move_layer_up.tooltip,iconCls:"button_layerlist_layerup",
handler:function(l,v){c.moveUp()}},{xtype:"button",tooltip:I18n.move_layer_down.tooltip,iconCls:"button_layerlist_layerdown",handler:function(l,v){c.moveDown()}},{iconCls:"button_settings_icon",tooltip:I18n.layer_properties.tooltip,handler:function(l,v){c.propertiesPanel||(c.propertiesPanel=Ext.create("Ext.window.Window",{title:I18n.properties_for.text+c.WMJSLayer.title,width:600,autoDestroy:!1,closeAction:"hide",layout:"fit",items:[Ext.create("WMJSExtLayerPropertiesPanel",{header:!1,WMJSLayerObject:c.WMJSLayer,
border:0,itemclick:function(D,E){}})]}));c.propertiesPanel.showAt(l.getPosition())}},{iconCls:"button_refresh",tooltip:I18n.reload_this_layer.tooltip,handler:function(){isDefined(c.servicePanelWindow)&&c.servicePanelWindow.refresh(!0);c.parseLayer(!0)}},c.animationButton,,{xtype:"tbfill"},{xtype:"label",text:I18n.opacity.text},c.opacitySlider,c.hideShowButton,c.hideShowLegendButton,{scale:"small",iconCls:"button_zoomfullextent",tooltip:I18n.zoom_to_this_layer.tooltip,handler:function(){c.WMJSLayer.zoomToLayer()}}],
listeners:{render:function(l){if(l.header)l.header.on("click",function(){c.select()});c.select()},afterrender:{fn:function(){c.parseLayer()}},beforeclose:function(l){c.WMJSLayer.parentMaps[0].stopAnimating();c.WMJSLayer.remove()}}});this.callParent(arguments);c.parseLayer()}});Ext.define("webmapjsext.WMJSExt.DataPanel",{extend:"Ext.window.Window",alias:"WMJSExtDataPanel",initComponent:function(){var c=this,l=this.dataPanelClicked;DataSelectorModel=Ext.define("DataSelectorModel",{extend:"Ext.data.Model",fields:[{name:"title"},{name:"abs"},{name:"thumbnail"},{name:"service"},{name:"layer"},{name:"style"},{name:"srs"},{name:"bbox"},{name:"baselayerservice"},{name:"baselayername"},{name:"opacity"}]});var v=Ext.create("Ext.data.Store",{model:"DataSelectorModel",data:dataChooserConfiguration}),
D=function(E,Y){var H=function(ba){ba=K.getComponent("AddCustomWMSPanel").getComponent("customwmsurltextarea").getValue();ba=WMJScheckURL(ba);if(5>ba.length)alert("Invalid url given.");else{try{Ext.state.Manager.set("formFieldValues",ba)}catch(Z){console.log(Z)}c.layerPanel=E({service:ba,ready:function(Z,P){isDefined(Z)?Z.WMJSLayer.hasError?(new WMJSTimer).init(10,function(){Ext.Msg.alert(I18n.unable_to_connect_server.text,I18n.unable_to_connect_server.text+"<br/><br/>"+layerPanel.WMJSLayer.lastError)}):
K.hide():K.hide()}})}},N=Ext.create("Ext.form.field.Text",{itemId:"customwmsurltextarea",emptyText:I18n.enter_wms_version_url.text,height:25,margin:10,stateful:!0,listeners:{specialkey:function(ba,Z){Z.getKey()==Z.ENTER&&H(Y)},afterrender:function(ba){if(ba=Ext.state.Manager.get("formFieldValues"))console.log(ba),N.setValue(ba)}}});var K=Ext.create("Ext.window.Window",{title:I18n.add_custom_service.text,width:620,height:200,autoDestroy:!0,autoScroll:!1,modal:!0,layout:"border",items:[{xtype:"panel",
region:"north",layout:"fit",border:!1,itemId:"AddCustomWMSPanel",items:[N]},{xtype:"label",margin:10,html:"Add your own WMS version 1.1.1 server address in the box above. For example:<br> https://geoservices.knmi.nl/cgi-bin/RADNL_OPER_R___25PCPRR_L3.cgi? ",region:"center"}],buttons:[{text:I18n.add.text,handler:function(){H(Y)}}]});K.show()};c.showCustomWMSWindow=function(){D(c.dataPanelClicked,c.webMapJS)};Ext.apply(this,{title:I18n.add_layers_and_services.text,width:.8*$(window).width(),height:.8*
$(window).height(),autoDestroy:!0,modal:!0,autoScroll:!0,id:"images-view",buttons:[{scale:"large",text:"BACK",handler:function(){c.close();Ext.create("webmapjsext.WMJSExt.FolderPanel",{dataPanelClicked:l,webMapJS:mainWebmapJS.webMapJS}).show()}},{scale:"large",text:I18n.add_custom_wms_service.text,handler:function(){c.close();D(c.dataPanelClicked,c.webMapJS)}},{scale:"large",text:"CLOSE",handler:function(){c.close()}}],items:Ext.create("Ext.view.View",{store:v,tpl:'<tpl for=".">;<div class="thumb-wrap" id="{title}">;<div class="thumb"><img src="{thumbnail}" title="{abs}"></div>;<span class="x-editable">{title}</span></div>;</tpl>;<div class="x-clear"></div>'.split(";"),
trackOver:!0,overItemCls:"x-item-over",itemSelector:"div.thumb-wrap",emptyText:"No images to display",listeners:{itemclick:function(E,Y){c.dataPanelClicked({title:Y.get("title"),thumbnail:Y.get("thumbnail"),service:Y.get("service"),layer:Y.get("layer"),srs:Y.get("srs"),bbox:Y.get("bbox"),style:Y.get("style"),baselayerservice:Y.get("baselayerservice"),baselayername:Y.get("baselayername"),opacity:Y.get("opacity")});c.close()}}})});webmapjsext.WMJSExt.DataPanel.superclass.initComponent.apply(this,arguments)}});var defaultBaselayer={service:"https://geoservices.knmi.nl/cgi-bin/worldmaps.cgi?",name:"world_line"};
Ext.define("webmapjsext.WMJSExt.BaseMapSelector",{extend:"Ext.panel.Panel",alias:"WMJSExtBaseMapSelector",requires:["Ext.form.field.Checkbox","Ext.form.Label","Ext.layout.container.Border","Ext.slider.Single","Ext.grid.Panel"],initComponent:function(){var c=this.webmapjsext;OverlaySelectorModel=Ext.define("OverlaySelectorModel",{extend:"Ext.data.Model",fields:[{name:"title"},{name:"enabled",type:"bool"},{name:"type"},{name:"layer",type:"object"},{name:"name"}]});var l=Ext.create("Ext.data.Store",
{model:"OverlaySelectorModel"});Ext.apply(this,{autoScroll:!0,plain:!0,frame:!1,border:!1,bodyCls:"layerlistbg",title:" ",tooltip:I18n.basemaps_overlays.tooltip,iconCls:"button_basemaps32",defaultType:"checkbox",layout:"anchor",items:Ext.create("Ext.grid.Panel",{header:!1,bodyCls:"layerlistbg",autoScroll:!1,plain:!0,frame:!1,border:!1,store:l,columns:[{text:"",dataIndex:"enabled",xtype:"checkcolumn",width:30,listeners:{checkchange:function(v,D,E){l.getAt(D).get("layer").enabled=E;c.webMapJS.draw("WMJSExtMapTypePanel::enableLayer")}}},
{text:I18n.title.text,dataIndex:"title",flex:2},{text:I18n.layer.text,dataIndex:"name",flex:1},{text:I18n.type.text,dataIndex:"type"}],columnLines:!0,iconCls:"icon-grid"}),listeners:{show:{fn:function(){for(var v=[],D=c.webMapJS.getBaseLayers(),E=0;E<D.length;E++){var Y=D[E].title;0==E&&(Y="Default base layer");v.push({title:Y,layer:D[E],name:D[E].name,enabled:D[E].enabled,type:1==D[E].keepOnTop?"overlay":"baselayer"})}l.loadRawData(v)}}}});this.superclass.initComponent.apply(this,arguments)}});defaultBaselayer={service:"https://geoservices.knmi.nl/wms?DATASET=baselayers&",name:"countryborders"};
Ext.define("webmapjsext.WMJSExt.MapTypeSelector",{extend:"Ext.panel.Panel",alias:"WMJSExtMapTypeSelector",requires:["Ext.form.field.Checkbox","Ext.form.Label","Ext.layout.container.Border","Ext.slider.Single","Ext.grid.Panel"],initComponent:function(){var c=this.maptypeclicked;MapTypeSelectorModel=Ext.define("MapTypeSelectorModel",{extend:"Ext.data.Model",fields:[{name:"title"},{name:"bbox"},{name:"srs"},{name:"url"},{name:"baselayer"}]});var l=Ext.create("Ext.data.Store",{model:"MapTypeSelectorModel",
data:mapTypeConfiguration});Ext.apply(this,{id:"maptypeselector",title:" ",tooltip:I18n.predefined_areas.tooltip,iconCls:"button_maptype32",autoScroll:!0,plain:!0,frame:!1,border:!1,baseCls:"layerlistbg",cls:"layerlistbg",items:[Ext.create("Ext.view.View",{title:"Baselayers",plain:!0,frame:!1,border:!1,cls:"layerlistbg",store:l,tpl:'<tpl for=".">;<div class="thumb-wrap" id="{title}">;<div class="thumb"><img src="{url}" title="{title}"></div>;<span class="x-editable">{title}</span></div>;</tpl>;<div class="x-clear"></div>'.split(";"),
trackOver:!0,overItemCls:"x-item-over",itemSelector:"div.thumb-wrap",emptyText:"No images to display",prepareData:function(v){var D=[v.bbox[0],v.bbox[1],v.bbox[2],v.bbox[3]];if(1.375<(v.bbox[2]-v.bbox[0])/(v.bbox[3]-v.bbox[1])){var E=(v.bbox[2]-v.bbox[0])/1.375;E=(E-(v.bbox[3]-v.bbox[1]))/2;D[1]=v.bbox[1]-E;D[3]=v.bbox[3]+E}else E=1.375*(v.bbox[3]-v.bbox[1]),E=(E-(v.bbox[2]-v.bbox[0]))/2,D[0]=v.bbox[0]-E,D[2]=v.bbox[2]+E;E=defaultBaselayer.service;var Y=defaultBaselayer.name;v.baselayer.service&&
v.baselayer.name&&(E=v.baselayer.service,Y=v.baselayer.name);v.url=E+"service=WMS&request=GetMap&styles=&width=160&height=120&format=image/png";v.url+="&layers="+Y;v.url+="&version=1.1.1";v.url+="&bbox="+D[0]+","+D[1]+","+D[2]+","+D[3];v.url+="&srs="+v.srs;return v},listeners:{itemclick:function(v,D){c(D)}}})]});this.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.AnimationPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtAnimationPanel",requires:["Ext.form.field.ComboBox","Ext.form.field.Picker","Ext.form.field.Trigger","Ext.layout.container.Form"],initComponent:function(){var c=this,l=Ext.create("Ext.data.Store",{fields:[{type:"string",name:"name"},{type:"string",name:"title"},{type:"object",name:"wmjslayer"}]}),v=Ext.create("Ext.data.Store",{fields:[{type:"string",name:"name"},{type:"object",name:"wmjsdimension"}]}),D=function(){var N=
c.mappanel.webMapJS.getLayers();l.removeAll();for(var K=0;K<N.length;K++)l.add({name:N[K].service+N[K].name,title:N[K].title,wmjslayer:N[K]})},E=function(N){if(isDefined(N)){c.selectedLayer=N;var K=c.getComponent("dimensionpanel").getComponent("dimensioncombobox");K.disable();v.removeAll();for(var ba=0;ba<N.dimensions.length;ba++)v.add({name:N.dimensions[ba].name,wmjsdimension:N.dimensions[ba]});0<v.getCount()&&(K.setValue(v.getAt(0).get("name")),Y(v.getAt(0).get("wmjsdimension")),K.enable())}},Y=
function(N){isDefined(N)&&(c.getComponent("dimensionvaluespanel").getComponent("dimensioncurrentvalue").setValue(N.getValue()),c.dimension=N)},H=function(){isDefined(c.dimensionName)&&isDefined(c.currentValue)&&(c.mappanel.webMapJS.stopAnimating(),c.mappanel.webMapJS.setDimension(c.dimensionName,c.currentValue),c.mappanel.webMapJS.draw("AnimationPanel::stop"))};Ext.apply(this,{border:!1,frame:!0,items:[{xtype:"panel",itemId:"layerpanel",layout:"border",frame:!0,border:!1,margin:3,height:36,items:[{margin:3,
xtype:"combobox",itemId:"layercombo",region:"center",fieldLabel:I18n.select_layer.text,labelWidth:110,displayField:"title",valuefield:"name",store:l,queryMode:"local",listeners:{select:{fn:function(N,K){N=K[0].get("wmjslayer");E(N)}}}},{xtype:"button",region:"east",width:23,iconCls:"button_refresh",handler:function(){D()}}]},{xtype:"panel",itemId:"dimensionpanel",layout:"fit",frame:!0,border:!1,margin:3,height:36,items:[{margin:3,xtype:"combobox",itemId:"dimensioncombobox",region:"center",fieldLabel:I18n.select_dimension.text,
labelWidth:110,disabled:!0,store:v,displayField:"name",valuefield:"name",queryMode:"local",listeners:{select:{fn:function(N,K){Y(K[0].get("wmjsdimension"))}}}}]},{xtype:"panel",itemId:"dimensionvaluespanel",frame:!0,border:!1,margin:3,layout:"border",height:36,items:[{xtype:"label",text:I18n.start_at.text+":",width:110,region:"west",margin:3},{itemId:"dimensioncurrentvalue",xtype:"textfield",region:"center",frame:!1,border:!1,margin:3},{xtype:"button",region:"east",width:23,iconCls:"button_refresh",
handler:function(){0<l.getCount()&&E(c.selectedLayer)}}]},{xtype:"panel",layout:"border",itemId:"numberofstepspanel",border:!1,frame:!0,height:36,margin:3,items:[{xtype:"label",text:I18n.number_of_steps.text+":",width:110,region:"west",margin:3},{xtype:"numberfield",itemId:"numberofstepsnumberfield",region:"center",value:12}]},{xtype:"panel",layout:"border",itemId:"delaypanel",border:!1,frame:!0,height:36,margin:3,items:[{xtype:"label",text:I18n.delay_ms.text+":",width:110,region:"west",margin:3},
{xtype:"numberfield",itemId:"delaynumberfield",region:"center",value:300}]}],buttons:[{text:I18n.stop.text,handler:H},{text:I18n.start.text,handler:function(){var N=c.getComponent("dimensionvaluespanel").getComponent("dimensioncurrentvalue").getValue(),K=c.getComponent("numberofstepspanel").getComponent("numberofstepsnumberfield").getValue(),ba=c.getComponent("delaypanel").getComponent("delaynumberfield").getValue();N=c.dimension.getIndexForValue(N);var Z=c.mappanel.webMapJS.getMaxNumberOfAnimations();
K>Z&&(K=Z,c.getComponent("numberofstepspanel").getComponent("numberofstepsnumberfield").setValue(K));K--;0>K&&(K=0);K=N+K;K>=c.dimension.size()&&(Z=c.dimension.size()-(K+1),N+=Z,K+=Z);0>N&&(N=0);0>K&&(K=0);for(Z=[];N<K+1;N++)Z.push({name:c.dimension.name,value:c.dimension.getValueForIndex(N)});0==c.mappanel.webMapJS.isAnimating&&(c.dimensionName=c.dimension.name,c.currentValue=c.dimension.currentValue);c.mappanel.webMapJS.setAnimationDelay(ba);c.mappanel.webMapJS.draw(Z)}}],listeners:{afterrender:{fn:function(){D();
0<l.getCount()&&(c.getComponent("layerpanel").getComponent("layercombo").setValue(l.getAt(0)),E(l.getAt(0).get("wmjslayer")))}},destroy:{fn:function(){H()}}}});webmapjsext.WMJSExt.AnimationPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.PermaLinkPanel",{extend:"Ext.panel.Panel",alias:"WMJSExtPermaLinkPanel",initComponent:function(){var c=this;Ext.apply(this,{border:!1,frame:!0,layout:"fit",items:[{xtype:"panel",layout:"border",frame:!0,border:!1,items:[{frame:!0,border:0,xtype:"panel",height:28,region:"north",html:"<h1>Paste the link below in an email or chat message</h1>"},{xtype:"displayfield",region:"center",itemId:"mainTextField"}]}],listeners:{afterrender:{fn:function(){var l=c.getComponent(0).getComponent("mainTextField");
var v=location.href.split("?")[0];v=v.split("#")[0];-1!=v.indexOf("/index.html")&&(v=v.substring(0,v.indexOf("/index.html")),v+="/");-1!=v.indexOf("/index.jsp")&&(v=v.substring(0,v.indexOf("/index.jsp")),v+="/");-1!=v.indexOf("/index.php")&&(v=v.substring(0,v.indexOf("/index.php")),v+="/");var D=c.mappanel.webMapJS,E=0,Y=D.getActiveLayer(),H=D.getLayers();isDefined(void 0)&&(H=[],H.push(void 0));var N=D.getProjection();var K="?srs="+URLEncode(N.srs);K+="&bbox="+URLEncode(N.bbox);if(0<H.length){var ba=
[],Z=[];for(N=0;N<H.length;N++)if(H[N].name&&H[N].title!=WMJSEmptyLayerName){var P=ba.indexOf(H[N].service);-1==P&&(ba.push(H[N].service),P=ba.length-1);Z.push(H[N].name.replace(/,/g,".")+"$"+H[N].format+"$"+H[N].enabled+"$"+H[N].getStyle()+"$"+H[N].opacity+"$"+P);Y==H[N]&&(E=N)}Y=URLEncode(ba[0]);for(N=1;N<ba.length;N++)Y+=","+URLEncode(ba[N]);K+="&service="+Y;Y=URLEncode(Z[0]);for(N=1;N<Z.length;N++)Y+=","+URLEncode(Z[N]);K=K+("&layer="+Y)+("&selected="+E);E=D.getDimensionList();isDefined(void 0)&&
(E=(void 0).dimensions);if(0<E.length)for(K+="&dims=",N=0;N<E.length;N++)0<N&&(K+=","),K+=E[N].name+"$"+E[N].currentValue}D.isMapPinVisible();D=D.getBaseLayers();E="";for(N=0;N<D.length;N++)D[N].enabled&&(0<E.length&&(E+="$"),E+=URLEncode(D[N].name));""==E&&(E="none");v+=K+("&baselayers="+E);l.setValue('<a href="'+v+'" target="_blank">'+v+" </a>")}}}});webmapjsext.WMJSExt.PermaLinkPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.SpinnerSlider",{extend:"Ext.panel.Panel",alias:["widget.spinnerslider"],requires:["Ext.slider.Single"],initComponent:function(){var c=this;c.slidertitle=c.title;c.title=void 0;c.setValue=function(l){c.slider.suspendEvents();c.slider.setValue(l);c.slider.resumeEvents();c.label.setText(""+decimalFormatter(l,c.ndecs))};c.getValue=function(){return c.slider.getValue()};c.setValueByEvent=function(l){c.setValue(l);c.trigger&&c.trigger(l)};Ext.apply(this,{border:!1,height:15,
margin:"8 5 8 5",frame:!1,layout:"border",items:[{xtype:"panel",region:"west",width:44,border:!1,items:[{xtype:"label",text:c.slidertitle}]},{xtype:"panel",region:"center",layout:"fit",border:!1,items:[{xtype:"slider",useTips:!1,animate:!1,minValue:c.min,maxValue:c.max,itemId:"slider",margin:"0 4 0 4",listeners:{drag:{fn:function(l){c.setValueByEvent(l.getValue())}},change:{fn:function(l){c.setValueByEvent(l.getValue())}}}}]},{xtype:"panel",layout:"border",border:!1,frame:!1,region:"east",width:75,
bodyStyle:{"background-color":"white"},items:[{region:"west",scale:"small",xtype:"button",text:"&lt;",width:20,handler:function(){c.setValueByEvent(c.queryById("slider").getValue()-1)}},{xtype:"label",itemId:"label",region:"center",cls:"test-lbl-text-align"},{region:"east",scale:"small",xtype:"button",text:"&gt;",width:20,handler:function(){c.setValueByEvent(c.queryById("slider").getValue()+1)}}]}]});this.superclass.initComponent.apply(this,arguments);this.label=this.queryById("label");this.slider=
this.queryById("slider")}});
Ext.define("Ext.ux.form.field.DateTime",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.datetimefield",layout:{type:"vbox",align:"stretch"},border:!1,width:220,msgTarget:"side",dateCfg:{},timeCfg:{},initComponent:function(){this.buildField(this);this.callParent();this.dateField=this.down("datefield");this.timeField=this.down("timefield");this.initField();this.yearslider=this.queryById("yearslider");this.monthslider=this.queryById("monthslider");this.dayslider=
this.queryById("dayslider");this.hourslider=this.queryById("hourslider");this.minuteslider=this.queryById("minuteslider");this.secondslider=this.queryById("secondslider")},buildField:function(c){_this=this;_this.slidersTriggered=function(){var l=new Date(Date.UTC(_this.yearslider.getValue(),_this.monthslider.getValue()-1,_this.dayslider.getValue(),_this.hourslider.getValue(),_this.minuteslider.getValue(),_this.secondslider.getValue()));_this.setValue(l);_this.triggerEvent()};this.items=[{xtype:"panel",
border:!1,layout:{type:"hbox"},items:[{xtype:"datefield",format:"Y-m-d",validateOnChange:!0,validateOnBlur:!0,validateBlank:!1,emptyText:"yyyy-mm-dd",anchor:"100%",maskRe:/^([0-9]|-)$/,width:110,listeners:{change:{fn:function(l,v){c.datePart=v;c.triggerEvent()}}}},{xtype:"timefield",format:"H:i:s UTC",width:110,listeners:{change:{fn:function(l,v){c.timePart=v;c.triggerEvent()}}}}]},{xtype:"panel",border:!1,items:[{xtype:"spinnerslider",title:"Year",itemId:"yearslider",min:parseISO8601DateToDate(_this.minTimeValue).getUTCFullYear(),
max:parseISO8601DateToDate(_this.maxTimeValue).getUTCFullYear(),ndecs:4,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Month",itemId:"monthslider",min:1,max:12,ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Day",itemId:"dayslider",min:1,max:31,ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Hour",itemId:"hourslider",min:0,max:23,ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Minute",itemId:"minuteslider",min:0,max:59,
ndecs:2,trigger:_this.slidersTriggered},{xtype:"spinnerslider",title:"Second",itemId:"secondslider",min:0,max:59,ndecs:2,trigger:_this.slidersTriggered}]}]},triggerEvent:function(){if(0!=_this.triggerEvents&&this.datePart&&this.timePart)try{var c=decimalFormatter(this.datePart.getFullYear(),4)+"-"+decimalFormatter(this.datePart.getMonth()+1,2)+"-"+decimalFormatter(this.datePart.getDate(),2)+"T"+decimalFormatter(this.timePart.getUTCHours(),2)+":"+decimalFormatter(this.timePart.getUTCMinutes(),2)+":"+
decimalFormatter(this.timePart.getUTCSeconds(),2)+"Z",l=parseISO8601DateToDate(c);this.setValue(l);this.fireEvent("change",this,l)}catch(v){}},getValue:function(){var c=this.dateField.getSubmitValue(),l=this.timeField.getSubmitValue();if(c)if(l){var v=this.getFormat();v=Ext.Date.parse(c+" "+l,v)}else v=this.dateField.getValue();return v},setValue:function(c){_this.suspendEvents();_this.triggerEvents=!1;if(isDefined(c)&&c!=_this.currentValue){_this.currentValue=c;var l=parseISO8601DateToDate(_this.minTimeValue),
v=parseISO8601DateToDate(_this.maxTimeValue);c<l&&(c=l);c>v&&(c=v);l=c.getUTCFullYear();_this.dateField.setValue(new Date(Date.UTC(l,c.getUTCMonth(),c.getUTCDate(),0,0,0)));_this.yearslider.setValue(c.getUTCFullYear());_this.monthslider.setValue(c.getUTCMonth()+1);_this.dayslider.setValue(c.getUTCDate());_this.hourslider.setValue(c.getUTCHours());_this.minuteslider.setValue(c.getUTCMinutes());_this.secondslider.setValue(c.getUTCSeconds());_this.timeField.setValue(c)}_this.triggerEvents=!0;_this.resumeEvents()}});Ext.define("webmapjsext.WMJSExt.CheckColumn",{extend:"Ext.grid.column.Column",alias:"widget.checkcolumn",constructor:function(){this.addEvents("checkchange");this.callParent(arguments)},processEvent:function(c,l,v,D,E,Y){if("mousedown"==c||"keydown"==c&&(Y.getKey()==Y.ENTER||Y.getKey()==Y.SPACE)){var H=l.panel.store.getAt(D),N=this.dataIndex,K=!H.get(N);H.set(N,K);this.fireEvent("checkchange",this,D,K);return!1}return this.callParent(arguments)},renderer:function(c){var l=Ext.baseCSSPrefix,v=[l+"grid-checkheader"];
c&&v.push(l+"grid-checkheader-checked");return'<div class="'+v.join(" ")+'">&#160;</div>'}});Ext.define("webmapjsext.WMJSExt.IFramePanel",{extend:"Ext.Panel",src:"about:blank",loadingText:"Loading ...",initComponent:function(){this.updateHTML();this.callParent(arguments)},updateHTML:function(){this.html='<iframe id="iframe-'+this.id+'" style="overflow:auto;width:100%;height:100%;" frameborder="0"  src="'+this.src+'"></iframe>'},reload:function(){this.setSrc(this.src)},getIframeId:function(){return"iframe-"+this.id},reset:function(){var c=this.getDOM(),l=c.parentNode;c&&l&&(c.src="about:blank",
c.parentNode.removeChild(c));c=document.createElement("iframe");c.frameBorder=0;c.src=this.src;c.id="iframe-"+this.id;c.style.overflow="auto";c.style.width="100%";c.style.height="100%";l.appendChild(c)},setSrc:function(c,l){this.src=c;if(l=this.getDOM())l.src=c},getSrc:function(){return this.src},getDOM:function(){return document.getElementById("iframe-"+this.id)},getDocument:function(){var c=this.getDOM();c=c.contentWindow?c.contentWindow:c.contentDocument.document?c.contentDocument.document:c.contentDocument;
return c.document},destroy:function(){var c=this.getDOM();c&&c.parentNode&&(c.src="about:blank",c.parentNode.removeChild(c));this.callParent(arguments)},update:function(c){this.setSrc("about:blank");try{var l=this.getDocument();l.open();l.write(c);l.close()}catch(v){this.reset(),l=this.getDocument(),l.open(),l.write(c),l.close()}}});Ext.define("webmapjsext.WMJSExt.WCSPanel",{extend:"Ext.panel.Panel",alias:"WCSPanel",initComponent:function(){var c=new function(){this.bbox=this.srs=void 0;this.coverages=[]};c.srs=this.WMJSLayer.parentMaps[0].getProjection().srs;c.bbox=this.WMJSLayer.parentMaps[0].getProjection().bbox.toString();var l=new WMJSCoverage({service:this.WMJSLayer.WMJSService.service,name:this.WMJSLayer.name});c.coverages.push(l);l.dimensions=this.WMJSLayer.dimensions;var v="EPSG:4326",D="AAIGRID",E="-180,-90,180,90",
Y=Ext.create("Ext.data.Store",{fields:["title","srs","bbox"],data:{items:[]},proxy:{type:"memory",reader:{type:"json",root:"items"}}}),H=Ext.create("Ext.grid.Panel",{border:!1,store:Y,columns:[{text:"Title",dataIndex:"title",flex:1},{text:"ESPG Code",dataIndex:"srs"}],listeners:{select:{fn:function(sa,xa){sa=xa.get("bbox");v=xa.get("srs");E=sa;ba.getComponent("column2").getComponent("areaPanel").getComponent("bboxtop").setValue(sa.split(",")[3]);ba.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxwest").setValue(sa.split(",")[0]);
ba.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxeast").setValue(sa.split(",")[2]);ba.getComponent("column2").getComponent("areaPanel").getComponent("bboxbottom").setValue(sa.split(",")[1]);xa=Math.abs(E.split(",")[2]-E.split(",")[0]);sa=Math.abs(E.split(",")[3]-E.split(",")[1]);var Ea=c.coverages[0];ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").setValue(xa/Ea.width);ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").setValue(sa/
Ea.height);qa()}}}}),N=Ext.create("Ext.data.Store",{fields:["title","format"],data:{items:[]},proxy:{type:"memory",reader:{type:"json",root:"items"}}}),K=Ext.create("Ext.grid.Panel",{border:!1,store:N,columns:[{text:I18n.format.text,dataIndex:"format"},{text:I18n.title.text,dataIndex:"title",flex:1}],listeners:{select:{fn:function(sa,xa){D=xa.get("format");qa()}}}});c.onReady=function(){H.setLoading(!1);for(var sa=this.coverages[0],xa=0;xa<sa.supportedProjections.length;xa++){var Ea=sa.supportedProjections[xa].srs;
try{Ea=epsgDescriptionLookup[sa.supportedProjections[xa].srs]}catch(La){}isDefined(Ea)||(Ea=sa.supportedProjections[xa].srs);Y.add({title:Ea,srs:sa.supportedProjections[xa].srs,bbox:sa.supportedProjections[xa].bbox})}xa=Y.find("srs",sa.nativeCRS);-1==xa&&(xa=Y.find("srs","EPSG:4326"));-1==xa&&(xa=0);H.getView().select(xa);Y.add({title:"Viewer window projection and area",srs:this.srs,bbox:this.bbox});ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").setValue(sa.width);
ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").setValue(sa.height);Ea=ba.getComponent("column3").getComponent("dimensionPanel");for(xa=0;xa<sa.dimensions.length;xa++)Ea.add({xtype:"textfield",fieldLabel:sa.dimensions[xa].name,value:sa.dimensions[xa].currentValue,labelWidth:40,padding:"30",width:200,itemId:"dimtextfield_"+sa.dimensions[xa].name,listeners:{change:{fn:function(){qa()}}}});for(xa=0;xa<sa.formats.length;xa++){Ea=sa.formats[xa];
var Ca=sa.formats[xa].toUpperCase();try{Ea=formatDescriptionLookup[Ca]}catch(La){}isDefined(Ea)||(Ea=sa.formats[xa]);N.add({title:Ea,format:sa.formats[xa]});"AAIGRID"==Ca&&K.getView().select(xa)}qa();oa.update('<table style="margin:5px;"><tr><td><b>Coverage:</b></td><td>'+sa.name+"</td></tr><tr><td><b>Title:</b></td><td>"+sa.title+"</td></tr><tr><td><b>Description:</b></td><td>"+sa["abstract"]+"</td></tr></table>")};Ext.create("Ext.panel.Panel",{region:"west",border:!0,width:100});var ba=Ext.create("Ext.panel.Panel",
{region:"center",border:!1,layout:{type:"hbox",align:"stretch"},defaults:{border:!0},items:[{xtype:"panel",flex:2,title:I18n.coordinate_reference_system.text,itemId:"projectionPanel",layout:"fit",items:[H],border:!0,split:!0},{xtype:"panel",layout:"border",itemId:"column2",split:!0,autoScroll:!0,border:!1,flex:1,items:[{itemId:"areaPanel",height:"50%",xtype:"panel",title:I18n.area_bounding_box.text,region:"center",autoScroll:!0,layout:{type:"vbox",columns:3},items:[{xtype:"textfield",fieldLabel:I18n.north.text,
itemId:"bboxtop",labelWidth:20,padding:"30 5 5 130",width:180,listeners:{change:{fn:function(){qa()}}}},{xtype:"panel",itemId:"bbox",border:!1,layout:"hbox",items:[{xtype:"textfield",fieldLabel:I18n.west.text,itemId:"bboxwest",labelWidth:30,padding:"15 0 0 15",width:180,listeners:{change:{fn:function(){qa()}}}},{xtype:"textfield",fieldLabel:I18n.east.text,itemId:"bboxeast",labelWidth:30,padding:"15 0 0 15",width:180,listeners:{change:{fn:function(){qa()}}}}]},{xtype:"textfield",fieldLabel:I18n.south.text,
itemId:"bboxbottom",labelWidth:40,padding:"15 5 5 110",width:200,listeners:{change:{fn:function(){qa()}}}}]},{xtype:"panel",region:"south",height:"50%",title:"Grid properties",split:!0,autoScroll:!0,itemId:"gridproperties",items:{xtype:"fieldcontainer",itemId:"field",items:[{xtype:"radiofield",boxLabel:"Cell size",name:"resolution",checked:!0,itemId:"radioselectcellsize",padding:"15 15 15 15",handler:function(sa,xa){!0===xa&&(ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").disable(),
ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").disable(),ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").enable(),ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").enable());qa()}},{xtype:"textfield",fieldLabel:"X resolution",padding:"0 0 0 40",itemId:"xresolution",width:170,listeners:{change:{fn:function(){qa()}}}},{xtype:"textfield",
fieldLabel:"Y resolution",padding:"0 0 0 40",itemId:"yresolution",width:170,listeners:{change:{fn:function(){qa()}}}},{xtype:"radiofield",boxLabel:"Raster size",name:"resolution",padding:15,handler:function(sa,xa){!0===xa&&(ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").enable(),ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").enable(),ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").disable(),
ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").disable())}},{xtype:"textfield",fieldLabel:"Raster Width",padding:"0 0 0 40",disabled:!0,itemId:"rasterwidth",width:170,listeners:{change:{fn:function(){qa()}}}},{xtype:"textfield",fieldLabel:"Raster Height",padding:"0 0 0 40",disabled:!0,itemId:"rasterheight",width:170,listeners:{change:{fn:function(){qa()}}}}]}}]},{itemId:"column3",xtype:"panel",layout:"border",border:!1,split:!0,flex:1,items:[{xtype:"panel",
region:"center",height:"50%",itemId:"dimensionPanel",title:I18n.dimensions.text,autoScroll:!0},{xtype:"panel",split:!0,autoScroll:!0,region:"south",height:"50%",title:I18n.formats.text,items:[K]}]}]}),Z=Ext.create("Ext.panel.Panel",{layout:"border",region:"center",border:!0,width:300,items:[ba]}),P=Ext.create("Ext.panel.Panel",{border:!1,padding:20}),X=Ext.create("Ext.panel.Panel",{title:"GetCoverage request link",region:"south",border:!0,height:100,layout:"fit",items:[P]}),oa=Ext.create("Ext.panel.Panel",
{region:"north",border:!1,height:80,frame:!1});Ext.apply(this,{layout:"border",padding:0,frame:!1,border:!0,items:[Z,oa,X]});H.setLoading(!0);var qa=function(){var sa=c.coverages[0].service;sa=WMJScheckURL(sa);var xa=c.coverages[0].name,Ea=ba.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxwest").getValue()+","+ba.getComponent("column2").getComponent("areaPanel").getComponent("bboxbottom").getValue()+","+ba.getComponent("column2").getComponent("areaPanel").getComponent("bbox").getComponent("bboxeast").getValue()+
","+ba.getComponent("column2").getComponent("areaPanel").getComponent("bboxtop").getValue();-1==sa.indexOf("?")?sa+="?":"&"!=sa.charAt(sa.length-1)&&(sa+="&");sa=sa+"SERVICE=WCS&REQUEST=GetCoverage&COVERAGE="+xa+"&CRS="+URLEncode(v)+"&FORMAT="+D+"&BBOX="+Ea;1==ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("radioselectcellsize").getValue()?(sa+="&RESX="+ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("xresolution").getValue(),
sa+="&RESY="+ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("yresolution").getValue()):(sa+="&WIDTH="+ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterwidth").getValue(),sa+="&HEIGHT="+ba.getComponent("column2").getComponent("gridproperties").getComponent("field").getComponent("rasterheight").getValue());for(xa=0;xa<c.coverages[0].dimensions.length;xa++)try{var Ca=ba.getComponent("column3").getComponent("dimensionPanel").getComponent("dimtextfield_"+
c.coverages[0].dimensions[xa].name).getValue(),La=c.coverages[0].dimensions[xa].name;La=La.toUpperCase();"ELEVATION"!=La&&"TIME"!=La&&(La="DIM_"+La);sa+="&"+La+"="+Ca}catch(Qa){}P.update('<a target="_blank" href="'+sa+'">'+sa+"</a>");return v};WCJSRequest(c.coverages[0].service,c.coverages[0].name,function(sa){c.coverages[0]=parseDescribeCoverage(sa,l);c.onReady()},function(sa){alert("failed:\n "+sa)});webmapjsext.WMJSExt.WCSPanel.superclass.initComponent.apply(this,arguments)}});Ext.define("webmapjsext.WMJSExt.WindowFader",{extend:"Ext.window.Window",alias:"WMJSExtWindowFader",requires:[],initComponent:function(){var c=this;c.timer=new WMJSTimer;c.fadeOut=function(){100!=c.opacity&&(0<c.opacity?(c.timer.init(50,c.fadeOut),c.opacity-=(100-c.opacity)/10+.5,c.getEl().dom.style.opacity=c.opacity/100):c.close())};Ext.apply(this,{listeners:{render:{fn:function(){c.el.on("mouseenter",function(){c.getEl().dom.style.opacity="1";c.opacity=100});c.el.on("mouseleave",function(){c.opacity=
95;c.timer.init(100,c.fadeOut)})}},show:{fn:function(){c.getEl().dom.style.opacity=1;c.opacity=100}}}});this.callParent(arguments)}});initWMJS();var error=function(c){console.error(c)},debug=function(c){console.log(c)},versionInfo="ADAGUC viewer version 4.0.3.",mainWebmapJS;function decimalFormatter(c,l){c=parseInt(c)+"";l=parseInt(l)-c.length;var v,D="";for(v=0;v<l;v++)D+="0";return D+c}
function Console(c){function l(E){E=(E+"").replace(/&/g,"&amp;");E=E.replace(/</g,"&lt;");E=E.replace(/>/g,"&gt;");E=E.replace(/"/g,"&quot;");return E=E.replace(/\n/g,"<br>")}var v=c,D="";this.println=function(E,Y){D=0==Y?D+("<p class='stdoutmessage'>"+E+"</p>"):D+("<p class='stdoutmessage'>"+l(E)+"</p>");isDefined(v)&&(v.innerHTML=D,v.scrollTop=v.scrollHeight);17824<D.length&&(D=D.substring(D.length-13368))};this.errprintln=function(E,Y){D=0==Y?D+("<p class='stderrmessage'>"+E+"</p>"):D+("<p class='stderrmessage'>"+
l(E)+"</p>");isDefined(v)&&(v.innerHTML=D,v.scrollTop=v.scrollHeight)};this.cls=function(){D="";isDefined(v)&&(v.innerHTML=D)};this.setSize=function(E,Y){isDefined(v)&&(v.scrollTop=v.scrollHeight,v.style.width=E+"px",v.style.height=Y+"px",v.width=E+"px",v.height=Y+"px")};this.setElement=function(E){v=E;initWMJS();isDefined(v)&&(v.style.overflow="scroll",v.style.display="inline-block",v.style.position="absolute",v.style.width="100%",v.style.height="100%",v.style.font="normal 12px courier",v.noWrap=
!0,v.style.whiteSpace="nowrap",v.innerHTML=D,v.scrollTop=v.scrollHeight)};this.setElement(c)}
var myUTCDateParser=function(c,l){c=parseISO8601DateToDate(c+"T00:00:00Z");c.add(parseISO8601IntervalToDateInterval("P0D"));return c},myUTCDateFormatter=function(){if(void 0!=this)return decimalFormatter(this.getFullYear(),4)+"-"+decimalFormatter(this.getMonth()+1,2)+"-"+decimalFormatter(this.getDate(),2)},myUTCTimeFormatter=function(){if(void 0!=this)return decimalFormatter(this.getUTCHours(),2)+":"+decimalFormatter(this.getUTCMinutes(),2)+":"+decimalFormatter(this.getUTCSeconds(),2)},myUTCTimeParser=
function(c,l){return parseISO8601DateToDate("2000-01-01T"+c+"Z")};Ext.Date.formatFunctions["Y-m-d UTC"]=myUTCDateFormatter;Ext.Date.parseFunctions["Y-m-d UTC"]=myUTCDateParser;Ext.Date.formatFunctions["H:i:s UTC"]=myUTCTimeFormatter;Ext.Date.parseFunctions["H:i:s UTC"]=myUTCTimeParser;Ext.state.Manager.setProvider(new Ext.state.CookieProvider({expires:new Date((new Date).getTime()+6048E5)}));
var firstTimeOpening=!1,clearLayers=function(c){Ext.getCmp("layerlistpanel").removeAll();c.removeAllLayers()},updateLayers=function(){for(var c=Ext.getCmp("layerlistpanel").items,l=0;l<c.getCount();l++)c.get(l).parseLayer(!0)},getLayerObjects=function(){for(var c=[],l=Ext.getCmp("layerlistpanel").items,v=0;v<l.getCount();v++)c.push(l.get(v));return c},getSelectedLayer=function(){for(var c=getLayerObjects(),l=0;l<c.length;l++)if(1==c[l].selected)return c[l]},removeLayer=function(){for(var c=getLayerObjects(),
l=-2,v=0;v<c.length;v++)if(1==c[v].selected){l=v-1;c[v].close();break}c=getLayerObjects();0<c.length&&-2!=l&&(0>l&&(l=0),l>c.length-1&&(l=c.length-1),c[l].select())},createNewLayerPanel=function(c,l){0==isDefined(l)&&(l=[]);var v=void 0;isDefined(l.service)&&(v=l.service);var D=void 0;isDefined(l.name)&&(D=l.name);var E=void 0;isDefined(l.style)&&(E=l.style);var Y=void 0;isDefined(l.opacity)&&0<(""+l.opacity).length&&(Y=l.opacity);var H=void 0;isDefined(l.enabled)&&(H=l.enabled);var N=void 0;isDefined(l.autoChooseLayer)&&
(N=l.autoChooseLayer);isDefined(H)||(H=!0);var K=Ext.getCmp("layerlistpanel");K.removeLayer=removeLayer;v=Ext.create("webmapjsext.WMJSExt.LayerPanel",{parentPanelList:K,title:D,service:v,name:D,style:E,opacity:Y,enabled:H,autoChooseLayer:N,parentWebMapJS:c,afterlayerready:function(ba){1!=ba.layerAddedToWebMapJS&&(ba.WMJSLayer.enabled=this.enabled,ba.layerAddedToWebMapJS=!0);l.ready?(l.ready(ba,c),l.ready=void 0):(1==l.zoomtolayer&&(l.zoomtolayer=!1,c.setProjection(ba.WMJSLayer.getProjection("EPSG:4326"))),
c.draw("createNewLayerPanel"),1==l.notifyadded&&(l.notifyadded=!1))}});v.WMJSLayer.enabled=!1;c.addLayer(v.WMJSLayer);K.insert(0,v);v.select();return v},timeselectorWindow=Ext.create("Ext.window.Window",{title:"Time selection",width:310,height:624,constrain:!0,autoDestroy:!1,collapsible:!0,frame:!1,plain:!0,border:!1,closeAction:"hide",html:"<div class='timeselector'/>",listeners:{afterrender:{fn:function(c){var l=new WMJSTimeSelector($(this.getEl().dom).find(".timeselector"),function(v){mainWebmapJS.webMapJS.setDimension("time",
v);mainWebmapJS.webMapJS.draw("timeselectorWindow")});mainWebmapJS.webMapJS.addListener("onmapdimupdate",function(){l.dimensionUpdate(mainWebmapJS.webMapJS)},!0);mainWebmapJS.webMapJS.addListener("ondimchange",function(){l.dimensionChange(mainWebmapJS.webMapJS)},!0);mainWebmapJS.webMapJS.addListener("onimageload",function(){l.loadingComplete(mainWebmapJS.webMapJS)},!0);l.dimensionUpdate(mainWebmapJS.webMapJS)}},show:{fn:function(){mainWebmapJS.webMapJS.stopAnimating()}}}}),timeselectorPanel=Ext.create("Ext.panel.Panel",
{iconCls:"button_time32",title:" ",bodyCls:"layerlistbg",autoDestroy:!1,collapsible:!1,frame:!1,plain:!0,border:!1,closeAction:"hide",html:"<div class='timeselector layerlistbg'/>",listeners:{afterrender:{fn:function(c){var l=new WMJSTimeSelector($(this.getEl().dom).find(".timeselector"),function(v){mainWebmapJS.webMapJS.setDimension("time",v);mainWebmapJS.webMapJS.draw("timeselectorPanel")});mainWebmapJS.webMapJS.addListener("onmapdimupdate",function(){l.dimensionUpdate(mainWebmapJS.webMapJS)},!0);
mainWebmapJS.webMapJS.addListener("ondimchange",function(){l.dimensionChange(mainWebmapJS.webMapJS)},!0);mainWebmapJS.webMapJS.addListener("onimageload",function(){l.loadingComplete(mainWebmapJS.webMapJS)},!0);l.dimensionUpdate(mainWebmapJS.webMapJS)}},show:{fn:function(){mainWebmapJS.webMapJS.stopAnimating()}}}});
Ext.onReady(function(){Ext.tip.QuickTipManager.init();mainWebmapJS=Ext.create("webmapjsext.WMJSExt.MapPanel",{region:"center",border:!0});var c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{3}))?(Z|[\+-]\d{2}(?::\d{2})?)$/;Ext.create("Ext.form.field.Text",{value:"1000-01-01T00:00:00Z",regex:c,regexText:"Format should be YYYY-MM-DDThh:mm:ssZ"});Ext.create("Ext.form.field.Text",{value:"3000-01-01T00:00:00Z",regex:c,regexText:"Format should be YYYY-MM-DDThh:mm:ssZ"});var l=Ext.create("Ext.panel.Panel",
{region:"east",collapsible:!0,closable:!0,split:!0,header:!1,hidden:!0,width:600,autoScroll:!0,layout:"fit",title:"test",tbar:[{xtype:"label",text:"App",scale:"large",itemId:"paneltitle"},{xtype:"tbfill",scale:"large"},{xtype:"tool",scale:"large",type:"close",handler:function(){l.hide()}}],listeners:{show:{fn:function(){l.getDockedComponent(0).getComponent("paneltitle").setText("App '"+l.applicationSettings.name||l.applicationSettings.title+"'");l.update('<div id="webmapjs_customapplication" class="webmapjs_customapplication"></div>');
var P=WMJSExtApplications[l.applicationSettings.name];P?(l.applicationSettings.app=new P($("#webmapjs_customapplication"),mainWebmapJS.webMapJS),l.applicationSettings.app.enable(l.width,mainWebmapJS.webMapJS.getHeight()-24)):alert("Application with name "+l.applicationSettings.name+" not registered")}},hide:{fn:function(){l.applicationSettings.app&&(l.applicationSettings.app.disable(),l.applicationSettings.app=void 0);mainWebmapJS.webMapJS.enableInlineGetFeatureInfo(!0);mainWebmapJS.webMapJS.removeListener("mouseclicked")}},
resize:{fn:function(){l.applicationSettings.app&&l.applicationSettings.app.resize(l.width,mainWebmapJS.webMapJS.getHeight())}}},setApplication:function(P){l.applicationSettings=P}});c=Ext.create("Ext.panel.Panel",{region:"center",layout:"border",split:!0,frame:!1,border:!1,margin:0,items:[mainWebmapJS,l]});var v=function(P){console.log(P.slot);var X=createNewLayerPanel(mainWebmapJS.webMapJS,{service:P.service,name:P.layer,style:P.style,opacity:P.opacity,ready:function(oa,qa){var sa=P.srs,xa=P.bbox,
Ea=P.baselayername,Ca=P.baselayerservice;sa&&!xa?qa.setProjection(oa.getProjection(sa)):sa&&xa&&qa.setProjection({srs:sa,bbox:xa});Ea&&Ca?(mainWebmapJS.baseLayer.setService(Ca),mainWebmapJS.baseLayer.name=Ea,mainWebmapJS.baseLayer.parseLayer(function(){qa.draw("dataPanelClicked::parseLayer")},void 0,"WMJSExtMain::dataPanelClicked")):qa.draw("dataPanelClicked");isDefined(X)&&isDefined(P.ready)&&(P.ready(X,qa),1==X.WMJSLayer.hasError&&X.close())}});return X},D,E=new Console;Ext.create("Ext.panel.Panel",
{html:'<div id="debuginfodiv"></div>',layout:"fit",listeners:{afterrender:{fn:function(){E.setElement(document.getElementById("debuginfodiv"))}}}});var Y=[{text:I18n.show_time_selection_window.text,iconCls:"button_settings_icon",handler:function(){timeselectorWindow.show()}},{text:I18n.create_animation.text+"&hellip;",iconCls:"button_settings_icon",handler:function(){Ext.create("Ext.window.Window",{title:I18n.create_animation.text,width:460,height:300,layout:"form",autoDestroy:!0,closeAction:"destroy",
autoScroll:!0,collapsible:!0,items:[Ext.create("webmapjsext.WMJSExt.AnimationPanel",{mappanel:mainWebmapJS})]}).show()}},{text:I18n.create_link.text,iconCls:"button_makeLink",handler:function(){D=Ext.create("Ext.window.Window",{title:I18n.create_permanent_links.text,width:800,height:260,layout:"fit",autoDestroy:!0,closeAction:"destroy",autoScroll:!0,modal:!1,items:[Ext.create("webmapjsext.WMJSExt.PermaLinkPanel",{mappanel:mainWebmapJS})]});D.show()}},{text:I18n.add_custom_wms_service.text,iconCls:"button_layerlist_layernew",
handler:function(){Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:v,webMapJS:mainWebmapJS.webMapJS}).showCustomWMSWindow()}},{text:I18n.undo_zoom_pan_action.text,iconCls:"button_undo",handler:function(){mainWebmapJS.webMapJS.setPreviousExtent()}},{text:I18n.redo_zoom_pan_action.text,iconCls:"button_redo",handler:function(){mainWebmapJS.webMapJS.setNextExtent()}},{text:I18n.abort_loading.text,iconCls:"button_stoploading",handler:function(){mainWebmapJS.webMapJS.abort()}}];try{isDefined(getFeatureInfoApplications)}catch(P){getFeatureInfoApplications=
[]}for(var H={},N=0;N<getFeatureInfoApplications.length;H={$jscomp$loop$prop$location$80$289:H.$jscomp$loop$prop$location$80$289},N++)H.$jscomp$loop$prop$location$80$289=getFeatureInfoApplications[N],Y.push({text:getFeatureInfoApplications[N].name,iconCls:getFeatureInfoApplications[N].iconCls,location:getFeatureInfoApplications[N].location,handler:function(P){return function(){console.log(P.$jscomp$loop$prop$location$80$289);l.setApplication(P.$jscomp$loop$prop$location$80$289);l.hide();l.show()}}(H)}),
getFeatureInfoApplications.open&&H.$jscomp$loop$prop$location$80$289.name===getFeatureInfoApplications.open&&l.setApplication(H.$jscomp$loop$prop$location$80$289);Y.push({text:I18n.about_the_adaguc_viewer.text,iconCls:"button_info",tooltip:I18n.about_the_adaguc_viewer.tooltip,handler:function(){Ext.create("Ext.window.Window",{title:I18n.about_adaguc.text,height:200,width:400,modal:!0,layout:"fit",items:{xtype:"panel",html:'<div class="about_adaguc" style="position:absolute;top:0px;left:0px;height:100px;width:520px;"/><div style="position:absolute;top:100px;padding:10px;margin:10px;">'+
versionInfo+I18n.about_adaguc_more_information.text}}).show()}});N=Ext.create("Ext.panel.Panel",{header:!1,title:" ",frame:!1,border:0,split:!1,id:"layerlistpanel",tooltip:I18n.layers.tooltip,overflowY:"auto",bodyCls:"layerlistbg",iconCls:"button_layers32",bbar:[{scale:"small",tooltip:I18n.add_new_layer.tooltip,iconCls:"layer_logos button_layerlist_layernew",handler:function(){createNewLayerPanel(mainWebmapJS.webMapJS,{service:""})}},{iconCls:"button_duplicate",tooltip:I18n.clone_this_layer.tooltip,
handler:function(){var P=getSelectedLayer();isDefined(P)&&P.duplicateLayer()}},{xtype:"button",tooltip:I18n.remove_this_layer.tooltip,iconCls:"button_layerlist_layerdelete",handler:function(P,X){removeLayer()}},{xtype:"button",tooltip:I18n.move_layer_up.tooltip,iconCls:"button_layerlist_layerup",handler:function(P,X){P=getSelectedLayer();isDefined(P)&&P.moveUp()}},{xtype:"button",tooltip:I18n.move_layer_down.tooltip,iconCls:"button_layerlist_layerdown",handler:function(P,X){P=getSelectedLayer();isDefined(P)&&
P.moveDown()}},{xtype:"tbfill"},{iconCls:"button_settings_icon",tooltip:I18n.settings_and_options.tooltip,menu:{xtype:"menu",items:Y}}]});H=Ext.create("webmapjsext.WMJSExt.MapTypeSelector",{maptypeclicked:function(P){mainWebmapJS.webMapJS.setProjection({bbox:P.get("bbox"),srs:P.get("srs")});(P=P.get("baselayer"))&&P.service&&P.name&&(P.enabled=!0,mainWebmapJS.baseLayer.setService(P.service),mainWebmapJS.baseLayer.name=P.name,mainWebmapJS.baseLayer.enabled=!0,isDefined(P.transparent)&&(mainWebmapJS.baseLayer.transparent=
P.transparent),mainWebmapJS.baseLayer.parseLayer(function(){mainWebmapJS.webMapJS.draw("maptypeclicked")},void 0,"WMJSExtMain::maptypeclicked"))},webmapjsext:mainWebmapJS});var K=Ext.create("webmapjsext.WMJSExt.BaseMapSelector",{webmapjsext:mainWebmapJS});H={id:"viewportwestpanel",width:320,region:"west",layout:"border",collapsible:!0,animCollapse:!0,border:!0,split:!0,header:!1,autoScroll:!1,frame:!0,items:[{layout:"fit",border:!1,autoScroll:!1,region:"center",xtype:"tabpanel",scale:"large",cls:"LayersAndMapsTab",
items:[N,H,K,timeselectorPanel]}],tbar:[{scale:"large",text:"Add",tooltip:I18n.add_layers.tooltip,iconCls:"button_adddata32",handler:function(){dataChooserConfiguration=dataChooserConfigurationAdd;Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:v,webMapJS:mainWebmapJS.webMapJS}).show()}}]};for(N=0;N<dataChooser.length;N++)0!==dataChooser[N].dataChooserConfiguration.length&&(H.tbar.push({scale:"large",text:dataChooser[N].title,tooltip:I18n.add_layers.tooltip,iconCls:"button_adddata32",
ind:N,handler:function(){dataChooserConfiguration=dataChooser[this.ind].dataChooserConfiguration;Ext.create("webmapjsext.WMJSExt.DataPanel",{dataPanelClicked:v,webMapJS:mainWebmapJS.webMapJS}).show()}}),H.width+=30);for(N=0;N<folderChooser.length;N++)0!==folderChooser[N].dataChooserConfigurationFolder.length&&(H.tbar.push({scale:"large",text:folderChooser[N].title,tooltip:I18n.add_layers.tooltip,iconCls:"folder_adddata32",ind:N,handler:function(){dataChooserConfigurationFolder=folderChooser[this.ind].dataChooserConfigurationFolder;
Ext.create("webmapjsext.WMJSExt.FolderPanel",{dataPanelClicked:v,webMapJS:mainWebmapJS.webMapJS}).show()}}),H.width+=30);H.tbar.push({iconCls:"button_settings32",tooltip:I18n.settings_and_options.tooltip,scale:"large",menu:{xtype:"menu",items:Y}});var ba=Ext.create("Ext.Viewport",{layout:"border",items:[H,c],renderTo:Ext.getBody(),listeners:{resize:{fn:function(){try{var P=viewportwestpanelwindow.y+viewportwestpanelwindow.height;P>ba.height&&(P=ba.height-70,70>P&&(P=70));viewportwestpanelwindow.setSize(viewportwestpanelwindow.width,
P)}catch(X){}}}}}),Z=function(P){var X=!0,oa=!1;isDefined(P.collapse)&&"1"==P.collapse&&Ext.getCmp("viewportwestpanel").collapse();isDefined(P.zoomtolayer)&&"1"==P.zoomtolayer&&(X=!0);isDefined(P.srs)&&isDefined(P.bbox)&&mainWebmapJS.webMapJS.setProjection({srs:P.srs,bbox:P.bbox});if(isDefined(P.service)){clearLayers(mainWebmapJS.webMapJS);var qa=URLDecode(P.service).split(","),sa=[""];isDefined(P.layer)?sa=URLDecode(P.layer).split(","):1==X&&(oa=!0);isDefined(P.selected);for(var xa=sa.length,Ea=
0;Ea<sa.length;Ea++)try{var Ca=sa[sa.length-1-Ea].split("$"),La=Ca+"",Qa=!0,Ua="",Xa=1,db=qa[0]+"";6==Ca.length&&(La=Ca[0],Qa=Ca[2],Ua=Ca[3],Xa=Ca[4],isDefined(Qa)&&("true"===Qa&&(Qa=!0),"false"===Qa&&(Qa=!1)),db=qa[Ca[5]]);createNewLayerPanel(mainWebmapJS.webMapJS,{service:db,name:La,style:Ua,enabled:Qa,opacity:Xa,ready:function(gb,rb){xa--;if(0==xa){if(isDefined(P.dims))for(var Ab=P.dims.split(","),ub=0;ub<Ab.length;ub++){var pb=Ab[ub].split("$");2==pb.length&&mainWebmapJS.webMapJS.setDimension(pb[0],
pb[1])}1==X&&gb.WMJSLayer.zoomToLayer();rb.draw("index.html::numlayers=0")}},autoChooseLayer:oa})}catch(gb){error("Unable to parse layer nr "+Ea)}if(isDefined(P.baselayers)){qa=P.baselayers.split("$");oa=[];for(Ea=sa=0;Ea<qa.length;Ea++){Ca=!1;for(La=0;La<mapTypeConfiguration.length;La++)if(mapTypeConfiguration[La].baselayer.name==qa[Ea]){mapTypeConfiguration[La].baselayer.enabled=!0;oa.push(mapTypeConfiguration[La].baselayer);Ca=!0;sa++;break}if(!Ca)for(La=0;La<baseLayerConfiguration.length;La++)if(baseLayerConfiguration[La].name==
qa[Ea]){baseLayerConfiguration[La].enabled=!0;oa.push(baseLayerConfiguration[La]);Ca=!0;sa++;break}Ca||error("Warning: unable to find baselayer "+qa[Ea])}for(Ea=0;Ea<baseLayerConfiguration.length;Ea++)0==baseLayerConfiguration[Ea].enabled?oa.push(baseLayerConfiguration[Ea]):0==sa&&oa.push(baseLayerConfiguration[Ea]);baseLayers=[];for(Ea=0;Ea<oa.length;Ea++)qa=new WMJSLayer(oa[Ea]),0==Ea&&(mainWebmapJS.baseLayer=qa),baseLayers.push(qa);0<baseLayers.length&&mainWebmapJS.webMapJS.setBaseLayers(baseLayers)}}P&&
P.autowms&&(autowmsURL=P.autowms+"",-1===autowmsURL.indexOf("?")&&(autowmsURL+="?"),window.setTimeout(function(){l.setApplication(getFeatureInfoApplications.filter(function(gb){return"AutoWMS"===gb.name})[0]);l.hide();l.show()},100));P&&P.wms&&(console.log("wms found",P.wms),createNewLayerPanel(mainWebmapJS.webMapJS,{service:P.wms}))};0==window.location.hash.length&&Z(getUrlVars());checkIfHashTagChanged(function(P,X){if(0<=P.indexOf("addlayer('")){if(X=P.substring(P.indexOf("addlayer('")+10,P.indexOf("',")),
P=P.substring(P.indexOf(",'")+2,P.indexOf("')")),X&&P){for(var oa=!1,qa=mainWebmapJS.webMapJS.getLayers(),sa=0;sa<qa.length;sa++)if(qa[sa].service==X&&qa[sa].name==P){oa=!0;break}0==oa&&(isDefined(hashLocationNotfiyAddLayer),firstTimeOpening=!0,createNewLayerPanel(mainWebmapJS.webMapJS,{service:X,name:P,zoomtolayer:!1,notifyadded:!0}))}}else 0<=P.indexOf("positionmappinbylatlon(")?(debug(P),X=P.substring(23,P.indexOf(")")),debug(X),X=X.split(","),debug(X[0]+" "+X[1]),mainWebmapJS.webMapJS.positionMapPinByLatLon({x:parseFloat(X[0]),
y:parseFloat(X[1])})):0<=P.indexOf("refreshlayers")?updateLayers():Z(X)});getFeatureInfoApplications.open&&l.show()});var gfiapp_d3c3=function(c,l){var v=function(Z,P){$("#"+P).empty();$("#"+P).append("<div style='height=240px;border=2px solid blue;' class='chart'>a</div>");$("#"+P).append("<div style='height=40px;border=2px solid red;' class='controls gfiapp_d3c3_export_to_csv_button'>b</div>");var X=$("#"+P).find(".chart");P=$("#"+P).find(".controls");X.html("graph");P.button({label:"Export to CSV"}).click(function(){console.log("Export to CSV");for(var oa="",qa=Z.datatoplot,sa=0;sa<qa[0].length;sa++){for(var xa=
0;xa<qa.length;xa++)0<xa&&(oa+=";"),oa+=JSON.stringify(qa[xa][sa]);oa+="\n\r"}qa=document.createElement("a");qa.setAttribute("download","export.csv");qa.setAttribute("href",encodeURI("data:text/csv;charset=utf-8,"+oa));console.log("Clicking link");document.body.appendChild(qa);qa.click();qa.remove()});c3.generate({bindto:X.get(0),data:{x:"x",x_format:"%Y%m%d",columns:Z.datatoplot,types:{x:"area"}},axis:{x:{type:"timeseries",tick:{format:Z.timeFormat}},y:{label:Z.ylabel}},zoom:{enabled:!0},subchart:{show:!1}})},
D=function(Z,P){return Z>P?1:Z<P?-1:0},E=function(Z,P){var X;for(X=0;X<P.length;X++)try{if(P[X].getTime()===Z.getTime())return X}catch(oa){}return-1},Y=function(Z,P){var X=1;"string"!=typeof Z[0].dims&&(X=Z[0].dims.length);for(var oa=[],qa=function(Ca,La,Qa){var Ua=["x"];Ca=[La.name+" "+Ca];for(var Xa in Qa){La=d3.time.format("%Y-%m-%dT%H:%M:%SZ").parse(Xa);var db=parseFloat(Qa[Xa]);Ua.push(La);Ca.push(db)}oa.push({date:Ua,value:Ca})},sa=function(Ca,La,Qa,Ua){if(1==X)qa("",La,Qa);else if(Ca+2<X)for(d in Qa)sa(Ca+
1,La,Qa[d],Ua+"["+d+"]");else for(d in Qa)qa("["+d+"]",La,Qa[d])},xa=0;xa<Z.length;xa++)sa(0,Z[xa],Z[xa].data,"");xa=function(Ca){for(var La=[],Qa=Ca.length,Ua=0;Ua<Qa;Ua++)for(var Xa=Ca[Ua].date,db=1;db<Xa.length;db++){var gb=Xa[db],rb=E(gb,La);-1==rb&&La.push(gb)}La.sort(D);La.unshift("x");Xa=[];for(db=0;db<Qa;db++)Xa.push([]);for(Ua=0;Ua<Qa;Ua++)for(Xa[Ua].push(Ca[Ua].value[0]),db=1;db<La.length;db++)rb=E(La[db],Ca[Ua].date),rb==db?(gb=Ca[Ua].value[rb],"nodata"==gb&&(gb=NaN),Xa[Ua].push(parseFloat(gb))):
Xa[Ua].push(NaN);Ca=[];Ca.push(La);for(Ua=0;Ua<Qa;Ua++)Ca.push(Xa[Ua]);return Ca}(oa);var Ea=Z[0].name;Z[0].units&&(Ea+=" in "+Z[0].units);v({datatoplot:xa,ylabel:Ea,timeFormat:"%Y-%m-%d %H:%M"},P)},H=function(Z,P){console.log(Z);Z.includes("time=")&&(i=Z.indexOf("time="),mURL0=Z.slice(0,i+5),mURLF=Z.slice(i+5,Z.length),Z=mURL0+"/"+mURLF);$.ajax({type:"GET",url:Z+"&JSONP=?",dataType:"jsonp",cache:!1,success:function(X){try{Y(X,P)}catch(oa){$("#"+P).html("Sorry! An error occurred while parsing JSON data: ["+
oa+"]")}},error:function(X,oa,qa){$("#"+P).html("Sorry! An error occurred while receiving JSON data from the server: ["+qa+"]");console.log("Error "+qa)}})},N=!0,K=[];K.set=!1;var ba=function(Z){if(0!=N){K.x=Z.x;K.y=Z.y;K.set=!0;var P=l.getLatLongFromPixelCoord({x:Z.x,y:Z.y});$("#chart").html('<img src="./img/ajax-loader.gif" alt="Loading..."/>');var X=l.getLayers();if(isDefined(X)){P="timeseries graph for location ["+Math.round(100*P.x)/100+","+Math.round(100*P.y)/100+"]<br/>";$("#chart").empty();
for(var oa=0;oa<X.length;oa++){var qa=l.getWMSGetFeatureInfoRequestURL(X[oa],Z.x,Z.y);qa=composeUrlObjectFromURL(qa);var sa=qa.location+"?";for(key in qa.kvp){var xa=qa.kvp[key];"info_format"==key&&(xa="application/json");"time"==key&&(xa="1000-01-01T00:00:00Z/3000-01-01T00:00:00Z");"dim_member"==key&&(xa="*");"dim_ensemble_member"==key&&(xa="*");"dim_percentile"==key&&(xa="*");sa+=key+"="+URLEncode(xa)+"&"}$("#chart").append("<div class='chartstyle' id='chart"+oa+"'></div>");$("#chart"+oa).html('<img src="./img/ajax-loader.gif" alt="Loading..."/>');
H(sa,"chart"+oa)}$("#info").html(P)}else $("#info").html("No valid data received:<br/>"+data)}};l.addListener("mouseclicked",ba,!0);this.enable=function(){c.html('<div id="info"></div><div id="chart" class="gfiapp_d3c3"></div>');$("#info").html("Click on the map to create a timeseries graph.");console.log("init");l.enableInlineGetFeatureInfo(!1);N=!0};this.disable=function(){N=!1;l.enableInlineGetFeatureInfo(!0);K.set=!1};this.resize=function(Z,P){console.log("w="+Z);$("#chart").width(Z);K.set&&ba(K)};
this.enable()};try{WMJSExtApplications["Time series mode"]=gfiapp_d3c3}catch(c){};(function(c,l){"object"===typeof exports&&"undefined"!==typeof module?l(exports):"function"===typeof define&&define.amd?define(["exports"],l):(c="undefined"!==typeof globalThis?globalThis:c||self,l(c.s3=c.s3||{}))})(this,function(c){function l(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function v(a){function b(g,h,n,m){null==n&&(n=0);null==m&&(m=g.length);for(;n<m;){var p=n+m>>>1;0>f(g[p],h)?n=p+1:m=p}return n}var e=a,f=a;1===a.length&&(e=function(g,h){return a(g)-h},f=D(a));return{left:b,center:function(g,
h,n,m){null==n&&(n=0);null==m&&(m=g.length);m=b(g,h,n,m-1);return m>n&&e(g[m-1],h)>-e(g[m],h)?m-1:m},right:function(g,h,n,m){null==n&&(n=0);null==m&&(m=g.length);for(;n<m;){var p=n+m>>>1;0<f(g[p],h)?m=p:n=p+1}return n}}}function D(a){return function(b,e){return l(a(b),e)}}function E(a){return null===a?NaN:+a}function Y(a,b){var e,f,g,h,n,m;return $jscomp.generator.createGenerator(Y,function(p){switch(p.nextAddress){case 1:if(void 0===b){p.jumpTo(2);break}e=-1;f=$jscomp.makeIterator(a);g=f.next();
case 4:if(g.done){p.jumpTo(0);break}h=g.value;if(!(null!=(h=b(h,++e,a))&&(h=+h)>=h)){p.jumpTo(5);break}return p.yield(h,5);case 5:g=f.next();p.jumpTo(4);break;case 2:n=$jscomp.makeIterator(a),g=n.next();case 9:if(g.done){p.jumpTo(0);break}m=g.value;if(!(null!=m&&(m=+m)>=m)){p.jumpTo(10);break}return p.yield(m,10);case 10:g=n.next(),p.jumpTo(9)}})}function H(a,b){var e=0;if(void 0===b){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(b=+b)>=b&&++e}else{var g=-1,h=
$jscomp.makeIterator(a);for(f=h.next();!f.done;f=h.next())f=f.value,null!=(f=b(f,++g,a))&&(f=+f)>=f&&++e}return e}function N(a){return a.length|0}function K(a){return!(0<a)}function ba(a){return"object"!==typeof a||"length"in a?a:Array.from(a)}function Z(a){return function(b){return a.apply(null,$jscomp.arrayFromIterable(b))}}function P(a,b){var e=0,f,g=0,h=0;if(void 0===b)for(a=$jscomp.makeIterator(a),f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(b=+b)>=b&&(f=b-g,g+=f/++e,h+=f*(b-g));else{var n=
-1,m=$jscomp.makeIterator(a);for(f=m.next();!f.done;f=m.next()){var p=f.value;null!=(p=b(p,++n,a))&&(p=+p)>=p&&(f=p-g,g+=f/++e,h+=f*(p-g))}}if(1<e)return h/(e-1)}function X(a,b){return(a=P(a,b))?Math.sqrt(a):a}function oa(a,b){var e,f;if(void 0===b){a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())b=g.value,null!=b&&(void 0===e?b>=b&&(e=f=b):(e>b&&(e=b),f<b&&(f=b)))}else{var h=-1,n=$jscomp.makeIterator(a);for(g=n.next();!g.done;g=n.next())g=g.value,null!=(g=b(g,++h,a))&&(void 0===e?
g>=g&&(e=f=g):(e>g&&(e=g),f<g&&(f=g)))}return[e,f]}function qa(a,b){var e=a._intern;a=a._key;a=a(b);return e.has(a)?e.get(a):b}function sa(a,b){var e=a._intern;a=a._key;a=a(b);if(e.has(a))return e.get(a);e.set(a,b);return b}function xa(a,b){var e=a._intern;a=a._key;a=a(b);e.has(a)&&(b=e.get(b),e.delete(a));return b}function Ea(a){return null!==a&&"object"===typeof a?a.valueOf():a}function Ca(a){return a}function La(a,b){for(var e=[],f=1;f<arguments.length;++f)e[f-1]=arguments[f];return Xa(a,Ca,Ca,
e)}function Qa(a,b,e){for(var f=[],g=2;g<arguments.length;++g)f[g-2]=arguments[g];return Xa(a,Ca,b,f)}function Ua(a){if(1!==a.length)throw Error("duplicate key");return a[0]}function Xa(a,b,e,f){return function m(h,n){if(n>=f.length)return e(h);for(var p=new cd,y=f[n++],C=-1,t=$jscomp.makeIterator(h),u=t.next();!u.done;u=t.next()){u=u.value;var w=y(u,++C,h),z=p.get(w);z?z.push(u):p.set(w,[u])}h=$jscomp.makeIterator(p);for(y=h.next();!y.done;y=h.next())C=$jscomp.makeIterator(y.value),y=C.next().value,
C=C.next().value,p.set(y,m(C,n));return b(p)}(a,0)}function db(a,b){return Array.from(b,function(e){return a[e]})}function gb(a,b){for(var e=[],f=1;f<arguments.length;++f)e[f-1]=arguments[f];var g=e;if("function"!==typeof a[Symbol.iterator])throw new TypeError("values is not iterable");a=Array.from(a);e=$jscomp.makeIterator(g).next().value;var h=void 0===e?l:e;return 1===h.length||1<g.length?(e=Uint32Array.from(a,function(n,m){return m}),1<g.length?(g=g.map(function(n){return a.map(n)}),e.sort(function(n,
m){for(var p=$jscomp.makeIterator(g),y=p.next();!y.done;y=p.next())if(y=y.value,y=l(y[n],y[m]))return y})):(h=a.map(h),e.sort(function(n,m){return l(h[n],h[m])})),db(a,e)):a.sort(h)}function rb(a){return function(){return a}}function Ab(a,b,e){var f,g=-1,h;b=+b;a=+a;e=+e;if(a===b&&0<e)return[a];if(f=b<a){var n=a;a=b;b=n}if(0===(h=ub(a,b,e))||!isFinite(h))return[];if(0<h)for(e=Math.round(a/h),n=Math.round(b/h),e*h<a&&++e,n*h>b&&--n,a=Array(n=n-e+1);++g<n;)a[g]=(e+g)*h;else for(h=-h,e=Math.round(a*
h),n=Math.round(b*h),e/h<a&&++e,n/h>b&&--n,a=Array(n=n-e+1);++g<n;)a[g]=(e+g)/h;f&&a.reverse();return a}function ub(a,b,e){b=(b-a)/Math.max(0,e);a=Math.floor(Math.log(b)/Math.LN10);b/=Math.pow(10,a);return 0<=a?(b>=Vg?10:b>=Wg?5:b>=Xg?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(b>=Vg?10:b>=Wg?5:b>=Xg?2:1)}function pb(a,b,e){var f=Math.abs(b-a)/Math.max(0,e);e=Math.pow(10,Math.floor(Math.log(f)/Math.LN10));f/=e;f>=Vg?e*=10:f>=Wg?e*=5:f>=Xg&&(e*=2);return b<a?-e:e}function Oc(a,b,e){for(var f;;){var g=ub(a,
b,e);if(g===f||0===g||!isFinite(g))return[a,b];0<g?(a=Math.floor(a/g)*g,b=Math.ceil(b/g)*g):0>g&&(a=Math.ceil(a*g)/g,b=Math.floor(b*g)/g);f=g}}function Cc(a){return Math.ceil(Math.log(H(a))/Math.LN2)+1}function dd(){function a(g){Array.isArray(g)||(g=Array.from(g));var h,n=g.length,m=Array(n);for(h=0;h<n;++h)m[h]=b(g[h],h,g);var p=e(m),y=p[0];p=p[1];var C=f(m,y,p);if(!Array.isArray(C)){h=p;var t=+C;e===oa&&(p=$jscomp.makeIterator(Oc(y,p,t)),y=p.next().value,p=p.next().value);C=Ab(y,p,t);C[C.length-
1]>=p&&(h>=p&&e===oa?(h=ub(y,p,t),isFinite(h)&&(0<h?p=(Math.floor(p/h)+1)*h:0>h&&(p=(Math.ceil(p*-h)+1)/-h))):C.pop())}for(t=C.length;C[0]<=y;)C.shift(),--t;for(;C[t-1]>p;)C.pop(),--t;var u=Array(t+1);for(h=0;h<=t;++h){var w=u[h]=[];w.x0=0<h?C[h-1]:y;w.x1=h<t?C[h]:p}for(h=0;h<n;++h)w=m[h],y<=w&&w<=p&&u[Pc(C,w,0,t)].push(g[h]);return u}var b=Ca,e=oa,f=Cc;a.value=function(g){return arguments.length?(b="function"===typeof g?g:rb(g),a):b};a.domain=function(g){return arguments.length?(e="function"===typeof g?
g:rb([g[0],g[1]]),a):e};a.thresholds=function(g){return arguments.length?(f="function"===typeof g?g:Array.isArray(g)?rb(up.call(g)):rb(g),a):f};return a}function Dc(a,b){var e;if(void 0===b){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(e<b||void 0===e&&b>=b)&&(e=b)}else{var g=-1,h=$jscomp.makeIterator(a);for(f=h.next();!f.done;f=h.next())f=f.value,null!=(f=b(f,++g,a))&&(e<f||void 0===e&&f>=f)&&(e=f)}return e}function Ec(a,b){var e;if(void 0===b){a=$jscomp.makeIterator(a);
for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(e>b||void 0===e&&b>=b)&&(e=b)}else{var g=-1,h=$jscomp.makeIterator(a);for(f=h.next();!f.done;f=h.next())f=f.value,null!=(f=b(f,++g,a))&&(e>f||void 0===e&&f>=f)&&(e=f)}return e}function Qc(a,b,e,f,g){e=void 0===e?0:e;f=void 0===f?a.length-1:f;for(g=void 0===g?l:g;f>e;){if(600<f-e){var h=f-e+1,n=b-e+1,m=Math.log(h),p=.5*Math.exp(2*m/3);m=.5*Math.sqrt(m*p*(h-p)/h)*(0>n-h/2?-1:1);Qc(a,b,Math.max(e,Math.floor(b-n*p/h+m)),Math.min(f,Math.floor(b+
(h-n)*p/h+m)),g)}h=a[b];n=e;p=f;pc(a,e,b);for(0<g(a[f],h)&&pc(a,e,f);n<p;){pc(a,n,p);++n;for(--p;0>g(a[n],h);)++n;for(;0<g(a[p],h);)--p}0===g(a[e],h)?pc(a,e,p):(++p,pc(a,p,f));p<=b&&(e=p+1);b<=p&&(f=p-1)}return a}function pc(a,b,e){var f=a[b];a[b]=a[e];a[e]=f}function qc(a,b,e){a=Float64Array.from(Y(a,e));if(e=a.length){if(0>=(b=+b)||2>e)return Ec(a);if(1<=b)return Dc(a);b*=e-1;e=Math.floor(b);var f=Dc(Qc(a,e).subarray(0,e+1));a=Ec(a.subarray(e+1));return f+(a-f)*(b-e)}}function ed(a,b,e){e=void 0===
e?E:e;if(f=a.length){if(0>=(b=+b)||2>f)return+e(a[0],0,a);if(1<=b)return+e(a[f-1],f-1,a);var f;b*=f-1;f=Math.floor(b);var g=+e(a[f],f,a);a=+e(a[f+1],f+1,a);return g+(a-g)*(b-f)}}function fd(a,b){var e=-1,f=-1;if(void 0===b){a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())if(b=g.value,++f,null!=b&&(h<b||void 0===h&&b>=b)){var h=b;e=f}}else{var n=$jscomp.makeIterator(a);for(g=n.next();!g.done;g=n.next())g=g.value,null!=(g=b(g,++f,a))&&(h<g||void 0===h&&g>=g)&&(h=g,e=f)}return e}function Cd(a){var b,
e,f;return $jscomp.generator.createGenerator(Cd,function(g){1==g.nextAddress&&(b=$jscomp.makeIterator(a),e=b.next());if(3!=g.nextAddress){if(e.done)return g.jumpTo(0);f=e.value;return g.yieldAll(f,3)}e=b.next();return g.jumpTo(2)})}function gd(a){return Array.from(Cd(a))}function Dd(a,b){var e=-1,f=-1;if(void 0===b){a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())if(b=g.value,++f,null!=b&&(h>b||void 0===h&&b>=b)){var h=b;e=f}}else{var n=$jscomp.makeIterator(a);for(g=n.next();!g.done;g=
n.next())g=g.value,null!=(g=b(g,++f,a))&&(h>g||void 0===h&&g>=g)&&(h=g,e=f)}return e}function ne(a,b){return[a,b]}function Yb(a,b,e){a=+a;b=+b;e=2>(g=arguments.length)?(b=a,a=0,1):3>g?1:+e;for(var f=-1,g=Math.max(0,Math.ceil((b-a)/e))|0,h=Array(g);++f<g;)h[f]=a+f*e;return h}function Ed(a,b){b=void 0===b?l:b;if(1===b.length)return Dd(a,b);var e=-1,f=-1;a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())if(g=g.value,++f,0>e?0===b(g,g):0>b(g,h)){var h=g;e=f}return e}function oe(a){return function(b,
e,f){e=void 0===e?0:e;f=void 0===f?b.length:f;for(f-=e=+e;f;){var g=a()*f--|0,h=b[f+e];b[f+e]=b[g+e];b[g+e]=h}return b}}function cf(a){if(!(h=a.length))return[];for(var b=-1,e=Ec(a,Yg),f=Array(e);++b<e;)for(var g=-1,h,n=f[b]=Array(h);++g<h;)n[g]=a[g][b];return f}function Yg(a){return a.length}function Zg(a){return a instanceof Set?a:new Set(a)}function df(a,b){var e=a[Symbol.iterator]();a=new Set;var f={};b=$jscomp.makeIterator(b);for(var g=b.next();!g.done;f={$jscomp$loop$prop$value$294:f.$jscomp$loop$prop$value$294,
$jscomp$loop$prop$done$295:f.$jscomp$loop$prop$done$295},g=b.next())if(g=g.value,!a.has(g))for(f.$jscomp$loop$prop$value$294=void 0,f.$jscomp$loop$prop$done$295=void 0;function(h){return function(){var n=e.next();h.$jscomp$loop$prop$value$294=n.value;h.$jscomp$loop$prop$done$295=n.done;return n}}(f)();){if(f.$jscomp$loop$prop$done$295)return!1;a.add(f.$jscomp$loop$prop$value$294);if(Object.is(g,f.$jscomp$loop$prop$value$294))break}return!0}function ef(a){return a}function $g(a){return"translate("+
a+",0)"}function ff(a){return"translate(0,"+a+")"}function ah(a){return function(b){return+a(b)}}function vp(a,b){b=Math.max(0,a.bandwidth()-2*b)/2;a.round()&&(b=Math.round(b));return function(e){return+a(e)+b}}function wp(){return!this.__axis}function gf(a,b){function e(w){var z=null==g?b.ticks?b.ticks.apply(b,f):b.domain():g,q=null==h?b.tickFormat?b.tickFormat.apply(b,f):ef:h,r=Math.max(n,0)+p,x=b.range(),B=+x[0]+y;x=+x[x.length-1]+y;var F=(b.bandwidth?vp:ah)(b.copy(),y),L=w.selection?w.selection():
w,Q=L.selectAll(".domain").data([null]);z=L.selectAll(".tick").data(z,b).order();var S=z.exit(),ca=z.enter().append("g").attr("class","tick"),ia=z.select("line"),U=z.select("text");Q=Q.merge(Q.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));z=z.merge(ca);ia=ia.merge(ca.append("line").attr("stroke","currentColor").attr(t+"2",C*n));U=U.merge(ca.append("text").attr("fill","currentColor").attr(t,C*r).attr("dy",1===a?"0em":3===a?"0.71em":"0.32em"));w!==L&&(Q=Q.transition(w),
z=z.transition(w),ia=ia.transition(w),U=U.transition(w),S=S.transition(w).attr("opacity",1E-6).attr("transform",function(V){return isFinite(V=F(V))?u(V+y):this.getAttribute("transform")}),ca.attr("opacity",1E-6).attr("transform",function(V){var ma=this.parentNode.__axis;return u((ma&&isFinite(ma=ma(V))?ma:F(V))+y)}));S.remove();Q.attr("d",4===a||2===a?m?"M"+C*m+","+B+"H"+y+"V"+x+"H"+C*m:"M"+y+","+B+"V"+x:m?"M"+B+","+C*m+"V"+y+"H"+x+"V"+C*m:"M"+B+","+y+"H"+x);z.attr("opacity",1).attr("transform",function(V){return u(F(V)+
y)});ia.attr(t+"2",C*n);U.attr(t,C*r).text(q);L.filter(wp).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===a?"start":4===a?"end":"middle");L.each(function(){this.__axis=F})}var f=[],g=null,h=null,n=6,m=6,p=3,y="undefined"!==typeof window&&1<window.devicePixelRatio?0:.5,C=1===a||4===a?-1:1,t=4===a||2===a?"x":"y",u=1===a||3===a?$g:ff;e.scale=function(w){return arguments.length?(b=w,e):b};e.ticks=function(){return f=bh.call(arguments),e};e.tickArguments=
function(w){return arguments.length?(f=null==w?[]:bh.call(w),e):f.slice()};e.tickValues=function(w){return arguments.length?(g=null==w?null:bh.call(w),e):g&&g.slice()};e.tickFormat=function(w){return arguments.length?(h=w,e):h};e.tickSize=function(w){return arguments.length?(n=m=+w,e):n};e.tickSizeInner=function(w){return arguments.length?(n=+w,e):n};e.tickSizeOuter=function(w){return arguments.length?(m=+w,e):m};e.tickPadding=function(w){return arguments.length?(p=+w,e):p};e.offset=function(w){return arguments.length?
(y=+w,e):y};return e}function hd(){for(var a=0,b=arguments.length,e={},f;a<b;++a){if(!(f=arguments[a]+"")||f in e||/[\s.]/.test(f))throw Error("illegal type: "+f);e[f]=[]}return new hf(e)}function hf(a){this._=a}function xp(a,b){return a.trim().split(/^|\s+/).map(function(e){var f="",g=e.indexOf(".");0<=g&&(f=e.slice(g+1),e=e.slice(0,g));if(e&&!b.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:f}})}function zj(a,b,e){for(var f=0,g=a.length;f<g;++f)if(a[f].name===b){a[f]=yp;a=
a.slice(0,f).concat(a.slice(f+1));break}null!=e&&a.push({name:b,value:e});return a}function pe(a){var b=a+="",e=b.indexOf(":");0<=e&&"xmlns"!==(b=a.slice(0,e))&&(a=a.slice(e+1));return ch.hasOwnProperty(b)?{space:ch[b],local:a}:a}function zp(a){return function(){var b=this.ownerDocument,e=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===e&&"http://www.w3.org/1999/xhtml"===b.documentElement.namespaceURI?b.createElement(a):b.createElementNS(e,a)}}function Ap(a){return function(){return this.ownerDocument.createElementNS(a.space,
a.local)}}function jf(a){a=pe(a);return(a.local?Ap:zp)(a)}function Bp(){}function kf(a){return null==a?Bp:function(){return this.querySelector(a)}}function dh(a){return"object"===typeof a&&"length"in a?a:Array.from(a)}function Cp(){return[]}function eh(a){return null==a?Cp:function(){return this.querySelectorAll(a)}}function Dp(a){return function(){var b=a.apply(this,arguments);return null==b?[]:dh(b)}}function fh(a){return function(){return this.matches(a)}}function Aj(a){return function(b){return b.matches(a)}}
function Ep(a){return function(){return Fp.call(this.children,a)}}function Gp(){return this.firstElementChild}function Hp(){return this.children}function Ip(a){return function(){return Jp.call(this.children,a)}}function Bj(a){return Array(a.length)}function lf(a,b){this.ownerDocument=a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=b}function Kp(a){return function(){return a}}function Lp(a,b,e,f,g,h){for(var n=0,m,p=b.length,y=h.length;n<y;++n)(m=b[n])?
(m.__data__=h[n],f[n]=m):e[n]=new lf(a,h[n]);for(;n<p;++n)if(m=b[n])g[n]=m}function Mp(a,b,e,f,g,h,n){var m,p,y=new Map,C=b.length,t=h.length,u=Array(C),w;for(m=0;m<C;++m)if(p=b[m])u[m]=w=n.call(p,p.__data__,m,b)+"",y.has(w)?g[m]=p:y.set(w,p);for(m=0;m<t;++m)w=n.call(a,h[m],m,h)+"",(p=y.get(w))?(f[m]=p,p.__data__=h[m],y.delete(w)):e[m]=new lf(a,h[m]);for(m=0;m<C;++m)(p=b[m])&&y.get(u[m])===p&&(g[m]=p)}function Np(a){return a.__data__}function Op(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function Pp(a){return function(){this.removeAttribute(a)}}
function Qp(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Rp(a,b){return function(){this.setAttribute(a,b)}}function Sp(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function Tp(a,b){return function(){var e=b.apply(this,arguments);null==e?this.removeAttribute(a):this.setAttribute(a,e)}}function Up(a,b){return function(){var e=b.apply(this,arguments);null==e?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,e)}}function gh(a){return a.ownerDocument&&
a.ownerDocument.defaultView||a.document&&a||a.defaultView}function Vp(a){return function(){this.style.removeProperty(a)}}function Wp(a,b,e){return function(){this.style.setProperty(a,b,e)}}function Xp(a,b,e){return function(){var f=b.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,f,e)}}function id(a,b){return a.style.getPropertyValue(b)||gh(a).getComputedStyle(a,null).getPropertyValue(b)}function Yp(a){return function(){delete this[a]}}function Zp(a,b){return function(){this[a]=
b}}function $p(a,b){return function(){var e=b.apply(this,arguments);null==e?delete this[a]:this[a]=e}}function hh(a){return a.classList||new Cj(a)}function Cj(a){this._node=a;this._names=(a.getAttribute("class")||"").trim().split(/^|\s+/)}function Dj(a,b){a=hh(a);for(var e=-1,f=b.length;++e<f;)a.add(b[e])}function Ej(a,b){a=hh(a);for(var e=-1,f=b.length;++e<f;)a.remove(b[e])}function aq(a){return function(){Dj(this,a)}}function bq(a){return function(){Ej(this,a)}}function cq(a,b){return function(){(b.apply(this,
arguments)?Dj:Ej)(this,a)}}function dq(){this.textContent=""}function eq(a){return function(){this.textContent=a}}function fq(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function gq(){this.innerHTML=""}function hq(a){return function(){this.innerHTML=a}}function iq(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function jq(){this.nextSibling&&this.parentNode.appendChild(this)}function kq(){this.previousSibling&&this.parentNode.insertBefore(this,
this.parentNode.firstChild)}function lq(){return null}function mq(){var a=this.parentNode;a&&a.removeChild(this)}function nq(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function oq(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function pq(a){return function(b){a.call(this,b,this.__data__)}}function qq(a){return a.trim().split(/^|\s+/).map(function(b){var e="",f=b.indexOf(".");0<=f&&(e=b.slice(f+1),b=b.slice(0,
f));return{type:b,name:e}})}function rq(a){return function(){var b=this.__on;if(b){for(var e=0,f=-1,g=b.length,h;e<g;++e)(h=b[e],a.type&&h.type!==a.type||h.name!==a.name)?b[++f]=h:this.removeEventListener(h.type,h.listener,h.options);++f?b.length=f:delete this.__on}}}function sq(a,b,e){return function(){var f=this.__on,g,h=pq(b);if(f)for(var n=0,m=f.length;n<m;++n)if((g=f[n]).type===a.type&&g.name===a.name){this.removeEventListener(g.type,g.listener,g.options);this.addEventListener(g.type,g.listener=
h,g.options=e);g.value=b;return}this.addEventListener(a.type,h,e);g={type:a.type,name:a.name,value:b,listener:h,options:e};f?f.push(g):this.__on=[g]}}function Fj(a,b,e){var f=gh(a),g=f.CustomEvent;"function"===typeof g?g=new g(b,e):(g=f.document.createEvent("Event"),e?(g.initEvent(b,e.bubbles,e.cancelable),g.detail=e.detail):g.initEvent(b,!1,!1));a.dispatchEvent(g)}function tq(a,b){return function(){return Fj(this,a,b)}}function uq(a,b){return function(){return Fj(this,a,b.apply(this,arguments))}}
function Gj(){var a=this,b,e,f,g,h,n,m;return $jscomp.generator.createGenerator(Gj,function(p){switch(p.nextAddress){case 1:b=a._groups,e=0,f=b.length;case 2:if(!(e<f)){p.jumpTo(0);break}g=b[e];h=0;n=g.length;case 5:if(!(h<n)){++e;p.jumpTo(2);break}if(!(m=g[h])){p.jumpTo(6);break}return p.yield(m,6);case 6:++h,p.jumpTo(5)}})}function Jb(a,b){this._groups=a;this._parents=b}function jd(){return new Jb([[document.documentElement]],ih)}function Kb(a){return"string"===typeof a?new Jb([[document.querySelector(a)]],
[document.documentElement]):new Jb([[a]],ih)}function Hj(){return new jh}function jh(){this._="@"+(++vq).toString(36)}function Ij(a){for(var b;b=a.sourceEvent;)a=b;return a}function ac(a,b){a=Ij(a);void 0===b&&(b=a.currentTarget);if(b){var e=b.ownerSVGElement||b;if(e.createSVGPoint)return e=e.createSVGPoint(),e.x=a.clientX,e.y=a.clientY,e=e.matrixTransform(b.getScreenCTM().inverse()),[e.x,e.y];if(b.getBoundingClientRect)return e=b.getBoundingClientRect(),[a.clientX-e.left-b.clientLeft,a.clientY-e.top-
b.clientTop]}return[a.pageX,a.pageY]}function Fd(a){a.preventDefault();a.stopImmediatePropagation()}function mf(a){var b=a.document.documentElement;a=Kb(a).on("dragstart.drag",Fd,!0);if("onselectstart"in b)a.on("selectstart.drag",Fd,!0);else b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none"}function nf(a,b){var e=a.document.documentElement,f=Kb(a).on("dragstart.drag",null);b&&(f.on("click.drag",Fd,!0),setTimeout(function(){f.on("click.drag",null)},0));if("onselectstart"in e)f.on("selectstart.drag",
null);else e.style.MozUserSelect=e.__noselect,delete e.__noselect}function kh(a,b){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b.sourceEvent,enumerable:!0,configurable:!0},subject:{value:b.subject,enumerable:!0,configurable:!0},target:{value:b.target,enumerable:!0,configurable:!0},identifier:{value:b.identifier,enumerable:!0,configurable:!0},active:{value:b.active,enumerable:!0,configurable:!0},x:{value:b.x,enumerable:!0,configurable:!0},y:{value:b.y,
enumerable:!0,configurable:!0},dx:{value:b.dx,enumerable:!0,configurable:!0},dy:{value:b.dy,enumerable:!0,configurable:!0},_:{value:b.dispatch}})}function wq(a){return!a.ctrlKey&&!a.button}function xq(){return this.parentNode}function yq(a,b){return null==b?{x:a.x,y:a.y}:b}function zq(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gd(a,b,e){a.prototype=b.prototype=e;e.constructor=a}function qe(a,b){a=Object.create(a.prototype);for(var e in b)a[e]=b[e];return a}function Rc(){}function Jj(){return this.rgb().formatHex()}
function Kj(){return this.rgb().formatRgb()}function Sc(a){var b,e;a=(a+"").trim().toLowerCase();return(b=Aq.exec(a))?(e=b[1].length,b=parseInt(b[1],16),6===e?Lj(b):3===e?new Hb(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1):8===e?of(b>>24&255,b>>16&255,b>>8&255,(b&255)/255):4===e?of(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|b&240,((b&15)<<4|b&15)/255):null):(b=Bq.exec(a))?new Hb(b[1],b[2],b[3],1):(b=Cq.exec(a))?new Hb(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=Dq.exec(a))?of(b[1],b[2],b[3],
b[4]):(b=Eq.exec(a))?of(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=Fq.exec(a))?Mj(b[1],b[2]/100,b[3]/100,1):(b=Gq.exec(a))?Mj(b[1],b[2]/100,b[3]/100,b[4]):Nj.hasOwnProperty(a)?Lj(Nj[a]):"transparent"===a?new Hb(NaN,NaN,NaN,0):null}function Lj(a){return new Hb(a>>16&255,a>>8&255,a&255,1)}function of(a,b,e,f){0>=f&&(a=b=e=NaN);return new Hb(a,b,e,f)}function lh(a){a instanceof Rc||(a=Sc(a));if(!a)return new Hb;a=a.rgb();return new Hb(a.r,a.g,a.b,a.opacity)}function Hd(a,b,e,f){return 1===arguments.length?
lh(a):new Hb(a,b,e,null==f?1:f)}function Hb(a,b,e,f){this.r=+a;this.g=+b;this.b=+e;this.opacity=+f}function Oj(){return"#"+mh(this.r)+mh(this.g)+mh(this.b)}function Pj(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function mh(a){a=Math.max(0,Math.min(255,Math.round(a)||0));return(16>
a?"0":"")+a.toString(16)}function Mj(a,b,e,f){0>=f?a=b=e=NaN:0>=e||1<=e?a=b=NaN:0>=b&&(a=NaN);return new rc(a,b,e,f)}function Qj(a){if(a instanceof rc)return new rc(a.h,a.s,a.l,a.opacity);a instanceof Rc||(a=Sc(a));if(!a)return new rc;if(a instanceof rc)return a;a=a.rgb();var b=a.r/255,e=a.g/255,f=a.b/255,g=Math.min(b,e,f),h=Math.max(b,e,f),n=NaN,m=h-g,p=(h+g)/2;m?(n=b===h?(e-f)/m+6*(e<f):e===h?(f-b)/m+2:(b-e)/m+4,m/=.5>p?h+g:2-h-g,n*=60):m=0<p&&1>p?0:n;return new rc(n,m,p,a.opacity)}function pf(a,
b,e,f){return 1===arguments.length?Qj(a):new rc(a,b,e,null==f?1:f)}function rc(a,b,e,f){this.h=+a;this.s=+b;this.l=+e;this.opacity=+f}function nh(a,b,e){return 255*(60>a?b+(e-b)*a/60:180>a?e:240>a?b+(e-b)*(240-a)/60:b)}function Rj(a){if(a instanceof kc)return new kc(a.l,a.a,a.b,a.opacity);if(a instanceof sc)return Sj(a);a instanceof Hb||(a=lh(a));var b=oh(a.r),e=oh(a.g),f=oh(a.b),g=ph(.2225045*b+.7168786*e+.0606169*f);if(b===e&&e===f)var h=b=g;else h=ph((.4360747*b+.3850649*e+.1430804*f)/.96422),
b=ph((.0139322*b+.0971045*e+.7141733*f)/.82521);return new kc(116*g-16,500*(h-g),200*(g-b),a.opacity)}function qf(a,b,e,f){return 1===arguments.length?Rj(a):new kc(a,b,e,null==f?1:f)}function kc(a,b,e,f){this.l=+a;this.a=+b;this.b=+e;this.opacity=+f}function ph(a){return a>Hq?Math.pow(a,1/3):a/Tj+Uj}function qh(a){return a>Id?a*a*a:Tj*(a-Uj)}function rh(a){return 255*(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function oh(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Vj(a){if(a instanceof
sc)return new sc(a.h,a.c,a.l,a.opacity);a instanceof kc||(a=Rj(a));if(0===a.a&&0===a.b)return new sc(NaN,0<a.l&&100>a.l?0:NaN,a.l,a.opacity);var b=Math.atan2(a.b,a.a)*Wj;return new sc(0>b?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function rf(a,b,e,f){return 1===arguments.length?Vj(a):new sc(a,b,e,null==f?1:f)}function sc(a,b,e,f){this.h=+a;this.c=+b;this.l=+e;this.opacity=+f}function Sj(a){if(isNaN(a.h))return new kc(a.l,0,0,a.opacity);var b=a.h*Xj;return new kc(a.l,Math.cos(b)*a.c,Math.sin(b)*
a.c,a.opacity)}function lc(a,b,e,f){if(1===arguments.length){var g=a;if(g instanceof kd)g=new kd(g.h,g.s,g.l,g.opacity);else{g instanceof Hb||(g=lh(g));var h=g.g/255,n=g.b/255,m=(Yj*n+g.r/255*-1.7884503806-3.5172982438*h)/(Yj+-1.7884503806-3.5172982438);n-=m;var p=(1.97294*(h-m)- -.29227*n)/-.90649;n=(h=Math.sqrt(p*p+n*n)/(1.97294*m*(1-m)))?Math.atan2(p,n)*Wj-120:NaN;g=new kd(0>n?n+360:n,h,m,g.opacity)}}else g=new kd(a,b,e,null==f?1:f);return g}function kd(a,b,e,f){this.h=+a;this.s=+b;this.l=+e;this.opacity=
+f}function Zj(a,b,e,f,g){var h=a*a,n=h*a;return((1-3*a+3*h-n)*b+(4-6*h+3*n)*e+(1+3*a+3*h-3*n)*f+n*g)/6}function ak(a){var b=a.length-1;return function(e){var f=0>=e?e=0:1<=e?(e=1,b-1):Math.floor(e*b),g=a[f],h=a[f+1];return Zj((e-f/b)*b,0<f?a[f-1]:2*g-h,g,h,f<b-1?a[f+2]:2*h-g)}}function bk(a){var b=a.length;return function(e){var f=Math.floor((0>(e%=1)?++e:e)*b);return Zj((e-f/b)*b,a[(f+b-1)%b],a[f%b],a[(f+1)%b],a[(f+2)%b])}}function ck(a,b){return function(e){return a+e*b}}function Iq(a,b,e){return a=
Math.pow(a,e),b=Math.pow(b,e)-a,e=1/e,function(f){return Math.pow(a+f*b,e)}}function sf(a,b){var e=b-a;return e?ck(a,180<e||-180>e?e-360*Math.round(e/360):e):tf(isNaN(a)?b:a)}function Jq(a){return 1===(a=+a)?Eb:function(b,e){return e-b?Iq(b,e,a):tf(isNaN(b)?e:b)}}function Eb(a,b){var e=b-a;return e?ck(a,e):tf(isNaN(a)?b:a)}function dk(a){return function(b){var e=b.length,f=Array(e),g=Array(e),h=Array(e),n;for(n=0;n<e;++n){var m=Hd(b[n]);f[n]=m.r||0;g[n]=m.g||0;h[n]=m.b||0}f=a(f);g=a(g);h=a(h);m.opacity=
1;return function(p){m.r=f(p);m.g=g(p);m.b=h(p);return m+""}}}function sh(a,b){b||(b=[]);var e=a?Math.min(b.length,a.length):0,f=b.slice(),g;return function(h){for(g=0;g<e;++g)f[g]=a[g]*(1-h)+b[g]*h;return f}}function ek(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function fk(a,b){var e=b?b.length:0,f=a?Math.min(e,a.length):0,g=Array(f),h=Array(e),n;for(n=0;n<f;++n)g[n]=Tc(a[n],b[n]);for(;n<e;++n)h[n]=b[n];return function(m){for(n=0;n<f;++n)h[n]=g[n](m);return h}}function gk(a,b){var e=
new Date;return a=+a,b=+b,function(f){return e.setTime(a*(1-f)+b*f),e}}function ec(a,b){return a=+a,b=+b,function(e){return a*(1-e)+b*e}}function hk(a,b){var e={},f={},g;if(null===a||"object"!==typeof a)a={};if(null===b||"object"!==typeof b)b={};for(g in b)g in a?e[g]=Tc(a[g],b[g]):f[g]=b[g];return function(h){for(g in e)f[g]=e[g](h);return f}}function Kq(a){return function(){return a}}function Lq(a){return function(b){return a(b)+""}}function th(a,b){var e=uh.lastIndex=vh.lastIndex=0,f,g,h,n=-1,
m=[],p=[];a+="";for(b+="";(f=uh.exec(a))&&(g=vh.exec(b));)(h=g.index)>e&&(h=b.slice(e,h),m[n]?m[n]+=h:m[++n]=h),(f=f[0])===(g=g[0])?m[n]?m[n]+=g:m[++n]=g:(m[++n]=null,p.push({i:n,x:ec(f,g)})),e=vh.lastIndex;e<b.length&&(h=b.slice(e),m[n]?m[n]+=h:m[++n]=h);return 2>m.length?p[0]?Lq(p[0].x):Kq(b):(b=p.length,function(y){for(var C=0,t;C<b;++C)m[(t=p[C]).i]=t.x(y);return m.join("")})}function Tc(a,b){var e=typeof b,f;return null==b||"boolean"===e?tf(b):("number"===e?ec:"string"===e?(f=Sc(b))?(b=f,re):
th:b instanceof Sc?re:b instanceof Date?gk:ek(b)?sh:Array.isArray(b)?fk:"function"!==typeof b.valueOf&&"function"!==typeof b.toString||isNaN(b)?hk:ec)(a,b)}function uf(a,b){return a=+a,b=+b,function(e){return Math.round(a*(1-e)+b*e)}}function ik(a,b,e,f,g,h){var n,m,p;if(n=Math.sqrt(a*a+b*b))a/=n,b/=n;if(p=a*e+b*f)e-=a*p,f-=b*p;if(m=Math.sqrt(e*e+f*f))e/=m,f/=m,p/=m;a*f<b*e&&(a=-a,b=-b,p=-p,n=-n);return{translateX:g,translateY:h,rotate:Math.atan2(b,a)*jk,skewX:Math.atan(p)*jk,scaleX:n,scaleY:m}}function kk(a,
b,e,f){function g(y){return y.length?y.pop()+" ":""}function h(y,C,t,u,w,z){y!==t||C!==u?(w=w.push("translate(",null,b,null,e),z.push({i:w-4,x:ec(y,t)},{i:w-2,x:ec(C,u)})):(t||u)&&w.push("translate("+t+b+u+e)}function n(y,C,t,u){y!==C?(180<y-C?C+=360:180<C-y&&(y+=360),u.push({i:t.push(g(t)+"rotate(",null,f)-2,x:ec(y,C)})):C&&t.push(g(t)+"rotate("+C+f)}function m(y,C,t,u){y!==C?u.push({i:t.push(g(t)+"skewX(",null,f)-2,x:ec(y,C)}):C&&t.push(g(t)+"skewX("+C+f)}function p(y,C,t,u,w,z){y!==t||C!==u?(w=
w.push(g(w)+"scale(",null,",",null,")"),z.push({i:w-4,x:ec(y,t)},{i:w-2,x:ec(C,u)})):1===t&&1===u||w.push(g(w)+"scale("+t+","+u+")")}return function(y,C){var t=[],u=[];y=a(y);C=a(C);h(y.translateX,y.translateY,C.translateX,C.translateY,t,u);n(y.rotate,C.rotate,t,u);m(y.skewX,C.skewX,t,u);p(y.scaleX,y.scaleY,C.scaleX,C.scaleY,t,u);y=C=null;return function(w){for(var z=-1,q=u.length,r;++z<q;)t[(r=u[z]).i]=r.x(w);return t.join("")}}}function lk(a){return((a=Math.exp(a))+1/a)/2}function mk(a){return function(b,
e){var f=a((b=pf(b)).h,(e=pf(e)).h),g=Eb(b.s,e.s),h=Eb(b.l,e.l),n=Eb(b.opacity,e.opacity);return function(m){b.h=f(m);b.s=g(m);b.l=h(m);b.opacity=n(m);return b+""}}}function nk(a){return function(b,e){var f=a((b=rf(b)).h,(e=rf(e)).h),g=Eb(b.c,e.c),h=Eb(b.l,e.l),n=Eb(b.opacity,e.opacity);return function(m){b.h=f(m);b.c=g(m);b.l=h(m);b.opacity=n(m);return b+""}}}function ok(a){return function f(e){function g(h,n){var m=a((h=lc(h)).h,(n=lc(n)).h),p=Eb(h.s,n.s),y=Eb(h.l,n.l),C=Eb(h.opacity,n.opacity);
return function(t){h.h=m(t);h.s=p(t);h.l=y(Math.pow(t,e));h.opacity=C(t);return h+""}}e=+e;g.gamma=f;return g}(1)}function pk(a,b){void 0===b&&(b=a,a=Tc);for(var e=0,f=b.length-1,g=b[0],h=Array(0>f?0:f);e<f;)h[e]=a(g,g=b[++e]);return function(n){var m=Math.max(0,Math.min(f-1,Math.floor(n*=f)));return h[m](n-m)}}function se(){return ld||(qk(Mq),ld=te.now()+vf)}function Mq(){ld=0}function ue(){this._call=this._time=this._next=null}function wf(a,b,e){var f=new ue;f.restart(a,b,e);return f}function rk(){se();
++Jd;for(var a=xf,b;a;)0<=(b=ld-a._time)&&a._call.call(null,b),a=a._next;--Jd}function sk(){ld=(yf=te.now())+vf;Jd=ve=0;try{rk()}finally{Jd=0;for(var a,b=xf,e,f=Infinity;b;)b._call?(f>b._time&&(f=b._time),a=b,b=b._next):(e=b._next,b._next=null,b=a?a._next=e:xf=e);we=a;wh(f);ld=0}}function Nq(){var a=te.now(),b=a-yf;1E3<b&&(vf-=b,yf=a)}function wh(a){Jd||(ve&&(ve=clearTimeout(ve)),24<a-ld?(Infinity>a&&(ve=setTimeout(sk,a-te.now()-vf)),xe&&(xe=clearInterval(xe))):(xe||(yf=te.now(),xe=setInterval(Nq,
1E3)),Jd=1,qk(sk)))}function xh(a,b,e){var f=new ue;b=null==b?0:+b;f.restart(function(g){f.stop();a(g+b)},b,e);return f}function zf(a,b,e,f,g,h){var n=a.__transition;if(!n)a.__transition={};else if(e in n)return;Oq(a,e,{name:b,index:f,group:g,on:Pq,tween:Qq,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:0})}function yh(a,b){a=mc(a,b);if(0<a.state)throw Error("too late; already scheduled");return a}function tc(a,b){a=mc(a,b);if(3<a.state)throw Error("too late; already running");
return a}function mc(a,b){a=a.__transition;if(!a||!(a=a[b]))throw Error("transition not found");return a}function Oq(a,b,e){function f(p){var y,C;if(1!==e.state)return h();for(u in n){var t=n[u];if(t.name===e.name){if(3===t.state)return xh(f);4===t.state?(t.state=6,t.timer.stop(),t.on.call("interrupt",a,a.__data__,t.index,t.group),delete n[u]):+u<b&&(t.state=6,t.timer.stop(),t.on.call("cancel",a,a.__data__,t.index,t.group),delete n[u])}}xh(function(){3===e.state&&(e.state=4,e.timer.restart(g,e.delay,
e.time),g(p))});e.state=2;e.on.call("start",a,a.__data__,e.index,e.group);if(2===e.state){e.state=3;m=Array(C=e.tween.length);var u=0;for(y=-1;u<C;++u)if(t=e.tween[u].value.call(a,a.__data__,e.index,e.group))m[++y]=t;m.length=y+1}}function g(p){p=p<e.duration?e.ease.call(null,p/e.duration):(e.timer.restart(h),e.state=5,1);for(var y=-1,C=m.length;++y<C;)m[y].call(a,p);5===e.state&&(e.on.call("end",a,a.__data__,e.index,e.group),h())}function h(){e.state=6;e.timer.stop();delete n[b];for(var p in n)return;
delete a.__transition}var n=a.__transition,m;n[b]=e;e.timer=wf(function(p){e.state=1;e.timer.restart(f,e.delay,e.time);e.delay<=p&&f(p-e.delay)},0,e.time)}function md(a,b){var e=a.__transition,f,g=!0,h;if(e){b=null==b?null:b+"";for(h in e)if((f=e[h]).name!==b)g=!1;else{var n=2<f.state&&5>f.state;f.state=6;f.timer.stop();f.on.call(n?"interrupt":"cancel",a,a.__data__,f.index,f.group);delete e[h]}g&&delete a.__transition}}function Rq(a,b){var e,f;return function(){var g=tc(this,a),h=g.tween;if(h!==e){f=
e=h;h=0;for(var n=f.length;h<n;++h)if(f[h].name===b){f=f.slice();f.splice(h,1);break}}g.tween=f}}function Sq(a,b,e){var f,g;if("function"!==typeof e)throw Error();return function(){var h=tc(this,a),n=h.tween;if(n!==f){g=(f=n).slice();n={name:b,value:e};for(var m=0,p=g.length;m<p;++m)if(g[m].name===b){g[m]=n;break}m===p&&g.push(n)}h.tween=g}}function zh(a,b,e){var f=a._id;a.each(function(){var g=tc(this,f);(g.value||(g.value={}))[b]=e.apply(this,arguments)});return function(g){return mc(g,f).value[b]}}
function tk(a,b){var e;return("number"===typeof b?ec:b instanceof Sc?re:(e=Sc(b))?(b=e,re):th)(a,b)}function Tq(a){return function(){this.removeAttribute(a)}}function Uq(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Vq(a,b,e){var f,g=e+"",h;return function(){var n=this.getAttribute(a);return n===g?null:n===f?h:h=b(f=n,e)}}function Wq(a,b,e){var f,g=e+"",h;return function(){var n=this.getAttributeNS(a.space,a.local);return n===g?null:n===f?h:h=b(f=n,e)}}function Xq(a,b,e){var f,
g,h;return function(){var n=e(this);if(null==n)return void this.removeAttribute(a);var m=this.getAttribute(a);var p=n+"";return m===p?null:m===f&&p===g?h:(g=p,h=b(f=m,n))}}function Yq(a,b,e){var f,g,h;return function(){var n=e(this);if(null==n)return void this.removeAttributeNS(a.space,a.local);var m=this.getAttributeNS(a.space,a.local);var p=n+"";return m===p?null:m===f&&p===g?h:(g=p,h=b(f=m,n))}}function Zq(a,b){return function(e){this.setAttribute(a,b.call(this,e))}}function $q(a,b){return function(e){this.setAttributeNS(a.space,
a.local,b.call(this,e))}}function ar(a,b){function e(){var h=b.apply(this,arguments);h!==g&&(f=(g=h)&&$q(a,h));return f}var f,g;e._value=b;return e}function br(a,b){function e(){var h=b.apply(this,arguments);h!==g&&(f=(g=h)&&Zq(a,h));return f}var f,g;e._value=b;return e}function cr(a,b){return function(){yh(this,a).delay=+b.apply(this,arguments)}}function dr(a,b){return b=+b,function(){yh(this,a).delay=b}}function er(a,b){return function(){tc(this,a).duration=+b.apply(this,arguments)}}function fr(a,
b){return b=+b,function(){tc(this,a).duration=b}}function gr(a,b){if("function"!==typeof b)throw Error();return function(){tc(this,a).ease=b}}function hr(a,b){return function(){var e=b.apply(this,arguments);if("function"!==typeof e)throw Error();tc(this,a).ease=e}}function ir(a){return(a+"").trim().split(/^|\s+/).every(function(b){var e=b.indexOf(".");0<=e&&(b=b.slice(0,e));return!b||"start"===b})}function jr(a,b,e){var f,g,h=ir(b)?yh:tc;return function(){var n=h(this,a),m=n.on;if(m!==f)(g=(f=m).copy()).on(b,
e);n.on=g}}function kr(a){return function(){var b=this.parentNode,e;for(e in this.__transition)if(+e!==a)return;b&&b.removeChild(this)}}function lr(a,b){var e,f,g;return function(){var h=id(this,a),n=(this.style.removeProperty(a),id(this,a));return h===n?null:h===e&&n===f?g:g=b(e=h,f=n)}}function uk(a){return function(){this.style.removeProperty(a)}}function mr(a,b,e){var f,g=e+"",h;return function(){var n=id(this,a);return n===g?null:n===f?h:h=b(f=n,e)}}function nr(a,b,e){var f,g,h;return function(){var n=
id(this,a),m=e(this),p=m+"";null==m&&(p=m=(this.style.removeProperty(a),id(this,a)));return n===p?null:n===f&&p===g?h:(g=p,h=b(f=n,m))}}function or(a,b){var e,f,g,h="style."+b,n="end."+h,m;return function(){var p=tc(this,a),y=p.on,C=null==p.value[h]?m||(m=uk(b)):void 0;if(y!==e||g!==C)(f=(e=y).copy()).on(n,g=C);p.on=f}}function pr(a,b,e){return function(f){this.style.setProperty(a,b.call(this,f),e)}}function qr(a,b,e){function f(){var n=b.apply(this,arguments);n!==h&&(g=(h=n)&&pr(a,n,e));return g}
var g,h;f._value=b;return f}function rr(a){return function(){this.textContent=a}}function sr(a){return function(){var b=a(this);this.textContent=null==b?"":b}}function tr(a){return function(b){this.textContent=a.call(this,b)}}function ur(a){function b(){var g=a.apply(this,arguments);g!==f&&(e=(f=g)&&tr(g));return e}var e,f;b._value=a;return b}function uc(a,b,e,f){this._groups=a;this._parents=b;this._name=e;this._id=f}function vk(a){return jd().transition(a)}function wk(a){return(1>=(a*=2)?a*a:--a*
(2-a)+1)/2}function Ah(a){return(1>=(a*=2)?a*a*a:(a-=2)*a*a+2)/2}function xk(a){return(1-Math.cos(yk*a))/2}function Uc(a){return 1.0009775171065494*(Math.pow(2,-10*a)-9.765625E-4)}function zk(a){return(1>=(a*=2)?Uc(1-a):2-Uc(a-1))/2}function Ak(a){return(1>=(a*=2)?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}function ye(a){return(a=+a)<Bh?Af*a*a:a<vr?Af*(a-=wr)*a+.75:a<xr?Af*(a-=yr)*a+.9375:Af*(a-=zr)*a+.984375}function Ar(a,b){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},
sourceEvent:{value:b.sourceEvent,enumerable:!0,configurable:!0},target:{value:b.target,enumerable:!0,configurable:!0},selection:{value:b.selection,enumerable:!0,configurable:!0},mode:{value:b.mode,enumerable:!0,configurable:!0},_:{value:b.dispatch}})}function Bk(a){return[+a[0],+a[1]]}function Ch(a){return[Bk(a[0]),Bk(a[1])]}function ze(a){return{type:a}}function Br(a){return!a.ctrlKey&&!a.button}function Cr(){var a=this.ownerSVGElement||this;return a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,
[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function Dr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dh(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function Eh(a){function b(r){var x=r.property("__brush",p).selectAll(".overlay").data([ze("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Fc.overlay).merge(x).each(function(){var B=Dh(this).extent;Kb(this).attr("x",
B[0][0]).attr("y",B[0][1]).attr("width",B[1][0]-B[0][0]).attr("height",B[1][1]-B[0][1])});r.selectAll(".selection").data([ze("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Fc.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");x=r.selectAll(".handle").data(a.handles,function(B){return B.type});x.exit().remove();x.enter().append("rect").attr("class",function(B){return"handle handle--"+B.type}).attr("cursor",
function(B){return Fc[B.type]});r.each(e).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(t).on("touchstart.brush",h).on("touchmove.brush",n).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){var r=Kb(this),x=Dh(this).selection;x?(r.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),r.selectAll(".handle").style("display",
null).attr("x",function(B){return"e"===B.type[B.type.length-1]?x[1][0]-z/2:x[0][0]-z/2}).attr("y",function(B){return"s"===B.type[0]?x[1][1]-z/2:x[0][1]-z/2}).attr("width",function(B){return"n"===B.type||"s"===B.type?x[1][0]-x[0][0]+z:z}).attr("height",function(B){return"e"===B.type||"w"===B.type?x[1][1]-x[0][1]+z:z})):r.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(r,x,B){var F=r.__brush.emitter;return!F||B&&
F.clean?new g(r,x,B):F}function g(r,x,B){this.that=r;this.args=x;this.state=r.__brush;this.active=0;this.clean=B}function h(r){function x(R){for(var da=$jscomp.makeIterator(R.changedTouches||[R]),pa=da.next();!pa.done;pa=da.next()){pa=pa.value;for(var ea=$jscomp.makeIterator(G),wa=ea.next();!wa.done;wa=ea.next())wa=wa.value,wa.identifier===pa.identifier&&(wa.cur=ac(pa,S))}!k||A||I||1!==G.length||(da=G[0],Ck(da.cur[0]-da[0])>Ck(da.cur[1]-da[1])?I=!0:A=!0);da=$jscomp.makeIterator(G);for(pa=da.next();!pa.done;pa=
da.next())pa=pa.value,pa.cur&&(pa[0]=pa.cur[0],pa[1]=pa.cur[1]);Wa=!0;R.preventDefault();R.stopImmediatePropagation();B(R)}function B(R){var da=G[0],pa=da.point0;Fa=da[0]-pa[0];Ma=da[1]-pa[1];switch(ia){case Fh:case Dk:U&&(Fa=Lb(Ia-ra,Mb(O-aa,Fa)),J=ra+Fa,W=aa+Fa);V&&(Ma=Lb(Ga-Ra,Mb(Ba-Ja,Ma)),M=Ra+Ma,T=Ja+Ma);break;case Kd:G[1]?(U&&(J=Lb(Ia,Mb(O,G[0][0])),W=Lb(Ia,Mb(O,G[1][0])),U=1),V&&(M=Lb(Ga,Mb(Ba,G[0][1])),T=Lb(Ga,Mb(Ba,G[1][1])),V=1)):(0>U?(Fa=Lb(Ia-ra,Mb(O-ra,Fa)),J=ra+Fa,W=aa):0<U&&(Fa=Lb(Ia-
aa,Mb(O-aa,Fa)),J=ra,W=aa+Fa),0>V?(Ma=Lb(Ga-Ra,Mb(Ba-Ra,Ma)),M=Ra+Ma,T=Ja):0<V&&(Ma=Lb(Ga-Ja,Mb(Ba-Ja,Ma)),M=Ra,T=Ja+Ma));break;case Ld:U&&(J=Lb(Ia,Mb(O,ra-Fa*U)),W=Lb(Ia,Mb(O,aa+Fa*U))),V&&(M=Lb(Ga,Mb(Ba,Ra-Ma*V)),T=Lb(Ga,Mb(Ba,Ja+Ma*V)))}W<J&&(U*=-1,da=ra,ra=aa,aa=da,da=J,J=W,W=da,ca in Ek&&ha.attr("cursor",Fc[ca=Ek[ca]]));T<M&&(V*=-1,da=Ra,Ra=Ja,Ja=da,da=M,M=T,T=da,ca in Fk&&ha.attr("cursor",Fc[ca=Fk[ca]]));ma.selection&&(ta=ma.selection);A&&(J=ta[0][0],W=ta[1][0]);I&&(M=ta[0][1],T=ta[1][1]);if(ta[0][0]!==
J||ta[0][1]!==M||ta[1][0]!==W||ta[1][1]!==T)ma.selection=[[J,M],[W,T]],e.call(S),na.brush(R,ia.name)}function F(R){R.stopImmediatePropagation();if(R.touches){if(R.touches.length)return;q&&clearTimeout(q);q=setTimeout(function(){q=null},500)}else nf(R.view,Wa),ua.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);fa.attr("pointer-events","all");ha.attr("cursor",Fc.overlay);ma.selection&&(ta=ma.selection);if(ta[0][0]===ta[1][0]||ta[0][1]===ta[1][1])ma.selection=null,e.call(S);na.end(R,
ia.name)}function L(R){switch(R.keyCode){case 16:k=U&&V;break;case 18:ia===Kd&&(U&&(aa=W-Fa*U,ra=J+Fa*U),V&&(Ja=T-Ma*V,Ra=M+Ma*V),ia=Ld,B());break;case 32:if(ia===Kd||ia===Ld)0>U?aa=W-Fa:0<U&&(ra=J-Fa),0>V?Ja=T-Ma:0<V&&(Ra=M-Ma),ia=Fh,ha.attr("cursor",Fc.selection),B();break;default:return}R.preventDefault();R.stopImmediatePropagation()}function Q(R){switch(R.keyCode){case 16:k&&(A=I=k=!1,B());break;case 18:ia===Ld&&(0>U?aa=W:0<U&&(ra=J),0>V?Ja=T:0<V&&(Ra=M),ia=Kd,B());break;case 32:ia===Fh&&(R.altKey?
(U&&(aa=W-Fa*U,ra=J+Fa*U),V&&(Ja=T-Ma*V,Ra=M+Ma*V),ia=Ld):(0>U?aa=W:0<U&&(ra=J),0>V?Ja=T:0<V&&(Ra=M),ia=Kd),ha.attr("cursor",Fc[ca]),B());break;default:return}R.preventDefault();R.stopImmediatePropagation()}if((!q||r.touches)&&C.apply(this,arguments)){var S=this,ca=r.target.__data__.type,ia="selection"===(u&&r.metaKey?ca="overlay":ca)?Dk:u&&r.altKey?Ld:Kd,U=a===Bf?null:Er[ca],V=a===Cf?null:Fr[ca],ma=Dh(S),ka=ma.extent,ta=ma.selection,Ia=ka[0][0],ra,Ga=ka[0][1],Ra,O=ka[1][0],aa,Ba=ka[1][1],Ja,Fa=0,
Ma=0,Wa,k=U&&V&&u&&r.shiftKey,A,I,G=Array.from(r.touches||[r],function(R){var da=R.identifier;R=ac(R,S);R.point0=R.slice();R.identifier=da;return R});"overlay"===ca?(ta&&(Wa=!0),ka=[G[0],G[1]||G[0]],ma.selection=ta=[[ra=a===Bf?Ia:Mb(ka[0][0],ka[1][0]),Ra=a===Cf?Ga:Mb(ka[0][1],ka[1][1])],[aa=a===Bf?O:Lb(ka[0][0],ka[1][0]),Ja=a===Cf?Ba:Lb(ka[0][1],ka[1][1])]],1<G.length&&B()):(ra=ta[0][0],Ra=ta[0][1],aa=ta[1][0],Ja=ta[1][1]);var J=ra;var M=Ra;var W=aa;var T=Ja;var fa=Kb(S).attr("pointer-events","none"),
ha=fa.selectAll(".overlay").attr("cursor",Fc[ca]);md(S);var na=f(S,arguments,!0).beforestart();if(r.touches)na.moved=x,na.ended=F;else{var ua=Kb(r.view).on("mousemove.brush",x,!0).on("mouseup.brush",F,!0);if(u)ua.on("keydown.brush",L,!0).on("keyup.brush",Q,!0);mf(r.view)}e.call(S);na.start(r,ia.name)}}function n(r){f(this,arguments).moved(r)}function m(r){f(this,arguments).ended(r)}function p(){var r=this.__brush||{selection:null};r.extent=Ch(y.apply(this,arguments));r.dim=a;return r}var y=Cr,C=Br,
t=Dr,u=!0,w=hd("start","brush","end"),z=6,q;b.move=function(r,x){r.tween?r.on("start.brush",function(B){f(this,arguments).beforestart().start(B)}).on("interrupt.brush end.brush",function(B){f(this,arguments).end(B)}).tween("brush",function(){function B(U){L.selection=1===U&&null===ca?null:ia(U);e.call(F);Q.brush()}var F=this,L=F.__brush,Q=f(F,arguments),S=L.selection,ca=a.input("function"===typeof x?x.apply(this,arguments):x,L.extent),ia=Tc(S,ca);return null!==S&&null!==ca?B:B(1)}):r.each(function(){var B=
arguments,F=this.__brush,L=a.input("function"===typeof x?x.apply(this,B):x,F.extent);B=f(this,B).beforestart();md(this);F.selection=null===L?null:L;e.call(this);B.start().brush().end()})};b.clear=function(r){b.move(r,null)};g.prototype={beforestart:function(){1===++this.active&&(this.state.emitter=this,this.starting=!0);return this},start:function(r,x){this.starting?(this.starting=!1,this.emit("start",r,x)):this.emit("brush",r);return this},brush:function(r,x){this.emit("brush",r,x);return this},
end:function(r,x){0===--this.active&&(delete this.state.emitter,this.emit("end",r,x));return this},emit:function(r,x,B){var F=Kb(this.that).datum();w.call(r,this.that,new Ar(r,{sourceEvent:x,target:b,selection:a.output(this.state.selection),mode:B,dispatch:w}),F)}};b.extent=function(r){return arguments.length?(y="function"===typeof r?r:Gh(Ch(r)),b):y};b.filter=function(r){return arguments.length?(C="function"===typeof r?r:Gh(!!r),b):C};b.touchable=function(r){return arguments.length?(t="function"===
typeof r?r:Gh(!!r),b):t};b.handleSize=function(r){return arguments.length?(z=+r,b):z};b.keyModifiers=function(r){return arguments.length?(u=!!r,b):u};b.on=function(){var r=w.on.apply(w,arguments);return r===w?b:r};return b}function Hh(a,b){return Array.from({length:b-a},function(e,f){return a+f})}function Gr(a){return function(b,e){return a(b.source.value+b.target.value,e.source.value+e.target.value)}}function Ih(a,b){function e(m){var p=m.length,y=Array(p),C=Hh(0,p),t=Array(p*p),u=Array(p),w=0,z;
m=Float64Array.from({length:p*p},b?function(Q,S){return m[S%p][S/p|0]}:function(Q,S){return m[S/p|0][S%p]});for(z=0;z<p;++z){for(var q=0,r=0;r<p;++r)q+=m[z*p+r]+a*m[r*p+z];w+=y[z]=q}z=(w=Gk(0,Hk-f*p)/w)?f:Hk/p;q=0;g&&C.sort(function(Q,S){return g(y[Q],y[S])});r={};C=$jscomp.makeIterator(C);for(var x=C.next();!x.done;r={$jscomp$loop$prop$i$145$300:r.$jscomp$loop$prop$i$145$300},x=C.next()){r.$jscomp$loop$prop$i$145$300=x.value;x=q;if(a){var B=Hh(~p+1,p).filter(function(Q){return function(S){return 0>
S?m[~S*p+Q.$jscomp$loop$prop$i$145$300]:m[Q.$jscomp$loop$prop$i$145$300*p+S]}}(r));h&&B.sort(function(Q){return function(S,ca){return h(0>S?-m[~S*p+Q.$jscomp$loop$prop$i$145$300]:m[Q.$jscomp$loop$prop$i$145$300*p+S],0>ca?-m[~ca*p+Q.$jscomp$loop$prop$i$145$300]:m[Q.$jscomp$loop$prop$i$145$300*p+ca])}}(r));B=$jscomp.makeIterator(B);for(var F=B.next();!F.done;F=B.next())F=F.value,0>F?(t[~F*p+r.$jscomp$loop$prop$i$145$300]||(t[~F*p+r.$jscomp$loop$prop$i$145$300]={source:null,target:null})).target={index:r.$jscomp$loop$prop$i$145$300,
startAngle:q,endAngle:q+=m[~F*p+r.$jscomp$loop$prop$i$145$300]*w,value:m[~F*p+r.$jscomp$loop$prop$i$145$300]}:(t[r.$jscomp$loop$prop$i$145$300*p+F]||(t[r.$jscomp$loop$prop$i$145$300*p+F]={source:null,target:null})).source={index:r.$jscomp$loop$prop$i$145$300,startAngle:q,endAngle:q+=m[r.$jscomp$loop$prop$i$145$300*p+F]*w,value:m[r.$jscomp$loop$prop$i$145$300*p+F]}}else for(B=Hh(0,p).filter(function(Q){return function(S){return m[Q.$jscomp$loop$prop$i$145$300*p+S]||m[S*p+Q.$jscomp$loop$prop$i$145$300]}}(r)),
h&&B.sort(function(Q){return function(S,ca){return h(m[Q.$jscomp$loop$prop$i$145$300*p+S],m[Q.$jscomp$loop$prop$i$145$300*p+ca])}}(r)),B=$jscomp.makeIterator(B),F=B.next();!F.done;F=B.next()){var L=F.value;F=void 0;r.$jscomp$loop$prop$i$145$300<L?(F=t[r.$jscomp$loop$prop$i$145$300*p+L]||(t[r.$jscomp$loop$prop$i$145$300*p+L]={source:null,target:null}),F.source={index:r.$jscomp$loop$prop$i$145$300,startAngle:q,endAngle:q+=m[r.$jscomp$loop$prop$i$145$300*p+L]*w,value:m[r.$jscomp$loop$prop$i$145$300*
p+L]}):(F=t[L*p+r.$jscomp$loop$prop$i$145$300]||(t[L*p+r.$jscomp$loop$prop$i$145$300]={source:null,target:null}),F.target={index:r.$jscomp$loop$prop$i$145$300,startAngle:q,endAngle:q+=m[r.$jscomp$loop$prop$i$145$300*p+L]*w,value:m[r.$jscomp$loop$prop$i$145$300*p+L]},r.$jscomp$loop$prop$i$145$300===L&&(F.source=F.target));F.source&&F.target&&F.source.value<F.target.value&&(L=F.source,F.source=F.target,F.target=L)}u[r.$jscomp$loop$prop$i$145$300]={index:r.$jscomp$loop$prop$i$145$300,startAngle:x,endAngle:q,
value:y[r.$jscomp$loop$prop$i$145$300]};q+=z}t=Object.values(t);t.groups=u;return n?t.sort(n):t}var f=0,g=null,h=null,n=null;e.padAngle=function(m){return arguments.length?(f=Gk(0,m),e):f};e.sortGroups=function(m){return arguments.length?(g=m,e):g};e.sortSubgroups=function(m){return arguments.length?(h=m,e):h};e.sortChords=function(m){return arguments.length?(null==m?n=null:(n=Gr(m))._=m,e):n&&n._};return e}function Jh(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function Vc(){return new Jh}
function nd(a){return function(){return a}}function Hr(a){return a.source}function Ir(a){return a.target}function Ik(a){return a.radius}function Jr(a){return a.startAngle}function Kr(a){return a.endAngle}function Lr(){return 0}function Mr(){return 10}function Jk(a){function b(){var C,t=e.apply(this,arguments),u=f.apply(this,arguments),w=p.apply(this,arguments)/2,z=Nr.call(arguments);t=+g.apply(this,(z[0]=t,z));var q=n.apply(this,z)-Df,r=m.apply(this,z)-Df;u=+h.apply(this,(z[0]=u,z));var x=n.apply(this,
z)-Df;z=m.apply(this,z)-Df;y||(y=C=Vc());1E-12<w&&(Kk(r-q)>2*w+1E-12?r>q?(q+=w,r-=w):(q-=w,r+=w):q=r=(q+r)/2,Kk(z-x)>2*w+1E-12?z>x?(x+=w,z-=w):(x-=w,z+=w):x=z=(x+z)/2);y.moveTo(t*Md(q),t*Nd(q));y.arc(0,0,t,q,r);if(q!==x||r!==z)a?(w=+a.apply(this,arguments),w=u-w,r=(x+z)/2,y.quadraticCurveTo(0,0,w*Md(x),w*Nd(x)),y.lineTo(u*Md(r),u*Nd(r)),y.lineTo(w*Md(z),w*Nd(z))):(y.quadraticCurveTo(0,0,u*Md(x),u*Nd(x)),y.arc(0,0,u,x,z));y.quadraticCurveTo(0,0,t*Md(q),t*Nd(q));y.closePath();if(C)return y=null,C+""||
null}var e=Hr,f=Ir,g=Ik,h=Ik,n=Jr,m=Kr,p=Lr,y=null;a&&(b.headRadius=function(C){return arguments.length?(a="function"===typeof C?C:nd(+C),b):a});b.radius=function(C){return arguments.length?(g=h="function"===typeof C?C:nd(+C),b):g};b.sourceRadius=function(C){return arguments.length?(g="function"===typeof C?C:nd(+C),b):g};b.targetRadius=function(C){return arguments.length?(h="function"===typeof C?C:nd(+C),b):h};b.startAngle=function(C){return arguments.length?(n="function"===typeof C?C:nd(+C),b):n};
b.endAngle=function(C){return arguments.length?(m="function"===typeof C?C:nd(+C),b):m};b.padAngle=function(C){return arguments.length?(p="function"===typeof C?C:nd(+C),b):p};b.source=function(C){return arguments.length?(e=C,b):e};b.target=function(C){return arguments.length?(f=C,b):f};b.context=function(C){return arguments.length?(y=null==C?null:C,b):y};return b}function Or(a,b){return a-b}function Pr(){}function Lk(){function a(p){var y=n(p);if(Array.isArray(y))y=y.slice().sort(Or);else{var C=oa(p),
t=C[0];C=C[1];y=pb(t,C,y);y=Yb(Math.floor(t/y)*y,Math.floor(C/y)*y,y)}return y.map(function(u){return b(p,u)})}function b(p,y){var C=[],t=[];e(p,y,function(u){m(u,p,y);for(var w=0,z=u.length,q=u[z-1][1]*u[0][0]-u[z-1][0]*u[0][1];++w<z;)q+=u[w-1][1]*u[w][0]-u[w-1][0]*u[w][1];0<q?C.push([u]):t.push(u)});t.forEach(function(u){for(var w=0,z=C.length,q;w<z;++w){a:{var r=(q=C[w])[0];for(var x=u,B=-1,F=x.length;++B<F;){b:{var L=r;for(var Q=x[B],S=Q[0],ca=Q[1],ia=-1,U=0,V=L.length,ma=V-1;U<V;ma=U++){var ka=
L[U],ta=ka[0],Ia=ka[1],ra=L[ma];ma=ra[0];var Ga=ra[1],Ra,O=ka;ka=ra;ra=Q;if(Ra=(ka[0]-O[0])*(ra[1]-O[1])===(ra[0]-O[0])*(ka[1]-O[1]))O=O[Ra=+(O[0]===ka[0])],ra=ra[Ra],ka=ka[Ra],Ra=O<=ra&&ra<=ka||ka<=ra&&ra<=O;if(Ra){L=0;break b}Ia>ca!==Ga>ca&&S<(ma-ta)*(ca-Ia)/(Ga-Ia)+ta&&(ia=-ia)}L=ia}if(L){r=L;break a}}r=0}if(-1!==r){q.push(u);break}}});return{type:"MultiPolygon",value:y,coordinates:C}}function e(p,y,C){function t(L){var Q=[L[0][0]+q,L[0][1]+z];L=[L[1][0]+q,L[1][1]+z];var S=2*Q[0]+Q[1]*(g+1)*4,
ca=2*L[0]+L[1]*(g+1)*4,ia,U;(ia=w[S])?(U=u[ca])?(delete w[ia.end],delete u[U.start],ia===U?(ia.ring.push(L),C(ia.ring)):u[ia.start]=w[U.end]={start:ia.start,end:U.end,ring:ia.ring.concat(U.ring)}):(delete w[ia.end],ia.ring.push(L),w[ia.end=ca]=ia):(ia=u[ca])?(U=w[S])?(delete u[ia.start],delete w[U.end],ia===U?(ia.ring.push(L),C(ia.ring)):u[U.start]=w[ia.end]={start:U.start,end:ia.end,ring:U.ring.concat(ia.ring)}):(delete u[ia.start],ia.ring.unshift(Q),u[ia.start=S]=ia):u[S]=w[ca]={start:S,end:ca,
ring:[Q,L]}}var u=[],w=[],z;var q=z=-1;var r=p[0]>=y;for(Gc[r<<1].forEach(t);++q<g-1;){var x=r;r=p[q+1]>=y;Gc[x|r<<1].forEach(t)}for(Gc[r<<0].forEach(t);++z<h-1;){q=-1;r=p[z*g+g]>=y;var B=p[z*g]>=y;for(Gc[r<<1|B<<2].forEach(t);++q<g-1;){x=r;r=p[z*g+g+q+1]>=y;var F=B;B=p[z*g+q+1]>=y;Gc[x|r<<1|B<<2|F<<3].forEach(t)}Gc[r|B<<3].forEach(t)}q=-1;B=p[z*g]>=y;for(Gc[B<<2].forEach(t);++q<g-1;)F=B,B=p[z*g+q+1]>=y,Gc[B<<2|F<<3].forEach(t);Gc[B<<3].forEach(t)}function f(p,y,C){p.forEach(function(t){var u=t[0],
w=t[1],z=u|0,q=w|0,r=y[q*g+z];if(0<u&&u<g&&z===u){var x=y[q*g+z-1];t[0]=u+(C-x)/(r-x)-.5}0<w&&w<h&&q===w&&(x=y[(q-1)*g+z],t[1]=w+(C-x)/(r-x)-.5)})}var g=1,h=1,n=Cc,m=f;a.contour=b;a.size=function(p){if(!arguments.length)return[g,h];var y=Math.floor(p[0]),C=Math.floor(p[1]);if(!(0<=y&&0<=C))throw Error("invalid size");return g=y,h=C,a};a.thresholds=function(p){return arguments.length?(n="function"===typeof p?p:Array.isArray(p)?Wc(Mk.call(p)):Wc(p),a):n};a.smooth=function(p){return arguments.length?
(m=p?f:Pr,a):m===f};return a}function Kh(a,b,e){for(var f=a.width,g=a.height,h=(e<<1)+1,n=0;n<g;++n)for(var m=0,p=0;m<f+e;++m)m<f&&(p+=a.data[m+n*f]),m>=e&&(m>=h&&(p-=a.data[m-h+n*f]),b.data[m-e+n*f]=p/Math.min(m+1,f-1+h-m,h))}function Lh(a,b,e){for(var f=a.width,g=a.height,h=(e<<1)+1,n=0;n<f;++n)for(var m=0,p=0;m<g+e;++m)m<g&&(p+=a.data[n+m*f]),m>=e&&(m>=h&&(p-=a.data[n+(m-h)*f]),b.data[n+(m-e)*f]=p/Math.min(m+1,g-1+h-m,h))}function Qr(a){return a[0]}function Rr(a){return a[1]}function Sr(){return 1}
function Mh(a,b,e,f){a-=e;b-=f;return a*a+b*b}function Nh(a,b,e,f,g,h){f=(f-b)*(g-a);a=(e-a)*(h-b);return Math.abs(f-a)>=3.3306690738754716E-16*Math.abs(f+a)?f-a:0}function Ef(a,b,e,f,g,h){return 0>(Nh(g,h,a,b,e,f)||Nh(a,b,e,f,g,h)||Nh(e,f,g,h,a,b))}function Od(a,b,e,f){if(20>=f-e)for(var g=e+1;g<=f;g++){for(var h=a[g],n=b[h],m=g-1;m>=e&&b[a[m]]>n;)a[m+1]=a[m--];a[m+1]=h}else{g=e+1;h=f;Ae(a,e+f>>1,g);b[a[e]]>b[a[f]]&&Ae(a,e,f);b[a[g]]>b[a[f]]&&Ae(a,g,f);b[a[e]]>b[a[g]]&&Ae(a,e,g);n=a[g];for(m=b[n];;){do g++;
while(b[a[g]]<m);do h--;while(b[a[h]]>m);if(h<g)break;Ae(a,g,h)}a[e+1]=a[h];a[h]=n;f-g+1>=h-e?(Od(a,b,g,f),Od(a,b,e,h-1)):(Od(a,b,e,h-1),Od(a,b,g,f))}}function Ae(a,b,e){var f=a[b];a[b]=a[e];a[e]=f}function Tr(a){return a[0]}function Ur(a){return a[1]}function Vr(a){return a[0]}function Wr(a){return a[1]}function Xr(a){var b=a.triangles;a=a.coords;for(var e=0;e<b.length;e+=3){var f=2*b[e],g=2*b[e+1],h=2*b[e+2];if(1E-10<(a[h]-a[f])*(a[g+1]-a[f+1])-(a[g]-a[f])*(a[h+1]-a[f+1]))return!1}return!0}function Yr(a,
b,e){return[a+Math.sin(a+b)*e,b+Math.cos(a-b)*e]}function Nk(a,b,e,f){var g,h,n,m;return $jscomp.generator.createGenerator(Nk,function(p){switch(p.nextAddress){case 1:g=0,h=$jscomp.makeIterator(a),n=h.next();case 2:if(n.done){p.jumpTo(0);break}m=n.value;return p.yield(b.call(f,m,g,a),5);case 5:return p.yield(e.call(f,m,g,a),6);case 6:++g,n=h.next(),p.jumpTo(2)}})}function Ok(a){return new Function("d","return {"+a.map(function(b,e){return JSON.stringify(b)+": d["+e+'] || ""'}).join(",")+"}")}function Zr(a,
b){var e=Ok(a);return function(f,g){return b(e(f),g,a)}}function Pk(a){var b=Object.create(null),e=[];a.forEach(function(f){for(var g in f)g in b||e.push(b[g]=g)});return e}function Zb(a,b){a+="";var e=a.length;return e<b?Array(b-e+1).join(0)+a:a}function Ff(a){function b(m,p){function y(){if(q)return Oh;if(r)return r=!1,Qk;var B,F=u,L;if(34===m.charCodeAt(F)){for(;u++<t&&34!==m.charCodeAt(u)||34===m.charCodeAt(++u););(B=u)>=t?q=!0:10===(L=m.charCodeAt(u++))?r=!0:13===L&&(r=!0,10===m.charCodeAt(u)&&
++u);return m.slice(F+1,B-1).replace(/""/g,'"')}for(;u<t;){if(10===(L=m.charCodeAt(B=u++)))r=!0;else if(13===L)r=!0,10===m.charCodeAt(u)&&++u;else if(L!==n)continue;return m.slice(F,B)}return q=!0,m.slice(F,t)}var C=[],t=m.length,u=0,w=0,z,q=0>=t,r=!1;10===m.charCodeAt(t-1)&&--t;for(13===m.charCodeAt(t-1)&&--t;(z=y())!==Oh;){for(var x=[];z!==Qk&&z!==Oh;)x.push(z),z=y();p&&null==(x=p(x,w++))||C.push(x)}return C}function e(m,p){return m.map(function(y){return p.map(function(C){return g(y[C])}).join(a)})}
function f(m){return m.map(g).join(a)}function g(m){if(null==m)m="";else{if(m instanceof Date){var p=m.getUTCHours();var y=m.getUTCMinutes(),C=m.getUTCSeconds(),t=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var u=m.getUTCFullYear();m=(0>u?"-"+Zb(-u,6):9999<u?"+"+Zb(u,6):Zb(u,4))+"-"+Zb(m.getUTCMonth()+1,2)+"-"+Zb(m.getUTCDate(),2)+(t?"T"+Zb(p,2)+":"+Zb(y,2)+":"+Zb(C,2)+"."+Zb(t,3)+"Z":C?"T"+Zb(p,2)+":"+Zb(y,2)+":"+Zb(C,2)+"Z":y||p?"T"+Zb(p,2)+":"+Zb(y,2)+"Z":"")}p=m}else p=h.test(m+=
"")?'"'+m.replace(/"/g,'""')+'"':m;m=p}return m}var h=new RegExp('["'+a+"\n\r]"),n=a.charCodeAt(0);return{parse:function(m,p){var y,C;m=b(m,function(t,u){if(y)return y(t,u-1);C=t;y=p?Zr(t,p):Ok(t)});m.columns=C||[];return m},parseRows:b,format:function(m,p){null==p&&(p=Pk(m));return[p.map(g).join(a)].concat(e(m,p)).join("\n")},formatBody:function(m,p){null==p&&(p=Pk(m));return e(m,p).join("\n")},formatRows:function(m){return m.map(f).join("\n")},formatRow:f,formatValue:g}}function $r(a){if(!a.ok)throw Error(a.status+
" "+a.statusText);return a.blob()}function as(a){if(!a.ok)throw Error(a.status+" "+a.statusText);return a.arrayBuffer()}function bs(a){if(!a.ok)throw Error(a.status+" "+a.statusText);return a.text()}function Gf(a,b){return fetch(a,b).then(bs)}function Rk(a){return function(b,e,f){2===arguments.length&&"function"===typeof e&&(f=e,e=void 0);return Gf(b,e).then(function(g){return a(g,f)})}}function cs(a){if(!a.ok)throw Error(a.status+" "+a.statusText);if(204!==a.status&&205!==a.status)return a.json()}
function Ph(a){return function(b,e){return Gf(b,e).then(function(f){return(new DOMParser).parseFromString(f,a)})}}function Sk(a,b,e,f){if(isNaN(b)||isNaN(e))return a;var g,h=a._root;f={data:f};var n=a._x0,m=a._y0,p=a._x1,y=a._y1,C,t,u,w;if(!h)return a._root=f,a;for(;h.length;)if((u=b>=(C=(n+p)/2))?n=C:p=C,(w=e>=(t=(m+y)/2))?m=t:y=t,g=h,!(h=h[u|=w<<1]))return g[u]=f,a;var z=+a._x.call(null,h.data);var q=+a._y.call(null,h.data);if(b===z&&e===q)return f.next=h,g?g[u]=f:a._root=f,a;do g=g?g[u]=Array(4):
a._root=Array(4),(u=b>=(C=(n+p)/2))?n=C:p=C,(w=e>=(t=(m+y)/2))?m=t:y=t;while((u|=w<<1)===(w=(q>=t)<<1|z>=C));return g[w]=h,g[u]=f,a}function Qb(a,b,e,f,g){this.node=a;this.x0=b;this.y0=e;this.x1=f;this.y1=g}function ds(a){return a[0]}function es(a){return a[1]}function Hf(a,b,e){b=new Qh(null==b?ds:b,null==e?es:e,NaN,NaN,NaN,NaN);return null==a?b:b.addAll(a)}function Qh(a,b,e,f,g,h){this._x=a;this._y=b;this._x0=e;this._y0=f;this._x1=g;this._y1=h;this._root=void 0}function Tk(a){for(var b={data:a.data},
e=b;a=a.next;)e=e.next={data:a.data};return b}function Bb(a){return function(){return a}}function fs(a){return a.x+a.vx}function gs(a){return a.y+a.vy}function hs(a){return a.index}function Uk(a,b){a=a.get(b);if(!a)throw Error("node not found: "+b);return a}function is(){var a=1;return function(){return(a=(1664525*a+1013904223)%4294967296)/4294967296}}function js(a){return a.x}function ks(a){return a.y}function If(a,b){if(0>(b=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;
var e=a.slice(0,b);return[1<e.length?e[0]+e.slice(2):e,+a.slice(b+1)]}function Pd(a){return a=If(Math.abs(a)),a?a[1]:NaN}function ls(a,b){return function(e,f){for(var g=e.length,h=[],n=0,m=a[0],p=0;0<g&&0<m;){p+m+1>f&&(m=Math.max(1,f-p));h.push(e.substring(g-=m,g+m));if((p+=m+1)>f)break;m=a[n=(n+1)%a.length]}return h.reverse().join(b)}}function ms(a){return function(b){return b.replace(/[0-9]/g,function(e){return a[+e]})}}function Be(a){if(!(b=ns.exec(a)))throw Error("invalid format: "+a);var b;return new Jf({fill:b[1],
align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function Jf(a){this.fill=void 0===a.fill?" ":a.fill+"";this.align=void 0===a.align?">":a.align+"";this.sign=void 0===a.sign?"-":a.sign+"";this.symbol=void 0===a.symbol?"":a.symbol+"";this.zero=!!a.zero;this.width=void 0===a.width?void 0:+a.width;this.comma=!!a.comma;this.precision=void 0===a.precision?void 0:+a.precision;this.trim=!!a.trim;this.type=void 0===a.type?"":a.type+""}function Vk(a,
b){b=If(a,b);if(!b)return a+"";a=b[0];b=b[1];return 0>b?"0."+Array(-b).join("0")+a:a.length>b+1?a.slice(0,b+1)+"."+a.slice(b+1):a+Array(b-a.length+2).join("0")}function Wk(a){return a}function Xk(a){function b(C){function t(V){var ma=S,ka=ca,ta,Ia;if("c"===Q)ka=ia(V)+ka,V="";else{V=+V;var ra=0>V||0>1/V;V=isNaN(V)?y:ia(Math.abs(V),F);if(L){var Ga=V.length,Ra=1,O=-1;a:for(;Ra<Ga;++Ra)switch(V[Ra]){case ".":O=ta=Ra;break;case "0":0===O&&(O=Ra);ta=Ra;break;default:if(!+V[Ra])break a;0<O&&(O=0)}V=0<O?
V.slice(0,O)+V.slice(ta+1):V}ra&&0===+V&&"+"!==z&&(ra=!1);ma=(ra?"("===z?z:p:"-"===z||"("===z?"":z)+ma;ka=("s"===Q?Yk[8+Zk/3]:"")+ka+(ra&&"("===z?")":"");if(U)for(ra=-1,ta=V.length;++ra<ta;)if(Ia=V.charCodeAt(ra),48>Ia||57<Ia){ka=(46===Ia?h+V.slice(ra+1):V.slice(ra))+ka;V=V.slice(0,ra);break}}B&&!r&&(V=e(V,Infinity));Ia=ma.length+V.length+ka.length;ra=Ia<x?Array(x-Ia+1).join(u):"";B&&r&&(V=e(ra+V,ra.length?x-ka.length:Infinity),ra="");switch(w){case "<":V=ma+V+ka+ra;break;case "=":V=ma+ra+V+ka;break;
case "^":V=ra.slice(0,Ia=ra.length>>1)+ma+V+ka+ra.slice(Ia);break;default:V=ra+ma+V+ka}return n(V)}C=Be(C);var u=C.fill,w=C.align,z=C.sign,q=C.symbol,r=C.zero,x=C.width,B=C.comma,F=C.precision,L=C.trim,Q=C.type;"n"===Q?(B=!0,Q="g"):$k[Q]||(void 0===F&&(F=12),L=!0,Q="g");if(r||"0"===u&&"="===w)r=!0,u="0",w="=";var S="$"===q?f:"#"===q&&/[boxX]/.test(Q)?"0"+Q.toLowerCase():"",ca="$"===q?g:/[%p]/.test(Q)?m:"",ia=$k[Q],U=/[defgprs%]/.test(Q);F=void 0===F?6:/[gprs]/.test(Q)?Math.max(1,Math.min(21,F)):Math.max(0,
Math.min(20,F));t.toString=function(){return C+""};return t}var e=void 0===a.grouping||void 0===a.thousands?Wk:ls(al.call(a.grouping,Number),a.thousands+""),f=void 0===a.currency?"":a.currency[0]+"",g=void 0===a.currency?"":a.currency[1]+"",h=void 0===a.decimal?".":a.decimal+"",n=void 0===a.numerals?Wk:ms(al.call(a.numerals,String)),m=void 0===a.percent?"%":a.percent+"",p=void 0===a.minus?"\u2212":a.minus+"",y=void 0===a.nan?"NaN":a.nan+"";return{format:b,formatPrefix:function(C,t){var u=b((C=Be(C),
C.type="f",C));C=3*Math.max(-8,Math.min(8,Math.floor(Pd(t)/3)));var w=Math.pow(10,-C),z=Yk[8+C/3];return function(q){return u(w*q)+z}}}}function bl(a){Kf=Xk(a);c.format=Kf.format;c.formatPrefix=Kf.formatPrefix;return Kf}function cl(a){return Math.max(0,-Pd(Math.abs(a)))}function dl(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Pd(b)/3)))-Pd(Math.abs(a)))}function el(a,b){a=Math.abs(a);b=Math.abs(b)-a;return Math.max(0,Pd(b)-Pd(a))+1}function fl(a){return 1<a?0:-1>a?eb:Math.acos(a)}function Rb(a){return 1<
a?ob:-1>a?-ob:Math.asin(a)}function gl(a){return(a=Oa(a/2))*a}function sb(){}function Lf(a,b){if(a&&hl.hasOwnProperty(a.type))hl[a.type](a,b)}function Rh(a,b,e){var f=-1;e=a.length-e;for(b.lineStart();++f<e;){var g=a[f];b.point(g[0],g[1],g[2])}b.lineEnd()}function il(a,b){var e=-1,f=a.length;for(b.polygonStart();++e<f;)Rh(a[e],b,1);b.polygonEnd()}function nc(a,b){if(a&&jl.hasOwnProperty(a.type))jl[a.type](a,b);else Lf(a,b)}function os(){vc.point=ps}function qs(){kl(ll,ml)}function ps(a,b){vc.point=
kl;ll=a;ml=b;a*=Va;b*=Va;Sh=a;Th=Sa(b=b/2+Mf);Uh=Oa(b)}function kl(a,b){a*=Va;b*=Va;b=b/2+Mf;var e=a-Sh,f=0<=e?1:-1,g=f*e;e=Sa(b);b=Oa(b);var h=Uh*b,n=Th*e+h*Sa(g);f=h*f*Oa(g);Nf.add(Sb(f,n));Sh=a;Th=e;Uh=b}function Of(a){return[Sb(a[1],a[0]),Rb(a[2])]}function od(a){var b=a[0];a=a[1];var e=Sa(a);return[e*Sa(b),e*Oa(b),Oa(a)]}function Pf(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Qd(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Vh(a,b){a[0]+=b[0];a[1]+=
b[1];a[2]+=b[2]}function Qf(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Rf(a){var b=Fb(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Wh(a,b){Xc.push(Hc=[tb=a,vb=a]);b<$b&&($b=b);b>bc&&(bc=b)}function nl(a,b){var e=od([a*Va,b*Va]);if(Rd){var f=Qd(Rd,e);f=Qd([f[1],-f[0],0],f);Rf(f);f=Of(f);var g=a-pd,h=0<g?1:-1,n=f[0]*lb*h;g=180<hb(g);g^(h*pd<n&&n<h*a)?(f=f[1]*lb,f>bc&&(bc=f)):(n=(n+360)%360-180,g^(h*pd<n&&n<h*a))?(f=-f[1]*lb,f<$b&&($b=f)):(b<$b&&($b=b),b>bc&&(bc=b));g?a<pd?cc(tb,a)>
cc(tb,vb)&&(vb=a):cc(a,vb)>cc(tb,vb)&&(tb=a):vb>=tb?(a<tb&&(tb=a),a>vb&&(vb=a)):a>pd?cc(tb,a)>cc(tb,vb)&&(vb=a):cc(a,vb)>cc(tb,vb)&&(tb=a)}else Xc.push(Hc=[tb=a,vb=a]);b<$b&&($b=b);b>bc&&(bc=b);Rd=e;pd=a}function pl(){Ic.point=nl}function ql(){Hc[0]=tb;Hc[1]=vb;Ic.point=Wh;Rd=null}function rl(a,b){if(Rd){var e=a-pd;Ce.add(180<hb(e)?e+(0<e?360:-360):e)}else sl=a,tl=b;vc.point(a,b);nl(a,b)}function rs(){vc.lineStart()}function ss(){rl(sl,tl);vc.lineEnd();1E-6<hb(Ce)&&(tb=-(vb=180));Hc[0]=tb;Hc[1]=vb;
Rd=null}function cc(a,b){return 0>(b-=a)?b+360:b}function ts(a,b){return a[0]-b[0]}function ul(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function Xh(a,b){a*=Va;b*=Va;var e=Sa(b);De(e*Sa(a),e*Oa(a),Oa(b))}function De(a,b,e){++Ee;Sf+=(a-Sf)/Ee;Tf+=(b-Tf)/Ee;Uf+=(e-Uf)/Ee}function vl(){oc.point=us}function us(a,b){a*=Va;b*=Va;var e=Sa(b);Tb=e*Sa(a);Ub=e*Oa(a);Vb=Oa(b);oc.point=vs;De(Tb,Ub,Vb)}function vs(a,b){a*=Va;b*=Va;var e=Sa(b),f=e*Sa(a);a=e*Oa(a);b=Oa(b);var g=Sb(Fb((g=Ub*b-Vb*a)*
g+(g=Vb*f-Tb*b)*g+(g=Tb*a-Ub*f)*g),Tb*f+Ub*a+Vb*b);Vf+=g;Wf+=g*(Tb+(Tb=f));Xf+=g*(Ub+(Ub=a));Yf+=g*(Vb+(Vb=b));De(Tb,Ub,Vb)}function wl(){oc.point=Xh}function ws(){oc.point=xs}function ys(){xl(yl,zl);oc.point=Xh}function xs(a,b){yl=a;zl=b;a*=Va;b*=Va;oc.point=xl;var e=Sa(b);Tb=e*Sa(a);Ub=e*Oa(a);Vb=Oa(b);De(Tb,Ub,Vb)}function xl(a,b){a*=Va;b*=Va;var e=Sa(b),f=e*Sa(a);a=e*Oa(a);b=Oa(b);e=Ub*b-Vb*a;var g=Vb*f-Tb*b,h=Tb*a-Ub*f,n=Yh(e,g,h),m=Rb(n);n=n&&-m/n;Zh.add(n*e);$h.add(n*g);ai.add(n*h);Vf+=m;Wf+=
m*(Tb+(Tb=f));Xf+=m*(Ub+(Ub=a));Yf+=m*(Vb+(Vb=b));De(Tb,Ub,Vb)}function Sd(a){return function(){return a}}function bi(a,b){function e(f,g){return f=a(f,g),b(f[0],f[1])}a.invert&&b.invert&&(e.invert=function(f,g){return f=b.invert(f,g),f&&a.invert(f[0],f[1])});return e}function ci(a,b){return[hb(a)>eb?a+Math.round(-a/Wb)*Wb:a,b]}function di(a,b,e){return(a%=Wb)?b||e?bi(Al(a),Bl(b,e)):Al(a):b||e?Bl(b,e):ci}function Cl(a){return function(b,e){return b+=a,[b>eb?b-Wb:b<-eb?b+Wb:b,e]}}function Al(a){var b=
Cl(a);b.invert=Cl(-a);return b}function Bl(a,b){function e(m,p){var y=Sa(p),C=Sa(m)*y;m=Oa(m)*y;p=Oa(p);y=p*f+C*g;return[Sb(m*h-y*n,C*f-p*g),Rb(y*h+m*n)]}var f=Sa(a),g=Oa(a),h=Sa(b),n=Oa(b);e.invert=function(m,p){var y=Sa(p),C=Sa(m)*y;m=Oa(m)*y;p=Oa(p);y=p*h-m*n;return[Sb(m*h+p*n,C*f+y*g),Rb(y*f-C*g)]};return e}function Dl(a){function b(e){e=a(e[0]*Va,e[1]*Va);return e[0]*=lb,e[1]*=lb,e}a=di(a[0]*Va,a[1]*Va,2<a.length?a[2]*Va:0);b.invert=function(e){e=a.invert(e[0]*Va,e[1]*Va);return e[0]*=lb,e[1]*=
lb,e};return b}function El(a,b,e,f,g,h){if(e){var n=Sa(b),m=Oa(b);e*=f;if(null==g)g=b+f*Wb,h=b-e/2;else if(g=Fl(n,g),h=Fl(n,h),0<f?g<h:g>h)g+=f*Wb;for(;0<f?g>h:g<h;g-=e)b=Of([n,-m*Sa(g),-m*Oa(g)]),a.point(b[0],b[1])}}function Fl(a,b){b=od(b);b[0]-=a;Rf(b);a=fl(-b[1]);return((0>-b[2]?-a:a)+Wb-1E-6)%Wb}function Gl(){var a=[],b;return{point:function(e,f,g){b.push([e,f,g])},lineStart:function(){a.push(b=[])},lineEnd:sb,rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))},result:function(){var e=
a;a=[];b=null;return e}}}function Zf(a,b){return 1E-6>hb(a[0]-b[0])&&1E-6>hb(a[1]-b[1])}function $f(a,b,e,f){this.x=a;this.z=b;this.o=e;this.e=f;this.v=!1;this.n=this.p=null}function Hl(a,b,e,f,g){var h=[],n=[];a.forEach(function(t){if(!(0>=(u=t.length-1))){var u,w=t[0],z=t[u];if(Zf(w,z)){if(!w[2]&&!z[2]){g.lineStart();for(m=0;m<u;++m)g.point((w=t[m])[0],w[1]);g.lineEnd();return}z[0]+=2E-6}h.push(u=new $f(w,t,null,!0));n.push(u.o=new $f(w,null,u,!1));h.push(u=new $f(z,t,null,!1));n.push(u.o=new $f(z,
null,u,!0))}});if(h.length){n.sort(b);Il(h);Il(n);var m=0;for(a=n.length;m<a;++m)n[m].e=e=!e;e=h[0];for(var p;;){for(var y=e,C=!0;y.v;)if((y=y.n)===e)return;b=y.z;g.lineStart();do{y.v=y.o.v=!0;if(y.e){if(C)for(m=0,a=b.length;m<a;++m)g.point((p=b[m])[0],p[1]);else f(y.x,y.n.x,1,g);y=y.n}else{if(C)for(b=y.p.z,m=b.length-1;0<=m;--m)g.point((p=b[m])[0],p[1]);else f(y.x,y.p.x,-1,g);y=y.p}y=y.o;b=y.z;C=!C}while(!y.v);g.lineEnd()}}}function Il(a){if(b=a.length){for(var b,e=0,f=a[0],g;++e<b;)f.n=g=a[e],g.p=
f,f=g;f.n=g=a[0];g.p=f}}function ei(a){return hb(a[0])<=eb?a[0]:fc(a[0])*((hb(a[0])+eb)%Wb-eb)}function Jl(a,b){var e=ei(b);b=b[1];var f=Oa(b),g=[Oa(e),-Sa(e),0],h=0,n=0,m=new xb;1===f?b=ob+1E-6:-1===f&&(b=-ob-1E-6);f=0;for(var p=a.length;f<p;++f)if(C=(y=a[f]).length){var y,C,t=y[C-1],u=ei(t),w=t[1]/2+Mf,z=Oa(w),q=Sa(w);for(w=0;w<C;++w,u=x,z=B,q=F,t=r){var r=y[w],x=ei(r);F=r[1]/2+Mf;var B=Oa(F),F=Sa(F),L=x-u,Q=0<=L?1:-1,S=Q*L,ca=S>eb;z*=B;m.add(Sb(z*Q*Oa(S),q*F+z*Sa(S)));h+=ca?L+Q*Wb:L;ca^u>=e^x>=
e&&(t=Qd(od(t),od(r)),Rf(t),u=Qd(g,t),Rf(u),u=(ca^0<=L?-1:1)*Rb(u[2]),b>u||b===u&&(t[0]||t[1]))&&(n+=ca^0<=L?1:-1)}}return(-1E-6>h||1E-6>h&&-1E-12>m)^n&1}function Kl(a,b,e,f){return function(g){function h(L,Q){a(L,Q)&&g.point(L,Q)}function n(L,Q){u.point(L,Q)}function m(){F.point=n;u.lineStart()}function p(){F.point=h;u.lineEnd()}function y(L,Q){B.push([L,Q]);z.point(L,Q)}function C(){z.lineStart();B=[]}function t(){y(B[0][0],B[0][1]);z.lineEnd();var L=z.clean(),Q=w.result(),S=Q.length,ca;B.pop();
r.push(B);B=null;if(S)if(L&1){if(S=Q[0],0<(Q=S.length-1)){q||(g.polygonStart(),q=!0);g.lineStart();for(L=0;L<Q;++L)g.point((ca=S[L])[0],ca[1]);g.lineEnd()}}else 1<S&&L&2&&Q.push(Q.pop().concat(Q.shift())),x.push(Q.filter(zs))}var u=b(g),w=Gl(),z=b(w),q=!1,r,x,B,F={point:h,lineStart:m,lineEnd:p,polygonStart:function(){F.point=y;F.lineStart=C;F.lineEnd=t;x=[];r=[]},polygonEnd:function(){F.point=h;F.lineStart=m;F.lineEnd=p;x=gd(x);var L=Jl(r,f);x.length?(q||(g.polygonStart(),q=!0),Hl(x,As,L,e,g)):L&&
(q||(g.polygonStart(),q=!0),g.lineStart(),e(null,null,1,g),g.lineEnd());q&&(g.polygonEnd(),q=!1);x=r=null},sphere:function(){g.polygonStart();g.lineStart();e(null,null,1,g);g.lineEnd();g.polygonEnd()}};return F}}function zs(a){return 1<a.length}function As(a,b){return(0>(a=a.x)[0]?a[1]-ob-1E-6:ob-a[1])-(0>(b=b.x)[0]?b[1]-ob-1E-6:ob-b[1])}function Ll(a){function b(p,y){return Sa(p)*Sa(y)>g}function e(p,y,C){var t=od(p),u=od(y),w=[1,0,0];u=Qd(t,u);var z=Pf(u,u);t=u[0];var q=z-t*t;if(!q)return!C&&p;
z=g*z/q;q=-g*t/q;t=Qd(w,u);w=Qf(w,z);u=Qf(u,q);Vh(w,u);u=Pf(w,t);z=Pf(t,t);q=u*u-z*(Pf(w,w)-1);if(!(0>q)){var r=Fb(q);q=Qf(t,(-u-r)/z);Vh(q,w);q=Of(q);if(!C)return q;C=p[0];var x=y[0];p=p[1];y=y[1];if(x<C){var B=C;C=x;x=B}var F=x-C,L=1E-6>hb(F-eb);!L&&y<p&&(B=p,p=y,y=B);if(L||1E-6>F?L?0<p+y^q[1]<(1E-6>hb(q[0]-C)?p:y):p<=q[1]&&q[1]<=y:F>eb^(C<=q[0]&&q[0]<=x))return y=Qf(t,(-u+r)/z),Vh(y,w),[q,Of(y)]}}function f(p,y){var C=n?a:eb-a,t=0;p<-C?t|=1:p>C&&(t|=2);y<-C?t|=4:y>C&&(t|=8);return t}var g=Sa(a),
h=6*Va,n=0<g,m=1E-6<hb(g);return Kl(b,function(p){var y,C,t,u,w;return{lineStart:function(){u=t=!1;w=1},point:function(z,q){var r=[z,q],x=b(z,q);q=n?x?0:f(z,q):x?f(z+(0>z?eb:-eb),q):0;!y&&(u=t=x)&&p.lineStart();x!==t&&(z=e(y,r),!z||Zf(y,z)||Zf(r,z))&&(r[2]=1);if(x!==t)w=0,x?(p.lineStart(),z=e(r,y),p.point(z[0],z[1])):(z=e(y,r),p.point(z[0],z[1],2),p.lineEnd()),y=z;else if(m&&y&&n^x){var B;q&C||!(B=e(r,y,!0))||(w=0,n?(p.lineStart(),p.point(B[0][0],B[0][1]),p.point(B[1][0],B[1][1]),p.lineEnd()):(p.point(B[1][0],
B[1][1]),p.lineEnd(),p.lineStart(),p.point(B[0][0],B[0][1],3)))}!x||y&&Zf(y,r)||p.point(r[0],r[1]);y=r;t=x;C=q},lineEnd:function(){t&&p.lineEnd();y=null},clean:function(){return w|(u&&t)<<1}}},function(p,y,C,t){El(t,a,h,C,p,y)},n?[0,-a]:[-eb,a-eb])}function Bs(a,b,e,f,g,h){var n=a[0],m=a[1],p=0,y=1,C=b[0]-n,t=b[1]-m;e-=n;if(C||!(0<e)){e/=C;if(0>C){if(e<p)return;e<y&&(y=e)}else if(0<C){if(e>y)return;e>p&&(p=e)}e=g-n;if(C||!(0>e)){e/=C;if(0>C){if(e>y)return;e>p&&(p=e)}else if(0<C){if(e<p)return;e<y&&
(y=e)}e=f-m;if(t||!(0<e)){e/=t;if(0>t){if(e<p)return;e<y&&(y=e)}else if(0<t){if(e>y)return;e>p&&(p=e)}e=h-m;if(t||!(0>e)){e/=t;if(0>t){if(e>y)return;e>p&&(p=e)}else if(0<t){if(e<p)return;e<y&&(y=e)}0<p&&(a[0]=n+p*C,a[1]=m+p*t);1>y&&(b[0]=n+y*C,b[1]=m+y*t);return!0}}}}}function ag(a,b,e,f){function g(p,y,C,t){var u=0,w=0;if(null==p||(u=h(p,C))!==(w=h(y,C))||0>m(p,y)^0<C){do t.point(0===u||3===u?a:e,1<u?f:b);while((u=(u+C+4)%4)!==w)}else t.point(y[0],y[1])}function h(p,y){return 1E-6>hb(p[0]-a)?0<y?
0:3:1E-6>hb(p[0]-e)?0<y?2:1:1E-6>hb(p[1]-b)?0<y?1:0:0<y?3:2}function n(p,y){return m(p.x,y.x)}function m(p,y){var C=h(p,1),t=h(y,1);return C!==t?C-t:0===C?y[1]-p[1]:1===C?p[0]-y[0]:2===C?p[1]-y[1]:y[0]-p[0]}return function(p){function y(U,V){a<=U&&U<=e&&b<=V&&V<=f&&t.point(U,V)}function C(U,V){var ma=a<=U&&U<=e&&b<=V&&V<=f;z&&q.push([U,V]);if(S)r=U,x=V,B=ma,S=!1,ma&&(t.lineStart(),t.point(U,V));else if(ma&&Q)t.point(U,V);else{var ka=[F=Math.max(-1E9,Math.min(1E9,F)),L=Math.max(-1E9,Math.min(1E9,L))],
ta=[U=Math.max(-1E9,Math.min(1E9,U)),V=Math.max(-1E9,Math.min(1E9,V))];Bs(ka,ta,a,b,e,f)?(Q||(t.lineStart(),t.point(ka[0],ka[1])),t.point(ta[0],ta[1]),ma||t.lineEnd(),ca=!1):ma&&(t.lineStart(),t.point(U,V),ca=!1)}F=U;L=V;Q=ma}var t=p,u=Gl(),w,z,q,r,x,B,F,L,Q,S,ca,ia={point:y,lineStart:function(){ia.point=C;z&&z.push(q=[]);S=!0;Q=!1;F=L=NaN},lineEnd:function(){w&&(C(r,x),B&&Q&&u.rejoin(),w.push(u.result()));ia.point=y;Q&&t.lineEnd()},polygonStart:function(){t=u;w=[];z=[];ca=!0},polygonEnd:function(){for(var U,
V=U=0,ma=z.length;V<ma;++V){var ka=z[V],ta=1,Ia=ka.length,ra=ka[0],Ga=ra[0];for(ra=ra[1];ta<Ia;++ta){var Ra=Ga;var O=ra;ra=ka[ta];Ga=ra[0];ra=ra[1];O<=f?ra>f&&(Ga-Ra)*(f-O)>(ra-O)*(a-Ra)&&++U:ra<=f&&(Ga-Ra)*(f-O)<(ra-O)*(a-Ra)&&--U}}V=ca&&U;ma=(w=gd(w)).length;if(V||ma)p.polygonStart(),V&&(p.lineStart(),g(null,null,1,p),p.lineEnd()),ma&&Hl(w,n,U,g,p),p.polygonEnd();t=p;w=z=q=null}};return ia}}function Cs(){Td.point=Td.lineEnd=sb}function Ds(a,b){a*=Va;b*=Va;gi=a;bg=Oa(b);cg=Sa(b);Td.point=Es}function Es(a,
b){a*=Va;b*=Va;var e=Oa(b);b=Sa(b);var f=hb(a-gi),g=Sa(f);f=Oa(f);f*=b;var h=cg*e-bg*b*g;g=bg*e+cg*b*g;hi.add(Sb(Fb(f*f+h*h),g));gi=a;bg=e;cg=b}function Ml(a){hi=new xb;nc(a,Td);return+hi}function Fe(a,b){ii[0]=a;ii[1]=b;return Ml(Fs)}function dg(a,b){return a&&Nl.hasOwnProperty(a.type)?Nl[a.type](a,b):!1}function Ol(a,b){for(var e,f,g,h=0,n=a.length;h<n;h++){f=Fe(a[h],b);if(0===f||0<h&&(g=Fe(a[h],a[h-1]),0<g&&e<=g&&f<=g&&(e+f-g)*(1-Math.pow((e-f)/g,2))<1E-12*g))return!0;e=f}return!1}function Pl(a,
b){return!!Jl(a.map(Gs),Ql(b))}function Gs(a){return a=a.map(Ql),a.pop(),a}function Ql(a){return[a[0]*Va,a[1]*Va]}function Rl(a,b,e){var f=Yb(a,b-1E-6,e).concat(b);return function(g){return f.map(function(h){return[g,h]})}}function Sl(a,b,e){var f=Yb(a,b-1E-6,e).concat(b);return function(g){return f.map(function(h){return[h,g]})}}function Tl(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return Yb(eg(h/u)*u,g,u).map(r).concat(Yb(eg(y/w)*w,p,w).map(x)).concat(Yb(eg(f/C)*
C,e,C).filter(function(F){return 1E-6<hb(F%u)}).map(z)).concat(Yb(eg(m/t)*t,n,t).filter(function(F){return 1E-6<hb(F%w)}).map(q))}var e,f,g,h,n,m,p,y,C=10,t=C,u=90,w=360,z,q,r,x,B=2.5;a.lines=function(){return b().map(function(F){return{type:"LineString",coordinates:F}})};a.outline=function(){return{type:"Polygon",coordinates:[r(h).concat(x(p).slice(1),r(g).reverse().slice(1),x(y).reverse().slice(1))]}};a.extent=function(F){return arguments.length?a.extentMajor(F).extentMinor(F):a.extentMinor()};
a.extentMajor=function(F){if(!arguments.length)return[[h,y],[g,p]];h=+F[0][0];g=+F[1][0];y=+F[0][1];p=+F[1][1];h>g&&(F=h,h=g,g=F);y>p&&(F=y,y=p,p=F);return a.precision(B)};a.extentMinor=function(F){if(!arguments.length)return[[f,m],[e,n]];f=+F[0][0];e=+F[1][0];m=+F[0][1];n=+F[1][1];f>e&&(F=f,f=e,e=F);m>n&&(F=m,m=n,n=F);return a.precision(B)};a.step=function(F){return arguments.length?a.stepMajor(F).stepMinor(F):a.stepMinor()};a.stepMajor=function(F){if(!arguments.length)return[u,w];u=+F[0];w=+F[1];
return a};a.stepMinor=function(F){if(!arguments.length)return[C,t];C=+F[0];t=+F[1];return a};a.precision=function(F){if(!arguments.length)return B;B=+F;z=Rl(m,n,90);q=Sl(f,e,B);r=Rl(y,p,90);x=Sl(h,g,B);return a};return a.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Hs(){Jc.point=Is}function Is(a,b){Jc.point=Ul;Vl=ji=a;Wl=ki=b}function Ul(a,b){li.add(ki*a-ji*b);ji=a;ki=b}function Js(){Ul(Vl,Wl)}function qd(a,b){mi+=a;ni+=b;++Ge}function Xl(){gc.point=
Ks}function Ks(a,b){gc.point=Ls;qd(wc=a,xc=b)}function Ls(a,b){var e=a-wc,f=b-xc;e=Fb(e*e+f*f);fg+=e*(wc+a)/2;gg+=e*(xc+b)/2;Ud+=e;qd(wc=a,xc=b)}function Yl(){gc.point=qd}function Ms(){gc.point=Ns}function Os(){Zl($l,am)}function Ns(a,b){gc.point=Zl;qd($l=wc=a,am=xc=b)}function Zl(a,b){var e=a-wc,f=b-xc;e=Fb(e*e+f*f);fg+=e*(wc+a)/2;gg+=e*(xc+b)/2;Ud+=e;e=xc*a-wc*b;oi+=e*(wc+a);pi+=e*(xc+b);He+=3*e;qd(wc=a,xc=b)}function bm(a){this._context=a}function Ps(a,b){Ie.point=cm;dm=Je=a;em=Ke=b}function cm(a,
b){Je-=a;Ke-=b;qi.add(Fb(Je*Je+Ke*Ke));Je=a;Ke=b}function fm(){this._string=[]}function gm(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Le(a){return function(b){var e=new ri,f;for(f in a)e[f]=a[f];e.stream=b;return e}}function ri(){}function si(a,b,e){var f=a.clipExtent&&a.clipExtent();a.scale(150).translate([0,0]);null!=f&&a.clipExtent(null);nc(e,a.stream(hg));b(hg.result());null!=f&&a.clipExtent(f);return a}function Vd(a,b,e){return si(a,function(f){var g=
b[1][0]-b[0][0],h=b[1][1]-b[0][1],n=Math.min(g/(f[1][0]-f[0][0]),h/(f[1][1]-f[0][1]));g=+b[0][0]+(g-n*(f[1][0]+f[0][0]))/2;f=+b[0][1]+(h-n*(f[1][1]+f[0][1]))/2;a.scale(150*n).translate([g,f])},e)}function ti(a,b,e){return si(a,function(f){var g=+b,h=g/(f[1][0]-f[0][0]);g=(g-h*(f[1][0]+f[0][0]))/2;f=-h*f[0][1];a.scale(150*h).translate([g,f])},e)}function ui(a,b,e){return si(a,function(f){var g=+b,h=g/(f[1][1]-f[0][1]),n=-h*f[0][0];f=(g-h*(f[1][1]+f[0][1]))/2;a.scale(150*h).translate([n,f])},e)}function hm(a){return Le({point:function(b,
e){b=a(b,e);this.stream.point(b[0],b[1])}})}function im(a,b){function e(f,g,h,n,m,p,y,C,t,u,w,z,q,r){var x=y-f,B=C-g,F=x*x+B*B;if(F>4*b&&q--){var L=n+u,Q=m+w,S=p+z,ca=Fb(L*L+Q*Q+S*S),ia=Rb(S/=ca),U=1E-6>hb(hb(S)-1)||1E-6>hb(h-t)?(h+t)/2:Sb(Q,L),V=a(U,ia);ia=V[0];V=V[1];var ma=ia-f,ka=V-g,ta=B*ma-x*ka;if(ta*ta/F>b||.3<hb((x*ma+B*ka)/F-.5)||n*u+m*w+p*z<Qs)e(f,g,h,n,m,p,ia,V,U,L/=ca,Q/=ca,S,q,r),r.point(ia,V),e(ia,V,U,L,Q,S,y,C,t,u,w,z,q,r)}}return function(f){function g(ia,U){ia=a(ia,U);f.point(ia[0],
ia[1])}function h(){B=NaN;ca.point=n;f.lineStart()}function n(ia,U){var V=od([ia,U]);U=a(ia,U);e(B,F,x,L,Q,S,B=U[0],F=U[1],x=ia,L=V[0],Q=V[1],S=V[2],16,f);f.point(B,F)}function m(){ca.point=g;f.lineEnd()}function p(){h();ca.point=y;ca.lineEnd=C}function y(ia,U){n(t=ia,U);u=B;w=F;z=L;q=Q;r=S;ca.point=n}function C(){e(B,F,x,L,Q,S,u,w,t,z,q,r,16,f);ca.lineEnd=m;m()}var t,u,w,z,q,r,x,B,F,L,Q,S,ca={point:g,lineStart:h,lineEnd:m,polygonStart:function(){f.polygonStart();ca.lineStart=p},polygonEnd:function(){f.polygonEnd();
ca.lineStart=h}};return ca}}function Rs(a){return Le({point:function(b,e){b=a(b,e);return this.stream.point(b[0],b[1])}})}function Ss(a,b,e,f,g){function h(n,m){n*=f;m*=g;return[b+a*n,e-a*m]}h.invert=function(n,m){return[(n-b)/a*f,(e-m)/a*g]};return h}function jm(a,b,e,f,g,h){function n(z,q){z*=f;q*=g;return[p*z-y*q+b,e-y*z-p*q]}if(!h)return Ss(a,b,e,f,g);var m=Sa(h);h=Oa(h);var p=m*a,y=h*a,C=m/a,t=h/a,u=(h*e-m*b)/a,w=(h*b+m*e)/a;n.invert=function(z,q){return[f*(C*z-t*q+u),g*(w-t*z-C*q)]};return n}
function yc(a){return vi(function(){return a})()}function vi(a){function b(ra){return ka(ra[0]*Va,ra[1]*Va)}function e(ra){return(ra=ka.invert(ra[0],ra[1]))&&[ra[0]*lb,ra[1]*lb]}function f(){var ra=jm(n,0,0,r,x,q).apply(null,h(y,C));ra=jm(n,m-ra[0],p-ra[1],r,x,q);z=di(t,u,w);ma=bi(h,ra);ka=bi(z,ma);ra=ma;V=+U?im(ra,U):hm(ra);return g()}function g(){ta=Ia=null;return b}var h,n=150,m=480,p=250,y=0,C=0,t=0,u=0,w=0,z,q=0,r=1,x=1,B=null,F=wi,L=null,Q,S,ca,ia=Me,U=.5,V,ma,ka,ta,Ia;b.stream=function(ra){return ta&&
Ia===ra?ta:ta=Ts(Rs(z)(F(V(ia(Ia=ra)))))};b.preclip=function(ra){return arguments.length?(F=ra,B=void 0,g()):F};b.postclip=function(ra){return arguments.length?(ia=ra,L=Q=S=ca=null,g()):ia};b.clipAngle=function(ra){return arguments.length?(F=+ra?Ll(B=ra*Va):(B=null,wi),g()):B*lb};b.clipExtent=function(ra){return arguments.length?(ia=null==ra?(L=Q=S=ca=null,Me):ag(L=+ra[0][0],Q=+ra[0][1],S=+ra[1][0],ca=+ra[1][1]),g()):null==L?null:[[L,Q],[S,ca]]};b.scale=function(ra){return arguments.length?(n=+ra,
f()):n};b.translate=function(ra){return arguments.length?(m=+ra[0],p=+ra[1],f()):[m,p]};b.center=function(ra){return arguments.length?(y=ra[0]%360*Va,C=ra[1]%360*Va,f()):[y*lb,C*lb]};b.rotate=function(ra){return arguments.length?(t=ra[0]%360*Va,u=ra[1]%360*Va,w=2<ra.length?ra[2]%360*Va:0,f()):[t*lb,u*lb,w*lb]};b.angle=function(ra){return arguments.length?(q=ra%360*Va,f()):q*lb};b.reflectX=function(ra){return arguments.length?(r=ra?-1:1,f()):0>r};b.reflectY=function(ra){return arguments.length?(x=
ra?-1:1,f()):0>x};b.precision=function(ra){if(arguments.length){var Ga=ma;var Ra=U=ra*ra;Ga=(V=+Ra?im(Ga,Ra):hm(Ga),g())}else Ga=Fb(U);return Ga};b.fitExtent=function(ra,Ga){return Vd(b,ra,Ga)};b.fitSize=function(ra,Ga){return Vd(b,[[0,0],ra],Ga)};b.fitWidth=function(ra,Ga){return ti(b,ra,Ga)};b.fitHeight=function(ra,Ga){return ui(b,ra,Ga)};return function(){h=a.apply(this,arguments);b.invert=h.invert&&e;return f()}}function xi(a){var b=0,e=eb/3,f=vi(a);a=f(b,e);a.parallels=function(g){return arguments.length?
f(b=g[0]*Va,e=g[1]*Va):[b*lb,e*lb]};return a}function Us(a){function b(f,g){return[f*e,Oa(g)/e]}var e=Sa(a);b.invert=function(f,g){return[f/e,Rb(g*e)]};return b}function km(a,b){function e(m,p){p=Fb(h-2*g*Oa(p))/g;return[p*Oa(m*=g),n-p*Sa(m)]}var f=Oa(a),g=(f+Oa(b))/2;if(1E-6>hb(g))return Us(a);var h=1+f*(2*g-f),n=Fb(h)/g;e.invert=function(m,p){p=n-p;var y=Sb(m,hb(p))*fc(p);0>p*g&&(y-=eb*fc(m)*fc(p));return[y/g,Rb((h-(m*m+p*p)*g*g)/(2*g))]};return e}function ig(){return xi(km).scale(155.424).center([0,
33.6442])}function lm(){return ig().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Vs(a){var b=a.length;return{point:function(e,f){for(var g=-1;++g<b;)a[g].point(e,f)},sphere:function(){for(var e=-1;++e<b;)a[e].sphere()},lineStart:function(){for(var e=-1;++e<b;)a[e].lineStart()},lineEnd:function(){for(var e=-1;++e<b;)a[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<b;)a[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<b;)a[e].polygonEnd()}}}
function mm(a){return function(b,e){var f=Sa(b),g=Sa(e);f=a(f*g);return Infinity===f?[2,0]:[f*g*Oa(b),f*Oa(e)]}}function Ne(a){return function(b,e){var f=Fb(b*b+e*e),g=a(f),h=Oa(g);g=Sa(g);return[Sb(b*h,f*g),Rb(f&&e*h/f)]}}function Oe(a,b){return[a,jg(Wd((ob+b)/2))]}function nm(a){function b(){var t=eb*g(),u=e(Dl(e.rotate()).invert([0,0]));return n(null==m?[[u[0]-t,u[1]-t],[u[0]+t,u[1]+t]]:a===Oe?[[Math.max(u[0]-t,m),p],[Math.min(u[0]+t,y),C]]:[[m,Math.max(u[1]-t,p)],[y,Math.min(u[1]+t,C)]])}var e=
yc(a),f=e.center,g=e.scale,h=e.translate,n=e.clipExtent,m=null,p,y,C;e.scale=function(t){return arguments.length?(g(t),b()):g()};e.translate=function(t){return arguments.length?(h(t),b()):h()};e.center=function(t){return arguments.length?(f(t),b()):f()};e.clipExtent=function(t){return arguments.length?(null==t?m=p=y=C=null:(m=+t[0][0],p=+t[0][1],y=+t[1][0],C=+t[1][1]),b()):null==m?null:[[m,p],[y,C]]};return b()}function om(a,b){function e(n,m){0<h?m<-ob+1E-6&&(m=-ob+1E-6):m>ob-1E-6&&(m=ob-1E-6);m=
h/yi(Wd((ob+m)/2),g);return[m*Oa(g*n),h-m*Sa(g*n)]}var f=Sa(a),g=a===b?Oa(a):jg(f/Sa(b))/jg(Wd((ob+b)/2)/Wd((ob+a)/2)),h=f*yi(Wd((ob+a)/2),g)/g;if(!g)return Oe;e.invert=function(n,m){m=h-m;var p=fc(g)*Fb(n*n+m*m),y=Sb(n,hb(m))*fc(m);0>m*g&&(y-=eb*fc(n)*fc(m));return[y/g,2*Xd(yi(h/p,1/g))-ob]};return e}function Pe(a,b){return[a,b]}function pm(a,b){function e(n,m){m=h-m;n*=g;return[m*Oa(n),h-m*Sa(n)]}var f=Sa(a),g=a===b?Oa(a):(f-Sa(b))/(b-a),h=f/g+a;if(1E-6>hb(g))return Pe;e.invert=function(n,m){m=
h-m;var p=Sb(n,hb(m))*fc(m);0>m*g&&(p-=eb*fc(n)*fc(m));return[p/g,h-fc(g)*Fb(n*n+m*m)]};return e}function zi(a,b){b=Rb(kg*Oa(b));var e=b*b,f=e*e*e;return[a*Sa(b)/(kg*(1.340264+3*-.081106*e+f*(7*8.93E-4+.034164*e))),b*(1.340264+-.081106*e+f*(8.93E-4+.003796*e))]}function Ai(a,b){var e=Sa(b),f=Sa(a)*e;return[e*Oa(a)/f,Oa(b)/f]}function Bi(a,b){var e=b*b,f=e*e;return[a*(.8707-.131979*e+f*(-.013791+f*(.003971*e-.001529*f))),b*(1.007226+e*(.015085+f*(-.044475+.028874*e-.005916*f)))]}function Ci(a,b){return[Sa(b)*
Oa(a),Oa(b)]}function Di(a,b){var e=Sa(b),f=1+Sa(a)*e;return[e*Oa(a)/f,Oa(b)/f]}function Ei(a,b){return[jg(Wd((ob+b)/2)),-a]}function Ws(a,b){return a.parent===b.parent?1:2}function Xs(a,b){return a+b.x}function Ys(a,b){return Math.max(a,b.y)}function Zs(a){for(var b;b=a.children;)a=b[0];return a}function $s(a){for(var b;b=a.children;)a=b[b.length-1];return a}function at(a){var b=0,e=a.children,f=e&&e.length;if(f)for(;0<=--f;)b+=e[f].value;else b=1;a.value=b}function qm(){var a=this,b,e,f,g,h,n;return $jscomp.generator.createGenerator(qm,
function(m){switch(m.nextAddress){case 1:b=a,f=[b];case 2:e=f.reverse(),f=[];case 5:if(!(b=e.pop())){m.jumpTo(4);break}return m.yield(b,7);case 7:if(g=b.children)for(h=0,n=g.length;h<n;++h)f.push(g[h]);m.jumpTo(5);break;case 4:f.length?m.jumpTo(2):m.jumpToEnd()}})}function Fi(a,b){a instanceof Map?(a=[void 0,a],void 0===b&&(b=bt)):void 0===b&&(b=ct);a=new Yd(a);for(var e,f=[a],g,h,n,m;e=f.pop();)if((h=b(e.data))&&(m=(h=Array.from(h)).length))for(e.children=h,n=m-1;0<=n;--n)f.push(g=h[n]=new Yd(h[n])),
g.parent=e,g.depth=e.depth+1;return a.eachBefore(rm)}function ct(a){return a.children}function bt(a){return Array.isArray(a)?a[1]:null}function dt(a){void 0!==a.data.value&&(a.value=a.data.value);a.data=a.data.data}function rm(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function Yd(a){this.data=a;this.depth=this.height=0;this.parent=null}function sm(a){var b=0;a=Array.from(a);for(var e=a.length,f,g;e;)g=Math.random()*e--|0,f=a[e],a[e]=a[g],a[g]=f;e=a.length;f=[];for(var h;b<e;)if(g=
a[b],h&&tm(h,g))++b;else{a:if(b=f,Gi(g,b))b=[g];else{for(f=0;f<b.length;++f)if(lg(g,b[f])&&Gi(Qe(b[f],g),b)){b=[b[f],g];break a}for(f=0;f<b.length-1;++f)for(h=f+1;h<b.length;++h)if(lg(Qe(b[f],b[h]),g)&&lg(Qe(b[f],g),b[h])&&lg(Qe(b[h],g),b[f])&&Gi(um(b[f],b[h],g),b)){b=[b[f],b[h],g];break a}throw Error();}a:{b=f=b;switch(b.length){case 1:b=b[0];b={x:b.x,y:b.y,r:b.r};break a;case 2:b=Qe(b[0],b[1]);break a;case 3:b=um(b[0],b[1],b[2]);break a}b=void 0}h=b;b=0}return h}function lg(a,b){var e=a.r-b.r,f=
b.x-a.x;a=b.y-a.y;return 0>e||e*e<f*f+a*a}function tm(a,b){var e=a.r-b.r+1E-9*Math.max(a.r,b.r,1),f=b.x-a.x;a=b.y-a.y;return 0<e&&e*e>f*f+a*a}function Gi(a,b){for(var e=0;e<b.length;++e)if(!tm(a,b[e]))return!1;return!0}function Qe(a,b){var e=a.x,f=a.y;a=a.r;var g=b.x,h=b.y;b=b.r;var n=g-e,m=h-f,p=b-a,y=Math.sqrt(n*n+m*m);return{x:(e+g+n/y*p)/2,y:(f+h+m/y*p)/2,r:(y+a+b)/2}}function um(a,b,e){var f=a.x,g=a.y;a=a.r;var h=b.x,n=b.y,m=b.r,p=e.x,y=e.y,C=e.r;e=f-h;b=f-p;var t=g-n,u=g-y,w=m-a,z=C-a,q=f*f+
g*g-a*a;n=q-h*h-n*n+m*m;y=q-p*p-y*y+C*C;p=b*t-e*u;h=(t*y-u*n)/(2*p)-f;t=(u*w-t*z)/p;u=(b*n-e*y)/(2*p)-g;e=(e*z-b*w)/p;b=t*t+e*e-1;w=2*(a+h*t+u*e);a=h*h+u*u-a*a;a=-(b?(w+Math.sqrt(w*w-4*b*a))/(2*b):a/w);return{x:f+h+t*a,y:g+u+e*a,r:a}}function vm(a,b,e){var f=a.x-b.x,g=a.y-b.y,h=f*f+g*g;if(h){var n=b.r+e.r;n*=n;var m=a.r+e.r;m*=m;if(n>m){var p=(h+m-n)/(2*h);n=Math.sqrt(Math.max(0,m/h-p*p));e.x=a.x-p*f-n*g;e.y=a.y-p*g+n*f}else p=(h+n-m)/(2*h),n=Math.sqrt(Math.max(0,n/h-p*p)),e.x=b.x+p*f-n*g,e.y=b.y+
p*g+n*f}else e.x=b.x+e.r,e.y=b.y}function wm(a,b){var e=a.r+b.r-1E-6,f=b.x-a.x;a=b.y-a.y;return 0<e&&e*e>f*f+a*a}function xm(a){var b=a._,e=a.next._,f=b.r+e.r;a=(b.x*e.r+e.x*b.r)/f;b=(b.y*e.r+e.y*b.r)/f;return a*a+b*b}function mg(a){this._=a;this.previous=this.next=null}function ym(a){if(!(e=(a="object"===typeof a&&"length"in a?a:Array.from(a)).length))return 0;var b,e;var f=a[0];f.x=0;f.y=0;if(!(1<e))return f.r;var g=a[1];f.x=-g.r;g.x=f.r;g.y=0;if(!(2<e))return f.r+g.r;vm(g,f,b=a[2]);f=new mg(f);
g=new mg(g);b=new mg(b);f.next=b.previous=g;g.next=f.previous=b;b.next=g.previous=f;var h=3;a:for(;h<e;++h){vm(f._,g._,b=a[h]);b=new mg(b);var n=g.next;var m=f.previous;var p=g._.r;var y=f._.r;do if(p<=y){if(wm(n._,b._)){g=n;f.next=g;g.previous=f;--h;continue a}p+=n._.r;n=n.next}else{if(wm(m._,b._)){f=m;f.next=g;g.previous=f;--h;continue a}y+=m._.r;m=m.previous}while(n!==m.next);b.previous=f;b.next=g;f.next=g.previous=g=b;for(n=xm(f);(b=b.next)!==g;)(m=xm(b))<n&&(f=b,n=m);g=f.next}f=[g._];for(b=g;(b=
b.next)!==g;)f.push(b._);b=sm(f);for(h=0;h<e;++h)f=a[h],f.x-=b.x,f.y-=b.y;return b.r}function ng(a){if("function"!==typeof a)throw Error();return a}function rd(){return 0}function Zd(a){return function(){return a}}function et(a){return Math.sqrt(a.value)}function zm(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function Hi(a,b){return function(e){if(f=e.children){var f,g,h=f.length,n=a(e)*b||0;if(n)for(g=0;g<h;++g)f[g].r+=n;var m=ym(f);if(n)for(g=0;g<h;++g)f[g].r-=n;e.r=m+n}}}function Am(a){return function(b){var e=
b.parent;b.r*=a;e&&(b.x=e.x+a*b.x,b.y=e.y+a*b.y)}}function Bm(a){a.x0=Math.round(a.x0);a.y0=Math.round(a.y0);a.x1=Math.round(a.x1);a.y1=Math.round(a.y1)}function Re(a,b,e,f,g){var h=a.children,n=-1,m=h.length;for(f=a.value&&(f-b)/a.value;++n<m;)a=h[n],a.y0=e,a.y1=g,a.x0=b,a.x1=b+=a.value*f}function ft(a){return a.id}function gt(a){return a.parentId}function ht(a,b){return a.parent===b.parent?1:2}function Ii(a){var b=a.children;return b?b[0]:a.t}function Ji(a){var b=a.children;return b?b[b.length-
1]:a.t}function og(a,b){this._=a;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=b}function it(a){a=new og(a,0);for(var b,e=[a],f,g,h;b=e.pop();)if(g=b._.children)for(b.children=Array(f=g.length),h=f-1;0<=h;--h)e.push(f=b.children[h]=new og(g[h],h)),f.parent=b;(a.parent=new og(null,0)).children=[a];return a}function pg(a,b,e,f,g){var h=a.children,n=-1,m=h.length;for(g=a.value&&(g-e)/a.value;++n<m;)a=h[n],a.x0=b,a.x1=f,a.y0=e,a.y1=e+=a.value*g}function Cm(a,
b,e,f,g,h){for(var n=[],m=b.children,p,y,C=p=0,t=m.length,u,w=b.value,z,q,r,x,B,F;p<t;){b=g-e;u=h-f;do z=m[C++].value;while(!z&&C<t);q=r=z;F=Math.max(u/b,b/u)/(w*a);x=z*z*F;for(B=Math.max(r/x,x/q);C<t;++C){z+=y=m[C].value;y<q&&(q=y);y>r&&(r=y);x=z*z*F;x=Math.max(r/x,x/q);if(x>B){z-=y;break}B=x}n.push(p={value:z,dice:b<u,children:m.slice(p,C)});p.dice?Re(p,e,f,g,w?f+=u*z/w:h):pg(p,e,f,w?e+=b*z/w:g,h);w-=z;p=C}return n}function jt(a,b,e){return(b[0]-a[0])*(e[1]-a[1])-(b[1]-a[1])*(e[0]-a[0])}function kt(a,
b){return a[0]-b[0]||a[1]-b[1]}function Dm(a){var b=a.length,e=[0,1],f=2,g;for(g=2;g<b;++g){for(;1<f&&0>=jt(a[e[f-2]],a[e[f-1]],a[g]);)--f;e[f++]=g}return e.slice(0,f)}function hc(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function Kc(a,b){switch(arguments.length){case 0:break;case 1:"function"===typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"===typeof b?this.interpolator(b):this.range(b)}return this}
function Ki(){function a(h){var n=h+"",m=b.get(n);if(!m){if(g!==Li)return g;b.set(n,m=e.push(h))}return f[(m-1)%f.length]}var b=new Map,e=[],f=[],g=Li;a.domain=function(h){if(!arguments.length)return e.slice();e=[];b=new Map;for(var n=$jscomp.makeIterator(h),m=n.next();!m.done;m=n.next()){m=m.value;var p=m+"";b.has(p)||b.set(p,e.push(m))}return a};a.range=function(h){return arguments.length?(f=Array.from(h),a):f.slice()};a.unknown=function(h){return arguments.length?(g=h,a):g};a.copy=function(){return Ki(e,
f).unknown(g)};hc.apply(a,arguments);return a}function Mi(){function a(){var u=e().length,w=h<g,z=w?h:g,q=w?g:h;n=(q-z)/Math.max(1,u-y+2*C);p&&(n=Math.floor(n));z+=(q-z-n*(u-y))*t;m=n*(1-y);p&&(z=Math.round(z),m=Math.round(m));u=Yb(u).map(function(r){return z+n*r});return f(w?u.reverse():u)}var b=Ki().unknown(void 0),e=b.domain,f=b.range,g=0,h=1,n,m,p=!1,y=0,C=0,t=.5;delete b.unknown;b.domain=function(u){return arguments.length?(e(u),a()):e()};b.range=function(u){if(arguments.length){var w=$jscomp.makeIterator(u);
g=w.next().value;h=w.next().value;w=(g=+g,h=+h,a())}else w=[g,h];return w};b.rangeRound=function(u){u=$jscomp.makeIterator(u);g=u.next().value;h=u.next().value;return g=+g,h=+h,p=!0,a()};b.bandwidth=function(){return m};b.step=function(){return n};b.round=function(u){return arguments.length?(p=!!u,a()):p};b.padding=function(u){return arguments.length?(y=Math.min(1,C=+u),a()):y};b.paddingInner=function(u){return arguments.length?(y=Math.min(1,u),a()):y};b.paddingOuter=function(u){return arguments.length?
(C=+u,a()):C};b.align=function(u){return arguments.length?(t=Math.max(0,Math.min(1,u)),a()):t};b.copy=function(){return Mi(e(),[g,h]).round(p).paddingInner(y).paddingOuter(C).align(t)};return hc.apply(a(),arguments)}function Em(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;delete a.paddingOuter;a.copy=function(){return Em(b())};return a}function lt(a){return function(){return a}}function qg(a){return+a}function Cb(a){return a}function Ni(a,b){return(b-=a=+a)?function(e){return(e-
a)/b}:lt(isNaN(b)?NaN:.5)}function mt(a,b){if(a>b){var e=a;a=b;b=e}return function(f){return Math.max(a,Math.min(b,f))}}function nt(a,b,e){var f=a[0];a=a[1];var g=b[0];b=b[1];a<f?(f=Ni(a,f),g=e(b,g)):(f=Ni(f,a),g=e(g,b));return function(h){return g(f(h))}}function ot(a,b,e){var f=Math.min(a.length,b.length)-1,g=Array(f),h=Array(f),n=-1;a[f]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++n<f;)g[n]=Ni(a[n],a[n+1]),h[n]=e(b[n],b[n+1]);return function(m){var p=Pc(a,m,1,f)-1;return h[p](g[p](m))}}
function Se(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function $d(){function a(){var u=Math.min(e.length,f.length);p!==Cb&&(p=mt(e[0],e[u-1]));y=2<u?ot:nt;C=t=null;return b}function b(u){return null==u||isNaN(u=+u)?m:(C||(C=y(e.map(h),f,g)))(h(p(u)))}var e=Fm,f=Fm,g=Tc,h,n,m,p=Cb,y,C,t;b.invert=function(u){return p(n((t||(t=y(f,e.map(h),ec)))(u)))};b.domain=function(u){return arguments.length?(e=Array.from(u,qg),a()):e.slice()};
b.range=function(u){return arguments.length?(f=Array.from(u),a()):f.slice()};b.rangeRound=function(u){return f=Array.from(u),g=uf,a()};b.clamp=function(u){return arguments.length?(p=u?!0:Cb,a()):p!==Cb};b.interpolate=function(u){return arguments.length?(g=u,a()):g};b.unknown=function(u){return arguments.length?(m=u,b):m};return function(u,w){h=u;n=w;return a()}}function Gm(a,b,e,f){e=pb(a,b,e);var g;f=Be(null==f?",f":f);switch(f.type){case "s":return a=Math.max(Math.abs(a),Math.abs(b)),null!=f.precision||
isNaN(g=dl(e,a))||(f.precision=g),c.formatPrefix(f,a);case "":case "e":case "g":case "p":case "r":null!=f.precision||isNaN(g=el(e,Math.max(Math.abs(a),Math.abs(b))))||(f.precision=g-("e"===f.type));break;case "f":case "%":null!=f.precision||isNaN(g=cl(e))||(f.precision=g-2*("%"===f.type))}return c.format(f)}function Yc(a){var b=a.domain;a.ticks=function(e){var f=b();return Ab(f[0],f[f.length-1],null==e?10:e)};a.tickFormat=function(e,f){var g=b();return Gm(g[0],g[g.length-1],null==e?10:e,f)};a.nice=
function(e){null==e&&(e=10);var f=b(),g=0,h=f.length-1,n=f[g],m=f[h],p=10;if(m<n){var y=n;n=m;m=y;y=g;g=h;h=y}for(;0<p--;){y=ub(n,m,e);if(y===C)return f[g]=n,f[h]=m,b(f);if(0<y)n=Math.floor(n/y)*y,m=Math.ceil(m/y)*y;else if(0>y)n=Math.ceil(n*y)/y,m=Math.floor(m*y)/y;else break;var C=y}return a};return a}function Hm(){var a=$d()(Cb,Cb);a.copy=function(){return Se(a,Hm())};hc.apply(a,arguments);return Yc(a)}function Im(a){function b(f){return null==f||isNaN(f=+f)?e:f}var e;b.invert=b;b.domain=b.range=
function(f){return arguments.length?(a=Array.from(f,qg),b):a.slice()};b.unknown=function(f){return arguments.length?(e=f,b):e};b.copy=function(){return Im(a).unknown(e)};a=arguments.length?Array.from(a,qg):[0,1];return Yc(b)}function Jm(a,b){a=a.slice();var e=0,f=a.length-1,g=a[e],h=a[f];if(h<g){var n=e;e=f;f=n;n=g;g=h;h=n}a[e]=b.floor(g);a[f]=b.ceil(h);return a}function Km(a){return Math.log(a)}function Lm(a){return Math.exp(a)}function pt(a){return-Math.log(-a)}function qt(a){return-Math.exp(-a)}
function rt(a){return isFinite(a)?+("1e"+a):0>a?0:a}function st(a){return 10===a?rt:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function tt(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function Mm(a){return function(b){return-a(-b)}}function Oi(a){function b(){h=tt(g);n=st(g);0>f()[0]?(h=Mm(h),n=Mm(n),a(pt,qt)):a(Km,Lm);return e}var e=a(Km,Lm),f=e.domain,g=10,h,n;e.base=function(m){return arguments.length?(g=+m,b()):
g};e.domain=function(m){return arguments.length?(f(m),b()):f()};e.ticks=function(m){var p=f(),y=p[0];p=p[p.length-1];var C;if(C=p<y)t=y,y=p,p=t;var t=h(y),u=h(p),w=null==m?10:+m,z=[];if(!(g%1)&&u-t<w){t=Math.floor(t);u=Math.ceil(u);if(0<y)for(;t<=u;++t){var q=1;for(m=n(t);q<g;++q){var r=m*q;if(!(r<y)){if(r>p)break;z.push(r)}}}else for(;t<=u;++t)for(q=g-1,m=n(t);1<=q;--q)if(r=m*q,!(r<y)){if(r>p)break;z.push(r)}2*z.length<w&&(z=Ab(y,p,w))}else z=Ab(t,u,Math.min(u-t,w)).map(n);return C?z.reverse():z};
e.tickFormat=function(m,p){null==p&&(p=10===g?".0e":",");"function"!==typeof p&&(p=c.format(p));if(Infinity===m)return p;null==m&&(m=10);var y=Math.max(1,g*m/e.ticks().length);return function(C){var t=C/n(Math.round(h(C)));t*g<g-.5&&(t*=g);return t<=y?p(C):""}};e.nice=function(){return f(Jm(f(),{floor:function(m){return n(Math.floor(h(m)))},ceil:function(m){return n(Math.ceil(h(m)))}}))};return e}function Nm(){var a=Oi($d()).domain([1,10]);a.copy=function(){return Se(a,Nm()).base(a.base())};hc.apply(a,
arguments);return a}function Om(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function Pm(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function Pi(a){var b=1,e=a(Om(b),Pm(b));e.constant=function(f){return arguments.length?a(Om(b=+f),Pm(b)):b};return Yc(e)}function Qm(){var a=Pi($d());a.copy=function(){return Se(a,Qm()).constant(a.constant())};return hc.apply(a,arguments)}function Rm(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function ut(a){return 0>
a?-Math.sqrt(-a):Math.sqrt(a)}function vt(a){return 0>a?-a*a:a*a}function Qi(a){var b=a(Cb,Cb),e=1;b.exponent=function(f){return arguments.length?(e=+f,1===e?a(Cb,Cb):.5===e?a(ut,vt):a(Rm(e),Rm(1/e))):e};return Yc(b)}function Ri(){var a=Qi($d());a.copy=function(){return Se(a,Ri()).exponent(a.exponent())};hc.apply(a,arguments);return a}function Sm(a){return Math.sign(a)*a*a}function Tm(){function a(h){h=b(h);h=Math.sign(h)*Math.sqrt(Math.abs(h));return isNaN(h)?g:f?Math.round(h):h}var b=$d()(Cb,Cb),
e=[0,1],f=!1,g;a.invert=function(h){return b.invert(Sm(h))};a.domain=function(h){return arguments.length?(b.domain(h),a):b.domain()};a.range=function(h){return arguments.length?(b.range((e=Array.from(h,qg)).map(Sm)),a):e.slice()};a.rangeRound=function(h){return a.range(h).round(!0)};a.round=function(h){return arguments.length?(f=!!h,a):f};a.clamp=function(h){return arguments.length?(b.clamp(h),a):b.clamp()};a.unknown=function(h){return arguments.length?(g=h,a):g};a.copy=function(){return Tm(b.domain(),
e).round(f).clamp(b.clamp()).unknown(g)};hc.apply(a,arguments);return Yc(a)}function Um(){function a(){var n=0,m=Math.max(1,f.length);for(g=Array(m-1);++n<m;)g[n-1]=ed(e,n/m);return b}function b(n){return null==n||isNaN(n=+n)?h:f[Pc(g,n)]}var e=[],f=[],g=[],h;b.invertExtent=function(n){n=f.indexOf(n);return 0>n?[NaN,NaN]:[0<n?g[n-1]:e[0],n<g.length?g[n]:e[e.length-1]]};b.domain=function(n){if(!arguments.length)return e.slice();e=[];for(var m=$jscomp.makeIterator(n),p=m.next();!p.done;p=m.next())p=
p.value,null==p||isNaN(p=+p)||e.push(p);e.sort(l);return a()};b.range=function(n){return arguments.length?(f=Array.from(n),a()):f.slice()};b.unknown=function(n){return arguments.length?(h=n,b):h};b.quantiles=function(){return g.slice()};b.copy=function(){return Um().domain(e).range(f).unknown(h)};return hc.apply(b,arguments)}function Vm(){function a(p){return null!=p&&p<=p?n[Pc(h,p,0,g)]:m}function b(){var p=-1;for(h=Array(g);++p<g;)h[p]=((p+1)*f-(p-g)*e)/(g+1);return a}var e=0,f=1,g=1,h=[.5],n=[0,
1],m;a.domain=function(p){if(arguments.length){var y=$jscomp.makeIterator(p);e=y.next().value;f=y.next().value;y=(e=+e,f=+f,b())}else y=[e,f];return y};a.range=function(p){return arguments.length?(g=(n=Array.from(p)).length-1,b()):n.slice()};a.invertExtent=function(p){p=n.indexOf(p);return 0>p?[NaN,NaN]:1>p?[e,h[0]]:p>=g?[h[g-1],f]:[h[p-1],h[p]]};a.unknown=function(p){return arguments.length?(m=p,a):a};a.thresholds=function(){return h.slice()};a.copy=function(){return Vm().domain([e,f]).range(n).unknown(m)};
return hc.apply(Yc(a),arguments)}function Wm(){function a(h){return null!=h&&h<=h?e[Pc(b,h,0,g)]:f}var b=[.5],e=[0,1],f,g=1;a.domain=function(h){return arguments.length?(b=Array.from(h),g=Math.min(b.length,e.length-1),a):b.slice()};a.range=function(h){return arguments.length?(e=Array.from(h),g=Math.min(b.length,e.length-1),a):e.slice()};a.invertExtent=function(h){h=e.indexOf(h);return[b[h-1],b[h]]};a.unknown=function(h){return arguments.length?(f=h,a):f};a.copy=function(){return Wm().domain(b).range(e).unknown(f)};
return hc.apply(a,arguments)}function Db(a,b,e,f){function g(h){return a(h=0===arguments.length?new Date:new Date(+h)),h}g.floor=function(h){return a(h=new Date(+h)),h};g.ceil=function(h){return a(h=new Date(h-1)),b(h,1),a(h),h};g.round=function(h){var n=g(h),m=g.ceil(h);return h-n<m-h?n:m};g.offset=function(h,n){return b(h=new Date(+h),null==n?1:Math.floor(n)),h};g.range=function(h,n,m){var p=[],y;h=g.ceil(h);m=null==m?1:Math.floor(m);if(!(h<n&&0<m))return p;do p.push(y=new Date(+h)),b(h,m),a(h);
while(y<h&&h<n);return p};g.filter=function(h){return Db(function(n){if(n>=n)for(;a(n),!h(n);)n.setTime(n-1)},function(n,m){if(n>=n)if(0>m)for(;0>=++m;)for(;b(n,-1),!h(n););else for(;0<=--m;)for(;b(n,1),!h(n););})};e&&(g.count=function(h,n){Si.setTime(+h);Ti.setTime(+n);a(Si);a(Ti);return Math.floor(e(Si,Ti))},g.every=function(h){h=Math.floor(h);return isFinite(h)&&0<h?1<h?g.filter(f?function(n){return 0===f(n)%h}:function(n){return 0===g.count(0,n)%h}):g:null});return g}function sd(a){return Db(function(b){b.setDate(b.getDate()-
(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(b,e){b.setDate(b.getDate()+7*e)},function(b,e){return(e-b-6E4*(e.getTimezoneOffset()-b.getTimezoneOffset()))/Ui})}function td(a){return Db(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(b,e){b.setUTCDate(b.getUTCDate()+7*e)},function(b,e){return(e-b)/Ui})}function Xm(a,b,e,f,g,h){function n(p,y,C){var t=Math.abs(y-p)/C,u=v(function(w){w=$jscomp.makeIterator(w);w.next();w.next();return w.next().value}).right(m,
t);if(u===m.length)return a.every(pb(p/Vi,y/Vi,C));if(0===u)return ae.every(Math.max(pb(p,y,C),1));y=$jscomp.makeIterator(m[t/m[u-1][2]<m[u][2]/t?u-1:u]);p=y.next().value;y=y.next().value;return p.every(y)}var m=[[Lc,1,1E3],[Lc,5,5E3],[Lc,15,15E3],[Lc,30,3E4],[h,1,6E4],[h,5,3E5],[h,15,9E5],[h,30,18E5],[g,1,36E5],[g,3,108E5],[g,6,216E5],[g,12,432E5],[f,1,864E5],[f,2,1728E5],[e,1,Ui],[b,1,Ym],[b,3,3*Ym],[a,1,Vi]];return[function(p,y,C){var t=y<p;t&&(y=$jscomp.makeIterator([y,p]),p=y.next().value,y=
y.next().value);p=(C=C&&"function"===typeof C.range?C:n(p,y,C))?C.range(p,+y+1):[];return t?p.reverse():p},n]}function Wi(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function Xi(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function Te(a,b,e){return{y:a,m:b,d:e,H:0,M:0,S:0,L:0}}function Zm(a){function b(U,
V){return function(ma){var ka=[],ta=-1,Ia=0,ra=U.length,Ga,Ra;for(ma instanceof Date||(ma=new Date(+ma));++ta<ra;)if(37===U.charCodeAt(ta)){ka.push(U.slice(Ia,ta));null!=(Ia=$m[Ga=U.charAt(++ta)])?Ga=U.charAt(++ta):Ia="e"===Ga?" ":"0";if(Ra=V[Ga])Ga=Ra(ma,Ia);ka.push(Ga);Ia=ta+1}ka.push(U.slice(Ia,ta));return ka.join("")}}function e(U,V){return function(ma){var ka=Te(1900,void 0,1);if(f(ka,U,ma+="",0)!=ma.length)return null;if("Q"in ka)return new Date(ka.Q);if("s"in ka)return new Date(1E3*ka.s+("L"in
ka?ka.L:0));!V||"Z"in ka||(ka.Z=0);"p"in ka&&(ka.H=ka.H%12+12*ka.p);void 0===ka.m&&(ka.m="q"in ka?ka.q:0);if("V"in ka){if(1>ka.V||53<ka.V)return null;"w"in ka||(ka.w=1);if("Z"in ka){ma=Xi(Te(ka.y,0,1));var ta=ma.getUTCDay();ma=4<ta||0===ta?Ue.ceil(ma):Ue(ma);ma=be.offset(ma,7*(ka.V-1));ka.y=ma.getUTCFullYear();ka.m=ma.getUTCMonth();ka.d=ma.getUTCDate()+(ka.w+6)%7}else ma=Wi(Te(ka.y,0,1)),ta=ma.getDay(),ma=4<ta||0===ta?Ve.ceil(ma):Ve(ma),ma=ce.offset(ma,7*(ka.V-1)),ka.y=ma.getFullYear(),ka.m=ma.getMonth(),
ka.d=ma.getDate()+(ka.w+6)%7}else if("W"in ka||"U"in ka)"w"in ka||(ka.w="u"in ka?ka.u%7:"W"in ka?1:0),ta="Z"in ka?Xi(Te(ka.y,0,1)).getUTCDay():Wi(Te(ka.y,0,1)).getDay(),ka.m=0,ka.d="W"in ka?(ka.w+6)%7+7*ka.W-(ta+5)%7:ka.w+7*ka.U-(ta+6)%7;return"Z"in ka?(ka.H+=ka.Z/100|0,ka.M+=ka.Z%100,Xi(ka)):Wi(ka)}}function f(U,V,ma,ka){for(var ta=0,Ia=V.length,ra=ma.length,Ga;ta<Ia;){if(ka>=ra)return-1;Ga=V.charCodeAt(ta++);if(37===Ga){if(Ga=V.charAt(ta++),Ga=ia[Ga in $m?V.charAt(ta++):Ga],!Ga||0>(ka=Ga(U,ma,ka)))return-1}else if(Ga!=
ma.charCodeAt(ka++))return-1}return ka}var g=a.dateTime,h=a.date,n=a.time,m=a.periods,p=a.days,y=a.shortDays,C=a.months,t=a.shortMonths,u=We(m),w=Xe(m),z=We(p),q=Xe(p),r=We(y),x=Xe(y),B=We(C),F=Xe(C),L=We(t),Q=Xe(t),S={a:function(U){return y[U.getDay()]},A:function(U){return p[U.getDay()]},b:function(U){return t[U.getMonth()]},B:function(U){return C[U.getMonth()]},c:null,d:an,e:an,f:wt,g:xt,G:yt,H:zt,I:At,j:Bt,L:bn,m:Ct,M:Dt,p:function(U){return m[+(12<=U.getHours())]},q:function(U){return 1+~~(U.getMonth()/
3)},Q:cn,s:dn,S:Et,u:Ft,U:Gt,V:Ht,w:It,W:Jt,x:null,X:null,y:Kt,Y:Lt,Z:Mt,"%":en},ca={a:function(U){return y[U.getUTCDay()]},A:function(U){return p[U.getUTCDay()]},b:function(U){return t[U.getUTCMonth()]},B:function(U){return C[U.getUTCMonth()]},c:null,d:fn,e:fn,f:Nt,g:Ot,G:Pt,H:Qt,I:Rt,j:St,L:gn,m:Tt,M:Ut,p:function(U){return m[+(12<=U.getUTCHours())]},q:function(U){return 1+~~(U.getUTCMonth()/3)},Q:cn,s:dn,S:Vt,u:Wt,U:Xt,V:Yt,w:Zt,W:$t,x:null,X:null,y:au,Y:bu,Z:cu,"%":en},ia={a:function(U,V,ma){return(V=
r.exec(V.slice(ma)))?(U.w=x.get(V[0].toLowerCase()),ma+V[0].length):-1},A:function(U,V,ma){return(V=z.exec(V.slice(ma)))?(U.w=q.get(V[0].toLowerCase()),ma+V[0].length):-1},b:function(U,V,ma){return(V=L.exec(V.slice(ma)))?(U.m=Q.get(V[0].toLowerCase()),ma+V[0].length):-1},B:function(U,V,ma){return(V=B.exec(V.slice(ma)))?(U.m=F.get(V[0].toLowerCase()),ma+V[0].length):-1},c:function(U,V,ma){return f(U,g,V,ma)},d:hn,e:hn,f:du,g:jn,G:kn,H:ln,I:ln,j:eu,L:fu,m:gu,M:hu,p:function(U,V,ma){return(V=u.exec(V.slice(ma)))?
(U.p=w.get(V[0].toLowerCase()),ma+V[0].length):-1},q:iu,Q:ju,s:ku,S:lu,u:mu,U:nu,V:ou,w:pu,W:qu,x:function(U,V,ma){return f(U,h,V,ma)},X:function(U,V,ma){return f(U,n,V,ma)},y:jn,Y:kn,Z:ru,"%":su};S.x=b(h,S);S.X=b(n,S);S.c=b(g,S);ca.x=b(h,ca);ca.X=b(n,ca);ca.c=b(g,ca);return{format:function(U){var V=b(U+="",S);V.toString=function(){return U};return V},parse:function(U){var V=e(U+="",!1);V.toString=function(){return U};return V},utcFormat:function(U){var V=b(U+="",ca);V.toString=function(){return U};
return V},utcParse:function(U){var V=e(U+="",!0);V.toString=function(){return U};return V}}}function ib(a,b,e){var f=0>a?"-":"";a=(f?-a:a)+"";var g=a.length;return f+(g<e?Array(e-g+1).join(b)+a:a)}function tu(a){return a.replace(uu,"\\$&")}function We(a){return new RegExp("^(?:"+a.map(tu).join("|")+")","i")}function Xe(a){return new Map(a.map(function(b,e){return[b.toLowerCase(),e]}))}function pu(a,b,e){return(b=Gb.exec(b.slice(e,e+1)))?(a.w=+b[0],e+b[0].length):-1}function mu(a,b,e){return(b=Gb.exec(b.slice(e,
e+1)))?(a.u=+b[0],e+b[0].length):-1}function nu(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.U=+b[0],e+b[0].length):-1}function ou(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.V=+b[0],e+b[0].length):-1}function qu(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.W=+b[0],e+b[0].length):-1}function kn(a,b,e){return(b=Gb.exec(b.slice(e,e+4)))?(a.y=+b[0],e+b[0].length):-1}function jn(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),e+b[0].length):-1}function ru(a,b,e){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(e,
e+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),e+b[0].length):-1}function iu(a,b,e){return(b=Gb.exec(b.slice(e,e+1)))?(a.q=3*b[0]-3,e+b[0].length):-1}function gu(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.m=b[0]-1,e+b[0].length):-1}function hn(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.d=+b[0],e+b[0].length):-1}function eu(a,b,e){return(b=Gb.exec(b.slice(e,e+3)))?(a.m=0,a.d=+b[0],e+b[0].length):-1}function ln(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.H=+b[0],e+b[0].length):-1}function hu(a,b,e){return(b=
Gb.exec(b.slice(e,e+2)))?(a.M=+b[0],e+b[0].length):-1}function lu(a,b,e){return(b=Gb.exec(b.slice(e,e+2)))?(a.S=+b[0],e+b[0].length):-1}function fu(a,b,e){return(b=Gb.exec(b.slice(e,e+3)))?(a.L=+b[0],e+b[0].length):-1}function du(a,b,e){return(b=Gb.exec(b.slice(e,e+6)))?(a.L=Math.floor(b[0]/1E3),e+b[0].length):-1}function su(a,b,e){return(a=vu.exec(b.slice(e,e+1)))?e+a[0].length:-1}function ju(a,b,e){return(b=Gb.exec(b.slice(e)))?(a.Q=+b[0],e+b[0].length):-1}function ku(a,b,e){return(b=Gb.exec(b.slice(e)))?
(a.s=+b[0],e+b[0].length):-1}function an(a,b){return ib(a.getDate(),b,2)}function zt(a,b){return ib(a.getHours(),b,2)}function At(a,b){return ib(a.getHours()%12||12,b,2)}function Bt(a,b){return ib(1+ce.count(zc(a),a),b,3)}function bn(a,b){return ib(a.getMilliseconds(),b,3)}function wt(a,b){return bn(a,b)+"000"}function Ct(a,b){return ib(a.getMonth()+1,b,2)}function Dt(a,b){return ib(a.getMinutes(),b,2)}function Et(a,b){return ib(a.getSeconds(),b,2)}function Ft(a){a=a.getDay();return 0===a?7:a}function Gt(a,
b){return ib(de.count(zc(a)-1,a),b,2)}function mn(a){var b=a.getDay();return 4<=b||0===b?ud(a):ud.ceil(a)}function Ht(a,b){a=mn(a);return ib(ud.count(zc(a),a)+(4===zc(a).getDay()),b,2)}function It(a){return a.getDay()}function Jt(a,b){return ib(Ve.count(zc(a)-1,a),b,2)}function Kt(a,b){return ib(a.getFullYear()%100,b,2)}function xt(a,b){a=mn(a);return ib(a.getFullYear()%100,b,2)}function Lt(a,b){return ib(a.getFullYear()%1E4,b,4)}function yt(a,b){var e=a.getDay();a=4<=e||0===e?ud(a):ud.ceil(a);return ib(a.getFullYear()%
1E4,b,4)}function Mt(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+ib(a/60|0,"0",2)+ib(a%60,"0",2)}function fn(a,b){return ib(a.getUTCDate(),b,2)}function Qt(a,b){return ib(a.getUTCHours(),b,2)}function Rt(a,b){return ib(a.getUTCHours()%12||12,b,2)}function St(a,b){return ib(1+be.count(Ac(a),a),b,3)}function gn(a,b){return ib(a.getUTCMilliseconds(),b,3)}function Nt(a,b){return gn(a,b)+"000"}function Tt(a,b){return ib(a.getUTCMonth()+1,b,2)}function Ut(a,b){return ib(a.getUTCMinutes(),b,2)}
function Vt(a,b){return ib(a.getUTCSeconds(),b,2)}function Wt(a){a=a.getUTCDay();return 0===a?7:a}function Xt(a,b){return ib(ee.count(Ac(a)-1,a),b,2)}function nn(a){var b=a.getUTCDay();return 4<=b||0===b?vd(a):vd.ceil(a)}function Yt(a,b){a=nn(a);return ib(vd.count(Ac(a),a)+(4===Ac(a).getUTCDay()),b,2)}function Zt(a){return a.getUTCDay()}function $t(a,b){return ib(Ue.count(Ac(a)-1,a),b,2)}function au(a,b){return ib(a.getUTCFullYear()%100,b,2)}function Ot(a,b){a=nn(a);return ib(a.getUTCFullYear()%100,
b,2)}function bu(a,b){return ib(a.getUTCFullYear()%1E4,b,4)}function Pt(a,b){var e=a.getUTCDay();a=4<=e||0===e?vd(a):vd.ceil(a);return ib(a.getUTCFullYear()%1E4,b,4)}function cu(){return"+0000"}function en(){return"%"}function cn(a){return+a}function dn(a){return Math.floor(+a/1E3)}function on(a){fe=Zm(a);c.timeFormat=fe.format;c.timeParse=fe.parse;c.utcFormat=fe.utcFormat;c.utcParse=fe.utcParse;return fe}function wu(a){return a.toISOString()}function xu(a){a=new Date(a);return isNaN(a)?null:a}function yu(a){return new Date(a)}
function zu(a){return a instanceof Date?+a:+new Date(+a)}function Yi(a,b,e,f,g,h,n,m,p,y){function C(S){return(p(S)<S?z:m(S)<S?q:n(S)<S?r:h(S)<S?x:f(S)<S?g(S)<S?B:F:e(S)<S?L:Q)(S)}var t=$d()(Cb,Cb),u=t.invert,w=t.domain,z=y(".%L"),q=y(":%S"),r=y("%I:%M"),x=y("%I %p"),B=y("%a %d"),F=y("%b %d"),L=y("%B"),Q=y("%Y");t.invert=function(S){return new Date(u(S))};t.domain=function(S){return arguments.length?w(Array.from(S,zu)):w().map(yu)};t.ticks=function(S){var ca=w();return a(ca[0],ca[ca.length-1],null==
S?10:S)};t.tickFormat=function(S,ca){return null==ca?C:y(ca)};t.nice=function(S){var ca=w();S&&"function"===typeof S.range||(S=b(ca[0],ca[ca.length-1],null==S?10:S));return S?w(Jm(ca,S)):t};t.copy=function(){return Se(t,Yi(a,b,e,f,g,h,n,m,p,y))};return t}function rg(){function a(t){return null==t||isNaN(t=+t)?C:p(0===n?.5:(t=(m(t)-g)*n,y?Math.max(0,Math.min(1,t)):t))}function b(t){return function(u){if(arguments.length){var w=$jscomp.makeIterator(u);var z=w.next().value;w=w.next().value;z=(p=t(z,
w),a)}else z=[p(0),p(1)];return z}}var e=0,f=1,g,h,n,m,p=Cb,y=!1,C;a.domain=function(t){if(arguments.length){var u=$jscomp.makeIterator(t);e=u.next().value;f=u.next().value;u=(g=m(e=+e),h=m(f=+f),n=g===h?0:1/(h-g),a)}else u=[e,f];return u};a.clamp=function(t){return arguments.length?(y=!!t,a):y};a.interpolator=function(t){return arguments.length?(p=t,a):p};a.range=b(Tc);a.rangeRound=b(uf);a.unknown=function(t){return arguments.length?(C=t,a):C};return function(t){m=t;g=t(e);h=t(f);n=g===h?0:1/(h-
g);return a}}function Zc(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function pn(){var a=Yc(rg()(Cb));a.copy=function(){return Zc(a,pn())};return Kc.apply(a,arguments)}function qn(){var a=Oi(rg()).domain([1,10]);a.copy=function(){return Zc(a,qn()).base(a.base())};return Kc.apply(a,arguments)}function rn(){var a=Pi(rg());a.copy=function(){return Zc(a,rn()).constant(a.constant())};return Kc.apply(a,arguments)}function Zi(){var a=Qi(rg());a.copy=
function(){return Zc(a,Zi()).exponent(a.exponent())};return Kc.apply(a,arguments)}function sn(){function a(f){if(null!=f&&!isNaN(f=+f))return e((Pc(b,f,1)-1)/(b.length-1))}var b=[],e=Cb;a.domain=function(f){if(!arguments.length)return b.slice();b=[];for(var g=$jscomp.makeIterator(f),h=g.next();!h.done;h=g.next())h=h.value,null==h||isNaN(h=+h)||b.push(h);b.sort(l);return a};a.interpolator=function(f){return arguments.length?(e=f,a):e};a.range=function(){return b.map(function(f,g){return e(g/(b.length-
1))})};a.quantiles=function(f){return Array.from({length:f+1},function(g,h){return qc(b,h/f)})};a.copy=function(){return sn(e).domain(b)};return Kc.apply(a,arguments)}function sg(){function a(q){return isNaN(q=+q)?z:(q=.5+((q=+u(q))-m)*(h*q<h*m?y:C),t(w?Math.max(0,Math.min(1,q)):q))}function b(q){return function(r){if(arguments.length){var x=$jscomp.makeIterator(r);var B=x.next().value;var F=x.next().value;x=x.next().value;B=(t=pk(q,[B,F,x]),a)}else B=[t(0),t(.5),t(1)];return B}}var e=0,f=.5,g=1,
h=1,n,m,p,y,C,t=Cb,u,w=!1,z;a.domain=function(q){if(arguments.length){var r=$jscomp.makeIterator(q);e=r.next().value;f=r.next().value;g=r.next().value;r=(n=u(e=+e),m=u(f=+f),p=u(g=+g),y=n===m?0:.5/(m-n),C=m===p?0:.5/(p-m),h=m<n?-1:1,a)}else r=[e,f,g];return r};a.clamp=function(q){return arguments.length?(w=!!q,a):w};a.interpolator=function(q){return arguments.length?(t=q,a):t};a.range=b(Tc);a.rangeRound=b(uf);a.unknown=function(q){return arguments.length?(z=q,a):z};return function(q){u=q;n=q(e);m=
q(f);p=q(g);y=n===m?0:.5/(m-n);C=m===p?0:.5/(p-m);h=m<n?-1:1;return a}}function tn(){var a=Yc(sg()(Cb));a.copy=function(){return Zc(a,tn())};return Kc.apply(a,arguments)}function un(){var a=Oi(sg()).domain([.1,1,10]);a.copy=function(){return Zc(a,un()).base(a.base())};return Kc.apply(a,arguments)}function vn(){var a=Pi(sg());a.copy=function(){return Zc(a,vn()).constant(a.constant())};return Kc.apply(a,arguments)}function $i(){var a=Qi(sg());a.copy=function(){return Zc(a,$i()).exponent(a.exponent())};
return Kc.apply(a,arguments)}function bb(a){for(var b=a.length/6|0,e=Array(b),f=0;f<b;)e[f]="#"+a.slice(6*f,6*++f);return e}function tg(a){var b=a.length;return function(e){return a[Math.max(0,Math.min(b-1,Math.floor(e*b)))]}}function $a(a){return function(){return a}}function wn(a){return 1<=a?ug:-1>=a?-ug:Math.asin(a)}function Au(a){return a.innerRadius}function Bu(a){return a.outerRadius}function Cu(a){return a.startAngle}function Du(a){return a.endAngle}function Eu(a){return a&&a.padAngle}function vg(a,
b,e,f,g,h,n){var m=a-e,p=b-f;n=(n?h:-h)/ge(m*m+p*p);p*=n;m*=-n;var y=a+p,C=b+m,t=e+p,u=f+m;e=(y+t)/2;f=(C+u)/2;b=t-y;a=u-C;n=b*b+a*a;h=g-h;u=y*u-t*C;var w=(0>a?-1:1)*ge(Fu(0,h*h*n-u*u));y=(u*a-b*w)/n;C=(-u*b-a*w)/n;t=(u*a+b*w)/n;b=(-u*b+a*w)/n;a=y-e;n=C-f;e=t-e;f=b-f;a*a+n*n>e*e+f*f&&(y=t,C=b);return{cx:y,cy:C,x01:-p,y01:-m,x11:y*(g/h-1),y11:C*(g/h-1)}}function wg(a){return"object"===typeof a&&"length"in a?a:Array.from(a)}function xn(a){this._context=a}function xg(a){return new xn(a)}function aj(a){return a[0]}
function bj(a){return a[1]}function cj(a,b){function e(m){var p,y=(m=wg(m)).length,C,t=!1,u;null==g&&(n=h(u=Vc()));for(p=0;p<=y;++p)!(p<y&&f(C=m[p],p,m))===t&&((t=!t)?n.lineStart():n.lineEnd()),t&&n.point(+a(C,p,m),+b(C,p,m));if(u)return n=null,u+""||null}var f=$a(!0),g=null,h=xg,n=null;a="function"===typeof a?a:void 0===a?aj:$a(a);b="function"===typeof b?b:void 0===b?bj:$a(b);e.x=function(m){return arguments.length?(a="function"===typeof m?m:$a(+m),e):a};e.y=function(m){return arguments.length?(b=
"function"===typeof m?m:$a(+m),e):b};e.defined=function(m){return arguments.length?(f="function"===typeof m?m:$a(!!m),e):f};e.curve=function(m){return arguments.length?(h=m,null!=g&&(n=h(g)),e):h};e.context=function(m){return arguments.length?(null==m?g=n=null:n=h(g=m),e):g};return e}function yn(a,b,e){function f(C){var t,u,w=(C=wg(C)).length,z,q=!1,r,x=Array(w),B=Array(w);null==m&&(y=p(r=Vc()));for(t=0;t<=w;++t){if(!(t<w&&n(z=C[t],t,C))===q)if(q=!q){var F=t;y.areaStart();y.lineStart()}else{y.lineEnd();
y.lineStart();for(u=t-1;u>=F;--u)y.point(x[u],B[u]);y.lineEnd();y.areaEnd()}q&&(x[t]=+a(z,t,C),B[t]=+b(z,t,C),y.point(h?+h(z,t,C):x[t],e?+e(z,t,C):B[t]))}if(r)return y=null,r+""||null}function g(){return cj().defined(n).curve(p).context(m)}var h=null,n=$a(!0),m=null,p=xg,y=null;a="function"===typeof a?a:void 0===a?aj:$a(+a);b="function"===typeof b?b:void 0===b?$a(0):$a(+b);e="function"===typeof e?e:void 0===e?bj:$a(+e);f.x=function(C){return arguments.length?(a="function"===typeof C?C:$a(+C),h=null,
f):a};f.x0=function(C){return arguments.length?(a="function"===typeof C?C:$a(+C),f):a};f.x1=function(C){return arguments.length?(h=null==C?null:"function"===typeof C?C:$a(+C),f):h};f.y=function(C){return arguments.length?(b="function"===typeof C?C:$a(+C),e=null,f):b};f.y0=function(C){return arguments.length?(b="function"===typeof C?C:$a(+C),f):b};f.y1=function(C){return arguments.length?(e=null==C?null:"function"===typeof C?C:$a(+C),f):e};f.lineX0=f.lineY0=function(){return g().x(a).y(b)};f.lineY1=
function(){return g().x(a).y(e)};f.lineX1=function(){return g().x(h).y(b)};f.defined=function(C){return arguments.length?(n="function"===typeof C?C:$a(!!C),f):n};f.curve=function(C){return arguments.length?(p=C,null!=m&&(y=p(m)),f):p};f.context=function(C){return arguments.length?(null==C?m=y=null:y=p(m=C),f):m};return f}function Gu(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function Hu(a){return a}function zn(a){this._curve=a}function dj(a){function b(e){return new zn(a(e))}b._curve=a;return b}function Ye(a){var b=
a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=function(e){return arguments.length?b(dj(e)):b()._curve};return a}function An(){return Ye(cj().curve(Bn))}function Cn(){var a=yn().curve(Bn),b=a.curve,e=a.lineX0,f=a.lineX1,g=a.lineY0,h=a.lineY1;a.angle=a.x;delete a.x;a.startAngle=a.x0;delete a.x0;a.endAngle=a.x1;delete a.x1;a.radius=a.y;delete a.y;a.innerRadius=a.y0;delete a.y0;a.outerRadius=a.y1;delete a.y1;a.lineStartAngle=function(){return Ye(e())};delete a.lineX0;a.lineEndAngle=function(){return Ye(f())};
delete a.lineX1;a.lineInnerRadius=function(){return Ye(g())};delete a.lineY0;a.lineOuterRadius=function(){return Ye(h())};delete a.lineY1;a.curve=function(n){return arguments.length?b(dj(n)):b()._curve};return a}function Ze(a,b){return[(b=+b)*Math.cos(a-=Math.PI/2),b*Math.sin(a)]}function Iu(a){return a.source}function Ju(a){return a.target}function ej(a){function b(){var m,p=Ku.call(arguments),y=e.apply(this,p),C=f.apply(this,p);n||(n=m=Vc());a(n,+g.apply(this,(p[0]=y,p)),+h.apply(this,p),+g.apply(this,
(p[0]=C,p)),+h.apply(this,p));if(m)return n=null,m+""||null}var e=Iu,f=Ju,g=aj,h=bj,n=null;b.source=function(m){return arguments.length?(e=m,b):e};b.target=function(m){return arguments.length?(f=m,b):f};b.x=function(m){return arguments.length?(g="function"===typeof m?m:$a(+m),b):g};b.y=function(m){return arguments.length?(h="function"===typeof m?m:$a(+m),b):h};b.context=function(m){return arguments.length?(n=null==m?null:m,b):n};return b}function Lu(a,b,e,f,g){a.moveTo(b,e);a.bezierCurveTo(b=(b+f)/
2,e,b,g,f,g)}function Mu(a,b,e,f,g){a.moveTo(b,e);a.bezierCurveTo(b,e=(e+g)/2,f,e,f,g)}function Nu(a,b,e,f,g){var h=Ze(b,e);b=Ze(b,e=(e+g)/2);e=Ze(f,e);f=Ze(f,g);a.moveTo(h[0],h[1]);a.bezierCurveTo(b[0],b[1],e[0],e[1],f[0],f[1])}function $c(){}function yg(a,b,e){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+e)/6)}function zg(a){this._context=a}function Dn(a){this._context=a}function En(a){this._context=a}function Fn(a,
b){this._basis=new zg(a);this._beta=b}function Ag(a,b,e){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-e),a._x2,a._y2)}function fj(a,b){this._context=a;this._k=(1-b)/6}function gj(a,b){this._context=a;this._k=(1-b)/6}function hj(a,b){this._context=a;this._k=(1-b)/6}function ij(a,b,e){var f=a._x1,g=a._y1,h=a._x2,n=a._y2;if(1E-12<a._l01_a){var m=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,p=3*a._l01_a*(a._l01_a+a._l12_a);f=(f*m-a._x0*
a._l12_2a+a._x2*a._l01_2a)/p;g=(g*m-a._y0*a._l12_2a+a._y2*a._l01_2a)/p}1E-12<a._l23_a&&(m=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,p=3*a._l23_a*(a._l23_a+a._l12_a),h=(h*m+a._x1*a._l23_2a-b*a._l12_2a)/p,n=(n*m+a._y1*a._l23_2a-e*a._l12_2a)/p);a._context.bezierCurveTo(f,g,h,n,a._x2,a._y2)}function Gn(a,b){this._context=a;this._alpha=b}function Hn(a,b){this._context=a;this._alpha=b}function In(a,b){this._context=a;this._alpha=b}function Jn(a){this._context=a}function Kn(a,b,e){var f=a._x1-a._x0;b-=a._x1;
var g=(a._y1-a._y0)/(f||0>b&&-0);a=(e-a._y1)/(b||0>f&&-0);return((0>g?-1:1)+(0>a?-1:1))*Math.min(Math.abs(g),Math.abs(a),.5*Math.abs((g*b+a*f)/(f+b)))||0}function Ln(a,b){var e=a._x1-a._x0;return e?(3*(a._y1-a._y0)/e-b)/2:b}function jj(a,b,e){var f=a._x0,g=a._x1,h=a._y1,n=(g-f)/3;a._context.bezierCurveTo(f+n,a._y0+n*b,g-n,h-n*e,g,h)}function Bg(a){this._context=a}function Mn(a){this._context=new Nn(a)}function Nn(a){this._context=a}function On(a){this._context=a}function Pn(a){var b,e=a.length-1,
f=Array(e),g=Array(e),h=Array(e);f[0]=0;g[0]=2;h[0]=a[0]+2*a[1];for(b=1;b<e-1;++b)f[b]=1,g[b]=4,h[b]=4*a[b]+2*a[b+1];f[e-1]=2;g[e-1]=7;h[e-1]=8*a[e-1]+a[e];for(b=1;b<e;++b){var n=f[b]/g[b-1];g[b]-=n;h[b]-=n*h[b-1]}f[e-1]=h[e-1]/g[e-1];for(b=e-2;0<=b;--b)f[b]=(h[b]-f[b+1])/g[b];g[e-1]=(a[e]+f[e-1])/2;for(b=0;b<e-1;++b)g[b]=2*a[b+1]-f[b+1];return[f,g]}function Cg(a,b){this._context=a;this._t=b}function he(a,b){if(1<(n=a.length))for(var e=1,f,g,h=a[b[0]],n,m=h.length;e<n;++e)for(g=h,h=a[b[e]],f=0;f<
m;++f)h[f][1]+=h[f][0]=isNaN(g[f][1])?g[f][0]:g[f][1]}function ie(a){a=a.length;for(var b=Array(a);0<=--a;)b[a]=a;return b}function Ou(a,b){return a[b]}function Pu(a){var b=[];b.key=a;return b}function Qn(a){var b=a.map(Qu);return ie(a).sort(function(e,f){return b[e]-b[f]})}function Qu(a){for(var b=-1,e=0,f=a.length,g,h=-Infinity;++b<f;)(g=+a[b][1])>h&&(h=g,e=b);return e}function Rn(a){var b=a.map(Sn);return ie(a).sort(function(e,f){return b[e]-b[f]})}function Sn(a){for(var b=0,e=-1,f=a.length,g;++e<
f;)if(g=+a[e][1])b+=g;return b}function Ru(a,b){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b.sourceEvent,enumerable:!0,configurable:!0},target:{value:b.target,enumerable:!0,configurable:!0},transform:{value:b.transform,enumerable:!0,configurable:!0},_:{value:b.dispatch}})}function Mc(a,b,e){this.k=a;this.x=b;this.y=e}function Tn(a){for(;!a.__zoom;)if(!(a=a.parentNode))return Dg;return a.__zoom}function $e(a){a.preventDefault();a.stopImmediatePropagation()}
function Su(a){return(!a.ctrlKey||"wheel"===a.type)&&!a.button}function Tu(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function Un(){return this.__zoom||Dg}function Uu(a){return-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function Vu(){return navigator.maxTouchPoints||"ontouchstart"in
this}function Wu(a,b,e){var f=a.invertX(b[0][0])-e[0][0],g=a.invertX(b[1][0])-e[1][0],h=a.invertY(b[0][1])-e[0][1];b=a.invertY(b[1][1])-e[1][1];return a.translate(g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g),b>h?(h+b)/2:Math.min(0,h)||Math.max(0,b))}var Vn=v(l),Pc=Vn.right,Xu=Vn.left,Yu=v(E).center,xb=function(){this._partials=new Float64Array(32);this._n=0};xb.prototype.add=function(a){for(var b=this._partials,e=0,f=0;f<this._n&&32>f;f++){var g=b[f],h=a+g;(a=Math.abs(a)<Math.abs(g)?a-(h-g):g-(h-a))&&
(b[e++]=a);a=h}b[e]=a;this._n=e+1;return this};xb.prototype.valueOf=function(){var a=this._partials,b=this._n,e=0;if(0<b){for(e=a[--b];0<b;){var f=e;var g=a[--b];e=f+g;if(f=g-(e-f))break}0<b&&(0>f&&0>a[b-1]||0<f&&0<a[b-1])&&(g=2*f,f=e+g,g==f-e&&(e=f))}return e};var cd=function(a,b){b=void 0===b?Ea:b;var e=$jscomp.construct(Map,[],this.constructor);Object.defineProperties(e,{_intern:{value:new Map},_key:{value:b}});if(null!=a)for(a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next()){var f=$jscomp.makeIterator(b.value);
b=f.next().value;f=f.next().value;e.set(b,f)}return e};$jscomp.inherits(cd,Map);cd.prototype.get=function(a){return Map.prototype.get.call(this,qa(this,a))};cd.prototype.has=function(a){return Map.prototype.has.call(this,qa(this,a))};cd.prototype.set=function(a,b){return Map.prototype.set.call(this,sa(this,a),b)};cd.prototype.delete=function(a){return Map.prototype.delete.call(this,xa(this,a))};var af=function(a,b){b=void 0===b?Ea:b;var e=$jscomp.construct(Set,[],this.constructor);Object.defineProperties(e,
{_intern:{value:new Map},_key:{value:b}});if(null!=a)for(a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next())e.add(b.value);return e};$jscomp.inherits(af,Set);af.prototype.has=function(a){return Set.prototype.has.call(this,qa(this,a))};af.prototype.add=function(a){return Set.prototype.add.call(this,sa(this,a))};af.prototype.delete=function(a){return Set.prototype.delete.call(this,xa(this,a))};var up=Array.prototype.slice,Vg=Math.sqrt(50),Wg=Math.sqrt(10),Xg=Math.sqrt(2),Zu=oe(Math.random),bh=
Array.prototype.slice,yp={value:function(){}};hf.prototype=hd.prototype={constructor:hf,on:function(a,b){var e=this._,f=xp(a+"",e),g,h=-1,n=f.length;if(2>arguments.length)for(;++h<n;){var m;if(m=g=(a=f[h]).type){a:{m=e[g];for(var p=0,y=m.length;p<y;++p)if((g=m[p]).name===a.name){g=g.value;break a}g=void 0}m=g}if(m)return g}else{if(null!=b&&"function"!==typeof b)throw Error("invalid callback: "+b);for(;++h<n;)if(g=(a=f[h]).type)e[g]=zj(e[g],a.name,b);else if(null==b)for(g in e)e[g]=zj(e[g],a.name,
null);return this}},copy:function(){var a={},b=this._,e;for(e in b)a[e]=b[e].slice();return new hf(a)},call:function(a,b){if(0<(g=arguments.length-2))for(var e=Array(g),f=0,g,h;f<g;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);h=this._[a];f=0;for(g=h.length;f<g;++f)h[f].value.apply(b,e)},apply:function(a,b,e){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);a=this._[a];for(var f=0,g=a.length;f<g;++f)a[f].value.apply(b,e)}};var ch={svg:"http://www.w3.org/2000/svg",
xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fp=Array.prototype.find,Jp=Array.prototype.filter;lf.prototype={constructor:lf,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};
Cj.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){a=this._names.indexOf(a);0<=a&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return 0<=this._names.indexOf(a)}};var ih=[null],fb={};Jb.prototype=jd.prototype=(fb.constructor=Jb,fb.select=function(a){"function"!==typeof a&&(a=kf(a));for(var b=this._groups,e=b.length,f=Array(e),g=0;g<e;++g)for(var h=
b[g],n=h.length,m=f[g]=Array(n),p,y,C=0;C<n;++C)(p=h[C])&&(y=a.call(p,p.__data__,C,h))&&("__data__"in p&&(y.__data__=p.__data__),m[C]=y);return new Jb(f,this._parents)},fb.selectAll=function(a){a="function"===typeof a?Dp(a):eh(a);for(var b=this._groups,e=b.length,f=[],g=[],h=0;h<e;++h)for(var n=b[h],m=n.length,p,y=0;y<m;++y)if(p=n[y])f.push(a.call(p,p.__data__,y,n)),g.push(p);return new Jb(f,g)},fb.selectChild=function(a){return this.select(null==a?Gp:Ep("function"===typeof a?a:Aj(a)))},fb.selectChildren=
function(a){return this.selectAll(null==a?Hp:Ip("function"===typeof a?a:Aj(a)))},fb.filter=function(a){"function"!==typeof a&&(a=fh(a));for(var b=this._groups,e=b.length,f=Array(e),g=0;g<e;++g)for(var h=b[g],n=h.length,m=f[g]=[],p,y=0;y<n;++y)(p=h[y])&&a.call(p,p.__data__,y,h)&&m.push(p);return new Jb(f,this._parents)},fb.data=function(a,b){if(!arguments.length)return Array.from(this,Np);var e=b?Mp:Lp,f=this._parents,g=this._groups;"function"!==typeof a&&(a=Kp(a));for(var h=g.length,n=Array(h),m=
Array(h),p=Array(h),y=0;y<h;++y){var C=f[y],t=g[y],u=t.length,w=dh(a.call(C,C&&C.__data__,y,f)),z=w.length,q=m[y]=Array(z),r=n[y]=Array(z);u=p[y]=Array(u);e(C,t,q,r,u,w,b);for(t=C=0;C<z;++C)if(w=q[C]){for(C>=t&&(t=C+1);!(u=r[t])&&++t<z;);w._next=u||null}}n=new Jb(n,f);n._enter=m;n._exit=p;return n},fb.enter=function(){return new Jb(this._enter||this._groups.map(Bj),this._parents)},fb.exit=function(){return new Jb(this._exit||this._groups.map(Bj),this._parents)},fb.join=function(a,b,e){var f=this.enter(),
g=this,h=this.exit();f="function"===typeof a?a(f):f.append(a+"");null!=b&&(g=b(g));null==e?h.remove():e(h);return f&&g?f.merge(g).order():g},fb.merge=function(a){if(!(a instanceof Jb))throw Error("invalid merge");var b=this._groups;a=a._groups;for(var e=b.length,f=Math.min(e,a.length),g=Array(e),h=0;h<f;++h)for(var n=b[h],m=a[h],p=n.length,y=g[h]=Array(p),C,t=0;t<p;++t)if(C=n[t]||m[t])y[t]=C;for(;h<e;++h)g[h]=b[h];return new Jb(g,this._parents)},fb.selection=function(){return this},fb.order=function(){for(var a=
this._groups,b=-1,e=a.length;++b<e;)for(var f=a[b],g=f.length-1,h=f[g],n;0<=--g;)if(n=f[g])h&&n.compareDocumentPosition(h)^4&&h.parentNode.insertBefore(n,h),h=n;return this},fb.sort=function(a){function b(t,u){return t&&u?a(t.__data__,u.__data__):!t-!u}a||(a=Op);for(var e=this._groups,f=e.length,g=Array(f),h=0;h<f;++h){for(var n=e[h],m=n.length,p=g[h]=Array(m),y,C=0;C<m;++C)if(y=n[C])p[C]=y;p.sort(b)}return(new Jb(g,this._parents)).order()},fb.call=function(){var a=arguments[0];arguments[0]=this;
a.apply(null,arguments);return this},fb.nodes=function(){return Array.from(this)},fb.node=function(){for(var a=this._groups,b=0,e=a.length;b<e;++b)for(var f=a[b],g=0,h=f.length;g<h;++g){var n=f[g];if(n)return n}return null},fb.size=function(){for(var a=0,b=$jscomp.makeIterator(this),e=b.next();!e.done;e=b.next())++a;return a},fb.empty=function(){return!this.node()},fb.each=function(a){for(var b=this._groups,e=0,f=b.length;e<f;++e)for(var g=b[e],h=0,n=g.length,m;h<n;++h)(m=g[h])&&a.call(m,m.__data__,
h,g);return this},fb.attr=function(a,b){var e=pe(a);if(2>arguments.length){var f=this.node();return e.local?f.getAttributeNS(e.space,e.local):f.getAttribute(e)}return this.each((null==b?e.local?Qp:Pp:"function"===typeof b?e.local?Up:Tp:e.local?Sp:Rp)(e,b))},fb.style=function(a,b,e){return 1<arguments.length?this.each((null==b?Vp:"function"===typeof b?Xp:Wp)(a,b,null==e?"":e)):id(this.node(),a)},fb.property=function(a,b){return 1<arguments.length?this.each((null==b?Yp:"function"===typeof b?$p:Zp)(a,
b)):this.node()[a]},fb.classed=function(a,b){var e=(a+"").trim().split(/^|\s+/);if(2>arguments.length){for(var f=hh(this.node()),g=-1,h=e.length;++g<h;)if(!f.contains(e[g]))return!1;return!0}return this.each(("function"===typeof b?cq:b?aq:bq)(e,b))},fb.text=function(a){return arguments.length?this.each(null==a?dq:("function"===typeof a?fq:eq)(a)):this.node().textContent},fb.html=function(a){return arguments.length?this.each(null==a?gq:("function"===typeof a?iq:hq)(a)):this.node().innerHTML},fb.raise=
function(){return this.each(jq)},fb.lower=function(){return this.each(kq)},fb.append=function(a){var b="function"===typeof a?a:jf(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},fb.insert=function(a,b){var e="function"===typeof a?a:jf(a),f=null==b?lq:"function"===typeof b?b:kf(b);return this.select(function(){return this.insertBefore(e.apply(this,arguments),f.apply(this,arguments)||null)})},fb.remove=function(){return this.each(mq)},fb.clone=function(a){return this.select(a?
oq:nq)},fb.datum=function(a){return arguments.length?this.property("__data__",a):this.node().__data__},fb.on=function(a,b,e){var f=qq(a+""),g=f.length,h;if(2>arguments.length){var n=this.node().__on;if(n)for(var m=0,p=n.length,y;m<p;++m){var C=0;for(y=n[m];C<g;++C)if((h=f[C]).type===y.type&&h.name===y.name)return y.value}}else{n=b?sq:rq;for(C=0;C<g;++C)this.each(n(f[C],b,e));return this}},fb.dispatch=function(a,b){return this.each(("function"===typeof b?uq:tq)(a,b))},fb[Symbol.iterator]=Gj,fb);var vq=
0;jh.prototype=Hj.prototype={constructor:jh,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var Eg=function(a){return function(){return a}};kh.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var je=1/.7,Aq=/^#([0-9a-f]{3,8})$/,Bq=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,
Cq=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Dq=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Eq=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Fq=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Gq=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Nj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gd(Rc,Sc,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:Jj,formatHex:Jj,formatHsl:function(){return Qj(this).formatHsl()},
formatRgb:Kj,toString:Kj});Gd(Hb,Hd,qe(Rc,{brighter:function(a){a=null==a?je:Math.pow(je,a);return new Hb(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new Hb(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Oj,formatHex:Oj,formatRgb:Pj,toString:Pj}));Gd(rc,pf,qe(Rc,{brighter:function(a){a=
null==a?je:Math.pow(je,a);return new rc(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new rc(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(0>this.h),b=isNaN(a)||isNaN(this.s)?0:this.s,e=this.l;b=e+(.5>e?e:1-e)*b;e=2*e-b;return new Hb(nh(240<=a?a-240:a+120,e,b),nh(a,e,b),nh(120>a?a+240:a-120,e,b),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},
formatHsl:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));var Xj=Math.PI/180,Wj=180/Math.PI,Uj=4/29,Id=6/29,Tj=3*Id*Id,Hq=Id*Id*Id;Gd(kc,qf,qe(Rc,{brighter:function(a){return new kc(this.l+18*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new kc(this.l-18*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?
a:a+this.a/500,e=isNaN(this.b)?a:a-this.b/200;b=.96422*qh(b);a=1*qh(a);e=.82521*qh(e);return new Hb(rh(3.1338561*b-1.6168667*a-.4906146*e),rh(-.9787684*b+1.9161415*a+.033454*e),rh(.0719453*b-.2289914*a+1.4052427*e),this.opacity)}}));Gd(sc,rf,qe(Rc,{brighter:function(a){return new sc(this.h,this.c,this.l+18*(null==a?1:a),this.opacity)},darker:function(a){return new sc(this.h,this.c,this.l-18*(null==a?1:a),this.opacity)},rgb:function(){return Sj(this).rgb()}}));var Yj=1.78277*-.29227-.1347134789;Gd(kd,
lc,qe(Rc,{brighter:function(a){a=null==a?je:Math.pow(je,a);return new kd(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new kd(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*Xj,b=+this.l,e=isNaN(this.s)?0:this.s*b*(1-b),f=Math.cos(a);a=Math.sin(a);return new Hb(255*(b+e*(-.14861*f+1.78277*a)),255*(b+e*(-.29227*f+-.90649*a)),255*(b+1.97294*e*f),this.opacity)}}));var tf=function(a){return function(){return a}},re=
function e(b){function f(h,n){var m=g((h=Hd(h)).r,(n=Hd(n)).r),p=g(h.g,n.g),y=g(h.b,n.b),C=Eb(h.opacity,n.opacity);return function(t){h.r=m(t);h.g=p(t);h.b=y(t);h.opacity=C(t);return h+""}}var g=Jq(b);f.gamma=e;return f}(1),Wn=dk(ak),$u=dk(bk),uh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vh=new RegExp(uh.source,"g"),jk=180/Math.PI,kj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Fg,Xn=kk(function(b){b=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(b+"");return b.isIdentity?
kj:ik(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),Yn=kk(function(b){if(null==b)return kj;Fg||(Fg=document.createElementNS("http://www.w3.org/2000/svg","g"));Fg.setAttribute("transform",b);if(!(b=Fg.transform.baseVal.consolidate()))return kj;b=b.matrix;return ik(b.a,b.b,b.c,b.d,b.e,b.f)},", ",")",")"),Zn=function h(e,f,g){function n(m,p){var y=m[0],C=m[1],t=m[2];m=p[2];var u=p[0]-y,w=p[1]-C,z=u*u+w*w;if(1E-12>z){var q=Math.log(m/t)/e;m=function(B){return[y+B*u,C+B*w,t*Math.exp(e*B*q)]}}else{var r=
Math.sqrt(z);p=(m*m-t*t+g*z)/(2*t*f*r);m=(m*m-t*t-g*z)/(2*m*f*r);var x=Math.log(Math.sqrt(p*p+1)-p);q=(Math.log(Math.sqrt(m*m+1)-m)-x)/e;m=function(B){B*=q;var F=lk(x),L=e*B+x;var Q=((L=Math.exp(2*L))-1)/(L+1);var S=x;L=((S=Math.exp(S))-1/S)/2;Q=t/(f*r)*(F*Q-L);return[y+Q*u,C+Q*w,t*F/lk(e*B+x)]}}m.duration=1E3*q*e/Math.SQRT2;return m}n.rho=function(m){m=Math.max(.001,+m);var p=m*m;return h(m,p,p*p)};return n}(Math.SQRT2,2,4),av=mk(sf),bv=mk(Eb),cv=nk(sf),dv=nk(Eb),ev=ok(sf),Gg=ok(Eb),Jd=0,ve=0,xe=
0,xf,we,yf=0,ld=0,vf=0,te="object"===typeof performance&&performance.now?performance:Date,qk="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};ue.prototype=wf.prototype={constructor:ue,restart:function(e,f,g){if("function"!==typeof e)throw new TypeError("callback is not a function");g=(null==g?se():+g)+(null==f?0:+f);this._next||we===this||(we?we._next=this:xf=this,we=this);this._call=e;this._time=g;wh()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,wh())}};var Pq=hd("start","end","cancel","interrupt"),Qq=[],fv=jd.prototype.constructor,$n=0,wd=jd.prototype,kb={};uc.prototype=vk.prototype=(kb.constructor=uc,kb.select=function(e){var f=this._name,g=this._id;"function"!==typeof e&&(e=kf(e));for(var h=this._groups,n=h.length,m=Array(n),p=0;p<n;++p)for(var y=h[p],C=y.length,t=m[p]=Array(C),u,w,z=0;z<C;++z)(u=y[z])&&(w=e.call(u,u.__data__,z,y))&&("__data__"in u&&(w.__data__=u.__data__),t[z]=w,zf(t[z],f,g,z,t,mc(u,
g)));return new uc(m,this._parents,f,g)},kb.selectAll=function(e){var f=this._name,g=this._id;"function"!==typeof e&&(e=eh(e));for(var h=this._groups,n=h.length,m=[],p=[],y=0;y<n;++y)for(var C=h[y],t=C.length,u,w=0;w<t;++w)if(u=C[w]){for(var z=e.call(u,u.__data__,w,C),q,r=mc(u,g),x=0,B=z.length;x<B;++x)(q=z[x])&&zf(q,f,g,x,z,r);m.push(z);p.push(u)}return new uc(m,p,f,g)},kb.filter=function(e){"function"!==typeof e&&(e=fh(e));for(var f=this._groups,g=f.length,h=Array(g),n=0;n<g;++n)for(var m=f[n],
p=m.length,y=h[n]=[],C,t=0;t<p;++t)(C=m[t])&&e.call(C,C.__data__,t,m)&&y.push(C);return new uc(h,this._parents,this._name,this._id)},kb.merge=function(e){if(e._id!==this._id)throw Error();var f=this._groups;e=e._groups;for(var g=f.length,h=Math.min(g,e.length),n=Array(g),m=0;m<h;++m)for(var p=f[m],y=e[m],C=p.length,t=n[m]=Array(C),u,w=0;w<C;++w)if(u=p[w]||y[w])t[w]=u;for(;m<g;++m)n[m]=f[m];return new uc(n,this._parents,this._name,this._id)},kb.selection=function(){return new fv(this._groups,this._parents)},
kb.transition=function(){for(var e=this._name,f=this._id,g=++$n,h=this._groups,n=h.length,m=0;m<n;++m)for(var p=h[m],y=p.length,C,t=0;t<y;++t)if(C=p[t]){var u=mc(C,f);zf(C,e,g,t,p,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new uc(h,this._parents,e,g)},kb.call=wd.call,kb.nodes=wd.nodes,kb.node=wd.node,kb.size=wd.size,kb.empty=wd.empty,kb.each=wd.each,kb.on=function(e,f){var g=this._id;return 2>arguments.length?mc(this.node(),g).on.on(e):this.each(jr(g,e,f))},kb.attr=
function(e,f){var g=pe(e),h="transform"===g?Yn:tk;return this.attrTween(e,"function"===typeof f?(g.local?Yq:Xq)(g,h,zh(this,"attr."+e,f)):null==f?(g.local?Uq:Tq)(g):(g.local?Wq:Vq)(g,h,f))},kb.attrTween=function(e,f){var g="attr."+e;if(2>arguments.length)return(g=this.tween(g))&&g._value;if(null==f)return this.tween(g,null);if("function"!==typeof f)throw Error();var h=pe(e);return this.tween(g,(h.local?ar:br)(h,f))},kb.style=function(e,f,g){var h="transform"===(e+="")?Xn:tk;return null==f?this.styleTween(e,
lr(e,h)).on("end.style."+e,uk(e)):"function"===typeof f?this.styleTween(e,nr(e,h,zh(this,"style."+e,f))).each(or(this._id,e)):this.styleTween(e,mr(e,h,f),g).on("end.style."+e,null)},kb.styleTween=function(e,f,g){var h="style."+(e+="");if(2>arguments.length)return(h=this.tween(h))&&h._value;if(null==f)return this.tween(h,null);if("function"!==typeof f)throw Error();return this.tween(h,qr(e,f,null==g?"":g))},kb.text=function(e){return this.tween("text","function"===typeof e?sr(zh(this,"text",e)):rr(null==
e?"":e+""))},kb.textTween=function(e){var f="text";if(1>arguments.length)return(f=this.tween(f))&&f._value;if(null==e)return this.tween(f,null);if("function"!==typeof e)throw Error();return this.tween(f,ur(e))},kb.remove=function(){return this.on("end.remove",kr(this._id))},kb.tween=function(e,f){var g=this._id;e+="";if(2>arguments.length){g=mc(this.node(),g).tween;for(var h=0,n=g.length,m;h<n;++h)if((m=g[h]).name===e)return m.value;return null}return this.each((null==f?Rq:Sq)(g,e,f))},kb.delay=function(e){var f=
this._id;return arguments.length?this.each(("function"===typeof e?cr:dr)(f,e)):mc(this.node(),f).delay},kb.duration=function(e){var f=this._id;return arguments.length?this.each(("function"===typeof e?er:fr)(f,e)):mc(this.node(),f).duration},kb.ease=function(e){var f=this._id;return arguments.length?this.each(gr(f,e)):mc(this.node(),f).ease},kb.easeVarying=function(e){if("function"!==typeof e)throw Error();return this.each(hr(this._id,e))},kb.end=function(){var e,f,g=this,h=g._id,n=g.size();return new Promise(function(m,
p){var y={value:p},C={value:function(){0===--n&&m()}};g.each(function(){var t=tc(this,h),u=t.on;u!==e&&(f=(e=u).copy(),f._.cancel.push(y),f._.interrupt.push(y),f._.end.push(C));t.on=f});0===n&&m()})},kb[Symbol.iterator]=wd[Symbol.iterator],kb);var gv=function g(f){function h(n){return Math.pow(n,f)}f=+f;h.exponent=g;return h}(3),hv=function h(g){function n(m){return 1-Math.pow(1-m,g)}g=+g;n.exponent=h;return n}(3),ao=function n(h){function m(p){return(1>=(p*=2)?Math.pow(p,h):2-Math.pow(2-p,h))/2}
h=+h;m.exponent=n;return m}(3),yk=Math.PI,bo=yk/2,Bh=4/11,wr=6/11,vr=8/11,yr=9/11,xr=10/11,zr=21/22,Af=1/Bh/Bh,iv=function m(n){function p(y){return(y=+y)*y*(n*(y-1)+y)}n=+n;p.overshoot=m;return p}(1.70158),jv=function p(m){function y(C){return--C*C*((C+1)*m+C)+1}m=+m;y.overshoot=p;return y}(1.70158),co=function y(p){function C(t){return(1>(t*=2)?t*t*((p+1)*t-p):(t-=2)*t*((p+1)*t+p)+2)/2}p=+p;C.overshoot=y;return C}(1.70158),ke=2*Math.PI,kv=function t(y,C){function u(z){return y*Uc(- --z)*Math.sin((w-
z)/C)}var w=Math.asin(1/(y=Math.max(1,y)))*(C/=ke);u.amplitude=function(z){return t(z,C*ke)};u.period=function(z){return t(y,z)};return u}(1,.3),eo=function u(C,t){function w(q){return 1-C*Uc(q=+q)*Math.sin((q+z)/t)}var z=Math.asin(1/(C=Math.max(1,C)))*(t/=ke);w.amplitude=function(q){return u(q,t*ke)};w.period=function(q){return u(C,q)};return w}(1,.3),lv=function w(t,u){function z(r){return(0>(r=2*r-1)?t*Uc(-r)*Math.sin((q-r)/u):2-t*Uc(r)*Math.sin((q+r)/u))/2}var q=Math.asin(1/(t=Math.max(1,t)))*
(u/=ke);z.amplitude=function(r){return w(r,u*ke)};z.period=function(r){return w(t,r)};return z}(1,.3),mv={time:null,delay:0,duration:250,ease:Ah};jd.prototype.interrupt=function(t){return this.each(function(){md(this,t)})};jd.prototype.transition=function(t){var u;if(t instanceof uc){var w=t._id;t=t._name}else w=++$n,(u=mv).time=se(),t=null==t?null:t+"";for(var z=this._groups,q=z.length,r=0;r<q;++r)for(var x=z[r],B=x.length,F,L=0;L<B;++L)if(F=x[L]){var Q=F,S=t,ca=w,ia=L,U=x,V;if(!(V=u))for(V=void 0;!(V=
F.__transition)||!(V=V[w]);)if(!(F=F.parentNode))throw Error("transition "+w+" not found");zf(Q,S,ca,ia,U,V)}return new uc(z,this._parents,t,w)};var nv=[null],Gh=function(t){return function(){return t}},Dk={name:"drag"},Fh={name:"space"},Kd={name:"handle"},Ld={name:"center"},lj=Math,Ck=lj.abs,Lb=lj.max,Mb=lj.min,Cf={name:"x",handles:["w","e"].map(ze),input:function(t,u){return null==t?null:[[+t[0],u[0][1]],[+t[1],u[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Bf={name:"y",handles:["n",
"s"].map(ze),input:function(t,u){return null==t?null:[[u[0][0],+t[0]],[u[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ov={name:"xy",handles:"n w e s nw ne sw se".split(" ").map(ze),input:function(t){return null==t?null:Ch(t)},output:function(t){return t}},Fc={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ek={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Fk={n:"s",s:"n",
nw:"sw",ne:"se",se:"ne",sw:"nw"},Er={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Fr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Kk=Math.abs,Md=Math.cos,Nd=Math.sin,fo=Math.PI,Df=fo/2,Hk=2*fo,Gk=Math.max,mj=Math.PI,nj=2*mj,pv=nj-1E-6;Jh.prototype=Vc.prototype={constructor:Jh,moveTo:function(t,u){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,
u){this._+="L"+(this._x1=+t)+","+(this._y1=+u)},quadraticCurveTo:function(t,u,w,z){this._+="Q"+ +t+","+ +u+","+(this._x1=+w)+","+(this._y1=+z)},bezierCurveTo:function(t,u,w,z,q,r){this._+="C"+ +t+","+ +u+","+ +w+","+ +z+","+(this._x1=+q)+","+(this._y1=+r)},arcTo:function(t,u,w,z,q){t=+t;u=+u;w=+w;z=+z;q=+q;var r=this._x1,x=this._y1,B=w-t,F=z-u,L=r-t,Q=x-u,S=L*L+Q*Q;if(0>q)throw Error("negative radius: "+q);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=u);else if(1E-6<S)if(1E-6<Math.abs(Q*
B-F*L)&&q){w-=r;z-=x;var ca=B*B+F*F;x=Math.sqrt(ca);r=Math.sqrt(S);S=q*Math.tan((mj-Math.acos((ca+S-(w*w+z*z))/(2*x*r)))/2);r=S/r;S/=x;1E-6<Math.abs(r-1)&&(this._+="L"+(t+r*L)+","+(u+r*Q));this._+="A"+q+","+q+",0,0,"+ +(Q*w>L*z)+","+(this._x1=t+S*B)+","+(this._y1=u+S*F)}else this._+="L"+(this._x1=t)+","+(this._y1=u)},arc:function(t,u,w,z,q,r){t=+t;u=+u;w=+w;r=!!r;var x=w*Math.cos(z),B=w*Math.sin(z),F=t+x,L=u+B,Q=1^r;z=r?z-q:q-z;if(0>w)throw Error("negative radius: "+w);if(null===this._x1)this._+=
"M"+F+","+L;else if(1E-6<Math.abs(this._x1-F)||1E-6<Math.abs(this._y1-L))this._+="L"+F+","+L;w&&(0>z&&(z=z%nj+nj),z>pv?this._+="A"+w+","+w+",0,1,"+Q+","+(t-x)+","+(u-B)+"A"+w+","+w+",0,1,"+Q+","+(this._x1=F)+","+(this._y1=L):1E-6<z&&(this._+="A"+w+","+w+",0,"+ +(z>=mj)+","+Q+","+(this._x1=t+w*Math.cos(q))+","+(this._y1=u+w*Math.sin(q))))},rect:function(t,u,w,z){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)+"h"+ +w+"v"+ +z+"h"+-w+"Z"},toString:function(){return this._}};var Nr=Array.prototype.slice,
Mk=Array.prototype.slice,Wc=function(t){return function(){return t}},Gc=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],go=Math.pow(2,-52),Hg=new Uint32Array(512),Nc=function(t){var u=t.length>>1;if(0<u&&"number"!==typeof t[0])throw Error("Expected coords to contain numbers.");
this.coords=t;t=Math.max(2*u-5,0);this._triangles=new Uint32Array(3*t);this._halfedges=new Int32Array(3*t);this._hashSize=Math.ceil(Math.sqrt(u));this._hullPrev=new Uint32Array(u);this._hullNext=new Uint32Array(u);this._hullTri=new Uint32Array(u);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(u);this._dists=new Float64Array(u);this.update()};Nc.from=function(t,u,w){u=void 0===u?Tr:u;w=void 0===w?Ur:w;for(var z=t.length,q=new Float64Array(2*z),r=0;r<z;r++){var x=
t[r];q[2*r]=u(x);q[2*r+1]=w(x)}return new Nc(q)};Nc.prototype.update=function(){for(var t,u,w=this.coords,z=this._hullPrev,q=this._hullNext,r=this._hullTri,x=this._hullHash,B=w.length>>1,F=Infinity,L=Infinity,Q=-Infinity,S=-Infinity,ca=0;ca<B;ca++){var ia=w[2*ca];t=w[2*ca+1];ia<F&&(F=ia);t<L&&(L=t);ia>Q&&(Q=ia);t>S&&(S=t);this._ids[ca]=ca}Q=(F+Q)/2;L=(L+S)/2;F=Infinity;for(S=0;S<B;S++)if(ca=Mh(Q,L,w[2*S],w[2*S+1]),ca<F){var U=S;F=ca}L=w[2*U];S=w[2*U+1];F=Infinity;for(Q=0;Q<B;Q++)if(Q!==U&&(ca=Mh(L,
S,w[2*Q],w[2*Q+1]),ca<F&&0<ca)){var V=Q;F=ca}F=w[2*V];Q=w[2*V+1];t=Infinity;for(ca=0;ca<B;ca++)if(ca!==U&&ca!==V){ia=F-L;var ma=Q-S;u=w[2*ca]-L;var ka=w[2*ca+1]-S,ta=ia*ia+ma*ma,Ia=u*u+ka*ka,ra=.5/(ia*ka-ma*u);ma=(ka*ta-ma*Ia)*ra;ia=(ia*Ia-u*ta)*ra;ia=ma*ma+ia*ia;if(ia<t){var Ga=ca;t=ia}}ca=w[2*Ga];ia=w[2*Ga+1];if(Infinity===t){for(q=0;q<B;q++)this._dists[q]=w[2*q]-w[0]||w[2*q+1]-w[1];Od(this._ids,this._dists,0,B-1);q=new Uint32Array(B);z=w=0;for(r=-Infinity;z<B;z++)x=this._ids[z],this._dists[x]>
r&&(q[w++]=x,r=this._dists[x]);this.hull=q.subarray(0,w);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Ef(L,S,F,Q,ca,ia)&&(t=V,u=F,ta=Q,V=Ga,F=ca,Q=ia,Ga=t,ca=u,ia=ta);u=F-L;t=Q-S;ta=ca-L;ka=ia-S;Ia=u*u+t*t;ra=ta*ta+ka*ka;ma=.5/(u*ka-t*ta);t=L+(ka*Ia-t*ra)*ma;u=S+(u*ra-ta*Ia)*ma;this._cx=t;this._cy=u;for(ta=0;ta<B;ta++)this._dists[ta]=Mh(w[2*ta],w[2*ta+1],t,u);Od(this._ids,this._dists,0,B-1);this._hullStart=U;B=3;q[U]=z[Ga]=V;q[V]=z[U]=Ga;q[Ga]=z[V]=U;r[U]=0;r[V]=1;r[Ga]=
2;x.fill(-1);x[this._hashKey(L,S)]=U;x[this._hashKey(F,Q)]=V;x[this._hashKey(ca,ia)]=Ga;this.trianglesLen=0;this._addTriangle(U,V,Ga,-1,-1,-1);L=0;for(F=S=void 0;L<this._ids.length;L++)if(Q=this._ids[L],ca=w[2*Q],ia=w[2*Q+1],!(0<L&&Math.abs(ca-S)<=go&&Math.abs(ia-F)<=go)&&(S=ca,F=ia,Q!==U&&Q!==V&&Q!==Ga)){u=t=0;for(ta=this._hashKey(ca,ia);u<this._hashSize&&(t=x[(ta+u)%this._hashSize],-1===t||t===q[t]);u++);u=t=z[t];for(ta=void 0;ta=q[u],!Ef(ca,ia,w[2*u],w[2*u+1],w[2*ta],w[2*ta+1]);)if(u=ta,u===t){u=
-1;break}if(-1!==u){Ia=this._addTriangle(u,Q,q[u],-1,-1,r[u]);r[Q]=this._legalize(Ia+2);r[u]=Ia;B++;for(ra=q[u];ta=q[ra],Ef(ca,ia,w[2*ra],w[2*ra+1],w[2*ta],w[2*ta+1]);)Ia=this._addTriangle(ra,Q,ta,r[Q],-1,r[ra]),r[Q]=this._legalize(Ia+2),q[ra]=ra,B--,ra=ta;if(u===t)for(;ta=z[u],Ef(ca,ia,w[2*ta],w[2*ta+1],w[2*u],w[2*u+1]);)Ia=this._addTriangle(ta,Q,u,-1,r[u],r[ta]),this._legalize(Ia+2),r[ta]=Ia,q[u]=u,B--,u=ta;this._hullStart=z[Q]=u;q[u]=z[ra]=Q;q[Q]=ra;x[this._hashKey(ca,ia)]=Q;x[this._hashKey(w[2*
u],w[2*u+1])]=u}}this.hull=new Uint32Array(B);w=0;for(z=this._hullStart;w<B;w++)this.hull[w]=z,z=q[z];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}};Nc.prototype._hashKey=function(t,u){var w=Math;t-=this._cx;u-=this._cy;t/=Math.abs(t)+Math.abs(u);return w.floor.call(w,(0<u?3-t:1+t)/4*this._hashSize)%this._hashSize};Nc.prototype._legalize=function(t){for(var u=this._triangles,w=this._halfedges,z=this.coords,q=0,r;;){var x=
w[t],B=t-t%3;r=B+(t+2)%3;if(-1===x){if(0===q)break;t=Hg[--q]}else{var F=x-x%3,L=F+(x+2)%3,Q=u[r],S=u[t],ca=u[B+(t+1)%3];B=u[L];var ia=z[2*B],U=z[2*B+1],V=z[2*Q]-ia,ma=z[2*Q+1]-U,ka=z[2*S]-ia;S=z[2*S+1]-U;ia=z[2*ca]-ia;ca=z[2*ca+1]-U;U=ka*ka+S*S;var ta=ia*ia+ca*ca;if(0>V*(S*ta-U*ca)-ma*(ka*ta-U*ia)+(V*V+ma*ma)*(ka*ca-S*ia)){u[t]=B;u[x]=Q;Q=w[L];if(-1===Q){B=this._hullStart;do{if(this._hullTri[B]===L){this._hullTri[B]=t;break}B=this._hullPrev[B]}while(B!==this._hullStart)}this._link(t,Q);this._link(x,
w[r]);this._link(r,L);r=F+(x+1)%3;q<Hg.length&&(Hg[q++]=r)}else{if(0===q)break;t=Hg[--q]}}}return r};Nc.prototype._link=function(t,u){this._halfedges[t]=u;-1!==u&&(this._halfedges[u]=t)};Nc.prototype._addTriangle=function(t,u,w,z,q,r){var x=this.trianglesLen;this._triangles[x]=t;this._triangles[x+1]=u;this._triangles[x+2]=w;this._link(x,z);this._link(x+1,q);this._link(x+2,r);this.trianglesLen+=3;return x};var dc=function(){this._x0=this._y0=this._x1=this._y1=null;this._=""};dc.prototype.moveTo=function(t,
u){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)};dc.prototype.closePath=function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")};dc.prototype.lineTo=function(t,u){this._+="L"+(this._x1=+t)+","+(this._y1=+u)};dc.prototype.arc=function(t,u,w){t=+t;u=+u;w=+w;var z=t+w,q=u;if(0>w)throw Error("negative radius");if(null===this._x1)this._+="M"+z+","+q;else if(1E-6<Math.abs(this._x1-z)||1E-6<Math.abs(this._y1-q))this._+="L"+z+","+q;w&&(this._+="A"+w+","+w+",0,1,1,"+
(t-w)+","+u+"A"+w+","+w+",0,1,1,"+(this._x1=z)+","+(this._y1=q))};dc.prototype.rect=function(t,u,w,z){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+u)+"h"+ +w+"v"+ +z+"h"+-w+"Z"};dc.prototype.value=function(){return this._||null};var xd=function(){this._=[]};xd.prototype.moveTo=function(t,u){this._.push([t,u])};xd.prototype.closePath=function(){this._.push(this._[0].slice())};xd.prototype.lineTo=function(t,u){this._.push([t,u])};xd.prototype.value=function(){return this._.length?this._:
null};var yb=function(t,u){var w=$jscomp.makeIterator(void 0===u?[0,0,960,500]:u);u=w.next().value;var z=w.next().value,q=w.next().value;w=w.next().value;if(!((q=+q)>=(u=+u)&&(w=+w)>=(z=+z)))throw Error("invalid bounds");this.delaunay=t;this._circumcenters=new Float64Array(2*t.points.length);this.vectors=new Float64Array(2*t.points.length);this.xmax=q;this.xmin=u;this.ymax=w;this.ymin=z;this._init()};yb.prototype.update=function(){this.delaunay.update();this._init();return this};yb.prototype._init=
function(){var t=this.delaunay,u=t.points,w=t.hull,z=t.triangles;t=this.vectors;for(var q=this.circumcenters=this._circumcenters.subarray(0,z.length/3*2),r=0,x=0,B=z.length,F,L;r<B;r+=3,x+=2){L=2*z[r];var Q=2*z[r+1],S=2*z[r+2];F=u[L];L=u[L+1];var ca=u[S],ia=u[S+1];S=u[Q]-F;var U=u[Q+1]-L;Q=ca-F;var V=ia-L,ma=S*S+U*U,ka=Q*Q+V*V,ta=2*(S*V-U*Q);ta?1E-8>Math.abs(ta)?(F=(F+ca)/2,L=(L+ia)/2):(ca=1/ta,F+=(V*ma-U*ka)*ca,L+=(S*ka-Q*ma)*ca):(F=(F+ca)/2-1E8*V,L=(L+ia)/2+1E8*Q);q[x]=F;q[x+1]=L}z=w[w.length-1];
r=4*z;B=u[2*z];L=u[2*z+1];t.fill(0);for(S=0;S<w.length;++S)z=w[S],q=r,x=B,F=L,r=4*z,B=u[2*z],L=u[2*z+1],t[q+2]=t[r]=F-L,t[q+3]=t[r+1]=B-x};yb.prototype.render=function(t){var u=null==t?t=new dc:void 0,w=this.delaunay,z=w.halfedges,q=w.inedges;w=w.hull;var r=this.circumcenters,x=this.vectors;if(1>=w.length)return null;for(var B=0,F=z.length;B<F;++B){var L=z[B];if(!(L<B)){var Q=2*Math.floor(B/3);L=2*Math.floor(L/3);this._renderSegment(r[Q],r[Q+1],r[L],r[L+1],t)}}z=w[w.length-1];for(B=0;B<w.length;++B)L=
z,z=w[B],Q=2*Math.floor(q[z]/3),F=r[Q],Q=r[Q+1],L*=4,(L=this._project(F,Q,x[L+2],x[L+3]))&&this._renderSegment(F,Q,L[0],L[1],t);return u&&u.value()};yb.prototype.renderBounds=function(t){var u=null==t?t=new dc:void 0;t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return u&&u.value()};yb.prototype.renderCell=function(t,u){var w=null==u?u=new dc:void 0;t=this._clip(t);if(null!==t&&t.length){u.moveTo(t[0],t[1]);for(var z=t.length;t[0]===t[z-2]&&t[1]===t[z-1]&&1<z;)z-=2;for(var q=
2;q<z;q+=2)t[q]===t[q-2]&&t[q+1]===t[q-1]||u.lineTo(t[q],t[q+1]);u.closePath();return w&&w.value()}};yb.prototype.cellPolygons=function u(){var w=this,z,q,r,x,B,F;return $jscomp.generator.createGenerator(u,function(L){switch(L.nextAddress){case 1:z=w,q=z.delaunay,r=q.points,x=0,B=r.length/2;case 2:if(!(x<B)){L.jumpTo(0);break}F=w.cellPolygon(x);if(!F){L.jumpTo(3);break}F.index=x;return L.yield(F,6);case 6:case 3:++x,L.jumpTo(2)}})};yb.prototype.cellPolygon=function(u){var w=new xd;this.renderCell(u,
w);return w.value()};yb.prototype._renderSegment=function(u,w,z,q,r){var x=this._regioncode(u,w),B=this._regioncode(z,q);if(0===x&&0===B)r.moveTo(u,w),r.lineTo(z,q);else if(u=this._clipSegment(u,w,z,q,x,B))r.moveTo(u[0],u[1]),r.lineTo(u[2],u[3])};yb.prototype.contains=function(u,w,z){return(w=+w,w!==w)||(z=+z,z!==z)?!1:this.delaunay._step(u,w,z)===u};yb.prototype.neighbors=function z(w){var q=this,r,x,B,F,L,Q,S,ca,ia;return $jscomp.generator.createGenerator(z,function(U){switch(U.nextAddress){case 1:r=
q._clip(w);if(!r){U.jumpTo(0);break}x=$jscomp.makeIterator(q.delaunay.neighbors(w));B=x.next();case 3:if(B.done){U.jumpTo(0);break}F=B.value;L=q._clip(F);if(!L){U.jumpTo(4);break}Q=0;S=r.length;case 9:if(!(Q<S)){U.jumpTo(4);break}ca=0;ia=L.length;case 10:if(!(ca<ia)){Q+=2;U.jumpTo(9);break}if(r[Q]!=L[ca]||r[Q+1]!=L[ca+1]||r[(Q+2)%S]!=L[(ca+ia-2)%ia]||r[(Q+3)%S]!=L[(ca+ia-1)%ia]){U.jumpTo(11);break}return U.yield(F,14);case 14:U.jumpTo(4);break;case 11:ca+=2;U.jumpTo(10);break;case 4:B=x.next(),U.jumpTo(3)}})};
yb.prototype._cell=function(w){var z=this.circumcenters,q=this.delaunay,r=q.halfedges,x=q.triangles;q=q.inedges[w];if(-1===q)return null;var B=[],F=q;do{var L=Math.floor(F/3);B.push(z[2*L],z[2*L+1]);F=2===F%3?F-2:F+1;if(x[F]!==w)break;F=r[F]}while(F!==q&&-1!==F);return B};yb.prototype._clip=function(w){if(0===w&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var z=this._cell(w);if(null===z)return null;var q=this.vectors,r=4*w;
return q[r]||q[r+1]?this._clipInfinite(w,z,q[r],q[r+1],q[r+2],q[r+3]):this._clipFinite(w,z)};yb.prototype._clipFinite=function(w,z){for(var q=z.length,r=null,x,B,F=z[q-2],L=z[q-1],Q,S=this._regioncode(F,L),ca,ia,U=0;U<q;U+=2)if(x=F,B=L,F=z[U],L=z[U+1],Q=S,S=this._regioncode(F,L),0===Q&&0===S)ia=0,r?r.push(F,L):r=[F,L];else{if(0===Q){if(null===(x=this._clipSegment(x,B,F,L,Q,S)))continue;B=$jscomp.makeIterator(x);B.next();B.next();x=B.next().value;Q=B.next().value}else{if(null===(x=this._clipSegment(F,
L,x,B,S,Q)))continue;ca=$jscomp.makeIterator(x);x=ca.next().value;Q=ca.next().value;B=ca.next().value;var V=ca.next().value;ca=ia;ia=this._edgecode(B,V);ca&&ia&&this._edge(w,ca,ia,r,r.length);r?r.push(B,V):r=[B,V]}ca=ia;ia=this._edgecode(x,Q);ca&&ia&&this._edge(w,ca,ia,r,r.length);r?r.push(x,Q):r=[x,Q]}if(r)ca=ia,ia=this._edgecode(r[0],r[1]),ca&&ia&&this._edge(w,ca,ia,r,r.length);else if(this.contains(w,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,
this.xmin,this.ymax,this.xmin,this.ymin];return r};yb.prototype._clipSegment=function(w,z,q,r,x,B){for(;;){if(0===x&&0===B)return[w,z,q,r];if(x&B)return null;var F=x||B;if(F&8){F=w+(q-w)*(this.ymax-z)/(r-z);var L=this.ymax}else F&4?(F=w+(q-w)*(this.ymin-z)/(r-z),L=this.ymin):F&2?(L=z+(r-z)*(this.xmax-w)/(q-w),F=this.xmax):(L=z+(r-z)*(this.xmin-w)/(q-w),F=this.xmin);x?(w=F,z=L,x=this._regioncode(w,z)):(q=F,r=L,B=this._regioncode(q,r))}};yb.prototype._clipInfinite=function(w,z,q,r,x,B){z=Array.from(z);
var F;(F=this._project(z[0],z[1],q,r))&&z.unshift(F[0],F[1]);(F=this._project(z[z.length-2],z[z.length-1],x,B))&&z.push(F[0],F[1]);if(z=this._clipFinite(w,z))for(q=0,r=z.length,B=this._edgecode(z[r-2],z[r-1]);q<r;q+=2)x=B,B=this._edgecode(z[q],z[q+1]),x&&B&&(q=this._edge(w,x,B,z,q),r=z.length);else this.contains(w,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(z=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return z};yb.prototype._edge=function(w,z,q,r,x){for(;z!==
q;){var B=void 0,F=void 0;switch(z){case 5:z=4;continue;case 4:z=6;B=this.xmax;F=this.ymin;break;case 6:z=2;continue;case 2:z=10;B=this.xmax;F=this.ymax;break;case 10:z=8;continue;case 8:z=9;B=this.xmin;F=this.ymax;break;case 9:z=1;continue;case 1:z=5,B=this.xmin,F=this.ymin}r[x]===B&&r[x+1]===F||!this.contains(w,B,F)||(r.splice(x,0,B,F),x+=2)}if(4<r.length)for(w=0;w<r.length;w+=2)if(z=(w+2)%r.length,q=(w+4)%r.length,r[w]===r[z]&&r[z]===r[q]||r[w+1]===r[z+1]&&r[z+1]===r[q+1])r.splice(z,2),w-=2;return x};
yb.prototype._project=function(w,z,q,r){var x=Infinity,B;if(0>r){if(z<=this.ymin)return null;if((B=(this.ymin-z)/r)<x){var F=this.ymin;var L=w+(x=B)*q}}else if(0<r){if(z>=this.ymax)return null;(B=(this.ymax-z)/r)<x&&(F=this.ymax,L=w+(x=B)*q)}if(0<q){if(w>=this.xmax)return null;(B=(this.xmax-w)/q)<x&&(L=this.xmax,F=z+B*r)}else if(0>q){if(w<=this.xmin)return null;(B=(this.xmin-w)/q)<x&&(L=this.xmin,F=z+B*r)}return[L,F]};yb.prototype._edgecode=function(w,z){return(w===this.xmin?1:w===this.xmax?2:0)|
(z===this.ymin?4:z===this.ymax?8:0)};yb.prototype._regioncode=function(w,z){return(w<this.xmin?1:w>this.xmax?2:0)|(z<this.ymin?4:z>this.ymax?8:0)};var qv=2*Math.PI,le=Math.pow,Nb=function(w){this._delaunator=new Nc(w);this.inedges=new Int32Array(w.length/2);this._hullIndex=new Int32Array(w.length/2);this.points=this._delaunator.coords;this._init()};Nb.from=function(w,z,q,r){z=void 0===z?Vr:z;q=void 0===q?Wr:q;if("length"in w){for(var x=w.length,B=new Float64Array(2*x),F=0;F<x;++F){var L=w[F];B[2*
F]=z.call(r,L,F,w);B[2*F+1]=q.call(r,L,F,w)}w=B}else w=Float64Array.from(Nk(w,z,q,r));return new Nb(w)};Nb.prototype.update=function(){this._delaunator.update();this._init();return this};Nb.prototype._init=function(){var w=this._delaunator,z=this.points;if(w.hull&&2<w.hull.length&&Xr(w)){this.collinear=Int32Array.from({length:z.length/2},function(S,ca){return ca}).sort(function(S,ca){return z[2*S]-z[2*ca]||z[2*S+1]-z[2*ca+1]});w=this.collinear[0];var q=this.collinear[this.collinear.length-1];w=[z[2*
w],z[2*w+1],z[2*q],z[2*q+1]];w=1E-8*Math.hypot(w[3]-w[1],w[2]-w[0]);q=0;for(var r=z.length/2;q<r;++q){var x=Yr(z[2*q],z[2*q+1],w);z[2*q]=x[0];z[2*q+1]=x[1]}this._delaunator=new Nc(z)}else delete this.collinear;x=this.halfedges=this._delaunator.halfedges;w=this.hull=this._delaunator.hull;var B=this.triangles=this._delaunator.triangles;q=this.inedges.fill(-1);r=this._hullIndex.fill(-1);for(var F=0,L=x.length;F<L;++F){var Q=B[2===F%3?F-2:F+1];if(-1===x[F]||-1===q[Q])q[Q]=F}x=0;for(B=w.length;x<B;++x)r[w[x]]=
x;2>=w.length&&0<w.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=w[0],this.triangles[1]=w[1],this.triangles[2]=w[1],q[w[0]]=1,2===w.length&&(q[w[1]]=0))};Nb.prototype.voronoi=function(w){return new yb(this,w)};Nb.prototype.neighbors=function q(z){var r=this,x,B,F,L,Q,S,ca,ia,U,V,ma,ka;return $jscomp.generator.createGenerator(q,function(ta){switch(ta.nextAddress){case 1:x=r;B=x.inedges;F=x.hull;L=x._hullIndex;Q=x.halfedges;S=x.triangles;
ca=x.collinear;if(!ca){ta.jumpTo(2);break}ia=ca.indexOf(z);if(!(0<ia)){ta.jumpTo(3);break}return ta.yield(ca[ia-1],3);case 3:if(!(ia<ca.length-1)){ta.jumpTo(5);break}return ta.yield(ca[ia+1],5);case 5:return ta.return();case 2:U=B[z];if(-1===U)return ta.return();V=U;ma=-1;case 7:return ta.yield(ma=S[V],10);case 10:V=2===V%3?V-2:V+1;if(S[V]!==z)return ta.return();V=Q[V];if(-1!==V){ta.jumpTo(9);break}ka=F[(L[z]+1)%F.length];if(ka===ma){ta.jumpTo(12);break}return ta.yield(ka,12);case 12:return ta.return();
case 9:V!==U?ta.jumpTo(7):ta.jumpToEnd()}})};Nb.prototype.find=function(z,q,r){r=void 0===r?0:r;if((z=+z,z!==z)||(q=+q,q!==q))return-1;for(var x=r,B;0<=(B=this._step(r,z,q))&&B!==r&&B!==x;)r=B;return B};Nb.prototype._step=function(z,q,r){var x=this.inedges,B=this.hull,F=this._hullIndex,L=this.halfedges,Q=this.triangles,S=this.points;if(-1===x[z]||!S.length)return(z+1)%(S.length>>1);var ca=z,ia=le(q-S[2*z],2)+le(r-S[2*z+1],2),U=x=x[z];do{var V=Q[U],ma=le(q-S[2*V],2)+le(r-S[2*V+1],2);ma<ia&&(ia=ma,
ca=V);U=2===U%3?U-2:U+1;if(Q[U]!==z)break;U=L[U];if(-1===U){U=B[(F[z]+1)%B.length];if(U!==V&&le(q-S[2*U],2)+le(r-S[2*U+1],2)<ia)return U;break}}while(U!==x);return ca};Nb.prototype.render=function(z){for(var q=null==z?z=new dc:void 0,r=this.points,x=this.halfedges,B=this.triangles,F=0,L=x.length;F<L;++F){var Q=x[F];if(!(Q<F)){var S=2*B[F];Q=2*B[Q];z.moveTo(r[S],r[S+1]);z.lineTo(r[Q],r[Q+1])}}this.renderHull(z);return q&&q.value()};Nb.prototype.renderPoints=function(z,q){q=void 0===q?2:q;for(var r=
null==z?z=new dc:void 0,x=this.points,B=0,F=x.length;B<F;B+=2){var L=x[B],Q=x[B+1];z.moveTo(L+q,Q);z.arc(L,Q,q,0,qv)}return r&&r.value()};Nb.prototype.renderHull=function(z){var q=null==z?z=new dc:void 0,r=this.hull,x=this.points,B=2*r[0],F=r.length;z.moveTo(x[B],x[B+1]);for(B=1;B<F;++B){var L=2*r[B];z.lineTo(x[L],x[L+1])}z.closePath();return q&&q.value()};Nb.prototype.hullPolygon=function(){var z=new xd;this.renderHull(z);return z.value()};Nb.prototype.renderTriangle=function(z,q){var r=null==q?
q=new dc:void 0,x=this.points,B=this.triangles,F=2*B[z*=3],L=2*B[z+1];z=2*B[z+2];q.moveTo(x[F],x[F+1]);q.lineTo(x[L],x[L+1]);q.lineTo(x[z],x[z+1]);q.closePath();return r&&r.value()};Nb.prototype.trianglePolygons=function q(){var r=this,x,B,F,L;return $jscomp.generator.createGenerator(q,function(Q){1==Q.nextAddress&&(x=r,B=x.triangles,F=0,L=B.length/3);if(3!=Q.nextAddress)return F<L?Q.yield(r.trianglePolygon(F),3):Q.jumpTo(0);++F;return Q.jumpTo(2)})};Nb.prototype.trianglePolygon=function(q){var r=
new xd;this.renderTriangle(q,r);return r.value()};var Qk={},Oh={},yd=Ff(","),ho=yd.parse,rv=yd.parseRows,sv=yd.format,tv=yd.formatBody,uv=yd.formatRows,vv=yd.formatRow,wv=yd.formatValue,zd=Ff("\t"),io=zd.parse,xv=zd.parseRows,yv=zd.format,zv=zd.formatBody,Av=zd.formatRows,Bv=zd.formatRow,Cv=zd.formatValue,Dv=(new Date("2019-01-01T00:00")).getHours()||(new Date("2019-07-01T00:00")).getHours(),Ev=Rk(ho),Fv=Rk(io),Gv=Ph("application/xml"),Hv=Ph("text/html"),Iv=Ph("image/svg+xml"),Xb=Hf.prototype=Qh.prototype;
Xb.copy=function(){var q=new Qh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,x,B;if(!r)return q;if(!r.length)return q._root=Tk(r),q;for(x=[{source:r,target:q._root=Array(4)}];r=x.pop();)for(var F=0;4>F;++F)if(B=r.source[F])B.length?x.push({source:B,target:r.target[F]=Array(4)}):r.target[F]=Tk(B);return q};Xb.add=function(q){var r=+this._x.call(null,q),x=+this._y.call(null,q);return Sk(this.cover(r,x),r,x,q)};Xb.addAll=function(q){var r,x,B=q.length,F,L,Q=Array(B),S=Array(B),ca=
Infinity,ia=Infinity,U=-Infinity,V=-Infinity;for(x=0;x<B;++x)isNaN(F=+this._x.call(null,r=q[x]))||isNaN(L=+this._y.call(null,r))||(Q[x]=F,S[x]=L,F<ca&&(ca=F),F>U&&(U=F),L<ia&&(ia=L),L>V&&(V=L));if(ca>U||ia>V)return this;this.cover(ca,ia).cover(U,V);for(x=0;x<B;++x)Sk(this,Q[x],S[x],q[x]);return this};Xb.cover=function(q,r){if(isNaN(q=+q)||isNaN(r=+r))return this;var x=this._x0,B=this._y0,F=this._x1,L=this._y1;if(isNaN(x))F=(x=Math.floor(q))+1,L=(B=Math.floor(r))+1;else{for(var Q=F-x||1,S=this._root,
ca,ia;x>q||q>=F||B>r||r>=L;)switch(ia=(r<B)<<1|q<x,ca=Array(4),ca[ia]=S,S=ca,Q*=2,ia){case 0:F=x+Q;L=B+Q;break;case 1:x=F-Q;L=B+Q;break;case 2:F=x+Q;B=L-Q;break;case 3:x=F-Q,B=L-Q}this._root&&this._root.length&&(this._root=S)}this._x0=x;this._y0=B;this._x1=F;this._y1=L;return this};Xb.data=function(){var q=[];this.visit(function(r){if(!r.length){do q.push(r.data);while(r=r.next)}});return q};Xb.extent=function(q){return arguments.length?this.cover(+q[0][0],+q[0][1]).cover(+q[1][0],+q[1][1]):isNaN(this._x0)?
void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Xb.find=function(q,r,x){var B=this._x0,F=this._y0,L,Q,S,ca,ia=this._x1,U=this._y1,V=[],ma=this._root,ka;ma&&V.push(new Qb(ma,B,F,ia,U));null==x?x=Infinity:(B=q-x,F=r-x,ia=q+x,U=r+x,x*=x);for(;ka=V.pop();)if(!(!(ma=ka.node)||(L=ka.x0)>ia||(Q=ka.y0)>U||(S=ka.x1)<B||(ca=ka.y1)<F))if(ma.length){ka=(L+S)/2;var ta=(Q+ca)/2;V.push(new Qb(ma[3],ka,ta,S,ca),new Qb(ma[2],L,ta,ka,ca),new Qb(ma[1],ka,Q,S,ta),new Qb(ma[0],L,Q,ka,ta));if(ma=(r>=ta)<<1|q>=ka)ka=
V[V.length-1],V[V.length-1]=V[V.length-1-ma],V[V.length-1-ma]=ka}else if(ka=q-+this._x.call(null,ma.data),ta=r-+this._y.call(null,ma.data),ka=ka*ka+ta*ta,ka<x){var Ia=Math.sqrt(x=ka);B=q-Ia;F=r-Ia;ia=q+Ia;U=r+Ia;Ia=ma.data}return Ia};Xb.remove=function(q){if(isNaN(ca=+this._x.call(null,q))||isNaN(ia=+this._y.call(null,q)))return this;var r,x=this._root,B,F=this._x0,L=this._y0,Q=this._x1,S=this._y1,ca,ia,U,V,ma,ka;if(!x)return this;if(x.length)for(;;){(ma=ca>=(U=(F+Q)/2))?F=U:Q=U;(ka=ia>=(V=(L+S)/
2))?L=V:S=V;if(!(r=x,x=x[ma|=ka<<1]))return this;if(!x.length)break;if(r[ma+1&3]||r[ma+2&3]||r[ma+3&3]){var ta=r;var Ia=ma}}for(;x.data!==q;)if(!(B=x,x=x.next))return this;(q=x.next)&&delete x.next;if(B)return q?B.next=q:delete B.next,this;if(!r)return this._root=q,this;q?r[ma]=q:delete r[ma];(x=r[0]||r[1]||r[2]||r[3])&&x===(r[3]||r[2]||r[1]||r[0])&&!x.length&&(ta?ta[Ia]=x:this._root=x);return this};Xb.removeAll=function(q){for(var r=0,x=q.length;r<x;++r)this.remove(q[r]);return this};Xb.root=function(){return this._root};
Xb.size=function(){var q=0;this.visit(function(r){if(!r.length){do++q;while(r=r.next)}});return q};Xb.visit=function(q){var r=[],x,B=this._root,F,L,Q,S;for(B&&r.push(new Qb(B,this._x0,this._y0,this._x1,this._y1));x=r.pop();)if(!q(B=x.node,L=x.x0,Q=x.y0,S=x.x1,x=x.y1)&&B.length){var ca=(L+S)/2,ia=(Q+x)/2;(F=B[3])&&r.push(new Qb(F,ca,ia,S,x));(F=B[2])&&r.push(new Qb(F,L,ia,ca,x));(F=B[1])&&r.push(new Qb(F,ca,Q,S,ia));(F=B[0])&&r.push(new Qb(F,L,Q,ca,ia))}return this};Xb.visitAfter=function(q){var r=
[],x=[],B;for(this._root&&r.push(new Qb(this._root,this._x0,this._y0,this._x1,this._y1));B=r.pop();){var F=B.node;if(F.length){var L,Q=B.x0,S=B.y0,ca=B.x1,ia=B.y1,U=(Q+ca)/2,V=(S+ia)/2;(L=F[0])&&r.push(new Qb(L,Q,S,U,V));(L=F[1])&&r.push(new Qb(L,U,S,ca,V));(L=F[2])&&r.push(new Qb(L,Q,V,U,ia));(L=F[3])&&r.push(new Qb(L,U,V,ca,ia))}x.push(B)}for(;B=x.pop();)q(B.node,B.x0,B.y0,B.x1,B.y1);return this};Xb.x=function(q){return arguments.length?(this._x=q,this):this._x};Xb.y=function(q){return arguments.length?
(this._y=q,this):this._y};var Jv=Math.PI*(3-Math.sqrt(5)),ns=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Be.prototype=Jf.prototype;Jf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Zk,$k={"%":function(q,r){return(100*q).toFixed(r)},b:function(q){return Math.round(q).toString(2)},
c:function(q){return q+""},d:function(q){return 1E21<=Math.abs(q=Math.round(q))?q.toLocaleString("en").replace(/,/g,""):q.toString(10)},e:function(q,r){return q.toExponential(r)},f:function(q,r){return q.toFixed(r)},g:function(q,r){return q.toPrecision(r)},o:function(q){return Math.round(q).toString(8)},p:function(q,r){return Vk(100*q,r)},r:Vk,s:function(q,r){var x=If(q,r);if(!x)return q+"";var B=x[0];x=x[1];x=x-(Zk=3*Math.max(-8,Math.min(8,Math.floor(x/3))))+1;var F=B.length;return x===F?B:x>F?B+
Array(x-F+1).join("0"):0<x?B.slice(0,x)+"."+B.slice(x):"0."+Array(1-x).join("0")+If(q,Math.max(0,r+x-1))[0]},X:function(q){return Math.round(q).toString(16).toUpperCase()},x:function(q){return Math.round(q).toString(16)}},al=Array.prototype.map,Yk="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),Kf;c.format=void 0;c.formatPrefix=void 0;bl({thousands:",",grouping:[3],currency:["$",""]});var eb=Math.PI,ob=eb/2,Mf=eb/4,Wb=2*eb,lb=180/eb,Va=eb/180,hb=Math.abs,Xd=Math.atan,Sb=Math.atan2,Sa=Math.cos,
eg=Math.ceil,jo=Math.exp,Yh=Math.hypot,jg=Math.log,yi=Math.pow,Oa=Math.sin,fc=Math.sign||function(q){return 0<q?1:0>q?-1:0},Fb=Math.sqrt,Wd=Math.tan,jl={Feature:function(q,r){Lf(q.geometry,r)},FeatureCollection:function(q,r){q=q.features;for(var x=-1,B=q.length;++x<B;)Lf(q[x].geometry,r)}},hl={Sphere:function(q,r){r.sphere()},Point:function(q,r){q=q.coordinates;r.point(q[0],q[1],q[2])},MultiPoint:function(q,r){for(var x=q.coordinates,B=-1,F=x.length;++B<F;)q=x[B],r.point(q[0],q[1],q[2])},LineString:function(q,
r){Rh(q.coordinates,r,0)},MultiLineString:function(q,r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)Rh(q[x],r,0)},Polygon:function(q,r){il(q.coordinates,r)},MultiPolygon:function(q,r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)il(q[x],r)},GeometryCollection:function(q,r){q=q.geometries;for(var x=-1,B=q.length;++x<B;)Lf(q[x],r)}},Nf=new xb,Ig=new xb,ll,ml,Sh,Th,Uh,vc={point:sb,lineStart:sb,lineEnd:sb,polygonStart:function(){Nf=new xb;vc.lineStart=os;vc.lineEnd=qs},polygonEnd:function(){var q=
+Nf;Ig.add(0>q?Wb+q:q);this.lineStart=this.lineEnd=this.point=sb},sphere:function(){Ig.add(Wb)}},tb,$b,vb,bc,pd,sl,tl,Rd,Ce,Xc,Hc,Ic={point:Wh,lineStart:pl,lineEnd:ql,polygonStart:function(){Ic.point=rl;Ic.lineStart=rs;Ic.lineEnd=ss;Ce=new xb;vc.polygonStart()},polygonEnd:function(){vc.polygonEnd();Ic.point=Wh;Ic.lineStart=pl;Ic.lineEnd=ql;0>Nf?(tb=-(vb=180),$b=-(bc=90)):1E-6<Ce?bc=90:-1E-6>Ce&&($b=-90);Hc[0]=tb;Hc[1]=vb},sphere:function(){tb=-(vb=180);$b=-(bc=90)}},Ee,Vf,Sf,Tf,Uf,Wf,Xf,Yf,Zh,$h,
ai,yl,zl,Tb,Ub,Vb,oc={sphere:sb,point:Xh,lineStart:vl,lineEnd:wl,polygonStart:function(){oc.lineStart=ws;oc.lineEnd=ys},polygonEnd:function(){oc.lineStart=vl;oc.lineEnd=wl}};ci.invert=ci;var wi=Kl(function(){return!0},function(q){var r=NaN,x=NaN,B=NaN,F;return{lineStart:function(){q.lineStart();F=1},point:function(L,Q){var S=0<L?eb:-eb,ca=hb(L-r);if(1E-6>hb(ca-eb))q.point(r,x=0<(x+Q)/2?ob:-ob),q.point(B,x),q.lineEnd(),q.lineStart(),q.point(S,x),q.point(L,x),F=0;else if(B!==S&&ca>=eb){1E-6>hb(r-B)&&
(r-=1E-6*B);1E-6>hb(L-S)&&(L-=1E-6*S);ca=r;var ia=x,U=L,V,ma,ka=Oa(ca-U);x=1E-6<hb(ka)?Xd((Oa(ia)*(ma=Sa(Q))*Oa(U)-Oa(Q)*(V=Sa(ia))*Oa(ca))/(V*ma*ka)):(ia+Q)/2;q.point(B,x);q.lineEnd();q.lineStart();q.point(S,x);F=0}q.point(r=L,x=Q);B=S},lineEnd:function(){q.lineEnd();r=x=NaN},clean:function(){return 2-F}}},function(q,r,x,B){null==q?(x*=ob,B.point(-eb,x),B.point(0,x),B.point(eb,x),B.point(eb,0),B.point(eb,-x),B.point(0,-x),B.point(-eb,-x),B.point(-eb,0),B.point(-eb,x)):1E-6<hb(q[0]-r[0])?(q=q[0]<
r[0]?eb:-eb,x=x*q/2,B.point(-q,x),B.point(0,x),B.point(q,x)):B.point(r[0],r[1])},[-eb,-ob]),hi,gi,bg,cg,Td={sphere:sb,point:sb,lineStart:function(){Td.point=Ds;Td.lineEnd=Cs},lineEnd:sb,polygonStart:sb,polygonEnd:sb},ii=[null,null],Fs={type:"LineString",coordinates:ii},ko={Feature:function(q,r){return dg(q.geometry,r)},FeatureCollection:function(q,r){q=q.features;for(var x=-1,B=q.length;++x<B;)if(dg(q[x].geometry,r))return!0;return!1}},Nl={Sphere:function(){return!0},Point:function(q,r){return 0===
Fe(q.coordinates,r)},MultiPoint:function(q,r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)if(0===Fe(q[x],r))return!0;return!1},LineString:function(q,r){return Ol(q.coordinates,r)},MultiLineString:function(q,r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)if(Ol(q[x],r))return!0;return!1},Polygon:function(q,r){return Pl(q.coordinates,r)},MultiPolygon:function(q,r){q=q.coordinates;for(var x=-1,B=q.length;++x<B;)if(Pl(q[x],r))return!0;return!1},GeometryCollection:function(q,r){q=q.geometries;for(var x=
-1,B=q.length;++x<B;)if(dg(q[x],r))return!0;return!1}},Me=function(q){return q},oj=new xb,li=new xb,Vl,Wl,ji,ki,Jc={point:sb,lineStart:sb,lineEnd:sb,polygonStart:function(){Jc.lineStart=Hs;Jc.lineEnd=Js},polygonEnd:function(){Jc.lineStart=Jc.lineEnd=Jc.point=sb;oj.add(hb(li));li=new xb},result:function(){var q=oj/2;oj=new xb;return q}},me=Infinity,Jg=me,bf=-me,Kg=bf,hg={point:function(q,r){q<me&&(me=q);q>bf&&(bf=q);r<Jg&&(Jg=r);r>Kg&&(Kg=r)},lineStart:sb,lineEnd:sb,polygonStart:sb,polygonEnd:sb,result:function(){var q=
[[me,Jg],[bf,Kg]];bf=Kg=-(Jg=me=Infinity);return q}},mi=0,ni=0,Ge=0,fg=0,gg=0,Ud=0,oi=0,pi=0,He=0,$l,am,wc,xc,gc={point:qd,lineStart:Xl,lineEnd:Yl,polygonStart:function(){gc.lineStart=Ms;gc.lineEnd=Os},polygonEnd:function(){gc.point=qd;gc.lineStart=Xl;gc.lineEnd=Yl},result:function(){var q=He?[oi/He,pi/He]:Ud?[fg/Ud,gg/Ud]:Ge?[mi/Ge,ni/Ge]:[NaN,NaN];mi=ni=Ge=fg=gg=Ud=oi=pi=He=0;return q}};bm.prototype={_radius:4.5,pointRadius:function(q){return this._radius=q,this},polygonStart:function(){this._line=
0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(q,r){switch(this._point){case 0:this._context.moveTo(q,r);this._point=1;break;case 1:this._context.lineTo(q,r);break;default:this._context.moveTo(q+this._radius,r),this._context.arc(q,r,this._radius,0,Wb)}},result:sb};var qi=new xb,pj,dm,em,Je,Ke,Ie={point:sb,lineStart:function(){Ie.point=Ps},lineEnd:function(){pj&&cm(dm,em);Ie.point=
sb},polygonStart:function(){pj=!0},polygonEnd:function(){pj=null},result:function(){var q=+qi;qi=new xb;return q}};fm.prototype={_radius:4.5,_circle:gm(4.5),pointRadius:function(q){(q=+q)!==this._radius&&(this._radius=q,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(q,r){switch(this._point){case 0:this._string.push("M",
q,",",r);this._point=1;break;case 1:this._string.push("L",q,",",r);break;default:null==this._circle&&(this._circle=gm(this._radius)),this._string.push("M",q,",",r,this._circle)}},result:function(){if(this._string.length){var q=this._string.join("");this._string=[];return q}return null}};ri.prototype={constructor:ri,point:function(q,r){this.stream.point(q,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},
polygonEnd:function(){this.stream.polygonEnd()}};var Qs=Sa(30*Va),Ts=Le({point:function(q,r){this.stream.point(q*Va,r*Va)}}),qj=mm(function(q){return Fb(2/(1+q))});qj.invert=Ne(function(q){return 2*Rb(q/2)});var rj=mm(function(q){return(q=fl(q))&&q/Oa(q)});rj.invert=Ne(function(q){return q});Oe.invert=function(q,r){return[q,2*Xd(jo(r))-ob]};Pe.invert=Pe;var kg=Fb(3)/2;zi.invert=function(q,r){for(var x=r,B=x*x,F=B*B*B,L=0,Q;12>L&&!(Q=x*(1.340264+-.081106*B+F*(8.93E-4+.003796*B))-r,B=1.340264+3*-.081106*
B+F*(7*8.93E-4+.034164*B),x-=Q/=B,B=x*x,F=B*B*B,1E-12>hb(Q));++L);return[kg*q*(1.340264+3*-.081106*B+F*(7*8.93E-4+.034164*B))/Sa(x),Rb(Oa(x)/kg)]};Ai.invert=Ne(Xd);Bi.invert=function(q,r){var x=r,B=25;do{var F=x*x;var L=F*F;x-=L=(x*(1.007226+F*(.015085+L*(-.044475+.028874*F-.005916*L)))-r)/(1.007226+F*(.045255+L*(-.311325+.259866*F-.005916*11*L)))}while(1E-6<hb(L)&&0<--B);return[q/(.8707+(F=x*x)*(-.131979+F*(-.013791+F*F*F*(.003971-.001529*F)))),x]};Ci.invert=Ne(Rb);Di.invert=Ne(function(q){return 2*
Xd(q)});Ei.invert=function(q,r){return[-r,2*Xd(jo(q))-ob]};var Ob={};Yd.prototype=Fi.prototype=(Ob.constructor=Yd,Ob.count=function(){return this.eachAfter(at)},Ob.each=function(q,r){for(var x=-1,B=$jscomp.makeIterator(this),F=B.next();!F.done;F=B.next())q.call(r,F.value,++x,this);return this},Ob.eachAfter=function(q,r){for(var x,B=[this],F=[],L,Q,S=-1;x=B.pop();)if(F.push(x),x=x.children)for(L=0,Q=x.length;L<Q;++L)B.push(x[L]);for(;x=F.pop();)q.call(r,x,++S,this);return this},Ob.eachBefore=function(q,
r){for(var x,B=[this],F,L=-1;x=B.pop();)if(q.call(r,x,++L,this),x=x.children)for(F=x.length-1;0<=F;--F)B.push(x[F]);return this},Ob.find=function(q,r){for(var x=-1,B=$jscomp.makeIterator(this),F=B.next();!F.done;F=B.next())if(F=F.value,q.call(r,F,++x,this))return F},Ob.sum=function(q){return this.eachAfter(function(r){for(var x=+q(r.data)||0,B=r.children,F=B&&B.length;0<=--F;)x+=B[F].value;r.value=x})},Ob.sort=function(q){return this.eachBefore(function(r){r.children&&r.children.sort(q)})},Ob.path=
function(q){var r=this;var x=r;var B=q;if(x!==B){var F=x.ancestors(),L=B.ancestors(),Q=null;x=F.pop();for(B=L.pop();x===B;)Q=x,x=F.pop(),B=L.pop();x=Q}for(B=[r];r!==x;)r=r.parent,B.push(r);for(r=B.length;q!==x;)B.splice(r,0,q),q=q.parent;return B},Ob.ancestors=function(){for(var q=this,r=[q];q=q.parent;)r.push(q);return r},Ob.descendants=function(){return Array.from(this)},Ob.leaves=function(){var q=[];this.eachBefore(function(r){r.children||q.push(r)});return q},Ob.links=function(){var q=this,r=
[];q.each(function(x){x!==q&&r.push({source:x.parent,target:x})});return r},Ob.copy=function(){return Fi(this).eachBefore(dt)},Ob[Symbol.iterator]=qm,Ob);var Kv={depth:-1},lo={};og.prototype=Object.create(Yd.prototype);var mo=(1+Math.sqrt(5))/2,no=function x(r){function B(F,L,Q,S,ca){Cm(r,F,L,Q,S,ca)}B.ratio=function(F){return x(1<(F=+F)?F:1)};return B}(mo),Lv=function B(x){function F(L,Q,S,ca,ia){if((U=L._squarify)&&U.ratio===x)for(var U,V,ma,ka=-1,ta,Ia=U.length,ra=L.value;++ka<Ia;){L=U[ka];V=L.children;
ma=L.value=0;for(ta=V.length;ma<ta;++ma)L.value+=V[ma].value;L.dice?Re(L,Q,S,ca,ra?S+=(ia-S)*L.value/ra:ia):pg(L,Q,S,ra?Q+=(ca-Q)*L.value/ra:ca,ia);ra-=L.value}else L._squarify=U=Cm(x,L,Q,S,ca,ia),U.ratio=x}F.ratio=function(L){return B(1<(L=+L)?L:1)};return F}(mo),Ib=Math.random,Mv=function F(B){function L(Q,S){Q=null==Q?0:+Q;S=null==S?1:+S;1===arguments.length?(S=Q,Q=0):S-=Q;return function(){return B()*S+Q}}L.source=F;return L}(Ib),Nv=function L(F){function Q(S,ca){2>arguments.length&&(ca=S,S=0);
S=Math.floor(S);ca=Math.floor(ca)-S;return function(){return Math.floor(F()*ca+S)}}Q.source=L;return Q}(Ib),sj=function Q(L){function S(ca,ia){var U,V;ca=null==ca?0:+ca;ia=null==ia?1:+ia;return function(){if(null!=U){var ma=U;U=null}else{do U=2*L()-1,ma=2*L()-1,V=U*U+ma*ma;while(!V||1<V)}return ca+ia*ma*Math.sqrt(-2*Math.log(V)/V)}}S.source=Q;return S}(Ib),Ov=function S(Q){function ca(){var U=ia.apply(this,arguments);return function(){return Math.exp(U())}}var ia=sj.source(Q);ca.source=S;return ca}(Ib),
oo=function ca(S){function ia(U){return 0>=(U=+U)?function(){return 0}:function(){for(var V=0,ma=U;1<ma;--ma)V+=S();return V+ma*S()}}ia.source=ca;return ia}(Ib),Pv=function ia(ca){function U(ma){if(0===(ma=+ma))return ca;var ka=V(ma);return function(){return ka()/ma}}var V=oo.source(ca);U.source=ia;return U}(Ib),Qv=function U(ia){function V(ma){return function(){return-Math.log1p(-ia())/ma}}V.source=U;return V}(Ib),Rv=function V(U){function ma(ka){if(0>(ka=+ka))throw new RangeError("invalid alpha");
ka=1/-ka;return function(){return Math.pow(1-U(),ka)}}ma.source=V;return ma}(Ib),Sv=function ma(V){function ka(ta){if(0>(ta=+ta)||1<ta)throw new RangeError("invalid p");return function(){return Math.floor(V()+ta)}}ka.source=ma;return ka}(Ib),po=function ka(ma){function ta(Ia){if(0>(Ia=+Ia)||1<Ia)throw new RangeError("invalid p");if(0===Ia)return function(){return Infinity};if(1===Ia)return function(){return 1};Ia=Math.log1p(-Ia);return function(){return 1+Math.floor(Math.log1p(-ma())/Ia)}}ta.source=
ka;return ta}(Ib),tj=function ta(ka){function Ia(Ga,Ra){if(0>(Ga=+Ga))throw new RangeError("invalid k");if(0===Ga)return function(){return 0};Ra=null==Ra?1:+Ra;if(1===Ga)return function(){return-Math.log1p(-ka())*Ra};var O=(1>Ga?Ga+1:Ga)-1/3,aa=1/(3*Math.sqrt(O)),Ba=1>Ga?function(){return Math.pow(ka(),1/Ga)}:function(){return 1};return function(){do{do var Ja=ra(),Fa=1+aa*Ja;while(0>=Fa);Fa*=Fa*Fa;var Ma=1-ka()}while(Ma>=1-.0331*Ja*Ja*Ja*Ja&&Math.log(Ma)>=.5*Ja*Ja+O*(1-Fa+Math.log(Fa)));return O*
Fa*Ba()*Ra}}var ra=sj.source(ka)();Ia.source=ta;return Ia}(Ib),qo=function Ia(ta){function ra(Ra,O){var aa=Ga(Ra),Ba=Ga(O);return function(){var Ja=aa();return 0===Ja?0:Ja/(Ja+Ba())}}var Ga=tj.source(ta);ra.source=Ia;return ra}(Ib),ro=function ra(Ia){function Ga(aa,Ba){aa=+aa;return 1<=(Ba=+Ba)?function(){return aa}:0>=Ba?function(){return 0}:function(){for(var Ja=0,Fa=aa,Ma=Ba;16<Fa*Ma&&16<Fa*(1-Ma);){var Wa=Math.floor((Fa+1)*Ma),k=O(Wa,Fa-Wa+1)();k<=Ma?(Ja+=Wa,Fa-=Wa,Ma=(Ma-k)/(1-k)):(Fa=Wa-1,Ma/=
k)}Wa=.5>Ma;Ma=Ra(Wa?Ma:1-Ma);k=Ma();for(var A=0;k<=Fa;++A)k+=Ma();return Ja+(Wa?A:Fa-A)}}var Ra=po.source(Ia),O=qo.source(Ia);Ga.source=ra;return Ga}(Ib),Tv=function Ga(ra){function Ra(O,aa,Ba){if(0===(O=+O))var Ja=function(Fa){return-Math.log(Fa)};else O=1/O,Ja=function(Fa){return Math.pow(Fa,O)};aa=null==aa?0:+aa;Ba=null==Ba?1:+Ba;return function(){return aa+Ba*Ja(-Math.log1p(-ra()))}}Ra.source=Ga;return Ra}(Ib),Uv=function Ra(Ga){function O(aa,Ba){aa=null==aa?0:+aa;Ba=null==Ba?1:+Ba;return function(){return aa+
Ba*Math.tan(Math.PI*Ga())}}O.source=Ra;return O}(Ib),Vv=function O(Ra){function aa(Ba,Ja){Ba=null==Ba?0:+Ba;Ja=null==Ja?1:+Ja;return function(){var Fa=Ra();return Ba+Ja*Math.log(Fa/(1-Fa))}}aa.source=O;return aa}(Ib),Wv=function aa(O){function Ba(Ma){return function(){for(var Wa=0,k=Ma;16<k;){var A=Math.floor(.875*k),I=Ja(A)();if(I>k)return Wa+Fa(A-1,k/I)();Wa+=A;k-=I}A=-Math.log1p(-O());for(I=0;A<=k;++I)A-=Math.log1p(-O());return Wa+I}}var Ja=tj.source(O),Fa=ro.source(O);Ba.source=aa;return Ba}(Ib),
so=1/4294967296,Li=Symbol("implicit"),Fm=[0,1],Si=new Date,Ti=new Date,ae=Db(function(){},function(O,aa){O.setTime(+O+aa)},function(O,aa){return aa-O});ae.every=function(O){O=Math.floor(O);return isFinite(O)&&0<O?1<O?Db(function(aa){aa.setTime(Math.floor(aa/O)*O)},function(aa,Ba){aa.setTime(+aa+Ba*O)},function(aa,Ba){return(Ba-aa)/O}):ae:null};var to=ae.range,Ui=6048E5,Ym=2592E6,Vi=31536E6,Lc=Db(function(O){O.setTime(O-O.getMilliseconds())},function(O,aa){O.setTime(+O+1E3*aa)},function(O,aa){return(aa-
O)/1E3},function(O){return O.getUTCSeconds()}),uo=Lc.range,Lg=Db(function(O){O.setTime(O-O.getMilliseconds()-1E3*O.getSeconds())},function(O,aa){O.setTime(+O+6E4*aa)},function(O,aa){return(aa-O)/6E4},function(O){return O.getMinutes()}),Xv=Lg.range,Mg=Db(function(O){O.setTime(O-O.getMilliseconds()-1E3*O.getSeconds()-6E4*O.getMinutes())},function(O,aa){O.setTime(+O+36E5*aa)},function(O,aa){return(aa-O)/36E5},function(O){return O.getHours()}),Yv=Mg.range,ce=Db(function(O){return O.setHours(0,0,0,0)},
function(O,aa){return O.setDate(O.getDate()+aa)},function(O,aa){return(aa-O-6E4*(aa.getTimezoneOffset()-O.getTimezoneOffset()))/864E5},function(O){return O.getDate()-1}),Zv=ce.range,de=sd(0),Ve=sd(1),vo=sd(2),wo=sd(3),ud=sd(4),xo=sd(5),yo=sd(6),zo=de.range,$v=Ve.range,aw=vo.range,bw=wo.range,cw=ud.range,dw=xo.range,ew=yo.range,Ng=Db(function(O){O.setDate(1);O.setHours(0,0,0,0)},function(O,aa){O.setMonth(O.getMonth()+aa)},function(O,aa){return aa.getMonth()-O.getMonth()+12*(aa.getFullYear()-O.getFullYear())},
function(O){return O.getMonth()}),fw=Ng.range,zc=Db(function(O){O.setMonth(0,1);O.setHours(0,0,0,0)},function(O,aa){O.setFullYear(O.getFullYear()+aa)},function(O,aa){return aa.getFullYear()-O.getFullYear()},function(O){return O.getFullYear()});zc.every=function(O){return isFinite(O=Math.floor(O))&&0<O?Db(function(aa){aa.setFullYear(Math.floor(aa.getFullYear()/O)*O);aa.setMonth(0,1);aa.setHours(0,0,0,0)},function(aa,Ba){aa.setFullYear(aa.getFullYear()+Ba*O)}):null};var gw=zc.range,Og=Db(function(O){O.setUTCSeconds(0,
0)},function(O,aa){O.setTime(+O+6E4*aa)},function(O,aa){return(aa-O)/6E4},function(O){return O.getUTCMinutes()}),hw=Og.range,Pg=Db(function(O){O.setUTCMinutes(0,0,0)},function(O,aa){O.setTime(+O+36E5*aa)},function(O,aa){return(aa-O)/36E5},function(O){return O.getUTCHours()}),iw=Pg.range,be=Db(function(O){O.setUTCHours(0,0,0,0)},function(O,aa){O.setUTCDate(O.getUTCDate()+aa)},function(O,aa){return(aa-O)/864E5},function(O){return O.getUTCDate()-1}),jw=be.range,ee=td(0),Ue=td(1),Ao=td(2),Bo=td(3),vd=
td(4),Co=td(5),Do=td(6),Eo=ee.range,kw=Ue.range,lw=Ao.range,mw=Bo.range,nw=vd.range,ow=Co.range,pw=Do.range,Qg=Db(function(O){O.setUTCDate(1);O.setUTCHours(0,0,0,0)},function(O,aa){O.setUTCMonth(O.getUTCMonth()+aa)},function(O,aa){return aa.getUTCMonth()-O.getUTCMonth()+12*(aa.getUTCFullYear()-O.getUTCFullYear())},function(O){return O.getUTCMonth()}),qw=Qg.range,Ac=Db(function(O){O.setUTCMonth(0,1);O.setUTCHours(0,0,0,0)},function(O,aa){O.setUTCFullYear(O.getUTCFullYear()+aa)},function(O,aa){return aa.getUTCFullYear()-
O.getUTCFullYear()},function(O){return O.getUTCFullYear()});Ac.every=function(O){return isFinite(O=Math.floor(O))&&0<O?Db(function(aa){aa.setUTCFullYear(Math.floor(aa.getUTCFullYear()/O)*O);aa.setUTCMonth(0,1);aa.setUTCHours(0,0,0,0)},function(aa,Ba){aa.setUTCFullYear(aa.getUTCFullYear()+Ba*O)}):null};var rw=Ac.range,Fo=$jscomp.makeIterator(Xm(Ac,Qg,ee,be,Pg,Og)),Go=Fo.next().value,Ho=Fo.next().value,Io=$jscomp.makeIterator(Xm(zc,Ng,de,ce,Mg,Lg)),Jo=Io.next().value,Ko=Io.next().value,$m={"-":"",_:" ",
0:"0"},Gb=/^\s*\d+/,vu=/^%/,uu=/[\\^$*+?|[\]().{}]/g,fe;c.timeFormat=void 0;c.timeParse=void 0;c.utcFormat=void 0;c.utcParse=void 0;on({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
var sw=Date.prototype.toISOString?wu:c.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),tw=+new Date("2000-01-01T00:00:00.000Z")?xu:c.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),uw=bb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),vw=bb("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ww=bb("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),xw=bb("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),yw=bb("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),zw=bb("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),
Aw=bb("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Bw=bb("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Cw=bb("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Dw=bb("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),mb=function(O){return Wn(O[O.length-1])},Lo=Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",
"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(bb),Ew=mb(Lo),Mo=Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b",
"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(bb),Fw=mb(Mo),No=Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(bb),
Gw=mb(No),Oo=Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(bb),Hw=mb(Oo),Po=Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0",
"ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(bb),Iw=mb(Po),Qo=Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d",
"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(bb),Jw=mb(Qo),Ro=Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",
"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(bb),Kw=mb(Ro),So=Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",
"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(bb),Lw=mb(So),To=Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(bb),
Mw=mb(To),Uo=Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(bb),Nw=mb(Uo),Vo=Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b",
"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(bb),Ow=mb(Vo),Wo=Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(bb),Pw=mb(Wo),Xo=Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f",
"fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(bb),Qw=mb(Xo),Yo=Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(bb),
Rw=mb(Yo),Zo=Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(bb),Sw=mb(Zo),$o=Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f",
"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(bb),Tw=mb($o),ap=Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(bb),Uw=mb(ap),bp=Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8",
"ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(bb),Vw=mb(bp),cp=Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(bb),
Ww=mb(cp),dp=Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(bb),Xw=mb(dp),ep=Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026",
"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(bb),Yw=mb(ep),fp=Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(bb),Zw=mb(fp),gp=Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45",
"edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(bb),$w=mb(gp),hp=Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(bb),
ax=mb(hp),ip=Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(bb),bx=mb(ip),jp=Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d",
"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(bb),cx=mb(jp),kp=Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(bb),dx=mb(kp),ex=Gg(lc(300,.5,0),lc(-240,.5,1)),fx=Gg(lc(-100,.75,.35),lc(80,
1.5,.8)),gx=Gg(lc(260,.75,.35),lc(80,1.5,.8)),Rg=lc(),Sg=Hd(),hx=Math.PI/3,ix=2*Math.PI/3,jx=tg(bb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),
kx=tg(bb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),
lx=tg(bb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),
mx=tg(bb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),
lp=Math.abs,Pb=Math.atan2,Ad=Math.cos,Fu=Math.max,uj=Math.min,Bc=Math.sin,ge=Math.sqrt,ad=Math.PI,ug=ad/2,bd=2*ad,Ku=Array.prototype.slice;xn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(O,aa){O=+O;aa=+aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(O,aa):this._context.moveTo(O,
aa);break;case 1:this._point=2;default:this._context.lineTo(O,aa)}}};var Bn=dj(xg);zn.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(O,aa){this._curve.point(aa*Math.sin(O),aa*-Math.cos(O))}};var vj={draw:function(O,aa){aa=Math.sqrt(aa/ad);O.moveTo(aa,0);O.arc(0,0,aa,0,bd)}},mp={draw:function(O,aa){aa=Math.sqrt(aa/5)/2;O.moveTo(-3*aa,-aa);O.lineTo(-aa,
-aa);O.lineTo(-aa,-3*aa);O.lineTo(aa,-3*aa);O.lineTo(aa,-aa);O.lineTo(3*aa,-aa);O.lineTo(3*aa,aa);O.lineTo(aa,aa);O.lineTo(aa,3*aa);O.lineTo(-aa,3*aa);O.lineTo(-aa,aa);O.lineTo(-3*aa,aa);O.closePath()}},np=Math.sqrt(1/3),nx=2*np,op={draw:function(O,aa){aa=Math.sqrt(aa/nx);var Ba=aa*np;O.moveTo(0,-aa);O.lineTo(Ba,0);O.lineTo(0,aa);O.lineTo(-Ba,0);O.closePath()}},pp=Math.sin(ad/10)/Math.sin(7*ad/10),ox=Math.sin(bd/10)*pp,px=-Math.cos(bd/10)*pp,qp={draw:function(O,aa){aa=Math.sqrt(.8908130915292852*
aa);var Ba=ox*aa,Ja=px*aa;O.moveTo(0,-aa);O.lineTo(Ba,Ja);for(var Fa=1;5>Fa;++Fa){var Ma=bd*Fa/5,Wa=Math.cos(Ma);Ma=Math.sin(Ma);O.lineTo(Ma*aa,-Wa*aa);O.lineTo(Wa*Ba-Ma*Ja,Ma*Ba+Wa*Ja)}O.closePath()}},rp={draw:function(O,aa){aa=Math.sqrt(aa);var Ba=-aa/2;O.rect(Ba,Ba,aa,aa)}},wj=Math.sqrt(3),sp={draw:function(O,aa){aa=-Math.sqrt(aa/(3*wj));O.moveTo(0,2*aa);O.lineTo(-wj*aa,-aa);O.lineTo(wj*aa,-aa);O.closePath()}},ic=Math.sqrt(3)/2,xj=1/Math.sqrt(12),qx=3*(xj/2+1),tp={draw:function(O,aa){var Ba=Math.sqrt(aa/
qx);aa=Ba/2;var Ja=Ba*xj;Ba=Ba*xj+Ba;var Fa=-aa;O.moveTo(aa,Ja);O.lineTo(aa,Ba);O.lineTo(Fa,Ba);O.lineTo(-.5*aa-ic*Ja,ic*aa+-.5*Ja);O.lineTo(-.5*aa-ic*Ba,ic*aa+-.5*Ba);O.lineTo(-.5*Fa-ic*Ba,ic*Fa+-.5*Ba);O.lineTo(-.5*aa+ic*Ja,-.5*Ja-ic*aa);O.lineTo(-.5*aa+ic*Ba,-.5*Ba-ic*aa);O.lineTo(-.5*Fa+ic*Ba,-.5*Ba-ic*Fa);O.closePath()}},rx=[vj,mp,op,rp,qp,sp,tp];zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=
0},lineEnd:function(){switch(this._point){case 3:yg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(O,aa){O=+O;aa=+aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(O,aa):this._context.moveTo(O,aa);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yg(this,O,
aa)}this._x0=this._x1;this._x1=O;this._y0=this._y1;this._y1=aa}};Dn.prototype={areaStart:$c,areaEnd:$c,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();
break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(O,aa){O=+O;aa=+aa;switch(this._point){case 0:this._point=1;this._x2=O;this._y2=aa;break;case 1:this._point=2;this._x3=O;this._y3=aa;break;case 2:this._point=3;this._x4=O;this._y4=aa;this._context.moveTo((this._x0+4*this._x1+O)/6,(this._y0+4*this._y1+aa)/6);break;default:yg(this,O,aa)}this._x0=this._x1;this._x1=O;this._y0=this._y1;this._y1=aa}};En.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(O,aa){O=+O;aa=+aa;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Ba=(this._x0+4*this._x1+O)/6,Ja=(this._y0+4*this._y1+aa)/6;this._line?this._context.lineTo(Ba,Ja):this._context.moveTo(Ba,Ja);break;case 3:this._point=
4;default:yg(this,O,aa)}this._x0=this._x1;this._x1=O;this._y0=this._y1;this._y1=aa}};var Bd=function(O,aa){this._context=O;this._x=aa};Bd.prototype.areaStart=function(){this._line=0};Bd.prototype.areaEnd=function(){this._line=NaN};Bd.prototype.lineStart=function(){this._point=0};Bd.prototype.lineEnd=function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line};Bd.prototype.point=function(O,aa){O=+O;aa=+aa;switch(this._point){case 0:this._point=1;this._line?
this._context.lineTo(O,aa):this._context.moveTo(O,aa);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+O)/2,this._y0,this._x0,aa,O,aa):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+aa)/2,O,this._y0,O,aa)}this._x0=O;this._y0=aa};Fn.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var O=this._x,aa=this._y,Ba=O.length-1;if(0<Ba)for(var Ja=O[0],Fa=aa[0],Ma=O[Ba]-Ja,Wa=aa[Ba]-Fa,k=-1,A;++k<=Ba;)A=k/Ba,this._basis.point(this._beta*
O[k]+(1-this._beta)*(Ja+A*Ma),this._beta*aa[k]+(1-this._beta)*(Fa+A*Wa));this._x=this._y=null;this._basis.lineEnd()},point:function(O,aa){this._x.push(+O);this._y.push(+aa)}};var sx=function Ba(aa){function Ja(Fa){return 1===aa?new zg(Fa):new Fn(Fa,aa)}Ja.beta=function(Fa){return Ba(+Fa)};return Ja}(.85);fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:Ag(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(aa,Ba){aa=+aa;Ba=+Ba;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(aa,Ba):this._context.moveTo(aa,Ba);break;case 1:this._point=2;this._x1=aa;this._y1=Ba;break;case 2:this._point=3;default:Ag(this,aa,Ba)}this._x0=this._x1;this._x1=this._x2;this._x2=aa;this._y0=this._y1;this._y1=this._y2;this._y2=Ba}};var tx=function Ja(Ba){function Fa(Ma){return new fj(Ma,
Ba)}Fa.tension=function(Ma){return Ja(+Ma)};return Fa}(0);gj.prototype={areaStart:$c,areaEnd:$c,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Ba,Ja){Ba=+Ba;Ja=+Ja;switch(this._point){case 0:this._point=1;this._x3=Ba;this._y3=Ja;break;case 1:this._point=2;this._context.moveTo(this._x4=Ba,this._y4=Ja);break;case 2:this._point=3;this._x5=Ba;this._y5=Ja;break;default:Ag(this,Ba,Ja)}this._x0=this._x1;this._x1=this._x2;this._x2=Ba;this._y0=this._y1;this._y1=this._y2;this._y2=Ja}};var ux=function Fa(Ja){function Ma(Wa){return new gj(Wa,Ja)}Ma.tension=function(Wa){return Fa(+Wa)};return Ma}(0);hj.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ja,Fa){Ja=+Ja;Fa=+Fa;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:Ag(this,Ja,Fa)}this._x0=this._x1;this._x1=this._x2;this._x2=Ja;this._y0=this._y1;this._y1=this._y2;this._y2=Fa}};var vx=function Ma(Fa){function Wa(k){return new hj(k,Fa)}Wa.tension=function(k){return Ma(+k)};return Wa}(0);Gn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Fa,Ma){Fa=+Fa;Ma=+Ma;if(this._point){var Wa=this._x2-Fa,k=this._y2-Ma;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Wa*Wa+k*k,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Fa,Ma):this._context.moveTo(Fa,Ma);break;case 1:this._point=
2;break;case 2:this._point=3;default:ij(this,Fa,Ma)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Fa;this._y0=this._y1;this._y1=this._y2;this._y2=Ma}};var wx=function Wa(Ma){function k(A){return Ma?new Gn(A,Ma):new fj(A,0)}k.alpha=function(A){return Wa(+A)};return k}(.5);Hn.prototype={areaStart:$c,areaEnd:$c,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ma,Wa){Ma=+Ma;Wa=+Wa;if(this._point){var k=this._x2-Ma,A=this._y2-
Wa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(k*k+A*A,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Ma;this._y3=Wa;break;case 1:this._point=2;this._context.moveTo(this._x4=Ma,this._y4=Wa);break;case 2:this._point=3;this._x5=Ma;this._y5=Wa;break;default:ij(this,Ma,Wa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Ma;this._y0=this._y1;this._y1=this._y2;this._y2=Wa}};var xx=function k(Wa){function A(I){return Wa?
new Hn(I,Wa):new gj(I,0)}A.alpha=function(I){return k(+I)};return A}(.5);In.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Wa,k){Wa=+Wa;k=+k;if(this._point){var A=this._x2-
Wa,I=this._y2-k;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(A*A+I*I,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ij(this,Wa,k)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Wa;this._y0=this._y1;this._y1=this._y2;
this._y2=k}};var yx=function A(k){function I(G){return k?new In(G,k):new hj(G,0)}I.alpha=function(G){return A(+G)};return I}(.5);Jn.prototype={areaStart:$c,areaEnd:$c,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(k,A){k=+k;A=+A;this._point?this._context.lineTo(k,A):(this._point=1,this._context.moveTo(k,A))}};Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=
this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jj(this,this._t0,Ln(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(k,A){var I=NaN;k=+k;A=+A;if(k!==this._x1||A!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(k,A):this._context.moveTo(k,A);break;case 1:this._point=2;break;case 2:this._point=3;jj(this,
Ln(this,I=Kn(this,k,A)),I);break;default:jj(this,this._t0,I=Kn(this,k,A))}this._x0=this._x1;this._x1=k;this._y0=this._y1;this._y1=A;this._t0=I}}};(Mn.prototype=Object.create(Bg.prototype)).point=function(k,A){Bg.prototype.point.call(this,A,k)};Nn.prototype={moveTo:function(k,A){this._context.moveTo(A,k)},closePath:function(){this._context.closePath()},lineTo:function(k,A){this._context.lineTo(A,k)},bezierCurveTo:function(k,A,I,G,J,M){this._context.bezierCurveTo(A,k,G,I,M,J)}};On.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var k=this._x,A=this._y,I=k.length;if(I)if(this._line?this._context.lineTo(k[0],A[0]):this._context.moveTo(k[0],A[0]),2===I)this._context.lineTo(k[1],A[1]);else for(var G=Pn(k),J=Pn(A),M=0,W=1;W<I;++M,++W)this._context.bezierCurveTo(G[0][M],J[0][M],G[1][M],J[1][M],k[W],A[W]);(this._line||0!==this._line&&1===I)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(k,
A){this._x.push(+k);this._y.push(+A)}};Cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(k,A){k=+k;A=+A;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(k,
A):this._context.moveTo(k,A);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,A),this._context.lineTo(k,A);else{var I=this._x*(1-this._t)+k*this._t;this._context.lineTo(I,this._y);this._context.lineTo(I,A)}}this._x=k;this._y=A}};var Tg=function(k){return function(){return k}};Mc.prototype={constructor:Mc,scale:function(k){return 1===k?this:new Mc(this.k*k,this.x,this.y)},translate:function(k,A){return 0===k&0===A?this:new Mc(this.k,this.x+this.k*k,this.y+this.k*A)},apply:function(k){return[k[0]*
this.k+this.x,k[1]*this.k+this.y]},applyX:function(k){return k*this.k+this.x},applyY:function(k){return k*this.k+this.y},invert:function(k){return[(k[0]-this.x)/this.k,(k[1]-this.y)/this.k]},invertX:function(k){return(k-this.x)/this.k},invertY:function(k){return(k-this.y)/this.k},rescaleX:function(k){return k.copy().domain(k.range().map(this.invertX,this).map(k.invert,k))},rescaleY:function(k){return k.copy().domain(k.range().map(this.invertY,this).map(k.invert,k))},toString:function(){return"translate("+
this.x+","+this.y+") scale("+this.k+")"}};var Dg=new Mc(1,0,0);Tn.prototype=Mc.prototype;c.Adder=xb;c.Delaunay=Nb;c.FormatSpecifier=Jf;c.InternMap=cd;c.InternSet=af;c.Voronoi=yb;c.active=function(k,A){var I=k.__transition,G,J;if(I)for(J in A=null==A?null:A+"",I)if(1<(G=I[J]).state&&G.name===A)return new uc([[k]],nv,A,+J);return null};c.arc=function(){function k(){var ha,na=+A.apply(this,arguments),ua=+I.apply(this,arguments),R=M.apply(this,arguments)-ug,da=W.apply(this,arguments)-ug,pa=lp(da-R),ea=
da>R;fa||(fa=ha=Vc());if(ua<na){var wa=ua;ua=na;na=wa}if(1E-12<ua)if(pa>bd-1E-12)fa.moveTo(ua*Ad(R),ua*Bc(R)),fa.arc(0,0,ua,R,da,!ea),1E-12<na&&(fa.moveTo(na*Ad(da),na*Bc(da)),fa.arc(0,0,na,da,R,ea));else{var ja=R,ya=da;wa=R;var za=da,la=pa,Da=pa,Na=T.apply(this,arguments)/2,Ta=1E-12<Na&&(J?+J.apply(this,arguments):ge(na*na+ua*ua)),cb=uj(lp(ua-na)/2,+G.apply(this,arguments)),Za=cb,nb=cb;if(1E-12<Ta){var qb=wn(Ta/na*Bc(Na));Na=wn(Ta/ua*Bc(Na));1E-12<(la-=2*qb)?(qb*=ea?1:-1,wa+=qb,za-=qb):(la=0,wa=
za=(R+da)/2);1E-12<(Da-=2*Na)?(Na*=ea?1:-1,ja+=Na,ya-=Na):(Da=0,ja=ya=(R+da)/2)}R=ua*Ad(ja);da=ua*Bc(ja);qb=na*Ad(za);Na=na*Bc(za);if(1E-12<cb){var va=ua*Ad(ya),Pa=ua*Bc(ya),Aa=na*Ad(wa),Ka=na*Bc(wa);if(pa=pa<ad){var Ha=Aa-R;pa=Ka-da;Ta=qb-va;var ab=Na-Pa,Ya=ab*Ha-Ta*pa;1E-12>Ya*Ya?Ha=void 0:(Ya=(Ta*(da-Pa)-ab*(R-va))/Ya,Ha=[R+Ya*Ha,da+Ya*pa]);pa=Ha}pa&&(Za=R-Ha[0],nb=da-Ha[1],pa=va-Ha[0],Ta=Pa-Ha[1],Za=(Za*pa+nb*Ta)/(ge(Za*Za+nb*nb)*ge(pa*pa+Ta*Ta)),nb=1/Bc((1<Za?0:-1>Za?ad:Math.acos(Za))/2),Ha=
ge(Ha[0]*Ha[0]+Ha[1]*Ha[1]),Za=uj(cb,(na-Ha)/(nb-1)),nb=uj(cb,(ua-Ha)/(nb+1)))}1E-12<Da?1E-12<nb?(ja=vg(Aa,Ka,R,da,ua,nb,ea),ya=vg(va,Pa,qb,Na,ua,nb,ea),fa.moveTo(ja.cx+ja.x01,ja.cy+ja.y01),nb<cb?fa.arc(ja.cx,ja.cy,nb,Pb(ja.y01,ja.x01),Pb(ya.y01,ya.x01),!ea):(fa.arc(ja.cx,ja.cy,nb,Pb(ja.y01,ja.x01),Pb(ja.y11,ja.x11),!ea),fa.arc(0,0,ua,Pb(ja.cy+ja.y11,ja.cx+ja.x11),Pb(ya.cy+ya.y11,ya.cx+ya.x11),!ea),fa.arc(ya.cx,ya.cy,nb,Pb(ya.y11,ya.x11),Pb(ya.y01,ya.x01),!ea))):(fa.moveTo(R,da),fa.arc(0,0,ua,ja,
ya,!ea)):fa.moveTo(R,da);1E-12<na&&1E-12<la?1E-12<Za?(ja=vg(qb,Na,va,Pa,na,-Za,ea),ya=vg(R,da,Aa,Ka,na,-Za,ea),fa.lineTo(ja.cx+ja.x01,ja.cy+ja.y01),Za<cb?fa.arc(ja.cx,ja.cy,Za,Pb(ja.y01,ja.x01),Pb(ya.y01,ya.x01),!ea):(fa.arc(ja.cx,ja.cy,Za,Pb(ja.y01,ja.x01),Pb(ja.y11,ja.x11),!ea),fa.arc(0,0,na,Pb(ja.cy+ja.y11,ja.cx+ja.x11),Pb(ya.cy+ya.y11,ya.cx+ya.x11),ea),fa.arc(ya.cx,ya.cy,Za,Pb(ya.y11,ya.x11),Pb(ya.y01,ya.x01),!ea))):fa.arc(0,0,na,za,wa,ea):fa.lineTo(qb,Na)}else fa.moveTo(0,0);fa.closePath();if(ha)return fa=
null,ha+""||null}var A=Au,I=Bu,G=$a(0),J=null,M=Cu,W=Du,T=Eu,fa=null;k.centroid=function(){var ha=(+A.apply(this,arguments)+ +I.apply(this,arguments))/2,na=(+M.apply(this,arguments)+ +W.apply(this,arguments))/2-ad/2;return[Ad(na)*ha,Bc(na)*ha]};k.innerRadius=function(ha){return arguments.length?(A="function"===typeof ha?ha:$a(+ha),k):A};k.outerRadius=function(ha){return arguments.length?(I="function"===typeof ha?ha:$a(+ha),k):I};k.cornerRadius=function(ha){return arguments.length?(G="function"===
typeof ha?ha:$a(+ha),k):G};k.padRadius=function(ha){return arguments.length?(J=null==ha?null:"function"===typeof ha?ha:$a(+ha),k):J};k.startAngle=function(ha){return arguments.length?(M="function"===typeof ha?ha:$a(+ha),k):M};k.endAngle=function(ha){return arguments.length?(W="function"===typeof ha?ha:$a(+ha),k):W};k.padAngle=function(ha){return arguments.length?(T="function"===typeof ha?ha:$a(+ha),k):T};k.context=function(ha){return arguments.length?(fa=null==ha?null:ha,k):fa};return k};c.area=yn;
c.areaRadial=Cn;c.ascending=l;c.autoType=function(k){for(var A in k){var I=k[A].trim(),G;if(I)if("true"===I)I=!0;else if("false"===I)I=!1;else if("NaN"===I)I=NaN;else if(isNaN(G=+I))if(G=I.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Dv&&G[4]&&!G[7]&&(I=I.replace(/-/g,"/").replace(/T/," ")),I=new Date(I);else continue;else I=G;else I=null;k[A]=I}return k};c.axisBottom=function(k){return gf(3,k)};c.axisLeft=function(k){return gf(4,k)};c.axisRight=
function(k){return gf(2,k)};c.axisTop=function(k){return gf(1,k)};c.bin=dd;c.bisect=Pc;c.bisectCenter=Yu;c.bisectLeft=Xu;c.bisectRight=Pc;c.bisector=v;c.blob=function(k,A){return fetch(k,A).then($r)};c.brush=function(){return Eh(ov)};c.brushSelection=function(k){return(k=k.__brush)?k.dim.output(k.selection):null};c.brushX=function(){return Eh(Cf)};c.brushY=function(){return Eh(Bf)};c.buffer=function(k,A){return fetch(k,A).then(as)};c.chord=function(){return Ih(!1,!1)};c.chordDirected=function(){return Ih(!0,
!1)};c.chordTranspose=function(){return Ih(!1,!0)};c.cluster=function(){function k(M){var W,T=0;M.eachAfter(function(R){var da=R.children;if(da){var pa=da.reduce(Xs,0)/da.length;R.x=pa;R.y=1+da.reduce(Ys,0)}else R.x=W?T+=A(R,W):0,R.y=0,W=R});var fa=Zs(M),ha=$s(M),na=fa.x-A(fa,ha)/2,ua=ha.x+A(ha,fa)/2;return M.eachAfter(J?function(R){R.x=(R.x-M.x)*I;R.y=(M.y-R.y)*G}:function(R){R.x=(R.x-na)/(ua-na)*I;R.y=(1-(M.y?R.y/M.y:1))*G})}var A=Ws,I=1,G=1,J=!1;k.separation=function(M){return arguments.length?
(A=M,k):A};k.size=function(M){return arguments.length?(J=!1,I=+M[0],G=+M[1],k):J?null:[I,G]};k.nodeSize=function(M){return arguments.length?(J=!0,I=+M[0],G=+M[1],k):J?[I,G]:null};return k};c.color=Sc;c.contourDensity=function(){function k(ja){var ya=new Float32Array(pa*ea),za=new Float32Array(pa*ea);ja.forEach(function(la,Da,Na){var Ta=+W(la,Da,Na)+da>>R,cb=+T(la,Da,Na)+da>>R;la=+fa(la,Da,Na);0<=Ta&&Ta<pa&&0<=cb&&cb<ea&&(ya[Ta+cb*pa]+=la)});Kh({width:pa,height:ea,data:ya},{width:pa,height:ea,data:za},
ua>>R);Lh({width:pa,height:ea,data:za},{width:pa,height:ea,data:ya},ua>>R);Kh({width:pa,height:ea,data:ya},{width:pa,height:ea,data:za},ua>>R);Lh({width:pa,height:ea,data:za},{width:pa,height:ea,data:ya},ua>>R);Kh({width:pa,height:ea,data:ya},{width:pa,height:ea,data:za},ua>>R);Lh({width:pa,height:ea,data:za},{width:pa,height:ea,data:ya},ua>>R);ja=wa(ya);Array.isArray(ja)||(za=Dc(ya),ja=pb(0,za,ja),ja=Yb(0,Math.floor(za/ja)*ja,ja),ja.shift());return Lk().thresholds(ja).size([pa,ea])(ya).map(A)}function A(ja){ja.value*=
Math.pow(2,-2*R);ja.coordinates.forEach(I);return ja}function I(ja){ja.forEach(G)}function G(ja){ja.forEach(J)}function J(ja){ja[0]=ja[0]*Math.pow(2,R)-da;ja[1]=ja[1]*Math.pow(2,R)-da}function M(){da=3*ua;pa=ha+2*da>>R;ea=na+2*da>>R;return k}var W=Qr,T=Rr,fa=Sr,ha=960,na=500,ua=20,R=2,da=3*ua,pa=ha+2*da>>R,ea=na+2*da>>R,wa=Wc(20);k.x=function(ja){return arguments.length?(W="function"===typeof ja?ja:Wc(+ja),k):W};k.y=function(ja){return arguments.length?(T="function"===typeof ja?ja:Wc(+ja),k):T};k.weight=
function(ja){return arguments.length?(fa="function"===typeof ja?ja:Wc(+ja),k):fa};k.size=function(ja){if(!arguments.length)return[ha,na];var ya=+ja[0],za=+ja[1];if(!(0<=ya&&0<=za))throw Error("invalid size");return ha=ya,na=za,M()};k.cellSize=function(ja){if(!arguments.length)return 1<<R;if(!(1<=(ja=+ja)))throw Error("invalid cell size");return R=Math.floor(Math.log(ja)/Math.LN2),M()};k.thresholds=function(ja){return arguments.length?(wa="function"===typeof ja?ja:Array.isArray(ja)?Wc(Mk.call(ja)):
Wc(ja),k):wa};k.bandwidth=function(ja){if(!arguments.length)return Math.sqrt(ua*(ua+1));if(!(0<=(ja=+ja)))throw Error("invalid bandwidth");return ua=Math.round((Math.sqrt(4*ja*ja+1)-1)/2),M()};return k};c.contours=Lk;c.count=H;c.create=function(k){return Kb(jf(k).call(document.documentElement))};c.creator=jf;c.cross=function(k){for(var A=[],I=0;I<arguments.length;++I)A[I-0]=arguments[I];var G=A;A="function"===typeof G[G.length-1]&&Z(G.pop());G=G.map(ba);I=G.map(N);var J=G.length-1,M=Array(J+1).fill(0),
W=[];if(0>J||I.some(K))return W;for(;;){W.push(M.map(function(fa,ha){return G[ha][fa]}));for(var T=J;++M[T]===I[T];){if(0===T)return A?W.map(A):W;M[T--]=0}}};c.csv=Ev;c.csvFormat=sv;c.csvFormatBody=tv;c.csvFormatRow=vv;c.csvFormatRows=uv;c.csvFormatValue=wv;c.csvParse=ho;c.csvParseRows=rv;c.cubehelix=lc;c.cumsum=function(k,A){var I=0,G=0;return Float64Array.from(k,void 0===A?function(J){return I+=+J||0}:function(J){return I+=+A(J,G++,k)||0})};c.curveBasis=function(k){return new zg(k)};c.curveBasisClosed=
function(k){return new Dn(k)};c.curveBasisOpen=function(k){return new En(k)};c.curveBumpX=function(k){return new Bd(k,!0)};c.curveBumpY=function(k){return new Bd(k,!1)};c.curveBundle=sx;c.curveCardinal=tx;c.curveCardinalClosed=ux;c.curveCardinalOpen=vx;c.curveCatmullRom=wx;c.curveCatmullRomClosed=xx;c.curveCatmullRomOpen=yx;c.curveLinear=xg;c.curveLinearClosed=function(k){return new Jn(k)};c.curveMonotoneX=function(k){return new Bg(k)};c.curveMonotoneY=function(k){return new Mn(k)};c.curveNatural=
function(k){return new On(k)};c.curveStep=function(k){return new Cg(k,.5)};c.curveStepAfter=function(k){return new Cg(k,1)};c.curveStepBefore=function(k){return new Cg(k,0)};c.descending=function(k,A){return A<k?-1:A>k?1:A>=k?0:NaN};c.deviation=X;c.difference=function(k,A){for(var I=[],G=1;G<arguments.length;++G)I[G-1]=arguments[G];k=new Set(k);I=$jscomp.makeIterator(I);for(G=I.next();!G.done;G=I.next()){G=$jscomp.makeIterator(G.value);for(var J=G.next();!J.done;J=G.next())k.delete(J.value)}return k};
c.disjoint=function(k,A){var I=A[Symbol.iterator]();A=new Set;var G={};k=$jscomp.makeIterator(k);for(var J=k.next();!J.done;G={$jscomp$loop$prop$value$291:G.$jscomp$loop$prop$value$291,$jscomp$loop$prop$done$292:G.$jscomp$loop$prop$done$292},J=k.next()){J=J.value;if(A.has(J))return!1;G.$jscomp$loop$prop$value$291=void 0;for(G.$jscomp$loop$prop$done$292=void 0;function(M){return function(){var W=I.next();M.$jscomp$loop$prop$value$291=W.value;M.$jscomp$loop$prop$done$292=W.done;return W}}(G)()&&!G.$jscomp$loop$prop$done$292;){if(Object.is(J,
G.$jscomp$loop$prop$value$291))return!1;A.add(G.$jscomp$loop$prop$value$291)}}return!0};c.dispatch=hd;c.drag=function(){function k(la){la.on("mousedown.drag",A).filter(ua).on("touchstart.drag",J).on("touchmove.drag",M).on("touchend.drag touchcancel.drag",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(la,Da){!ya&&fa.call(this,la,Da)&&(Da=T(this,ha.call(this,la,Da),la,Da,"mouse"))&&(Kb(la.view).on("mousemove.drag",I,!0).on("mouseup.drag",G,!0),mf(la.view),
la.stopImmediatePropagation(),ja=!1,ea=la.clientX,wa=la.clientY,Da("start",la))}function I(la){Fd(la);if(!ja){var Da=la.clientX-ea,Na=la.clientY-wa;ja=Da*Da+Na*Na>za}R.mouse("drag",la)}function G(la){Kb(la.view).on("mousemove.drag mouseup.drag",null);nf(la.view,ja);Fd(la);R.mouse("end",la)}function J(la,Da){if(fa.call(this,la,Da)){var Na=la.changedTouches,Ta=ha.call(this,la,Da),cb=Na.length,Za,nb;for(Za=0;Za<cb;++Za)if(nb=T(this,Ta,la,Da,Na[Za].identifier,Na[Za]))la.stopImmediatePropagation(),nb("start",
la,Na[Za])}}function M(la){var Da=la.changedTouches,Na=Da.length,Ta,cb;for(Ta=0;Ta<Na;++Ta)if(cb=R[Da[Ta].identifier])Fd(la),cb("drag",la,Da[Ta])}function W(la){var Da=la.changedTouches,Na=Da.length,Ta,cb;ya&&clearTimeout(ya);ya=setTimeout(function(){ya=null},500);for(Ta=0;Ta<Na;++Ta)if(cb=R[Da[Ta].identifier])la.stopImmediatePropagation(),cb("end",la,Da[Ta])}function T(la,Da,Na,Ta,cb,Za){var nb=da.copy(),qb=ac(Za||Na,Da),va;if(null!=(va=na.call(la,new kh("beforestart",{sourceEvent:Na,target:k,identifier:cb,
active:pa,x:qb[0],y:qb[1],dx:0,dy:0,dispatch:nb}),Ta))){var Pa=va.x-qb[0]||0;var Aa=va.y-qb[1]||0;return function jb(Ha,ab,Ya){var zb=qb;switch(Ha){case "start":R[cb]=jb;var wb=pa++;break;case "end":delete R[cb],--pa;case "drag":qb=ac(Ya||ab,Da),wb=pa}nb.call(Ha,la,new kh(Ha,{sourceEvent:ab,subject:va,target:k,identifier:cb,active:wb,x:qb[0]+Pa,y:qb[1]+Aa,dx:qb[0]-zb[0],dy:qb[1]-zb[1],dispatch:nb}),Ta)}}}var fa=wq,ha=xq,na=yq,ua=zq,R={},da=hd("start","drag","end"),pa=0,ea,wa,ja,ya,za=0;k.filter=function(la){return arguments.length?
(fa="function"===typeof la?la:Eg(!!la),k):fa};k.container=function(la){return arguments.length?(ha="function"===typeof la?la:Eg(la),k):ha};k.subject=function(la){return arguments.length?(na="function"===typeof la?la:Eg(la),k):na};k.touchable=function(la){return arguments.length?(ua="function"===typeof la?la:Eg(!!la),k):ua};k.on=function(){var la=da.on.apply(da,arguments);return la===da?k:la};k.clickDistance=function(la){return arguments.length?(za=(la=+la)*la,k):Math.sqrt(za)};return k};c.dragDisable=
mf;c.dragEnable=nf;c.dsv=function(k,A,I,G){3===arguments.length&&"function"===typeof I&&(G=I,I=void 0);var J=Ff(k);return Gf(A,I).then(function(M){return J.parse(M,G)})};c.dsvFormat=Ff;c.easeBack=co;c.easeBackIn=iv;c.easeBackInOut=co;c.easeBackOut=jv;c.easeBounce=ye;c.easeBounceIn=function(k){return 1-ye(1-k)};c.easeBounceInOut=function(k){return(1>=(k*=2)?1-ye(1-k):ye(k-1)+1)/2};c.easeBounceOut=ye;c.easeCircle=Ak;c.easeCircleIn=function(k){return 1-Math.sqrt(1-k*k)};c.easeCircleInOut=Ak;c.easeCircleOut=
function(k){return Math.sqrt(1- --k*k)};c.easeCubic=Ah;c.easeCubicIn=function(k){return k*k*k};c.easeCubicInOut=Ah;c.easeCubicOut=function(k){return--k*k*k+1};c.easeElastic=eo;c.easeElasticIn=kv;c.easeElasticInOut=lv;c.easeElasticOut=eo;c.easeExp=zk;c.easeExpIn=function(k){return Uc(1-+k)};c.easeExpInOut=zk;c.easeExpOut=function(k){return 1-Uc(k)};c.easeLinear=function(k){return+k};c.easePoly=ao;c.easePolyIn=gv;c.easePolyInOut=ao;c.easePolyOut=hv;c.easeQuad=wk;c.easeQuadIn=function(k){return k*k};
c.easeQuadInOut=wk;c.easeQuadOut=function(k){return k*(2-k)};c.easeSin=xk;c.easeSinIn=function(k){return 1===+k?1:1-Math.cos(k*bo)};c.easeSinInOut=xk;c.easeSinOut=function(k){return Math.sin(k*bo)};c.every=function(k,A){if("function"!==typeof A)throw new TypeError("test is not a function");for(var I=-1,G=$jscomp.makeIterator(k),J=G.next();!J.done;J=G.next())if(!A(J.value,++I,k))return!1;return!0};c.extent=oa;c.fcumsum=function(k,A){var I=new xb,G=-1;return Float64Array.from(k,void 0===A?function(J){return I.add(+J||
0)}:function(J){return I.add(+A(J,++G,k)||0)})};c.filter=function(k,A){if("function"!==typeof A)throw new TypeError("test is not a function");for(var I=[],G=-1,J=$jscomp.makeIterator(k),M=J.next();!M.done;M=J.next())M=M.value,A(M,++G,k)&&I.push(M);return I};c.forceCenter=function(k,A){function I(){var M,W=G.length,T=0,fa=0;for(M=0;M<W;++M){var ha=G[M];T+=ha.x;fa+=ha.y}T=(T/W-k)*J;fa=(fa/W-A)*J;for(M=0;M<W;++M)ha=G[M],ha.x-=T,ha.y-=fa}var G,J=1;null==k&&(k=0);null==A&&(A=0);I.initialize=function(M){G=
M};I.x=function(M){return arguments.length?(k=+M,I):k};I.y=function(M){return arguments.length?(A=+M,I):A};I.strength=function(M){return arguments.length?(J=+M,I):J};return I};c.forceCollide=function(k){function A(){function ha(za,la,Da,Na,Ta){var cb=za.data;za=za.r;var Za=wa+za;if(cb)cb.index>da.index&&(la=pa-cb.x-cb.vx,Da=ea-cb.y-cb.vy,Na=la*la+Da*Da,Na<Za*Za&&(0===la&&(la=1E-6*(W()-.5),Na+=la*la),0===Da&&(Da=1E-6*(W()-.5),Na+=Da*Da),Na=(Za-(Na=Math.sqrt(Na)))/Na*T,da.vx+=(la*=Na)*(Za=(za*=za)/
(ja+za)),da.vy+=(Da*=Na)*Za,cb.vx-=la*(Za=1-Za),cb.vy-=Da*Za));else return la>pa+Za||Na<pa-Za||Da>ea+Za||Ta<ea-Za}for(var na,ua=J.length,R,da,pa,ea,wa,ja,ya=0;ya<fa;++ya)for(R=Hf(J,fs,gs).visitAfter(I),na=0;na<ua;++na)da=J[na],wa=M[da.index],ja=wa*wa,pa=da.x+da.vx,ea=da.y+da.vy,R.visit(ha)}function I(ha){if(ha.data)return ha.r=M[ha.data.index];for(var na=ha.r=0;4>na;++na)ha[na]&&ha[na].r>ha.r&&(ha.r=ha[na].r)}function G(){if(J){var ha,na=J.length;M=Array(na);for(ha=0;ha<na;++ha){var ua=J[ha];M[ua.index]=
+k(ua,ha,J)}}}var J,M,W,T=1,fa=1;"function"!==typeof k&&(k=Bb(null==k?1:+k));A.initialize=function(ha,na){J=ha;W=na;G()};A.iterations=function(ha){return arguments.length?(fa=+ha,A):fa};A.strength=function(ha){return arguments.length?(T=+ha,A):T};A.radius=function(ha){return arguments.length?(k="function"===typeof ha?ha:Bb(+ha),G(),A):k};return A};c.forceLink=function(k){function A(ea){for(var wa=0,ja=k.length;wa<pa;++wa)for(var ya=0,za,la,Da,Na,Ta;ya<ja;++ya)za=k[ya],la=za.source,za=za.target,Da=
za.x+za.vx-la.x-la.vx||1E-6*(da()-.5),Na=za.y+za.vy-la.y-la.vy||1E-6*(da()-.5),Ta=Math.sqrt(Da*Da+Na*Na),Ta=(Ta-ha[ya])/Ta*ea*T[ya],Da*=Ta,Na*=Ta,za.vx-=Da*(Ta=R[ya]),za.vy-=Na*Ta,la.vx+=Da*(Ta=1-Ta),la.vy+=Na*Ta}function I(){if(na){var ea=na.length,wa=k.length,ja=new Map(na.map(function(za,la){return[M(za,la,na),za]}));var ya=0;for(ua=Array(ea);ya<wa;++ya)ea=k[ya],ea.index=ya,"object"!==typeof ea.source&&(ea.source=Uk(ja,ea.source)),"object"!==typeof ea.target&&(ea.target=Uk(ja,ea.target)),ua[ea.source.index]=
(ua[ea.source.index]||0)+1,ua[ea.target.index]=(ua[ea.target.index]||0)+1;ya=0;for(R=Array(wa);ya<wa;++ya)ea=k[ya],R[ya]=ua[ea.source.index]/(ua[ea.source.index]+ua[ea.target.index]);T=Array(wa);G();ha=Array(wa);J()}}function G(){if(na)for(var ea=0,wa=k.length;ea<wa;++ea)T[ea]=+W(k[ea],ea,k)}function J(){if(na)for(var ea=0,wa=k.length;ea<wa;++ea)ha[ea]=+fa(k[ea],ea,k)}var M=hs,W=function(ea){return 1/Math.min(ua[ea.source.index],ua[ea.target.index])},T,fa=Bb(30),ha,na,ua,R,da,pa=1;null==k&&(k=[]);
A.initialize=function(ea,wa){na=ea;da=wa;I()};A.links=function(ea){return arguments.length?(k=ea,I(),A):k};A.id=function(ea){return arguments.length?(M=ea,A):M};A.iterations=function(ea){return arguments.length?(pa=+ea,A):pa};A.strength=function(ea){return arguments.length?(W="function"===typeof ea?ea:Bb(+ea),G(),A):W};A.distance=function(ea){return arguments.length?(fa="function"===typeof ea?ea:Bb(+ea),J(),A):fa};return A};c.forceManyBody=function(){function k(da){var pa=J.length,ea=Hf(J,js,ks).visitAfter(I);
T=da;for(da=0;da<pa;++da)M=J[da],ea.visit(G)}function A(){if(J){var da,pa=J.length;ha=Array(pa);for(da=0;da<pa;++da){var ea=J[da];ha[ea.index]=+fa(ea,da,J)}}}function I(da){var pa=0,ea,wa,ja=0,ya,za,la;if(da.length){for(ya=za=la=0;4>la;++la)(ea=da[la])&&(wa=Math.abs(ea.value))&&(pa+=ea.value,ja+=wa,ya+=wa*ea.x,za+=wa*ea.y);da.x=ya/ja;da.y=za/ja}else{ea=da;ea.x=ea.data.x;ea.y=ea.data.y;do pa+=ha[ea.data.index];while(ea=ea.next)}da.value=pa}function G(da,pa,ea,wa){if(!da.value)return!0;ea=da.x-M.x;
var ja=da.y-M.y;pa=wa-pa;wa=ea*ea+ja*ja;if(pa*pa/R<wa)return wa<ua&&(0===ea&&(ea=1E-6*(W()-.5),wa+=ea*ea),0===ja&&(ja=1E-6*(W()-.5),wa+=ja*ja),wa<na&&(wa=Math.sqrt(na*wa)),M.vx+=ea*da.value*T/wa,M.vy+=ja*da.value*T/wa),!0;if(!(da.length||wa>=ua)){if(da.data!==M||da.next)0===ea&&(ea=1E-6*(W()-.5),wa+=ea*ea),0===ja&&(ja=1E-6*(W()-.5),wa+=ja*ja),wa<na&&(wa=Math.sqrt(na*wa));do da.data!==M&&(pa=ha[da.data.index]*T/wa,M.vx+=ea*pa,M.vy+=ja*pa);while(da=da.next)}}var J,M,W,T,fa=Bb(-30),ha,na=1,ua=Infinity,
R=.81;k.initialize=function(da,pa){J=da;W=pa;A()};k.strength=function(da){return arguments.length?(fa="function"===typeof da?da:Bb(+da),A(),k):fa};k.distanceMin=function(da){return arguments.length?(na=da*da,k):Math.sqrt(na)};k.distanceMax=function(da){return arguments.length?(ua=da*da,k):Math.sqrt(ua)};k.theta=function(da){return arguments.length?(R=da*da,k):Math.sqrt(R)};return k};c.forceRadial=function(k,A,I){function G(ha){for(var na=0,ua=M.length;na<ua;++na){var R=M[na],da=R.x-A||1E-6,pa=R.y-
I||1E-6,ea=Math.sqrt(da*da+pa*pa);ea=(fa[na]-ea)*T[na]*ha/ea;R.vx+=da*ea;R.vy+=pa*ea}}function J(){if(M){var ha,na=M.length;T=Array(na);fa=Array(na);for(ha=0;ha<na;++ha)fa[ha]=+k(M[ha],ha,M),T[ha]=isNaN(fa[ha])?0:+W(M[ha],ha,M)}}var M,W=Bb(.1),T,fa;"function"!==typeof k&&(k=Bb(+k));null==A&&(A=0);null==I&&(I=0);G.initialize=function(ha){M=ha;J()};G.strength=function(ha){return arguments.length?(W="function"===typeof ha?ha:Bb(+ha),J(),G):W};G.radius=function(ha){return arguments.length?(k="function"===
typeof ha?ha:Bb(+ha),J(),G):k};G.x=function(ha){return arguments.length?(A=+ha,G):A};G.y=function(ha){return arguments.length?(I=+ha,G):I};return G};c.forceSimulation=function(k){function A(){I();da.call("tick",M);W<T&&(R.stop(),da.call("end",M))}function I(ea){var wa,ja=k.length;void 0===ea&&(ea=1);for(var ya=0;ya<ea;++ya)for(W+=(ha-W)*fa,ua.forEach(function(la){la(W)}),wa=0;wa<ja;++wa){var za=k[wa];null==za.fx?za.x+=za.vx*=na:(za.x=za.fx,za.vx=0);null==za.fy?za.y+=za.vy*=na:(za.y=za.fy,za.vy=0)}return M}
function G(){for(var ea=0,wa=k.length,ja;ea<wa;++ea){ja=k[ea];ja.index=ea;null!=ja.fx&&(ja.x=ja.fx);null!=ja.fy&&(ja.y=ja.fy);if(isNaN(ja.x)||isNaN(ja.y)){var ya=10*Math.sqrt(.5+ea),za=ea*Jv;ja.x=ya*Math.cos(za);ja.y=ya*Math.sin(za)}if(isNaN(ja.vx)||isNaN(ja.vy))ja.vx=ja.vy=0}}function J(ea){ea.initialize&&ea.initialize(k,pa);return ea}var M,W=1,T=.001,fa=1-Math.pow(T,1/300),ha=0,na=.6,ua=new Map,R=wf(A),da=hd("tick","end"),pa=is();null==k&&(k=[]);G();return M={tick:I,restart:function(){return R.restart(A),
M},stop:function(){return R.stop(),M},nodes:function(ea){return arguments.length?(k=ea,G(),ua.forEach(J),M):k},alpha:function(ea){return arguments.length?(W=+ea,M):W},alphaMin:function(ea){return arguments.length?(T=+ea,M):T},alphaDecay:function(ea){return arguments.length?(fa=+ea,M):+fa},alphaTarget:function(ea){return arguments.length?(ha=+ea,M):ha},velocityDecay:function(ea){return arguments.length?(na=1-ea,M):1-na},randomSource:function(ea){return arguments.length?(pa=ea,ua.forEach(J),M):pa},
force:function(ea,wa){return 1<arguments.length?(null==wa?ua.delete(ea):ua.set(ea,J(wa)),M):ua.get(ea)},find:function(ea,wa,ja){var ya,za=k.length;ja=null==ja?Infinity:ja*ja;for(ya=0;ya<za;++ya){var la=k[ya];var Da=ea-la.x;var Na=wa-la.y;Da=Da*Da+Na*Na;if(Da<ja){var Ta=la;ja=Da}}return Ta},on:function(ea,wa){return 1<arguments.length?(da.on(ea,wa),M):da.on(ea)}}};c.forceX=function(k){function A(T){for(var fa=0,ha=J.length,na;fa<ha;++fa)na=J[fa],na.vx+=(W[fa]-na.x)*M[fa]*T}function I(){if(J){var T,
fa=J.length;M=Array(fa);W=Array(fa);for(T=0;T<fa;++T)M[T]=isNaN(W[T]=+k(J[T],T,J))?0:+G(J[T],T,J)}}var G=Bb(.1),J,M,W;"function"!==typeof k&&(k=Bb(null==k?0:+k));A.initialize=function(T){J=T;I()};A.strength=function(T){return arguments.length?(G="function"===typeof T?T:Bb(+T),I(),A):G};A.x=function(T){return arguments.length?(k="function"===typeof T?T:Bb(+T),I(),A):k};return A};c.forceY=function(k){function A(T){for(var fa=0,ha=J.length,na;fa<ha;++fa)na=J[fa],na.vy+=(W[fa]-na.y)*M[fa]*T}function I(){if(J){var T,
fa=J.length;M=Array(fa);W=Array(fa);for(T=0;T<fa;++T)M[T]=isNaN(W[T]=+k(J[T],T,J))?0:+G(J[T],T,J)}}var G=Bb(.1),J,M,W;"function"!==typeof k&&(k=Bb(null==k?0:+k));A.initialize=function(T){J=T;I()};A.strength=function(T){return arguments.length?(G="function"===typeof T?T:Bb(+T),I(),A):G};A.y=function(T){return arguments.length?(k="function"===typeof T?T:Bb(+T),I(),A):k};return A};c.formatDefaultLocale=bl;c.formatLocale=Xk;c.formatSpecifier=Be;c.fsum=function(k,A){var I=new xb;if(void 0===A){k=$jscomp.makeIterator(k);
for(var G=k.next();!G.done;G=k.next())A=G.value,(A=+A)&&I.add(A)}else{var J=-1,M=$jscomp.makeIterator(k);for(G=M.next();!G.done;G=M.next())G=G.value,(G=+A(G,++J,k))&&I.add(G)}return+I};c.geoAlbers=lm;c.geoAlbersUsa=function(){function k(R){var da=R[0];R=R[1];return na=null,(M.point(da,R),na)||(T.point(da,R),na)||(ha.point(da,R),na)}function A(){I=G=null;return k}var I,G,J=lm(),M,W=ig().rotate([154,0]).center([-2,58.5]).parallels([55,65]),T,fa=ig().rotate([157,0]).center([-3,19.9]).parallels([8,18]),
ha,na,ua={point:function(R,da){na=[R,da]}};k.invert=function(R){var da=J.scale(),pa=J.translate(),ea=(R[0]-pa[0])/da;da=(R[1]-pa[1])/da;return(.12<=da&&.234>da&&-.425<=ea&&-.214>ea?W:.166<=da&&.234>da&&-.214<=ea&&-.115>ea?fa:J).invert(R)};k.stream=function(R){return I&&G===R?I:I=Vs([J.stream(G=R),W.stream(R),fa.stream(R)])};k.precision=function(R){if(!arguments.length)return J.precision();J.precision(R);W.precision(R);fa.precision(R);return A()};k.scale=function(R){if(!arguments.length)return J.scale();
J.scale(R);W.scale(.35*R);fa.scale(R);return k.translate(J.translate())};k.translate=function(R){if(!arguments.length)return J.translate();var da=J.scale(),pa=+R[0],ea=+R[1];M=J.translate(R).clipExtent([[pa-.455*da,ea-.238*da],[pa+.455*da,ea+.238*da]]).stream(ua);T=W.translate([pa-.307*da,ea+.201*da]).clipExtent([[pa-.425*da+1E-6,ea+.12*da+1E-6],[pa-.214*da-1E-6,ea+.234*da-1E-6]]).stream(ua);ha=fa.translate([pa-.205*da,ea+.212*da]).clipExtent([[pa-.214*da+1E-6,ea+.166*da+1E-6],[pa-.115*da-1E-6,ea+
.234*da-1E-6]]).stream(ua);return A()};k.fitExtent=function(R,da){return Vd(k,R,da)};k.fitSize=function(R,da){return Vd(k,[[0,0],R],da)};k.fitWidth=function(R,da){return ti(k,R,da)};k.fitHeight=function(R,da){return ui(k,R,da)};return k.scale(1070)};c.geoArea=function(k){Ig=new xb;nc(k,vc);return 2*Ig};c.geoAzimuthalEqualArea=function(){return yc(qj).scale(124.75).clipAngle(179.999)};c.geoAzimuthalEqualAreaRaw=qj;c.geoAzimuthalEquidistant=function(){return yc(rj).scale(79.4188).clipAngle(179.999)};
c.geoAzimuthalEquidistantRaw=rj;c.geoBounds=function(k){var A,I,G;bc=vb=-(tb=$b=Infinity);Xc=[];nc(k,Ic);if(A=Xc.length){Xc.sort(ts);k=1;var J=Xc[0];for(I=[J];k<A;++k){var M=Xc[k];ul(J,M[0])||ul(J,M[1])?(cc(J[0],M[1])>cc(J[0],J[1])&&(J[1]=M[1]),cc(M[0],J[1])>cc(J[0],J[1])&&(J[0]=M[0])):I.push(J=M)}var W=-Infinity;A=I.length-1;k=0;for(J=I[A];k<=A;J=M,++k)M=I[k],(G=cc(J[1],M[0]))>W&&(W=G,tb=M[0],vb=J[1])}Xc=Hc=null;return Infinity===tb||Infinity===$b?[[NaN,NaN],[NaN,NaN]]:[[tb,$b],[vb,bc]]};c.geoCentroid=
function(k){Ee=Vf=Sf=Tf=Uf=Wf=Xf=Yf=0;Zh=new xb;$h=new xb;ai=new xb;nc(k,oc);k=+Zh;var A=+$h,I=+ai,G=Yh(k,A,I);return 1E-12>G&&(k=Wf,A=Xf,I=Yf,1E-6>Vf&&(k=Sf,A=Tf,I=Uf),G=Yh(k,A,I),1E-12>G)?[NaN,NaN]:[Sb(A,k)*lb,Rb(I/G)*lb]};c.geoCircle=function(){function k(){var T=A.apply(this,arguments),fa=I.apply(this,arguments)*Va,ha=G.apply(this,arguments)*Va;J=[];M=di(-T[0]*Va,-T[1]*Va,0).invert;El(W,fa,ha,1);T={type:"Polygon",coordinates:[J]};J=M=null;return T}var A=Sd([0,0]),I=Sd(90),G=Sd(6),J,M,W={point:function(T,
fa){J.push(T=M(T,fa));T[0]*=lb;T[1]*=lb}};k.center=function(T){return arguments.length?(A="function"===typeof T?T:Sd([+T[0],+T[1]]),k):A};k.radius=function(T){return arguments.length?(I="function"===typeof T?T:Sd(+T),k):I};k.precision=function(T){return arguments.length?(G="function"===typeof T?T:Sd(+T),k):G};return k};c.geoClipAntimeridian=wi;c.geoClipCircle=Ll;c.geoClipExtent=function(){var k=0,A=0,I=960,G=500,J,M,W;return W={stream:function(T){return J&&M===T?J:J=ag(k,A,I,G)(M=T)},extent:function(T){return arguments.length?
(k=+T[0][0],A=+T[0][1],I=+T[1][0],G=+T[1][1],J=M=null,W):[[k,A],[I,G]]}}};c.geoClipRectangle=ag;c.geoConicConformal=function(){return xi(om).scale(109.5).parallels([30,30])};c.geoConicConformalRaw=om;c.geoConicEqualArea=ig;c.geoConicEqualAreaRaw=km;c.geoConicEquidistant=function(){return xi(pm).scale(131.154).center([0,13.9389])};c.geoConicEquidistantRaw=pm;c.geoContains=function(k,A){return(k&&ko.hasOwnProperty(k.type)?ko[k.type]:dg)(k,A)};c.geoDistance=Fe;c.geoEqualEarth=function(){return yc(zi).scale(177.158)};
c.geoEqualEarthRaw=zi;c.geoEquirectangular=function(){return yc(Pe).scale(152.63)};c.geoEquirectangularRaw=Pe;c.geoGnomonic=function(){return yc(Ai).scale(144.049).clipAngle(60)};c.geoGnomonicRaw=Ai;c.geoGraticule=Tl;c.geoGraticule10=function(){return Tl()()};c.geoIdentity=function(){function k(){pa=I*M;ea=I*W;ya=za=null;return A}function A(la){var Da=la[0]*pa;la=la[1]*ea;if(T){var Na=la*fa-Da*ha;Da=Da*fa+la*ha;la=Na}return[Da+G,la+J]}var I=1,G=0,J=0,M=1,W=1,T=0,fa,ha,na=null,ua,R,da,pa=1,ea=1,wa=
Le({point:function(la,Da){la=A([la,Da]);this.stream.point(la[0],la[1])}}),ja=Me,ya,za;A.invert=function(la){var Da=la[0]-G;la=la[1]-J;if(T){var Na=la*fa+Da*ha;Da=Da*fa-la*ha;la=Na}return[Da/pa,la/ea]};A.stream=function(la){return ya&&za===la?ya:ya=wa(ja(za=la))};A.postclip=function(la){return arguments.length?(ja=la,na=ua=R=da=null,k()):ja};A.clipExtent=function(la){return arguments.length?(ja=null==la?(na=ua=R=da=null,Me):ag(na=+la[0][0],ua=+la[0][1],R=+la[1][0],da=+la[1][1]),k()):null==na?null:
[[na,ua],[R,da]]};A.scale=function(la){return arguments.length?(I=+la,k()):I};A.translate=function(la){return arguments.length?(G=+la[0],J=+la[1],k()):[G,J]};A.angle=function(la){return arguments.length?(T=la%360*Va,ha=Oa(T),fa=Sa(T),k()):T*lb};A.reflectX=function(la){return arguments.length?(M=la?-1:1,k()):0>M};A.reflectY=function(la){return arguments.length?(W=la?-1:1,k()):0>W};A.fitExtent=function(la,Da){return Vd(A,la,Da)};A.fitSize=function(la,Da){return Vd(A,[[0,0],la],Da)};A.fitWidth=function(la,
Da){return ti(A,la,Da)};A.fitHeight=function(la,Da){return ui(A,la,Da)};return A};c.geoInterpolate=function(k,A){var I=k[0]*Va,G=k[1]*Va;k=A[0]*Va;A=A[1]*Va;var J=Sa(G),M=Oa(G),W=Sa(A),T=Oa(A),fa=J*Sa(I),ha=J*Oa(I),na=W*Sa(k),ua=W*Oa(k),R=2*Rb(Fb(gl(A-G)+J*W*gl(k-I))),da=Oa(R);k=R?function(pa){var ea=Oa(pa*=R)/da,wa=Oa(R-pa)/da;pa=wa*fa+ea*na;var ja=wa*ha+ea*ua;ea=wa*M+ea*T;return[Sb(ja,pa)*lb,Sb(ea,Fb(pa*pa+ja*ja))*lb]}:function(){return[I*lb,G*lb]};k.distance=R;return k};c.geoLength=Ml;c.geoMercator=
function(){return nm(Oe).scale(961/Wb)};c.geoMercatorRaw=Oe;c.geoNaturalEarth1=function(){return yc(Bi).scale(175.295)};c.geoNaturalEarth1Raw=Bi;c.geoOrthographic=function(){return yc(Ci).scale(249.5).clipAngle(90.000001)};c.geoOrthographicRaw=Ci;c.geoPath=function(k,A){function I(W){W&&("function"===typeof G&&M.pointRadius(+G.apply(this,arguments)),nc(W,J(M)));return M.result()}var G=4.5,J,M;I.area=function(W){nc(W,J(Jc));return Jc.result()};I.measure=function(W){nc(W,J(Ie));return Ie.result()};
I.bounds=function(W){nc(W,J(hg));return hg.result()};I.centroid=function(W){nc(W,J(gc));return gc.result()};I.projection=function(W){return arguments.length?(J=null==W?(k=null,Me):(k=W).stream,I):k};I.context=function(W){if(!arguments.length)return A;M=null==W?(A=null,new fm):new bm(A=W);"function"!==typeof G&&M.pointRadius(G);return I};I.pointRadius=function(W){if(!arguments.length)return G;G="function"===typeof W?W:(M.pointRadius(+W),+W);return I};return I.projection(k).context(A)};c.geoProjection=
yc;c.geoProjectionMutator=vi;c.geoRotation=Dl;c.geoStereographic=function(){return yc(Di).scale(250).clipAngle(142)};c.geoStereographicRaw=Di;c.geoStream=nc;c.geoTransform=function(k){return{stream:Le(k)}};c.geoTransverseMercator=function(){var k=nm(Ei),A=k.center,I=k.rotate;k.center=function(G){return arguments.length?A([-G[1],G[0]]):(G=A(),[G[1],-G[0]])};k.rotate=function(G){return arguments.length?I([G[0],G[1],2<G.length?G[2]+90:90]):(G=I(),[G[0],G[1],G[2]-90])};return I([0,0,90]).scale(159.155)};
c.geoTransverseMercatorRaw=Ei;c.gray=function(k,A){return new kc(k,0,0,null==A?1:A)};c.greatest=function(k,A){A=void 0===A?l:A;var I=!1;if(1===A.length){k=$jscomp.makeIterator(k);for(var G=k.next();!G.done;G=k.next()){G=G.value;var J=A(G);if(I?0<l(J,W):0===l(J,J)){var M=G;var W=J;I=!0}}}else for(W=$jscomp.makeIterator(k),k=W.next();!k.done;k=W.next())if(k=k.value,I?0<A(k,M):0===A(k,k))M=k,I=!0;return M};c.greatestIndex=function(k,A){A=void 0===A?l:A;if(1===A.length)return fd(k,A);var I=-1,G=-1;k=
$jscomp.makeIterator(k);for(var J=k.next();!J.done;J=k.next())if(J=J.value,++G,0>I?0===A(J,J):0<A(J,M)){var M=J;I=G}return I};c.group=La;c.groupSort=function(k,A,I){return(1===A.length?gb(Qa(k,A,I),function(G,J){var M=$jscomp.makeIterator(G);G=M.next().value;M=M.next().value;var W=$jscomp.makeIterator(J);J=W.next().value;W=W.next().value;return l(M,W)||l(G,J)}):gb(La(k,I),function(G,J){var M=$jscomp.makeIterator(G);G=M.next().value;M=M.next().value;var W=$jscomp.makeIterator(J);J=W.next().value;W=
W.next().value;return A(M,W)||l(G,J)})).map(function(G){return $jscomp.makeIterator(G).next().value})};c.groups=function(k,A){for(var I=[],G=1;G<arguments.length;++G)I[G-1]=arguments[G];return Xa(k,Array.from,Ca,I)};c.hcl=rf;c.hierarchy=Fi;c.histogram=dd;c.hsl=pf;c.html=Hv;c.image=function(k,A){return new Promise(function(I,G){var J=new Image,M;for(M in A)J[M]=A[M];J.onerror=G;J.onload=function(){I(J)};J.src=k})};c.index=function(k,A){for(var I=[],G=1;G<arguments.length;++G)I[G-1]=arguments[G];return Xa(k,
Ca,Ua,I)};c.indexes=function(k,A){for(var I=[],G=1;G<arguments.length;++G)I[G-1]=arguments[G];return Xa(k,Array.from,Ua,I)};c.interpolate=Tc;c.interpolateArray=function(k,A){return(ek(A)?sh:fk)(k,A)};c.interpolateBasis=ak;c.interpolateBasisClosed=bk;c.interpolateBlues=Zw;c.interpolateBrBG=Ew;c.interpolateBuGn=Nw;c.interpolateBuPu=Ow;c.interpolateCividis=function(k){k=Math.max(0,Math.min(1,k));return"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-k*(35.34-k*(2381.73-k*(6402.7-k*(7024.72-2710.57*k)))))))+
", "+Math.max(0,Math.min(255,Math.round(32.49+k*(170.73+k*(52.82-k*(131.46-k*(176.58-67.37*k)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+k*(442.36-k*(2482.43-k*(6167.24-k*(6614.94-2475.67*k)))))))+")"};c.interpolateCool=gx;c.interpolateCubehelix=ev;c.interpolateCubehelixDefault=ex;c.interpolateCubehelixLong=Gg;c.interpolateDate=gk;c.interpolateDiscrete=function(k){var A=k.length;return function(I){return k[Math.max(0,Math.min(A-1,Math.floor(I*A)))]}};c.interpolateGnBu=Pw;c.interpolateGreens=
$w;c.interpolateGreys=ax;c.interpolateHcl=cv;c.interpolateHclLong=dv;c.interpolateHsl=av;c.interpolateHslLong=bv;c.interpolateHue=function(k,A){var I=sf(+k,+A);return function(G){G=I(G);return G-360*Math.floor(G/360)}};c.interpolateInferno=lx;c.interpolateLab=function(k,A){var I=Eb((k=qf(k)).l,(A=qf(A)).l),G=Eb(k.a,A.a),J=Eb(k.b,A.b),M=Eb(k.opacity,A.opacity);return function(W){k.l=I(W);k.a=G(W);k.b=J(W);k.opacity=M(W);return k+""}};c.interpolateMagma=kx;c.interpolateNumber=ec;c.interpolateNumberArray=
sh;c.interpolateObject=hk;c.interpolateOrRd=Qw;c.interpolateOranges=dx;c.interpolatePRGn=Fw;c.interpolatePiYG=Gw;c.interpolatePlasma=mx;c.interpolatePuBu=Sw;c.interpolatePuBuGn=Rw;c.interpolatePuOr=Hw;c.interpolatePuRd=Tw;c.interpolatePurples=bx;c.interpolateRainbow=function(k){if(0>k||1<k)k-=Math.floor(k);var A=Math.abs(k-.5);Rg.h=360*k-100;Rg.s=1.5-1.5*A;Rg.l=.8-.9*A;return Rg+""};c.interpolateRdBu=Iw;c.interpolateRdGy=Jw;c.interpolateRdPu=Uw;c.interpolateRdYlBu=Kw;c.interpolateRdYlGn=Lw;c.interpolateReds=
cx;c.interpolateRgb=re;c.interpolateRgbBasis=Wn;c.interpolateRgbBasisClosed=$u;c.interpolateRound=uf;c.interpolateSinebow=function(k){var A;k=(.5-k)*Math.PI;Sg.r=255*(A=Math.sin(k))*A;Sg.g=255*(A=Math.sin(k+hx))*A;Sg.b=255*(A=Math.sin(k+ix))*A;return Sg+""};c.interpolateSpectral=Mw;c.interpolateString=th;c.interpolateTransformCss=Xn;c.interpolateTransformSvg=Yn;c.interpolateTurbo=function(k){k=Math.max(0,Math.min(1,k));return"rgb("+Math.max(0,Math.min(255,Math.round(34.61+k*(1172.33-k*(10793.56-k*
(33300.12-k*(38394.49-14825.05*k)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+k*(557.33+k*(1225.33-k*(3574.96-k*(1073.77+707.56*k)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+k*(3211.1-k*(15327.97-k*(27814-k*(22569.18-6838.66*k)))))))+")"};c.interpolateViridis=jx;c.interpolateWarm=fx;c.interpolateYlGn=Ww;c.interpolateYlGnBu=Vw;c.interpolateYlOrBr=Xw;c.interpolateYlOrRd=Yw;c.interpolateZoom=Zn;c.interrupt=md;c.intersection=function(k,A){for(var I=[],G=1;G<arguments.length;++G)I[G-1]=
arguments[G];k=new Set(k);I=I.map(Zg);G=$jscomp.makeIterator(k);var J=G.next();a:for(;!J.done;J=G.next()){J=J.value;for(var M=$jscomp.makeIterator(I),W=M.next();!W.done;W=M.next())if(!W.value.has(J)){k.delete(J);continue a}}return k};c.interval=function(k,A,I){var G=new ue,J=A;if(null==A)return G.restart(k,A,I),G;G._restart=G.restart;G.restart=function(M,W,T){W=+W;T=null==T?se():+T;G._restart(function na(ha){ha+=J;G._restart(na,J+=W,T);M(ha)},W,T)};G.restart(k,A,I);return G};c.isoFormat=sw;c.isoParse=
tw;c.json=function(k,A){return fetch(k,A).then(cs)};c.lab=qf;c.lch=function(k,A,I,G){return 1===arguments.length?Vj(k):new sc(I,A,k,null==G?1:G)};c.least=function(k,A){A=void 0===A?l:A;var I=!1;if(1===A.length){k=$jscomp.makeIterator(k);for(var G=k.next();!G.done;G=k.next()){G=G.value;var J=A(G);if(I?0>l(J,W):0===l(J,J)){var M=G;var W=J;I=!0}}}else for(W=$jscomp.makeIterator(k),k=W.next();!k.done;k=W.next())if(k=k.value,I?0>A(k,M):0===A(k,k))M=k,I=!0;return M};c.leastIndex=Ed;c.line=cj;c.lineRadial=
An;c.linkHorizontal=function(){return ej(Lu)};c.linkRadial=function(){var k=ej(Nu);k.angle=k.x;delete k.x;k.radius=k.y;delete k.y;return k};c.linkVertical=function(){return ej(Mu)};c.local=Hj;c.map=function(k,A){if("function"!==typeof k[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof A)throw new TypeError("mapper is not a function");return Array.from(k,function(I,G){return A(I,G,k)})};c.matcher=fh;c.max=Dc;c.maxIndex=fd;c.mean=function(k,A){var I=0,G=0;if(void 0===
A){k=$jscomp.makeIterator(k);for(var J=k.next();!J.done;J=k.next())A=J.value,null!=A&&(A=+A)>=A&&(++I,G+=A)}else{var M=-1,W=$jscomp.makeIterator(k);for(J=W.next();!J.done;J=W.next())J=J.value,null!=(J=A(J,++M,k))&&(J=+J)>=J&&(++I,G+=J)}if(I)return G/I};c.median=function(k,A){return qc(k,.5,A)};c.merge=gd;c.min=Ec;c.minIndex=Dd;c.namespace=pe;c.namespaces=ch;c.nice=Oc;c.now=se;c.pack=function(){function k(M){M.x=I/2;M.y=G/2;A?M.eachBefore(zm(A)).eachAfter(Hi(J,.5)).eachBefore(Am(1)):M.eachBefore(zm(et)).eachAfter(Hi(rd,
1)).eachAfter(Hi(J,M.r/Math.min(I,G))).eachBefore(Am(Math.min(I,G)/(2*M.r)));return M}var A=null,I=1,G=1,J=rd;k.radius=function(M){return arguments.length?(A=null==M?null:ng(M),k):A};k.size=function(M){return arguments.length?(I=+M[0],G=+M[1],k):[I,G]};k.padding=function(M){return arguments.length?(J="function"===typeof M?M:Zd(+M),k):J};return k};c.packEnclose=sm;c.packSiblings=function(k){ym(k);return k};c.pairs=function(k,A){A=void 0===A?ne:A;var I=[],G=!1;k=$jscomp.makeIterator(k);for(var J=k.next();!J.done;J=
k.next()){J=J.value;G&&I.push(A(M,J));var M=J;G=!0}return I};c.partition=function(){function k(W){var T=W.height+1;W.x0=W.y0=J;W.x1=I;W.y1=G/T;W.eachBefore(A(G,T));M&&W.eachBefore(Bm);return W}function A(W,T){return function(fa){fa.children&&Re(fa,fa.x0,W*(fa.depth+1)/T,fa.x1,W*(fa.depth+2)/T);var ha=fa.x0,na=fa.y0,ua=fa.x1-J,R=fa.y1-J;ua<ha&&(ha=ua=(ha+ua)/2);R<na&&(na=R=(na+R)/2);fa.x0=ha;fa.y0=na;fa.x1=ua;fa.y1=R}}var I=1,G=1,J=0,M=!1;k.round=function(W){return arguments.length?(M=!!W,k):M};k.size=
function(W){return arguments.length?(I=+W[0],G=+W[1],k):[I,G]};k.padding=function(W){return arguments.length?(J=+W,k):J};return k};c.path=Vc;c.permute=db;c.pie=function(){function k(T){var fa,ha=(T=wg(T)).length;var na=0;var ua=Array(ha),R=Array(ha),da=+J.apply(this,arguments);var pa=Math.min(bd,Math.max(-bd,M.apply(this,arguments)-da));var ea=Math.min(Math.abs(pa)/ha,W.apply(this,arguments)),wa=ea*(0>pa?-1:1),ja;for(fa=0;fa<ha;++fa)0<(ja=R[ua[fa]=fa]=+A(T[fa],fa,T))&&(na+=ja);null!=I?ua.sort(function(za,
la){return I(R[za],R[la])}):null!=G&&ua.sort(function(za,la){return G(T[za],T[la])});fa=0;for(pa=na?(pa-ha*wa)/na:0;fa<ha;++fa,da=ya){na=ua[fa];ja=R[na];var ya=da+(0<ja?ja*pa:0)+wa;R[na]={data:T[na],index:fa,value:ja,startAngle:da,endAngle:ya,padAngle:ea}}return R}var A=Hu,I=Gu,G=null,J=$a(0),M=$a(bd),W=$a(0);k.value=function(T){return arguments.length?(A="function"===typeof T?T:$a(+T),k):A};k.sortValues=function(T){return arguments.length?(I=T,G=null,k):I};k.sort=function(T){return arguments.length?
(G=T,I=null,k):G};k.startAngle=function(T){return arguments.length?(J="function"===typeof T?T:$a(+T),k):J};k.endAngle=function(T){return arguments.length?(M="function"===typeof T?T:$a(+T),k):M};k.padAngle=function(T){return arguments.length?(W="function"===typeof T?T:$a(+T),k):W};return k};c.piecewise=pk;c.pointRadial=Ze;c.pointer=ac;c.pointers=function(k,A){k.target&&(k=Ij(k),void 0===A&&(A=k.currentTarget),k=k.touches||[k]);return Array.from(k,function(I){return ac(I,A)})};c.polygonArea=function(k){for(var A=
-1,I=k.length,G,J=k[I-1],M=0;++A<I;)G=J,J=k[A],M+=G[1]*J[0]-G[0]*J[1];return M/2};c.polygonCentroid=function(k){for(var A=-1,I=k.length,G=0,J=0,M,W=k[I-1],T,fa=0;++A<I;)M=W,W=k[A],fa+=T=M[0]*W[1]-W[0]*M[1],G+=(M[0]+W[0])*T,J+=(M[1]+W[1])*T;return fa*=3,[G/fa,J/fa]};c.polygonContains=function(k,A){var I=k.length,G=k[I-1],J=A[0];A=A[1];for(var M=G[0],W=G[1],T,fa=!1,ha=0;ha<I;++ha)G=k[ha],T=G[0],G=G[1],G>A!==W>A&&J<(M-T)*(A-G)/(W-G)+T&&(fa=!fa),M=T,W=G;return fa};c.polygonHull=function(k){if(3>(I=k.length))return null;
var A,I,G=Array(I),J=Array(I);for(A=0;A<I;++A)G[A]=[+k[A][0],+k[A][1],A];G.sort(kt);for(A=0;A<I;++A)J[A]=[G[A][0],-G[A][1]];I=Dm(G);J=Dm(J);var M=J[0]===I[0],W=J[J.length-1]===I[I.length-1],T=[];for(A=I.length-1;0<=A;--A)T.push(k[G[I[A]][2]]);for(A=+M;A<J.length-W;++A)T.push(k[G[J[A]][2]]);return T};c.polygonLength=function(k){var A=-1,I=k.length,G=k[I-1],J=G[0];G=G[1];for(var M=0;++A<I;){var W=J;var T=G;G=k[A];J=G[0];G=G[1];W-=J;T-=G;M+=Math.hypot(W,T)}return M};c.precisionFixed=cl;c.precisionPrefix=
dl;c.precisionRound=el;c.quadtree=Hf;c.quantile=qc;c.quantileSorted=ed;c.quantize=function(k,A){for(var I=Array(A),G=0;G<A;++G)I[G]=k(G/(A-1));return I};c.quickselect=Qc;c.radialArea=Cn;c.radialLine=An;c.randomBates=Pv;c.randomBernoulli=Sv;c.randomBeta=qo;c.randomBinomial=ro;c.randomCauchy=Uv;c.randomExponential=Qv;c.randomGamma=tj;c.randomGeometric=po;c.randomInt=Nv;c.randomIrwinHall=oo;c.randomLcg=function(k){k=void 0===k?Math.random():k;var A=(0<=k&&1>k?k/so:Math.abs(k))|0;return function(){return A=
1664525*A+1013904223|0,so*(A>>>0)}};c.randomLogNormal=Ov;c.randomLogistic=Vv;c.randomNormal=sj;c.randomPareto=Rv;c.randomPoisson=Wv;c.randomUniform=Mv;c.randomWeibull=Tv;c.range=Yb;c.reduce=function(k,A,I){if("function"!==typeof A)throw new TypeError("reducer is not a function");var G=k[Symbol.iterator](),J,M=-1;if(3>arguments.length){var W=G.next();var T=W.done;I=W.value;if(T)return;++M}for(;function(){var fa=G.next();T=fa.done;J=fa.value;return fa}(),!T;)I=A(I,J,++M,k);return I};c.reverse=function(k){if("function"!==
typeof k[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(k).reverse()};c.rgb=Hd;c.ribbon=function(){return Jk()};c.ribbonArrow=function(){return Jk(Mr)};c.rollup=Qa;c.rollups=function(k,A,I){for(var G=[],J=2;J<arguments.length;++J)G[J-2]=arguments[J];return Xa(k,Array.from,A,G)};c.scaleBand=Mi;c.scaleDiverging=tn;c.scaleDivergingLog=un;c.scaleDivergingPow=$i;c.scaleDivergingSqrt=function(){return $i.apply(null,arguments).exponent(.5)};c.scaleDivergingSymlog=vn;c.scaleIdentity=
Im;c.scaleImplicit=Li;c.scaleLinear=Hm;c.scaleLog=Nm;c.scaleOrdinal=Ki;c.scalePoint=function(){return Em(Mi.apply(null,arguments).paddingInner(1))};c.scalePow=Ri;c.scaleQuantile=Um;c.scaleQuantize=Vm;c.scaleRadial=Tm;c.scaleSequential=pn;c.scaleSequentialLog=qn;c.scaleSequentialPow=Zi;c.scaleSequentialQuantile=sn;c.scaleSequentialSqrt=function(){return Zi.apply(null,arguments).exponent(.5)};c.scaleSequentialSymlog=rn;c.scaleSqrt=function(){return Ri.apply(null,arguments).exponent(.5)};c.scaleSymlog=
Qm;c.scaleThreshold=Wm;c.scaleTime=function(){return hc.apply(Yi(Jo,Ko,zc,Ng,de,ce,Mg,Lg,Lc,c.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};c.scaleUtc=function(){return hc.apply(Yi(Go,Ho,Ac,Qg,ee,be,Pg,Og,Lc,c.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};c.scan=function(k,A){k=Ed(k,A);return 0>k?void 0:k};c.schemeAccent=vw;c.schemeBlues=fp;c.schemeBrBG=Lo;c.schemeBuGn=Uo;c.schemeBuPu=Vo;c.schemeCategory10=uw;c.schemeDark2=ww;c.schemeGnBu=Wo;c.schemeGreens=
gp;c.schemeGreys=hp;c.schemeOrRd=Xo;c.schemeOranges=kp;c.schemePRGn=Mo;c.schemePaired=xw;c.schemePastel1=yw;c.schemePastel2=zw;c.schemePiYG=No;c.schemePuBu=Zo;c.schemePuBuGn=Yo;c.schemePuOr=Oo;c.schemePuRd=$o;c.schemePurples=ip;c.schemeRdBu=Po;c.schemeRdGy=Qo;c.schemeRdPu=ap;c.schemeRdYlBu=Ro;c.schemeRdYlGn=So;c.schemeReds=jp;c.schemeSet1=Aw;c.schemeSet2=Bw;c.schemeSet3=Cw;c.schemeSpectral=To;c.schemeTableau10=Dw;c.schemeYlGn=cp;c.schemeYlGnBu=bp;c.schemeYlOrBr=dp;c.schemeYlOrRd=ep;c.select=Kb;c.selectAll=
function(k){return"string"===typeof k?new Jb([document.querySelectorAll(k)],[document.documentElement]):new Jb([null==k?[]:dh(k)],ih)};c.selection=jd;c.selector=kf;c.selectorAll=eh;c.shuffle=Zu;c.shuffler=oe;c.some=function(k,A){if("function"!==typeof A)throw new TypeError("test is not a function");for(var I=-1,G=$jscomp.makeIterator(k),J=G.next();!J.done;J=G.next())if(A(J.value,++I,k))return!0;return!1};c.sort=gb;c.stack=function(){function k(M){var W=Array.from(A.apply(this,arguments),Pu),T,fa=
W.length,ha=-1,na=$jscomp.makeIterator(M);for(T=na.next();!T.done;T=na.next()){var ua=T.value;T=0;for(++ha;T<fa;++T)(W[T][ha]=[0,+J(ua,W[T].key,ha,M)]).data=ua}T=0;for(ha=wg(I(W));T<fa;++T)W[ha[T]].index=T;G(W,ha);return W}var A=$a([]),I=ie,G=he,J=Ou;k.keys=function(M){return arguments.length?(A="function"===typeof M?M:$a(Array.from(M)),k):A};k.value=function(M){return arguments.length?(J="function"===typeof M?M:$a(+M),k):J};k.order=function(M){return arguments.length?(I=null==M?ie:"function"===typeof M?
M:$a(Array.from(M)),k):I};k.offset=function(M){return arguments.length?(G=null==M?he:M,k):G};return k};c.stackOffsetDiverging=function(k,A){if(0<(fa=k.length))for(var I,G=0,J,M,W,T,fa,ha=k[A[0]].length;G<ha;++G)for(I=W=T=0;I<fa;++I)0<(M=(J=k[A[I]][G])[1]-J[0])?(J[0]=W,J[1]=W+=M):0>M?(J[1]=T,J[0]=T+=M):(J[0]=0,J[1]=M)};c.stackOffsetExpand=function(k,A){if(0<(G=k.length)){for(var I,G,J=0,M=k[0].length,W;J<M;++J){for(W=I=0;I<G;++I)W+=k[I][J][1]||0;if(W)for(I=0;I<G;++I)k[I][J][1]/=W}he(k,A)}};c.stackOffsetNone=
he;c.stackOffsetSilhouette=function(k,A){if(0<(J=k.length)){for(var I=0,G=k[A[0]],J,M=G.length;I<M;++I){for(var W=0,T=0;W<J;++W)T+=k[W][I][1]||0;G[I][1]+=G[I][0]=-T/2}he(k,A)}};c.stackOffsetWiggle=function(k,A){if(0<(W=k.length)&&0<(M=(J=k[A[0]]).length)){for(var I=0,G=1,J,M,W;G<M;++G){for(var T=0,fa=0,ha=0;T<W;++T){var na=k[A[T]],ua=na[G][1]||0;na=(ua-(na[G-1][1]||0))/2;for(var R=0;R<T;++R){var da=k[A[R]];na+=(da[G][1]||0)-(da[G-1][1]||0)}fa+=ua;ha+=na*ua}J[G-1][1]+=J[G-1][0]=I;fa&&(I-=ha/fa)}J[G-
1][1]+=J[G-1][0]=I;he(k,A)}};c.stackOrderAppearance=Qn;c.stackOrderAscending=Rn;c.stackOrderDescending=function(k){return Rn(k).reverse()};c.stackOrderInsideOut=function(k){var A=k.length,I=k.map(Sn),G=Qn(k),J=0,M=0,W=[],T=[];for(k=0;k<A;++k){var fa=G[k];J<M?(J+=I[fa],W.push(fa)):(M+=I[fa],T.push(fa))}return T.reverse().concat(W)};c.stackOrderNone=ie;c.stackOrderReverse=function(k){return ie(k).reverse()};c.stratify=function(){function k(G){var J=Array.from(G),M=J.length,W,T,fa=new Map;for(W=0;W<
M;++W){var ha=J[W];var na=J[W]=new Yd(ha);if(null!=(T=A(ha,W,G))&&(T+="")){var ua=na.id=T;fa.set(ua,fa.has(ua)?lo:na)}null!=(T=I(ha,W,G))&&(T+="")&&(na.parent=T)}for(W=0;W<M;++W)if(na=J[W],T=na.parent){G=fa.get(T);if(!G)throw Error("missing: "+T);if(G===lo)throw Error("ambiguous: "+T);G.children?G.children.push(na):G.children=[na];na.parent=G}else{if(R)throw Error("multiple roots");var R=na}if(!R)throw Error("no root");R.parent=Kv;R.eachBefore(function(da){da.depth=da.parent.depth+1;--M}).eachBefore(rm);
R.parent=null;if(0<M)throw Error("cycle");return R}var A=ft,I=gt;k.id=function(G){return arguments.length?(A=ng(G),k):A};k.parentId=function(G){return arguments.length?(I=ng(G),k):I};return k};c.style=id;c.subset=function(k,A){return df(A,k)};c.sum=function(k,A){var I=0;if(void 0===A){k=$jscomp.makeIterator(k);for(var G=k.next();!G.done;G=k.next())if(A=G.value,A=+A)I+=A}else{var J=-1,M=$jscomp.makeIterator(k);for(G=M.next();!G.done;G=M.next())if(G=G.value,G=+A(G,++J,k))I+=G}return I};c.superset=df;
c.svg=Iv;c.symbol=function(k,A){function I(){var J;G||(G=J=Vc());k.apply(this,arguments).draw(G,+A.apply(this,arguments));if(J)return G=null,J+""||null}var G=null;k="function"===typeof k?k:$a(k||vj);A="function"===typeof A?A:$a(void 0===A?64:+A);I.type=function(J){return arguments.length?(k="function"===typeof J?J:$a(J),I):k};I.size=function(J){return arguments.length?(A="function"===typeof J?J:$a(+J),I):A};I.context=function(J){return arguments.length?(G=null==J?null:J,I):G};return I};c.symbolCircle=
vj;c.symbolCross=mp;c.symbolDiamond=op;c.symbolSquare=rp;c.symbolStar=qp;c.symbolTriangle=sp;c.symbolWye=tp;c.symbols=rx;c.text=Gf;c.thresholdFreedmanDiaconis=function(k,A,I){return Math.ceil((I-A)/(2*(qc(k,.75)-qc(k,.25))*Math.pow(H(k),-1/3)))};c.thresholdScott=function(k,A,I){return Math.ceil((I-A)/(3.5*X(k)*Math.pow(H(k),-1/3)))};c.thresholdSturges=Cc;c.tickFormat=Gm;c.tickIncrement=ub;c.tickStep=pb;c.ticks=Ab;c.timeDay=ce;c.timeDays=Zv;c.timeFormatDefaultLocale=on;c.timeFormatLocale=Zm;c.timeFriday=
xo;c.timeFridays=dw;c.timeHour=Mg;c.timeHours=Yv;c.timeInterval=Db;c.timeMillisecond=ae;c.timeMilliseconds=to;c.timeMinute=Lg;c.timeMinutes=Xv;c.timeMonday=Ve;c.timeMondays=$v;c.timeMonth=Ng;c.timeMonths=fw;c.timeSaturday=yo;c.timeSaturdays=ew;c.timeSecond=Lc;c.timeSeconds=uo;c.timeSunday=de;c.timeSundays=zo;c.timeThursday=ud;c.timeThursdays=cw;c.timeTickInterval=Ko;c.timeTicks=Jo;c.timeTuesday=vo;c.timeTuesdays=aw;c.timeWednesday=wo;c.timeWednesdays=bw;c.timeWeek=de;c.timeWeeks=zo;c.timeYear=zc;
c.timeYears=gw;c.timeout=xh;c.timer=wf;c.timerFlush=rk;c.transition=vk;c.transpose=cf;c.tree=function(){function k(fa){var ha=it(fa);ha.eachAfter(A);ha.parent.m=-ha.z;ha.eachBefore(I);if(T)fa.eachBefore(G);else{var na=fa,ua=fa,R=fa;fa.eachBefore(function(wa){wa.x<na.x&&(na=wa);wa.x>ua.x&&(ua=wa);wa.depth>R.depth&&(R=wa)});ha=na===ua?1:J(na,ua)/2;var da=ha-na.x,pa=M/(ua.x+ha+da),ea=W/(R.depth||1);fa.eachBefore(function(wa){wa.x=(wa.x+da)*pa;wa.y=wa.depth*ea})}return fa}function A(fa){var ha=fa.children,
na=fa.parent.children,ua=fa.i?na[fa.i-1]:null;if(ha){for(var R=0,da=0,pa=fa.children,ea=pa.length,wa;0<=--ea;)wa=pa[ea],wa.z+=R,wa.m+=R,R+=wa.s+(da+=wa.c);ha=(ha[0].z+ha[ha.length-1].z)/2;ua?(fa.z=ua.z+J(fa._,ua._),fa.m=fa.z-ha):fa.z=ha}else ua&&(fa.z=ua.z+J(fa._,ua._));ha=fa.parent;na=fa.parent.A||na[0];if(ua){da=R=fa;pa=R.parent.children[0];ea=R.m;wa=da.m;for(var ja=ua.m,ya=pa.m,za;ua=Ji(ua),R=Ii(R),ua&&R;){pa=Ii(pa);da=Ji(da);da.a=fa;za=ua.z+ja-R.z-ea+J(ua._,R._);if(0<za){var la=ua.a.parent===
fa.parent?ua.a:na,Da=fa,Na=za,Ta=Na/(Da.i-la.i);Da.c-=Ta;Da.s+=Na;la.c+=Ta;Da.z+=Na;Da.m+=Na;ea+=za;wa+=za}ja+=ua.m;ea+=R.m;ya+=pa.m;wa+=da.m}ua&&!Ji(da)&&(da.t=ua,da.m+=ja-wa);R&&!Ii(pa)&&(pa.t=R,pa.m+=ea-ya,na=fa)}ha.A=na}function I(fa){fa._.x=fa.z+fa.parent.m;fa.m+=fa.parent.m}function G(fa){fa.x*=M;fa.y=fa.depth*W}var J=ht,M=1,W=1,T=null;k.separation=function(fa){return arguments.length?(J=fa,k):J};k.size=function(fa){return arguments.length?(T=!1,M=+fa[0],W=+fa[1],k):T?null:[M,W]};k.nodeSize=
function(fa){return arguments.length?(T=!0,M=+fa[0],W=+fa[1],k):T?[M,W]:null};return k};c.treemap=function(){function k(R){R.x0=R.y0=0;R.x1=J;R.y1=M;R.eachBefore(A);W=[0];G&&R.eachBefore(Bm);return R}function A(R){var da=W[R.depth],pa=R.x0+da,ea=R.y0+da,wa=R.x1-da,ja=R.y1-da;wa<pa&&(pa=wa=(pa+wa)/2);ja<ea&&(ea=ja=(ea+ja)/2);R.x0=pa;R.y0=ea;R.x1=wa;R.y1=ja;R.children&&(da=W[R.depth+1]=T(R)/2,pa+=ua(R)-da,ea+=fa(R)-da,wa-=ha(R)-da,ja-=na(R)-da,wa<pa&&(pa=wa=(pa+wa)/2),ja<ea&&(ea=ja=(ea+ja)/2),I(R,pa,
ea,wa,ja))}var I=no,G=!1,J=1,M=1,W=[0],T=rd,fa=rd,ha=rd,na=rd,ua=rd;k.round=function(R){return arguments.length?(G=!!R,k):G};k.size=function(R){return arguments.length?(J=+R[0],M=+R[1],k):[J,M]};k.tile=function(R){return arguments.length?(I=ng(R),k):I};k.padding=function(R){return arguments.length?k.paddingInner(R).paddingOuter(R):k.paddingInner()};k.paddingInner=function(R){return arguments.length?(T="function"===typeof R?R:Zd(+R),k):T};k.paddingOuter=function(R){return arguments.length?k.paddingTop(R).paddingRight(R).paddingBottom(R).paddingLeft(R):
k.paddingTop()};k.paddingTop=function(R){return arguments.length?(fa="function"===typeof R?R:Zd(+R),k):fa};k.paddingRight=function(R){return arguments.length?(ha="function"===typeof R?R:Zd(+R),k):ha};k.paddingBottom=function(R){return arguments.length?(na="function"===typeof R?R:Zd(+R),k):na};k.paddingLeft=function(R){return arguments.length?(ua="function"===typeof R?R:Zd(+R),k):ua};return k};c.treemapBinary=function(k,A,I,G,J){function M(ua,R,da,pa,ea,wa,ja){if(ua>=R-1)ua=W[ua],ua.x0=pa,ua.y0=ea,
ua.x1=wa,ua.y1=ja;else{for(var ya=na[ua],za=da/2+ya,la=ua+1,Da=R-1;la<Da;){var Na=la+Da>>>1;na[Na]<za?la=Na+1:Da=Na}za-na[la-1]<na[la]-za&&ua+1<la&&--la;ya=na[la]-ya;za=da-ya;wa-pa>ja-ea?(da=da?(pa*za+wa*ya)/da:wa,M(ua,la,ya,pa,ea,da,ja),M(la,R,za,da,ea,wa,ja)):(da=da?(ea*za+ja*ya)/da:ja,M(ua,la,ya,pa,ea,wa,da),M(la,R,za,pa,da,wa,ja))}}var W=k.children,T,fa=W.length,ha,na=Array(fa+1);for(na[0]=ha=T=0;T<fa;++T)na[T+1]=ha+=W[T].value;M(0,fa,k.value,A,I,G,J)};c.treemapDice=Re;c.treemapResquarify=Lv;
c.treemapSlice=pg;c.treemapSliceDice=function(k,A,I,G,J){(k.depth&1?pg:Re)(k,A,I,G,J)};c.treemapSquarify=no;c.tsv=Fv;c.tsvFormat=yv;c.tsvFormatBody=zv;c.tsvFormatRow=Bv;c.tsvFormatRows=Av;c.tsvFormatValue=Cv;c.tsvParse=io;c.tsvParseRows=xv;c.union=function(k){for(var A=[],I=0;I<arguments.length;++I)A[I-0]=arguments[I];I=new Set;A=$jscomp.makeIterator(A);for(var G=A.next();!G.done;G=A.next()){G=$jscomp.makeIterator(G.value);for(var J=G.next();!J.done;J=G.next())I.add(J.value)}return I};c.utcDay=be;
c.utcDays=jw;c.utcFriday=Co;c.utcFridays=ow;c.utcHour=Pg;c.utcHours=iw;c.utcMillisecond=ae;c.utcMilliseconds=to;c.utcMinute=Og;c.utcMinutes=hw;c.utcMonday=Ue;c.utcMondays=kw;c.utcMonth=Qg;c.utcMonths=qw;c.utcSaturday=Do;c.utcSaturdays=pw;c.utcSecond=Lc;c.utcSeconds=uo;c.utcSunday=ee;c.utcSundays=Eo;c.utcThursday=vd;c.utcThursdays=nw;c.utcTickInterval=Ho;c.utcTicks=Go;c.utcTuesday=Ao;c.utcTuesdays=lw;c.utcWednesday=Bo;c.utcWednesdays=mw;c.utcWeek=ee;c.utcWeeks=Eo;c.utcYear=Ac;c.utcYears=rw;c.variance=
P;c.version="6.7.0";c.window=gh;c.xml=Gv;c.zip=function(){return cf(arguments)};c.zoom=function(){function k(va){va.property("__zoom",Un).on("wheel.zoom",T).on("mousedown.zoom",fa).on("dblclick.zoom",ha).filter(ja).on("touchstart.zoom",na).on("touchmove.zoom",ua).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(va,Pa){Pa=Math.max(ya[0],Math.min(ya[1],Pa));return Pa===va.k?va:new Mc(Pa,va.x,va.y)}function I(va,Pa,Aa){var Ka=Pa[0]-Aa[0]*va.k;Pa=
Pa[1]-Aa[1]*va.k;return Ka===va.x&&Pa===va.y?va:new Mc(va.k,Ka,Pa)}function G(va){return[(+va[0][0]+ +va[1][0])/2,(+va[0][1]+ +va[1][1])/2]}function J(va,Pa,Aa,Ka){va.on("start.zoom",function(){M(this,arguments).event(Ka).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(Ka).end()}).tween("zoom",function(){var Ha=arguments,ab=M(this,Ha).event(Ka),Ya=pa.apply(this,Ha),jb=null==Aa?G(Ya):"function"===typeof Aa?Aa.apply(this,Ha):Aa,zb=Math.max(Ya[1][0]-Ya[0][0],Ya[1][1]-Ya[0][1]);
Ya=this.__zoom;var wb="function"===typeof Pa?Pa.apply(this,Ha):Pa,Ug=Da(Ya.invert(jb).concat(zb/Ya.k),wb.invert(jb).concat(zb/wb.k));return function(jc){if(1===jc)jc=wb;else{jc=Ug(jc);var yj=zb/jc[2];jc=new Mc(yj,jb[0]-jc[0]*yj,jb[1]-jc[1]*yj)}ab.zoom(null,jc)}})}function M(va,Pa,Aa){return!Aa&&va.__zooming||new W(va,Pa)}function W(va,Pa){this.that=va;this.args=Pa;this.active=0;this.sourceEvent=null;this.extent=pa.apply(va,Pa);this.taps=0}function T(va,Pa){for(var Aa=[],Ka=1;Ka<arguments.length;++Ka)Aa[Ka-
1]=arguments[Ka];if(da.apply(this,arguments)){var Ha=M(this,Aa).event(va);Aa=this.__zoom;Ka=Math.max(ya[0],Math.min(ya[1],Aa.k*Math.pow(2,wa.apply(this,arguments))));var ab=ac(va);if(Ha.wheel){if(Ha.mouse[0][0]!==ab[0]||Ha.mouse[0][1]!==ab[1])Ha.mouse[1]=Aa.invert(Ha.mouse[0]=ab);clearTimeout(Ha.wheel)}else{if(Aa.k===Ka)return;Ha.mouse=[ab,Aa.invert(ab)];md(this);Ha.start()}$e(va);Ha.wheel=setTimeout(function(){Ha.wheel=null;Ha.end()},150);Ha.zoom("mouse",ea(I(A(Aa,Ka),Ha.mouse[0],Ha.mouse[1]),Ha.extent,
za))}}function fa(va,Pa){for(var Aa=[],Ka=1;Ka<arguments.length;++Ka)Aa[Ka-1]=arguments[Ka];if(!Za&&da.apply(this,arguments)){var Ha=M(this,Aa,!0).event(va),ab=Kb(va.view).on("mousemove.zoom",function(wb){$e(wb);if(!Ha.moved){var Ug=wb.clientX-jb,jc=wb.clientY-zb;Ha.moved=Ug*Ug+jc*jc>nb}Ha.event(wb).zoom("mouse",ea(I(Ha.that.__zoom,Ha.mouse[0]=ac(wb,Ya),Ha.mouse[1]),Ha.extent,za))},!0).on("mouseup.zoom",function(wb){ab.on("mousemove.zoom mouseup.zoom",null);nf(wb.view,Ha.moved);$e(wb);Ha.event(wb).end()},
!0);Aa=ac(va,Ya);var Ya=va.currentTarget,jb=va.clientX,zb=va.clientY;mf(va.view);va.stopImmediatePropagation();Ha.mouse=[Aa,this.__zoom.invert(Aa)];md(this);Ha.start()}}function ha(va,Pa){for(var Aa=[],Ka=1;Ka<arguments.length;++Ka)Aa[Ka-1]=arguments[Ka];if(da.apply(this,arguments)){var Ha=this.__zoom;Ka=ac(va.changedTouches?va.changedTouches[0]:va,this);var ab=Ha.invert(Ka);Aa=ea(I(A(Ha,Ha.k*(va.shiftKey?.5:2)),Ka,ab),pa.apply(this,Aa),za);$e(va);0<la?Kb(this).transition().duration(la).call(J,Aa,
Ka,va):Kb(this).call(k.transform,Aa,Ka,va)}}function na(va,Pa){for(var Aa=[],Ka=1;Ka<arguments.length;++Ka)Aa[Ka-1]=arguments[Ka];if(da.apply(this,arguments)){Ka=va.touches;var Ha=Ka.length;Aa=M(this,Aa,va.changedTouches.length===Ha).event(va);var ab;va.stopImmediatePropagation();for(ab=0;ab<Ha;++ab){var Ya=Ka[ab];var jb=ac(Ya,this);jb=[jb,this.__zoom.invert(jb),Ya.identifier];if(Aa.touch0)Aa.touch1||Aa.touch0[2]===jb[2]||(Aa.touch1=jb,Aa.taps=0);else{Aa.touch0=jb;var zb=!0;Aa.taps=1+!!Ta}}Ta&&(Ta=
clearTimeout(Ta));zb&&(2>Aa.taps&&(cb=jb[0],Ta=setTimeout(function(){Ta=null},500)),md(this),Aa.start())}}function ua(va,Pa){for(var Aa=[],Ka=1;Ka<arguments.length;++Ka)Aa[Ka-1]=arguments[Ka];if(this.__zooming){Aa=M(this,Aa).event(va);var Ha=va.changedTouches,ab=Ha.length,Ya;$e(va);for(Ya=0;Ya<ab;++Ya){Ka=Ha[Ya];var jb=ac(Ka,this);Aa.touch0&&Aa.touch0[2]===Ka.identifier?Aa.touch0[0]=jb:Aa.touch1&&Aa.touch1[2]===Ka.identifier&&(Aa.touch1[0]=jb)}Ka=Aa.that.__zoom;if(Aa.touch1){jb=Aa.touch0[0];Ha=Aa.touch0[1];
Ya=Aa.touch1[0];ab=Aa.touch1[1];var zb=(zb=Ya[0]-jb[0])*zb+(zb=Ya[1]-jb[1])*zb;var wb=(wb=ab[0]-Ha[0])*wb+(wb=ab[1]-Ha[1])*wb;Ka=A(Ka,Math.sqrt(zb/wb));jb=[(jb[0]+Ya[0])/2,(jb[1]+Ya[1])/2];zb=[(Ha[0]+ab[0])/2,(Ha[1]+ab[1])/2]}else if(Aa.touch0)jb=Aa.touch0[0],zb=Aa.touch0[1];else return;Aa.zoom("touch",ea(I(Ka,jb,zb),Aa.extent,za))}}function R(va,Pa){for(var Aa=[],Ka=1;Ka<arguments.length;++Ka)Aa[Ka-1]=arguments[Ka];if(this.__zooming){Aa=M(this,Aa).event(va);Ka=va.changedTouches;var Ha=Ka.length,
ab;va.stopImmediatePropagation();Za&&clearTimeout(Za);Za=setTimeout(function(){Za=null},500);for(ab=0;ab<Ha;++ab){var Ya=Ka[ab];Aa.touch0&&Aa.touch0[2]===Ya.identifier?delete Aa.touch0:Aa.touch1&&Aa.touch1[2]===Ya.identifier&&delete Aa.touch1}Aa.touch1&&!Aa.touch0&&(Aa.touch0=Aa.touch1,delete Aa.touch1);Aa.touch0?Aa.touch0[1]=this.__zoom.invert(Aa.touch0[0]):(Aa.end(),2===Aa.taps&&(Ya=ac(Ya,this),Math.hypot(cb[0]-Ya[0],cb[1]-Ya[1])<qb&&(Ya=Kb(this).on("dblclick.zoom"))&&Ya.apply(this,arguments)))}}
var da=Su,pa=Tu,ea=Wu,wa=Uu,ja=Vu,ya=[0,Infinity],za=[[-Infinity,-Infinity],[Infinity,Infinity]],la=250,Da=Zn,Na=hd("start","zoom","end"),Ta,cb,Za,nb=0,qb=10;k.transform=function(va,Pa,Aa,Ka){var Ha=va.selection?va.selection():va;Ha.property("__zoom",Un);va!==Ha?J(va,Pa,Aa,Ka):Ha.interrupt().each(function(){M(this,arguments).event(Ka).start().zoom(null,"function"===typeof Pa?Pa.apply(this,arguments):Pa).end()})};k.scaleBy=function(va,Pa,Aa,Ka){k.scaleTo(va,function(){var Ha=this.__zoom.k,ab="function"===
typeof Pa?Pa.apply(this,arguments):Pa;return Ha*ab},Aa,Ka)};k.scaleTo=function(va,Pa,Aa,Ka){k.transform(va,function(){var Ha=pa.apply(this,arguments),ab=this.__zoom,Ya=null==Aa?G(Ha):"function"===typeof Aa?Aa.apply(this,arguments):Aa,jb=ab.invert(Ya),zb="function"===typeof Pa?Pa.apply(this,arguments):Pa;return ea(I(A(ab,zb),Ya,jb),Ha,za)},Aa,Ka)};k.translateBy=function(va,Pa,Aa,Ka){k.transform(va,function(){return ea(this.__zoom.translate("function"===typeof Pa?Pa.apply(this,arguments):Pa,"function"===
typeof Aa?Aa.apply(this,arguments):Aa),pa.apply(this,arguments),za)},null,Ka)};k.translateTo=function(va,Pa,Aa,Ka,Ha){k.transform(va,function(){var ab=pa.apply(this,arguments),Ya=this.__zoom,jb=null==Ka?G(ab):"function"===typeof Ka?Ka.apply(this,arguments):Ka;return ea(Dg.translate(jb[0],jb[1]).scale(Ya.k).translate("function"===typeof Pa?-Pa.apply(this,arguments):-Pa,"function"===typeof Aa?-Aa.apply(this,arguments):-Aa),ab,za)},Ka,Ha)};W.prototype={event:function(va){va&&(this.sourceEvent=va);return this},
start:function(){1===++this.active&&(this.that.__zooming=this,this.emit("start"));return this},zoom:function(va,Pa){this.mouse&&"mouse"!==va&&(this.mouse[1]=Pa.invert(this.mouse[0]));this.touch0&&"touch"!==va&&(this.touch0[1]=Pa.invert(this.touch0[0]));this.touch1&&"touch"!==va&&(this.touch1[1]=Pa.invert(this.touch1[0]));this.that.__zoom=Pa;this.emit("zoom");return this},end:function(){0===--this.active&&(delete this.that.__zooming,this.emit("end"));return this},emit:function(va){var Pa=Kb(this.that).datum();
Na.call(va,this.that,new Ru(va,{sourceEvent:this.sourceEvent,target:k,type:va,transform:this.that.__zoom,dispatch:Na}),Pa)}};k.wheelDelta=function(va){return arguments.length?(wa="function"===typeof va?va:Tg(+va),k):wa};k.filter=function(va){return arguments.length?(da="function"===typeof va?va:Tg(!!va),k):da};k.touchable=function(va){return arguments.length?(ja="function"===typeof va?va:Tg(!!va),k):ja};k.extent=function(va){return arguments.length?(pa="function"===typeof va?va:Tg([[+va[0][0],+va[0][1]],
[+va[1][0],+va[1][1]]]),k):pa};k.scaleExtent=function(va){return arguments.length?(ya[0]=+va[0],ya[1]=+va[1],k):[ya[0],ya[1]]};k.translateExtent=function(va){return arguments.length?(za[0][0]=+va[0][0],za[1][0]=+va[1][0],za[0][1]=+va[0][1],za[1][1]=+va[1][1],k):[[za[0][0],za[0][1]],[za[1][0],za[1][1]]]};k.constrain=function(va){return arguments.length?(ea=va,k):ea};k.duration=function(va){return arguments.length?(la=+va,k):la};k.interpolate=function(va){return arguments.length?(Da=va,k):Da};k.on=
function(){var va=Na.on.apply(Na,arguments);return va===Na?k:va};k.clickDistance=function(va){return arguments.length?(nb=(va=+va)*va,k):Math.sqrt(nb)};k.tapDistance=function(va){return arguments.length?(qb=+va,k):qb};return k};c.zoomIdentity=Dg;c.zoomTransform=Tn;Object.defineProperty(c,"__esModule",{value:!0})});var WMSVersion={version100:"1.0.0",version111:"1.1.1",version130:"1.3.0"},htmlTabS="",htmlTabM="",tddjs=function(c,l){var v=!0,D=[],E=D.set=!1,Y=!1,H=null,N=null,K=function(ba){var Z,P,X,oa,qa,sa,xa,Ea,Ca;return $jscomp.asyncExecutePromiseGeneratorProgram(function(La){X="";E&&(H.close(),E=!1);Y&&(N.close(),Y=!1);document.getElementById("info").innerHTML=X;if(0==v)return La.return();D.x=ba.x;D.y=ba.y;D.set=!0;Z=l.getLatLongFromPixelCoord({x:ba.x,y:ba.y});P=l.getLayers();if(!isDefined(P))return $("#info").html("No valid data received:<br/>"+
data),La.return();info=l.getLayers().getFeatureInfoUrl;X="";0==l.layers.length?(X="No layer: Load a valid layer.",document.getElementById("info").innerHTML=X):document.getElementById("info").innerHTML="";oa=[];for(qa=0;qa<l.layers.length;qa++)sa=l.layers[l.layers.length-qa-1].service,sa.includes("TEMP")?oa.push(l.layers[l.layers.length-qa-1]):sa.includes("ECMWF")&&oa.push(l.layers[l.layers.length-qa-1]);0==oa.length?(X="No Sounding or Model Layer: Load a valid layer.",document.getElementById("info").innerHTML=
X):document.getElementById("info").innerHTML="";for(xa in oa)console.log(xa,oa.length),oa[xa].service.includes("ECMWF")?(Ea=oa[xa],getJSONModel(Ea,l,D.x,D.y,"text/plain",function(Qa){if(null!=Qa){console.log(Qa);if(null!=Qa.data){var Ua=Qa.meta;Ua.lat=Math.round(100*Z.y)/100;Ua.lon=Math.round(100*Z.x)/100;H=window.open("sondModel.html","Sondeo MODEL",'itemId="sondM",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=1040,height=600');console.log("WINDIW",H);H.myvarM=Qa;E=!0;
X+="Profile for location ["+Math.round(100*Z.x)/100+","+Math.round(100*Z.y)/100+"]";X+=" - Model:"+Qa.meta.model+"<br/>";document.getElementById("info").innerHTML=X;document.getElementById("table").innerHTML=""}else X+="Profile for location ["+Math.round(100*Z.x)/100+","+Math.round(100*Z.y)/100+"]",X+=" - Station:"+Qa.meta.name+"<br/>",document.getElementById("info").innerHTML=X,document.getElementById("table").innerHTML="",htmlTabM+="</TABLE>";document.getElementById("table").innerHTML=htmlTabM}else X+=
"MOD:No valid data<br/>",document.getElementById("info").innerHTML=X})):oa[xa].service.includes("TEMP")&&(Ca=oa[xa],getJSONdata(Ca,l,D.x,D.y,"text/plain",function(Qa){null!=Qa?(console.log(Qa),null!=Qa.data?(N=window.open("sondTemp.html","Sondeo",'itemId="sond",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=1040,height=600'),N.myvar=Qa,Y=!0,X="",X+="Profile for location ["+Math.round(100*Z.x)/100+","+Math.round(100*Z.y)/100+"]",X+=" - Station:"+Qa.meta.name+"<br/>",document.getElementById("info").innerHTML=
X,document.getElementById("table").innerHTML=""):(X+="Profile for location ["+Math.round(100*Z.x)/100+","+Math.round(100*Z.y)/100+"]",X+=" - Station:"+Qa.meta.name+"<br/>",document.getElementById("info").innerHTML=X,document.getElementById("table").innerHTML="",htmlTabS+="</TABLE>"),document.getElementById("table").innerHTML=htmlTabS):(X+="OBS: No valid data<br/>",document.getElementById("info").innerHTML=X)}));La.jumpToEnd()})};l.addListener("mouseclicked",K,!0);this.enable=function(){c.html('<div id="info"></div><div id="table"></div>');
$("#info").html("Click on the map to load a profile.<br/> A Sounding or ECMWF Model layer loaded is necessary");l.enableInlineGetFeatureInfo(!1);v=!0};this.disable=function(){v=!1;l.enableInlineGetFeatureInfo(!0);D.set=!1;E&&(H.close(),E=!1);Y&&(N.close(),Y=!1)};this.resize=function(ba,Z){$("#mitdd").width(ba);D.set&&K(D)};this.enable()};try{WMJSExtApplications.Sondeo=tddjs}catch(c){}
function createXHR(){try{return new XMLHttpRequest}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}return!1}
function MakeHTTPRequest(c,l,v,D){function E(N){errorfunction?errorfunction(N,pointer):l(void 0,pointer)}function Y(){!1===v?(c=D+"REQUEST="+URLEncode(c),MakeHTTPRequest(c,l,errorfunction,pointer,!0,D)):E("status("+H.status+") to "+c)}c=-1===c.indexOf("?")?c+"?":c+"&";c+="rand="+Math.random();v||(v=!1);try{var H=createXHR();H.open("GET",c,!0);H.onreadystatechange=function(){if(4===H.readyState)if(200===H.status){try{var N=H.responseText}catch(K){E("Exception occured:"+K);return}void 0===N||""===N?
E("request returned no data"):l(null,H.response)}else window.alert("ALLI"),Y()};H.send(null)}catch(N){window.alert("AQUI"),Y()}}
function getJSONModel(c,l,v,D,E,Y){var H,N,K,ba,Z,P,X,oa,qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sa){H=c.service.split("=")[1];H=H.replace("&","");N=[];"ECMWF"==H&&(N=[1E3,925,850,700,500,400,300,250,200,150,100]);"ECMWF-HRES"==H&&(N=[1E3,925,900,850,800,700,600,500,400,300,250,200,150,100]);document.getElementById("info").innerHTML="Procesando<br>";document.getElementById("table").innerHTML="";K=WMJScheckURL(c.service);K+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+c.version;
ba=K+="&LAYERS="+URLEncode(c.name);Z="";K+="&QUERY_LAYERS=mean_sea_level_pressure&INFO_FORMAT=application/json";ba+="&QUERY_LAYERS=geopotential_height,temperature,relative_humidity,wind_barb&INFO_FORMAT=application/json";Z+="&"+getBBOXandProjString(c,l);Z+="WIDTH="+l.width;Z+="&HEIGHT="+l.height;if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)Z+="&X="+v,Z+="&Y="+D;c.version===WMSVersion.version130&&(Z+="&I="+v,Z+="&J="+D);Z+="&FORMAT=image/gif";Z+="&STYLES=";console.log("SERV",
H);try{Z+="&"+l._getMapDimURL(c),K+=Z,ba+=Z}catch(xa){Y(null,void 0)}req_list=[];for(P=0;P<N.length;P++)X=N[P],oa=ba+"&elevation="+X,req_list.push(oa);req_list.reverse();htmlTabM="<TABLE BORDER>";htmlTabM+="<TR> <TD>Nivel</TD> <TD>P</TD> <TD>Z</TD> <TD>T</TD> <TD>RH</TD> <TD>U</TD> <TD>V</TD> </TR>";qa=[];getMeta_Model(K,function(xa){null!=xa?(xa.model=H,getDataN_Model(req_list,qa,0,function(Ea){Y({meta:xa,data:Ea})})):Y(null)});sa.jumpToEnd()})}
function getJSONdata(c,l,v,D,E,Y){document.getElementById("info").innerHTML="Procesando<br>";document.getElementById("table").innerHTML="";var H=WMJScheckURL(c.service);H+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+c.version;H+="&LAYERS="+URLEncode(c.name);c.name.split(",");E=H;H+="&QUERY_LAYERS=p,z,t,td,windSpd,windDir,eVSS&INFO_FORMAT=application/json";E+="&QUERY_LAYERS=station_name,ps,alt,station_cname&INFO_FORMAT=application/json";var N="&"+getBBOXandProjString(c,l);N+="WIDTH="+l.width;N+=
"&HEIGHT="+l.height;if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)N=N+("&X="+v)+("&Y="+D);c.version===WMSVersion.version130&&(N=N+("&I="+v)+("&J="+D));N+="&FORMAT=image/gif&STYLES=";try{N+="&"+l._getMapDimURL(c),H+=N,E+=N}catch(ba){callback(null,void 0)}debug('<a target="_blank" href="'+H+'">'+H+"</a>",!1);var K=c.service+"&SERVICE=WMS&REQUEST=getCapabilities&VERSION="+c.version;getMeta(E,function(ba){null!=ba?(console.log("META",ba),getData(K,ba,H,function(Z){Y({meta:ba,
data:Z})})):Y(null)})}function WMJScheckURL(c){if(!isDefined(c))return"?";c=c.trim();-1===c.indexOf("?")&&(c+="?");return c}function isDefined(c){return"undefined"===typeof c?!1:!0}
function URLEncode(c){if(!c||void 0===c||""===c||"string"!==typeof c)return c;c=c.replace(/%/g,"%25");c=c.replace(/\+/g,"%2B");c=c.replace(/ /g,"%20");c=c.replace(/\^/g,"%5E");c=c.replace(/&/g,"%26");c=c.replace(/\?/g,"%3F");c=c.replace(/>/g,"%3E");c=c.replace(/</g,"%3C");c=c.replace(/\\/g,"%5C");for(var l="",v=0;v<c.length;v++){var D=c.charAt(v);if(" "===D)l+="%20";else if(-1!=="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz%-_.!~*'()".indexOf(D))l+=D;else{var E=D.charCodeAt(0);255<
E?(alert("Unicode Character '"+D+"' cannot be encoded using standard URL encoding.\n(URL encoding only supports 8-bit characters.)\nA space (+) will be substituted."),l+="+"):(l+="%",l+="0123456789ABCDEF".charAt(E>>4&15),l+="0123456789ABCDEF".charAt(E&15))}}return l}
function getBBOXandProjString(c,l){var v="";if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)v+="SRS="+URLEncode(l.srs)+"&",v+="BBOX="+l.bbox.left+","+l.bbox.bottom+","+l.bbox.right+","+l.bbox.top+"&";c.version===WMSVersion.version130&&(v+="CRS="+URLEncode(l.srs)+"&",v="EPSG:4326"===l.srs&&!1===c.wms130bboxcompatibilitymode?v+("BBOX="+l.bbox.bottom+","+l.bbox.left+","+l.bbox.top+","+l.bbox.right+"&"):v+("BBOX="+l.bbox.left+","+l.bbox.bottom+","+l.bbox.right+","+l.bbox.top+"&"));
return v}function getLevels(c,l){var v=new ol.format.WMSCapabilities;fetch(c).then(function(D){return D.text()}).then(function(D){D=v.read(D).Capability.Layer.Layer;D=$jscomp.makeIterator(D);for(var E=D.next();!E.done;E=D.next())if(E=E.value,"p"==E.Name){E=$jscomp.makeIterator(E.Dimension);for(var Y=E.next();!Y.done;Y=E.next())Y=Y.value,"elevation"==Y.name&&l(Y.default)}})}
function getMeta(c,l){console.log("REQ META",c);MakeHTTPRequest(c,function(v,D){if(null!=v)console.error(v);else{v=[];try{var E=JSON.parse(D),Y=E[0].point.coords;Y=Y.split(",");var H=parseFloat(Y[0]),N=parseFloat(Y[1]),K=Object.keys(E[0].data),ba=K.toString();ba=ba.split("T");var Z=ba[0].replaceAll("-","");Z=parseInt(Z);var P=parseInt(ba[1].substring(0,2)),X;for(D=0;D<E.length;D++){if("station_name_backup"==E[D].name){if(isDefined(oa))continue;var oa=E[D].data[K]}if("ps"==E[D].name){if(isDefined(qa))continue;
var qa=E[D].data[K]/100;isNaN(qa)&&(qa=E[D].data[0]/100)}if("alt"==E[D].name){if(isDefined(sa))continue;var sa=parseFloat(E[D].data[K]);isNaN(sa)&&(sa=parseFloat(E[D].data[0]))}"station_cname_backup"!=E[D].name||isDefined(X)||(X=E[D].data[K])}isDefined(oa)&&"nodata"!=oa?(isNaN(sa)&&(sa=0),v={model:"OBSERVACION",index:oa,date:Z,run:P,step:0,lon:H,lat:N,ps:qa,zs:sa,name:oa+" "+X},l(v)):l(null)}catch(xa){l(null)}}})}
function getData(c,l,v,D){htmlTabS="<TABLE BORDER>";htmlTabS+="<TR> <TD>Nivel</TD> <TD>P</TD> <TD>Z</TD> <TD>T</TD> <TD>TD</TD> <TD>WD</TD> <TD>WS</TD> </TR>";getLevels(c,function(E){null==E&&(window.errorMessage("No hay niveles!"),D(null));var Y=parseInt(E),H=Math.floor(Y/100);Y%=100;for(var N=0,K=0,ba=[],Z=0;Z<H;Z++)K=N+99,ba.push(v+"&elevation="+N+"/"+K),N=K+1;ba.push(v+"&elevation="+N+"/"+(N+Y));ba=ba.reverse();var P=[];getDataN(ba,E,l,P,function(X){null==X&&(window.errorMessage("No hay niveles!"),
D(null));if(0==P.length)window.alert("El sondeo no tiene datos validos para este diagrama"),D(null);else{X=parseFloat(P[P.length-1].p);var oa=parseFloat(P[0].p);850>=oa?(window.alert("El primer nivel esta demasiado alto! - P0: "+oa+"hpa\n\n El primer nivel debe ser mayor de 850hPa"),D(null)):300<X?(window.alert("Ultimo nivel demasiado bajo! - Pn: "+X+"hpa\n\n El ultimo nivel debe ser menor de 300hPa"),D(null)):(htmlTabS+="</TABLE>",D(P))}})})}
function getDataN(c,l,v,D,E){if(0!=c.length){var Y=c.pop(),H=Y.indexOf("elevation");H=Y.slice(H);var N=H.indexOf("=")+1,K=H.indexOf("/"),ba=H.slice(N,K);console.log("Procesando nivles",ba,"a",parseInt(ba)+99,"de",l);$("#tableinfo").html("");$("#info").html("");$("#table").html("");$("#tableM").html("");$("#tableS").html("");document.getElementById("info").innerHTML="";document.getElementById("info").innerHTML='<img src="./img/ajax-loader.gif" alt="Loading..."/>';MakeHTTPRequest(Y,function(Z,P){if(null!=
Z)console.error(Z);else if(!P.includes("ServiceException")){Z=v.zs;var X=100;150>v.ps&&(X=100);P=JSON.parse(P);P=$jscomp.makeIterator(P);for(var oa=P.next();!oa.done;oa=P.next()){dat=oa.value;if("p"==dat.name)var qa=dat.data;if("z"==dat.name)var sa=dat.data;if("t"==dat.name)var xa=dat.data;if("td"==dat.name)var Ea=dat.data;if("windSpd"==dat.name)var Ca=dat.data;if("windDir"==dat.name)var La=dat.data;if("eVSS"==dat.name)var Qa=dat.data}P=parseInt(ba);isDefined(qa[P])||(P+=1);P=Object.keys(qa[P]);oa=
D.length;for(var Ua in qa){var Xa=qa[Ua],db=sa[Ua],gb=xa[Ua],rb=Ea[Ua],Ab=Ca[Ua],ub=La[Ua],pb=Qa[Ua];pb=pb[P];parseFloat(pb);Xa=Xa[P];Xa=parseFloat(Xa);Xa/=X;999999999<Xa||0>Xa||(db=parseFloat(db[P]),gb=parseFloat(gb[P]),gb-=273.15,rb=parseFloat(rb[P])-273.15,Ab=parseFloat(Ab[P]),pb=ub=parseFloat(ub[P]),ub*=Math.PI/180,ub%=2*Math.PI,htmlTabS+="<TR><TD>"+oa+"</TD> <TD>"+Xa+"</TD> <TD>"+db+"</TD> <TD>"+gb.toFixed(2)+"</TD> <TD>"+rb.toFixed(2)+"</TD> <TD>"+pb.toFixed(0)+"</TD> <TD>"+Ab.toFixed(2)+"</TD></TR>",
db<Z||isNaN(gb)||isNaN(rb)||0>pb||(Xa={n:oa,p:Xa,z:db,t:gb,td:rb,wD:ub,wS:Ab},oa+=1,D.push(Xa)))}}getDataN(c,l,v,D,E)})}else E(D)}
function getMeta_Model(c,l){console.log(c);MakeHTTPRequest(c,function(v,D){if(null!=v)console.error(v);else try{var E=JSON.parse(D),Y=Object.keys(E[0].data)[0];fi=(new Date(Y)).getTime();date=Y.split("T");var H=date[0].replaceAll("-","");H=parseInt(H);var N=parseInt(date[1].substring(0,2)),K=Object.keys(E[0].data[Y])[0],ba=((new Date(K)).getTime()-fi)/36E5,Z=E[0].data[Y][K];Z=parseFloat(Z);meta={model:"ECMWF",index:"MODEL",date:H,run:N,step:ba,lon:0,lat:0,ps:Z,zs:0,name:"MODEL"};l(meta)}catch(P){l(null)}})}
function getDataN_Model(c,l,v,D){0<c.length?(rml=c.pop(),$("#tableinfo").html(""),$("#info").html(""),$("#table").html(""),$("#tableM").html(""),$("#tableS").html(""),document.getElementById("info").innerHTML="",document.getElementById("info").innerHTML='<img src="./img/ajax-loader.gif" alt="Loading..."/>',MakeHTTPRequest(rml,function(E,Y){if(null!=E)console.error(E);else{var H=JSON.parse(Y),N=Object.keys(H[0].data)[0],K=Object.keys(H[0].data[N])[0],ba=Object.keys(H[0].data[N][K])[0];E=parseFloat(H[0].data[N][K][ba]);
Y=parseFloat(H[1].data[N][K][ba]);var Z=parseFloat(H[2].data[N][K][ba]),P=-1*parseFloat(H[3].data[N][K][ba]);H=-1*parseFloat(H[4].data[N][K][ba]);K=parseFloat(K);htmlTabM+="<TR><TD>"+v+"</TD> <TD>"+K+"</TD> <TD>"+E+"</TD> <TD>"+Y.toFixed(2)+"</TD> <TD>"+Z.toFixed(2)+"</TD> <TD>"+H.toFixed(2)+"</TD> <TD>"+P.toFixed(2)+"</TD></TR>";l.push({n:v,p:K,z:E,t:Y,RH:Z,u:H,v:P});l.sort(function(X,oa){return X.p-oa.p})}v++;getDataN_Model(c,l,v,D)})):(htmlTabM+="</TABLE>",D(l))}var wsond=function(c){};var table="",wmjsond,yradar=function(c,l){function v(X,oa){if(X.length!=oa.length)return!1;for(var qa=0;qa<X.length;qa++)if(!oa.includes(X[qa]))return!1;for(qa=0;qa<oa.length;qa++)if(!X.includes(oa[qa]))return!1;return!0}function D(){for(var X=[],oa=0;oa<l.layers.length;oa++)l.layers[l.layers.length-oa-1].service.includes("YRAD")&&X.push(l.layers[l.layers.length-oa-1].name);return X}wmjsond=l;var E=!0,Y="",H=[],N=!1,K=[];H.set=!1;var ba=null,Z=function(X){N&&(ba.close(),N=!1);var oa=[];qa="";document.getElementById("info").innerHTML=
qa;if(0!=E)if(H.x=X.x,H.y=X.y,H.set=!0,l.getLatLongFromPixelCoord({x:X.x,y:X.y}),X=l.getLayers(),isDefined(X)){info=l.getLayers().getFeatureInfoUrl;var qa="";0==l.layers.length&&(qa="No layer: Load a valid YRADAR layer.",document.getElementById("info").innerHTML=qa);X=[];for(qa=0;qa<l.layers.length;qa++)l.layers[l.layers.length-qa-1].service.includes("YRAD")&&X.push(l.layers[l.layers.length-qa-1]);qa=null;for(var sa in X)qa=X[sa],null!=qa&&""!==qa.getFeatureInfoUrl?!1===qa.queryable?l.featureInfoRequestReady("Layer is not queryable.",
qa):(document.getElementById("table").innerHTML="",qa.name.includes("2D")?oa.push(qa):qa.name.includes("3D")&&oa.push(qa)):(qa="Wrong layer: Load a valid yradar layer.",document.getElementById("info").innerHTML=qa,N&&ba.close());console.log("YR",oa);if(0<oa.length){ba=window.open("YRADAR.html","YRADAR",'itemId="sond",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=800,height=600');for(sa=0;sa<oa.length;sa++)qa=oa[sa],getCells(qa,l,H.x,H.y,function(xa){null!=xa&&(ba.document.getElementById("info").insertAdjacentHTML("afterbegin",
xa),ba.focus())});N=!0}}else $("#info").html("No valid data received:<br/>"+data)};l.addListener("mouseclicked",Z,!0);l.addListener("ondimchange",function(X){return $jscomp.asyncExecutePromiseGeneratorProgram(function(oa){if(1==oa.nextAddress)return N&&ba.close(),$("#tableinfo").html(""),$("#info").html(""),$("#table").html(""),document.getElementById("info").innerHTML="",document.getElementById("info").innerHTML='<img src="./img/ajax-loader.gif" alt="Loading..."/>',oa.yield(new Promise(function(qa){return setTimeout(qa,
500)}),2);console.log("DIM REFRESH!!!");P();oa.jumpToEnd()})},!0);l.addListener("onimageload",function(X){var oa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qa){oa=D();v(oa,K)||(console.log("IMG REFRESH!!!"),P());qa.jumpToEnd()})},!0);var P=function(){K=D();c.html('<div id="tableinfo"></div><div id="info"></div><div id="table"></div>');$("#tableinfo").html("");$("#info").html("");$("#table").html("");var X='<img src="./img/ajax-loader.gif" alt="Loading..."/>';document.getElementById("info").innerHTML=
X;var oa=[];for(X=0;X<l.layers.length;X++)l.layers[l.layers.length-X-1].service.includes("YRAD")&&oa.push(l.layers[l.layers.length-X-1]);0==oa.length&&(X="No YRADAR Layer: Load a valid YRADAR layer.",document.getElementById("info").innerHTML=X);X={};for(var qa in oa){var sa=oa[qa];if(null!=sa&&""!==sa.getFeatureInfoUrl)if(!1===sa.queryable)l.featureInfoRequestReady("Layer is not queryable.",sa);else if(sa.name.includes("2D")||sa.name.includes("3D")){var xa=oa[qa];X.$jscomp$loop$prop$path$303="";X.$jscomp$loop$prop$rad$304=
xa.name.substr(-3,3);X.$jscomp$loop$prop$dim$302="2D";xa.name.includes("3D")&&(X.$jscomp$loop$prop$dim$302="3D");sa=WMJScheckURL(xa.service).split("/");var Ea=sa[0];sa=sa[2];X.$jscomp$loop$prop$path$303=Ea+"//"+sa+"/";getJSONdate(xa,l,"text/plain",function(Ca){return function(La){var Qa=La.substring(0,La.indexOf("T"));La=La.substring(La.indexOf("T")+1,La.indexOf("Z")-2);Y!=Qa+La&&(Y=Qa+La);"3D"==Ca.$jscomp$loop$prop$dim$302?Ca.$jscomp$loop$prop$path$303+="yradar/"+Qa+La+"REG3D":xa.name.includes("NAC")?
Ca.$jscomp$loop$prop$path$303+="yradar/"+Qa+La+"NAC2D":Ca.$jscomp$loop$prop$path$303+="yradar/"+Qa+La+"REG2D";$.ajax({url:Ca.$jscomp$loop$prop$path$303,dataType:"text",success:function(Ua){document.getElementById("info").innerHTML="";var Xa=Ua.split(/\r?\n|\r/);Ua="<b> RADAR: "+Ca.$jscomp$loop$prop$rad$304+"</b><br>";table="3D"==Ca.$jscomp$loop$prop$dim$302?"<b>YRADAR3D</b><br>":"<b>YRADAR2D</b><br>";if("COM"!=Ca.$jscomp$loop$prop$rad$304&&"NAC"!=Ca.$jscomp$loop$prop$rad$304){for(var db=[],gb=0;gb<
Xa.length;gb++)0===gb&&db.push(Xa[gb]),Xa[gb].includes(Ca.$jscomp$loop$prop$rad$304)&&db.push(Xa[gb]);Xa=db}Xa=getTable(Xa,Ca.$jscomp$loop$prop$rad$304,Ca.$jscomp$loop$prop$dim$302,l);$("#tableinfo").append(table+Ua+Xa);$("#info").html("Click on the map to load a profile.<br>")}})}}(X))}X={$jscomp$loop$prop$dim$302:X.$jscomp$loop$prop$dim$302,$jscomp$loop$prop$path$303:X.$jscomp$loop$prop$path$303,$jscomp$loop$prop$rad$304:X.$jscomp$loop$prop$rad$304}}l.enableInlineGetFeatureInfo(!1)};this.enable=
function(){P();E=!0};this.disable=function(){E=!1;l.enableInlineGetFeatureInfo(!0);H.set=!1;N&&(ba.close(),N=!1)};this.resize=function(X,oa){$("#mitdd").width(X);H.set&&Z(H)}};try{WMJSExtApplications.Yradar=yradar}catch(c){}
function createXHR(){try{return new XMLHttpRequest}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}return!1}
function MakeHTTPRequest(c,l,v,D){function E(N){errorfunction?errorfunction(N,pointer):l(void 0,pointer)}function Y(){!1===v?(c=D+"REQUEST="+URLEncode(c),MakeHTTPRequest(c,l,errorfunction,pointer,!0,D)):E("status("+H.status+") to "+c)}c=-1===c.indexOf("?")?c+"?":c+"&";c+="rand="+Math.random();v||(v=!1);try{var H=createXHR();H.open("GET",c,!0);H.onreadystatechange=function(){if(4===H.readyState)if(200===H.status){try{var N=H.responseText}catch(K){E("Exception occured:"+K);return}void 0===N||""===N?
E("request returned no data"):l(null,H.response)}else window.alert("ALLI"),Y()};H.send(null)}catch(N){Y()}}
function getCells(c,l,v,D,E){var Y=c.name;Y.includes("2D")&&getJSONdata2D(c,l,v,D,"text/plain",function(H){document.getElementById("info").innerHTML="";if(null!=H){var N=H.ANA,K=H.RAYOS,ba=H.MOV;H="<br>CENTROIDE 2D <b>"+(N.ID+"</b> : ["+N.LATCEN+","+N.LONCEN+"]");var Z="<TABLE BORDER><TR> <TD>ID</TD> <TD>NUPIX</TD> <TD>ZMAX</TD> <TD>ZMED</TD> <TD>RADIOE</TD> <TD>ECTOP</TD> <TD>VIL</TD> </TR><TR><TD><b>"+(N.ID+"</b></TD> <TD>"+N.NUPIX+"</TD> <TD>"+N.ZMAX+"</TD> <TD>"+N.ZMED+"</TD> <TD>"+N.RADIOE+"</TD> <TD>"+
N.ECTOP+"</TD> <TD>"+N.VIL+"</TD></TR>");Z+="</TABLE>";var P="<div><p><b>RAYOS TOTALES:</b>"+K.RAY+"<br>";P+="<b>POSITIVOS:</b>"+K.POS+"<br>";P+="<b>NEGATIVOS:</b>"+K.NEG+"<br>";P+="<b>INTRANUBE:</b>"+K.INT+"<br>";P+="<b>LATCENR:</b>"+K.LATCENR+"<b> LONCENR:</b>"+K.LONCENR+"<br>";P+="<b>DISTMAX:</b>"+K.DISTMAX+"<b> DISTMED:</b>"+K.DISTMED+"<b> RAYOS/KM2:</b>"+K["RY/KM"]+"<br></p>";P+="</div>";K="<div><p><b>MOVIMIENTO:</b> V(Km/h):"+ba.VKMH+" DIRN:"+ba.DIRN+"</p></div>";ba="";isDefined(N.ADV)&&(ba=
"<div><p><b>ADVERSIDAD: </b>"+N.ADV+"</p></div>");E(H+(Z+P+K+ba))}else H="<br>"+(Y+" Wrong point!!! <b>"),E(H)});Y.includes("3D")&&getJSONdata3D(c,l,v,D,"text/plain",function(H){document.getElementById("info").innerHTML="";if(null!=H){var N=H.ANA,K=H.GRANIZO;H=H.MOV;var ba="CENTROIDE 3D <b>"+N.ID+"</b> : ["+N.LATCEN+","+N.LONCEN+"]";var Z="<TABLE BORDER><TR> <TD>ID</TD> <TD>ZMAX</TD> <TD>ESPE</TD> <TD>ECTOP</TD> <TD>DVIL</TD> <TD>DVGR</TD> <TD>HB45</TD> <TD>HBAS</TD> <TD>DVCE</TD> </TR><TR><TD><b>"+
(N.ID+"</b></TD> <TD>"+N.ZMAX+"</TD> <TD>"+N.ESPE+"</TD> <TD>"+N.ECTOP+"</TD> <TD>"+N.DVIL+"</TD> <TD>"+N.DVGR+"</TD> <TD>"+N.HB45+"</TD> <TD>"+N.HBAS+"</TD> <TD>"+N.DVCE+"</TD></TR>");Z+="</TABLE>";var P=K.GRA,X="color:#00FF00";"g"==P&&(X="color:#AAAA00");"G"==P&&(X="color:#FF0000");P="<div><p><b>GRANIZO:</b><b style="+X+">"+P+"</b><br><b>ORG-PER:</b>"+(K.ORG+"<br>");P+="<b>PGR:</b>"+K.PGR+"<br>";P+="<b>TAM(mm):</b>"+K.TAM+"<br>";P+="</p></div>";K=parseInt(N.ADV);X="color:#00FF00";var oa="Sin Pot. Adv.";
1==K&&(X="color:#AAAA00",oa="Alto Pot. Adv.");2==K&&(X="color:#FF0000",oa="Muy alto Pot. Adv");N="<div><p><b>ADVERSIDAD: </b><b style="+X+">"+oa+"</b><br><b>CELULA 2D: </b>"+(parseInt(N.N2D)+"<br>");ba+=Z+("<div><p><b>MOVIMIENTO:</b></br><b>V(Km/h):</b>"+(H.VKMH+"<b> DIRN:</b>"+H.DIRN+"</p></div>"))+P+(N+"</p></div></br>")}else ba="<br>"+(Y+" wrong point!!!<b>");E(ba)})}
function getJSONdate(c,l,v,D){v=WMJScheckURL(c.service);v+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+c.version;v+="&LAYERs="+URLEncode(c.name);v+="&QUERY_LAYERS="+URLEncode(c.name)+"&INFO_FORMAT=application/json&FORMAT=application/json";v+="&"+getBBOXandProjString(c,l)+"&WIDTH=400";v+="&"+l._getMapDimURL(c);MakeHTTPRequest(v,function(E,Y){null!=E?(console.error(E),D(null)):(E=JSON.parse(Y),E=Object.keys(E[0].data)[0],E=E.replaceAll(":",""),E=E.replaceAll("-",""),D(E))})}
function getJSONdata2D(c,l,v,D,E,Y){document.getElementById("info").innerHTML="Procesando<br>";document.getElementById("table").innerHTML="";E=WMJScheckURL(c.service);E+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+c.version;E+="&LAYERS="+URLEncode(c.name);c.name.split(",");var H="";E+="&QUERY_LAYERS="+URLEncode(c.name)+"&INFO_FORMAT=application/json";H+="&"+getBBOXandProjString(c,l);H+="WIDTH="+l.width;H+="&HEIGHT="+l.height;if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)H=
H+("&X="+v)+("&Y="+D);c.version===WMSVersion.version130&&(H=H+("&I="+v)+("&J="+D));H+="&FORMAT=image/gif&STYLES=";try{H+="&"+l._getMapDimURL(c),E+=H}catch(N){Y(null)}MakeHTTPRequest(E,function(N,K){if(null!=N)console.error(N),Y(null);else{N=JSON.parse(K);var ba;for(ba in N){K=N[ba];if("RADIOE"==K.name&&(!isDefined(Z)||"nodata"==Z[Object.keys(Z)]))var Z=K.data;if("NUPIX"==K.name)var P=K.data;if("LATCEN"==K.name)var X=K.data;if("LONCEN"==K.name)var oa=K.data;if("ECTOP"==K.name)var qa=K.data;if("VIL"==
K.name)var sa=K.data;if("id"==K.name&&(!isDefined(xa)||"nodata"==xa[Object.keys(xa)]||"nan"==xa[Object.keys(xa)]))var xa=K.data;if("ZMAX"==K.name&&(!isDefined(Ea)||"nodata"==Ea[Object.keys(Ea)]||isNaN(parseFloat(Ea[Object.keys(Ea)]))))var Ea=K.data;if("ZMED"==K.name)var Ca=K.data;if("ADV"==K.name)var La=K.data;if("RAY"==K.name)var Qa=K.data;if("POS"==K.name)var Ua=K.data;if("NEG"==K.name)var Xa=K.data;if("RAYo"==K.name)var db=K.data;if("DISTMAX"==K.name)var gb=K.data;if("DISTME"==K.name)var rb=K.data;
if("RY/K"==K.name)var Ab=K.data;if("LATCENR"==K.name)var ub=K.data;if("LONCENR"==K.name)var pb=K.data;if("DIRN"==K.name)var Oc=K.data;if("V(KMH)"==K.name)var Cc=K.data}try{var dd=Z[Object.keys(Z)],Dc=P[Object.keys(P)];if(isDefined(X))var Ec=X[Object.keys(X)];if(isDefined(oa))var Qc=oa[Object.keys(oa)];if(isDefined(qa))var pc=qa[Object.keys(qa)];if(isDefined(sa))var qc=sa[Object.keys(sa)];var ed=Ea[Object.keys(Ea)],fd=Ca[Object.keys(Ca)],Cd=Qa[Object.keys(Qa)],gd=Ua[Object.keys(Ua)],Dd=Xa[Object.keys(Xa)],
ne=db[Object.keys(db)],Yb=gb[Object.keys(gb)],Ed=rb[Object.keys(rb)],oe=Ab[Object.keys(Ab)];if(isDefined(ub))var cf=ub[Object.keys(ub)];if(isDefined(pb))var Yg=pb[Object.keys(pb)];if(isDefined(Oc))var Zg=Oc[Object.keys(Oc)];if(isDefined(Cc))var df=Cc[Object.keys(Cc)];var ef=xa[Object.keys(xa)];if(isDefined(La)){var $g=La[Object.keys(La)];var ff={LATCEN:Ec,LONCEN:Qc,ID:ef,NUPIX:Dc,ZMAX:ed,ZMED:fd,RADIOE:dd,ADV:$g,ECTOP:pc,VIL:qc}}else ff={LATCEN:Ec,LONCEN:Qc,ID:ef,NUPIX:Dc,ZMAX:ed,ZMED:fd,RADIOE:dd,
ECTOP:pc,VIL:qc};Y({ANA:ff,RAYOS:{RAY:Cd,POS:gd,NEG:Dd,INT:ne,DISTMAX:Yb,DISTMED:Ed,"RY/KM":oe,LATCENR:cf,LONCENR:Yg},MOV:{DIRN:Zg,VKMH:df}})}catch(ah){console.log(ah),Y(null)}}});debug('<a target="_blank" href="'+E+'">'+E+"</a>",!1)}
function getJSONdata3D(c,l,v,D,E,Y){document.getElementById("info").innerHTML="Procesando<br>";document.getElementById("table").innerHTML="";E=WMJScheckURL(c.service);E+="&SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION="+c.version;E+="&LAYERS="+URLEncode(c.name);c.name.split(",");var H="";E+="&QUERY_LAYERS="+URLEncode(c.name)+"&INFO_FORMAT=application/json";H+="&"+getBBOXandProjString(c,l);H+="WIDTH="+l.width;H+="&HEIGHT="+l.height;if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)H=
H+("&X="+v)+("&Y="+D);c.version===WMSVersion.version130&&(H=H+("&I="+v)+("&J="+D));H+="&FORMAT=image/gif&STYLES=";try{H+="&"+l._getMapDimURL(c),E+=H}catch(N){Y(null)}MakeHTTPRequest(E,function(N,K){if(null!=N)console.error(N),Y(null);else{N=JSON.parse(K);var ba;for(ba in N){K=N[ba];if("ID_backup"==K.name)var Z=K.data;if("LATCEN"==K.name)var P=K.data;if("LONCEN"==K.name)var X=K.data;if("DVCE"==K.name)var oa=K.data;if("DVGR"==K.name)var qa=K.data;if("ECTOP"==K.name)var sa=K.data;if("ESPE"==K.name&&
(!isDefined(xa)||"nodata"==xa[Object.keys(xa)]))var xa=K.data;if("GRA"==K.name)var Ea=K.data;if("HB45"==K.name)var Ca=K.data;if("HBAS"==K.name)var La=K.data;if("DVIL"==K.name&&(!isDefined(Qa)||"nodata"==Qa[Object.keys(Qa)]))var Qa=K.data;if("ZMAX"==K.name&&(!isDefined(Ua)||"nodata"==Ua[Object.keys(Ua)]||Ua[Object.keys(Ua)]==Z[Object.keys(Z)]))var Ua=K.data;if("ADV"==K.name)var Xa=K.data;if("NUM2D"==K.name)var db=K.data;if("ORG-PER"==K.name)var gb=K.data;if("PGR"==K.name)var rb=K.data;if("TAM(mm)"==
K.name)var Ab=K.data;if("DIRN"==K.name)var ub=K.data;if("V(KMH)"==K.name)var pb=K.data}try{var Oc=P[Object.keys(P)],Cc=X[Object.keys(X)],dd=oa[Object.keys(oa)],Dc=qa[Object.keys(qa)],Ec=sa[Object.keys(sa)],Qc=xa[Object.keys(xa)];oa="0";isDefined(Ea)&&(oa=Ea[Object.keys(Ea)]);var pc=Ca[Object.keys(Ca)],qc=La[Object.keys(La)],ed=Qa[Object.keys(Qa)],fd=Ua[Object.keys(Ua)];Qa="0";isDefined(db)&&(Qa=db[Object.keys(db)]);db="0";isDefined(gb)&&(db=gb[Object.keys(gb)]);var Cd=rb[Object.keys(rb)],gd=Ab[Object.keys(Ab)],
Dd=ub[Object.keys(ub)],ne=pb[Object.keys(pb)],Yb=Z[Object.keys(Z)];Z="0";isDefined(Xa)&&(Z=Xa[Object.keys(Xa)]);var Ed={LATCEN:Oc,LONCEN:Cc,ID:Yb,DVCE:dd,DVGR:Dc,ESPE:Qc,HB45:pc,HBAS:qc,ECTOP:Ec,DVIL:ed,ZMAX:fd,N2D:Qa,ADV:Z};granizo={GRA:oa,ORG:db,PGR:Cd,TAM:gd};Y({ANA:Ed,GRANIZO:granizo,MOV:{DIRN:Dd,VKMH:ne}})}catch(oe){Y(null)}}});debug('<a target="_blank" href="'+E+'">'+E+"</a>",!1)}function WMJScheckURL(c){if(!isDefined(c))return"?";c=c.trim();-1===c.indexOf("?")&&(c+="?");return c}
function isDefined(c){return"undefined"===typeof c?!1:!0}
function URLEncode(c){if(!c||void 0===c||""===c||"string"!==typeof c)return c;var l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz%-_.!~*'()",v="0123456789ABCDEF";c=c.replace(/%/g,"%25");c=c.replace(/\+/g,"%2B");c=c.replace(/ /g,"%20");c=c.replace(/\^/g,"%5E");c=c.replace(/&/g,"%26");c=c.replace(/\?/g,"%3F");c=c.replace(/>/g,"%3E");c=c.replace(/</g,"%3C");c=c.replace(/\\/g,"%5C");for(var D="",E=0;E<c.length;E++){var Y=c.charAt(E);if(" "===Y)D+="%20";else if(-1!==l.indexOf(Y))D+=Y;
else{var H=Y.charCodeAt(0);255<H?(alert("Unicode Character '"+Y+"' cannot be encoded using standard URL encoding.\n(URL encoding only supports 8-bit characters.)\nA space (+) will be substituted."),D+="+"):(D+="%",D+=v.charAt(H>>4&15),D+=v.charAt(H&15))}}return D}
function getBBOXandProjString(c,l){var v="";if(c.version===WMSVersion.version100||c.version===WMSVersion.version111)v+="SRS="+URLEncode(l.srs)+"&",v+="BBOX="+l.bbox.left+","+l.bbox.bottom+","+l.bbox.right+","+l.bbox.top+"&";c.version===WMSVersion.version130&&(v+="CRS="+URLEncode(l.srs)+"&",v="EPSG:4326"===l.srs&&!1===c.wms130bboxcompatibilitymode?v+("BBOX="+l.bbox.bottom+","+l.bbox.left+","+l.bbox.top+","+l.bbox.right+"&"):v+("BBOX="+l.bbox.left+","+l.bbox.bottom+","+l.bbox.right+","+l.bbox.top+"&"));
return v}function getnum(c,l){console.log(wmjsond);console.log("PULSE!!",c,l,5E4);wmjsond.calculateBoundingBoxAndZoom(c,-1*l,1E5)}
function getTable(c,l,v,D){var E="NUM RAD NUPIX ZMAX ZMED VIL ZMXV DIRN V(KMH) NEG POS RAYo RAY ADV".split(" "),Y="NUM NUPIX ZMAX ZMED VIL DIRN V(KMH) NEG POS RAYo RAY".split(" "),H="NUM RAD ZMAX ESPE ECTOP DVIL ADV GRA".split(" ");D=["LATCEN","LONCEN"];Y="2D"==v?"NAC"==l?Y:E:H;l=c[0].split(",");v=[];for(E=0;E<Y.length;E++)l.includes(Y[E])&&v.push(l.indexOf(Y[E]));Y=[];for(E=0;E<D.length;E++)l.includes(D[E])&&Y.push(l.indexOf(D[E]));D=[];l=[];for(E=0;E<c.length;E++){H=c[E].split(",");var N=[];l.push([H[Y[0]],
H[Y[1]]]);for(var K=0;K<v.length;K++)N.push(H[v[K]]);isDefined(N[1])&&D.push(N)}c='<table id="my-table">';for(v=0;v<D.length;v++){0===v&&(c+="<thead>");c+="<tr>";E=D[v];Y=l[v];for(H=0;H<E.length;H++)0===v?(c+="<th>",c+=E[H],c+="</th>"):(c=0===H?c+('<td style="cursor:pointer;color:#00f" onclick="getnum('+Y[0]+","+Y[1]+')">'):c+"<td>",c+=E[H],c+="</td>");0===v?(c+="</tr>",c+="</thead>",c+="<tbody>"):c+="</tr>"}c+="</tbody></table>";1==D.length&&(c="<b>NO CELLS</b></br>");return c};var gfiapp_point_interest=function(c,l){var v=this,D=[],E=!0,Y=function(H,N){var K=null,ba=null,Z=null;setflags=function(){K&&ba&&Z?(lon=K,lat=ba,name=Z,fullUrl=knmiFlagURL+"file="+pointInterestFileName+"&location="+lon+","+lat+"&name="+name,$.ajax({type:"GET",url:fullUrl,success:function(X){"OK"===X.status?(X=Ext.getCmp("webmapjs_add_point_interest"),X.getEl().dom.style.background="#BCED91",l.getImageStore().clear(),l.draw("draw")):(X=Ext.getCmp("webmapjs_add_point_interest"),X.getEl().dom.style.background=
"#FF4040")},dataType:"jsonp",contentType:"application/jsonp",jsonpCallback:"resultSetFlag",crossDomain:!0})):(Z||$("#webmapjs_point_interest_name").css("border","2px solid red"),K||$("#webmapjs_point_interest_lon").css("border","2px solid red"),ba||$("#webmapjs_point_interest_lat").css("border","2px solid red"))};delete_flag=function(){Ext.MessageBox.show({title:I18n.delete_title_confirm.text,msg:I18n.are_you_sure.text,buttons:Ext.MessageBox.YESNO,icon:Ext.MessageBox.WARNING,fn:function(X){"yes"==
X&&(name=$(".webmapjs_label_selected_point_interest").text(),fullUrl=knmiFlagURL+"file="+pointInterestFileName+"&name="+name,$.ajax({type:"GET",url:fullUrl,success:function(oa){Ext.getCmp("webmapjs_delete_point_interest").getEl().dom.style.background="#BCED91";l.getImageStore().clear();l.draw()},dataType:"jsonp",contentType:"application/jsonp",jsonpCallback:"resultSetFlag",crossDomain:!0}))}})};c.html("<label class='webmapjs_label_point_interest' for='webmapjs_div_point_interest'>"+I18n.add_point_interest_abstract.text+
"</label><div id='webmapjs_div_point_interest' class='webmapjs_div_point_interest'><input type='number' step='0.01' id='webmapjs_point_interest_lat' class='webmapjs_input_point_interest' placeholder='Lat:'/><input type='number' step='0.01' id='webmapjs_point_interest_lon' class='webmapjs_input_point_interest' placeholder='Lon:'/><input type='text' id='webmapjs_point_interest_name' class='webmapjs_input_point_interest' placeholder='"+I18n.insert_name.text+"' /></div><div class='webmapjs_point_added'></div><div class='webmapjs_point_not_added'></div><label class='webmapjs_label_selected_point_interest_abstract' for='webmapjs_div_selected_point_interest'>"+
I18n.selected_flag.text+"</label><div id='webmapjs_div_selected_point_interest' class='webmapjs_div_selected_point_interest'><label class='webmapjs_label_selected_point_interest'>"+I18n.default_selected_flag.text+"</label></div>");Ext.create("Ext.Button",{text:I18n.add_point_interest.text,id:"webmapjs_add_point_interest",tooltip:I18n.add_flag_tooltip.tooltip,renderTo:"webmapjs_div_point_interest",handler:function(){setflags()}});Ext.create("Ext.Button",{text:I18n.delete.text,id:"webmapjs_delete_point_interest",
tooltip:I18n.delete_selected_flag_tooltip.tooltip,renderTo:"webmapjs_div_selected_point_interest",cls:"webmapjs_button_delete_point_interest",handler:function(){delete_flag()}});$("#webmapjs_point_interest_name, #webmapjs_point_interest_lon, #webmapjs_point_interest_lat").keypress(function(X){if(13==X.which)return setflags(),!1});var P=function(){var X=c.find(".gfiapp_point_interest");X.empty();for(var oa=l.getLayers(),qa=0;qa<oa.length;qa++){var sa=oa[qa],xa=jQuery("<div />",{css:{margin:8}});X.append(xa);
xa.html("LAYER "+sa.service)}v.resize(H,N)};P();l.addListener("onlayeradd",P,!0);l.addListener("mouseclicked",function(X){if(0!=E){var oa=l.getLatLongFromPixelCoord({x:X.x,y:X.y});K=oa.x;ba=oa.y;$("#webmapjs_point_interest_lon").val(oa.x.toFixed(5));$("#webmapjs_point_interest_lat").val(oa.y.toFixed(5));$("#webmapjs_point_interest_lon, #webmapjs_point_interest_lat").css("border","1px solid grey");oa=l.getLayers();X=l.getWMSGetFeatureInfoRequestURL(oa[0],X.x,X.y).replace("&INFO_FORMAT=text/html","&INFO_FORMAT=application/json")+
"&JSONP=featureInfoCallback";$.ajax({dataType:"jsonp",jsonpCallback:"featureInfoCallback",type:"GET",cache:!1,url:X,success:function(qa){qa[1]&&"nodata"!==qa[1].data?($(".webmapjs_label_selected_point_interest").text(qa[1].data),$(".webmapjs_button_delete_point_interest").css("display","inline")):($(".webmapjs_label_selected_point_interest").text(I18n.default_selected_flag.text),$(".webmapjs_button_delete_point_interest").css("display","none"))},error:function(qa,sa,xa){debug(sa+", "+xa)}})}},!0);
$("#webmapjs_point_interest_name").on("input",function(X){onChangeEvents("name",X)});$("#webmapjs_point_interest_lon").on("input",function(X){onChangeEvents("lon",X);changeMapPin()});$("#webmapjs_point_interest_lat").on("input",function(X){onChangeEvents("lat",X);changeMapPin()});this.onChangeEvents=function(X,oa){var qa=Ext.getCmp("webmapjs_add_point_interest");qa.getEl().dom.style.background="";qa=Ext.getCmp("webmapjs_delete_point_interest");qa.getEl().dom.style.background="";switch(X){case "name":Z=
oa.target.value;break;case "lon":K=oa.target.value;break;case "lat":ba=oa.target.value}$("#webmapjs_point_interest_"+X).css("border","1px solid grey")};this.changeMapPin=function(){l.positionMapPinByLatLon({x:K,y:ba})};l.enableInlineGetFeatureInfo(!1)};this.enable=function(H,N){Y(H,N);E=!0};this.disable=function(){E=!1;l.enableInlineGetFeatureInfo(!0)};this.resize=function(H,N){for(var K=0;K<D.length;K++)D[K].setSize(H,N/D.length);for(K=0;K<D.length;K++);};v.enable()};
WMJSExtApplications["Points of interest"]=gfiapp_point_interest;var gfiapp_eprofile=function(c,l){var v=this,D=[],E=function(Y,H){c.html('<div id="info"></div><div class="gfiapp_eprofile">bla</div>');var N=function(Z,P){P=P.id;for(var X=0;X<D.length;X++){var oa=D[X].getWebMapJS();oa.suspendEvent("onupdatebbox");X!=P&&0==Z.equals(D[X].getWebMapJS().getProjection().bbox)&&(oa.zoomTo(Z),D[X].updateBBOX(Z));oa.resumeEvent("onupdatebbox")}},K=function(Z,P){Z=P.id;for(P=0;P<D.length;P++){var X=D[P].getWebMapJS();X.suspendEvent("onupdatebbox");X.suspendEvent("onloadingcomplete");
P!=Z&&X.draw();X.resumeEvent("onloadingcomplete");X.resumeEvent("onupdatebbox")}},ba=function(){var Z=c.find(".gfiapp_eprofile");Z.empty();for(var P=l.getLayers(),X=0;X<P.length;X++){var oa=P[X],qa=jQuery("<div />",{css:{margin:8}});Z.append(qa);D[X]=new GFITimeElevationWindow(qa);D[X].getWebMapJS().addLayer(oa);D[X].getWebMapJS().getListener().id=X;D[X].getWebMapJS().addListener("onupdatebbox",N,!0);D[X].getWebMapJS().addListener("onloadingcomplete",K,!0)}v.resize(Y,H)};ba();l.addListener("ondimchange",
function(){var Z=D[0].getWebMapJS(),P=Z.getProjection().bbox.clone();Z=Z.getProjection().bbox.right-Z.getProjection().bbox.left;var X=(new Date(l.getDimension("time").currentValue)).getTime();P.left=X;P.right=X+Z;for(Z=0;Z<D.length;Z++)D[Z].getWebMapJS().zoomTo(P)},!0);l.addListener("onlayeradd",ba,!0);console.log(D[0]);D[0].getWebMapJS().addListener("onloadingcomplete",function(){var Z=D[0].getWebMapJS().getProjection().bbox.clone();$("#info").html("Displaying dates "+l.dateToISO8601(new Date(Z.left))+
" till "+l.dateToISO8601(new Date(Z.right)))},!0);l.enableInlineGetFeatureInfo(!1)};this.enable=function(Y,H){E(Y,H)};this.disable=function(){l.enableInlineGetFeatureInfo(!0)};this.resize=function(Y,H){for(var N=0;N<D.length;N++)D[N].setSize(Y,H/D.length);for(N=0;N<D.length;N++);};v.enable()};WMJSExtApplications.EProfile=gfiapp_eprofile;var autowms_app=function(c,l){initWMJS();c.addClass("autowms_app_container");var v="https://geoservices.knmi.nl/autowms?";try{v=autowmsURL}catch(P){}var D={},E=[],Y=function(P){var X=K();c.html(X+JSON.stringify(P));$(".autowms_app_fileitem_return").attr("onclick","").click(function(oa){E=[];Z("")});$(".autowms_app_fileitem_refresh").attr("onclick","").click(function(oa){var qa=$(this).attr("name");$(".autowms_app_fileitem").remove();$(".autowms_app_layeritem").remove();setTimeout(function(){Z(qa)},
100)})},H=function(P){var X=P.name;return P.leaf?"<span class='autowms_app_fileitem' name='"+P.name+"'>&#128451;&nbsp;"+X+"</span>":"<span class='autowms_app_fileitem autowms_app_diritem' name='"+P.name+"'>&#128448;&nbsp;"+X+"</span>"},N=function(P,X){var oa="<span class='autowms_app_layeritem' title='Click to add to viewer' name='"+P.name+"'><span class='autowms_app_layeritem_text'>Layer "+P.text+" - ("+P.name+")</span>";return oa+="<span class='autowms_app_layeritem_image'><img src=\""+(X+"&service=WMS&request=getmap&format=image/png&layers="+
P.name+"&width=400&CRS=EPSG:4326&STYLES=&EXCEPTIONS=INIMAGE&showlegend=true&dim_reference_time=*&"+Math.random())+'" /></span></span>'},K=function(P,X){return"<span class='autowms_app_currentpath'>AutoWMS link: <span class='autowms_app_request_container'><input class='autowms_app_request_input' type=\"text\" value=\""+v+"\"></input>  <span class='autowms_app_request_button'>-></span></span><hr/><span class='autowms_app_currentpath'>Current folder: ./"+(X+'</span><span class="autowms_app_fileitem_header"><span class="autowms_app_fileitem_return">&#128193;&nbsp;<b>../ (&#8679;)</b></span><span class="autowms_app_fileitem_refresh" name="')+
(X+'">&#8635;&nbsp;<b>Refresh</b></span></span>')},ba=function(P,X){c.html("... working ... ");var oa=WMJSGetServiceFromStore(X,xml2jsonrequestURL);oa.getLayerObjectsFlat(function(qa){var sa=""+K(P,X);sa+="<span class='autowms_app_serviceabstract'><b>"+oa.title.replace(/!/g,"<br/>")+"</b><hr/>"+oa.abstract.replace(/!/g,"<br/>");if(X&&(sa+='<hr/>WMS: <a target="_blank" href="'+X+'&service=WMS&request=GetCapabilities">'+X+"</a>",1<X.split("?").length)){var xa=new WMJSKVP(X.split("?")[1]),Ea=X.split("?")[0].replace("adagucserver",
"adagucopendap/");Ea=Ea.replace(/([^:]\/)\/+/g,"$1");console.log("dapURL",Ea);xa.source&&(Ea+=xa.source);xa.dataset&&(Ea+=xa.dataset+"/");sa=sa+('<hr/>OpenDAP: <span class=\'autowms_app_opendaplinks\'><a target="_blank" href="'+Ea+'">'+Ea+'</a><a target="_blank" href="')+(Ea+'.das">DAS</a><a target="_blank" href="')+(Ea+'.dds">DDS</a></span>')}sa+="</span>";c.html("... working ... ");D={};for(xa=0;xa<qa.length;xa++)sa+=N(qa[xa],X),D[qa[xa].name]=qa[xa];c.html(sa);$(".autowms_app_layeritem").attr("onclick",
"").click(function(Ca){Ca=D[$(this).attr("name")];window.location.hash="addlayer('"+X+"','"+Ca.name+"')"});$(".autowms_app_fileitem_return").attr("onclick","").click(function(Ca){Z(E.pop())});$(".autowms_app_fileitem_refresh").attr("onclick","").click(function(Ca){var La=$(this).attr("name");$(".autowms_app_fileitem").remove();$(".autowms_app_layeritem").remove();setTimeout(function(){ba(P,La)},100)});$(".autowms_app_request_button").attr("onclick","").click(function(Ca){Z("")});$(".autowms_app_request_input").keyup(function(Ca){13==
Ca.keyCode&&Z("")})},function(qa){qa=K();qa=qa+"<span class='autowms_app_error_container'><span class='autowms_app_error_container_header'>Unable to get WMS GetCapabilities</span><a target='_blank' href=\""+(X+'service=WMS&request=GetCapabilities">'+X+"</a>");c.html(qa+"</span>");$(".autowms_app_fileitem_return").attr("onclick","").click(function(sa){E=[];Z("")})},!0)},Z=function(P){P&&"undefined"!==P||(P="");var X=$(".autowms_app_request_input").first().val();X&&0<X.length&&(v=X.trim().split("?")[0],
v.endsWith("?")||(v+="?"));var oa=function(sa){if(sa.error)c.html("Error from server: "+sa.error);else{D={};E[E.length-1]!==P&&E.push(P);var xa=K(sa,P);c.html("... working ... ");sa.result.sort(function(Ca,La){if(Ca.name<=La.name)return-1;if(Ca.name>La.name)return 1;if(Ca.name==La.name)return 0});for(var Ea=0;Ea<sa.result.length;Ea++)xa+=H(sa.result[Ea]),D[sa.result[Ea].name]=sa.result[Ea];c.html(xa);$(".autowms_app_fileitem_return").attr("onclick","").click(function(Ca){E.pop();Z(E[E.length-1])});
$(".autowms_app_fileitem_refresh").attr("onclick","").click(function(Ca){var La=$(this).attr("name");$(".autowms_app_fileitem").remove();$(".autowms_app_layeritem").remove();setTimeout(function(){Z(La)},100)});$(".autowms_app_fileitem").attr("onclick","").click(function(Ca){Ca=D[$(this).attr("name")];!1===Ca.leaf?Z(Ca.path):ba(sa,Ca.adaguc)});$(".autowms_app_request_button").attr("onclick","").click(function(Ca){Z("")});$(".autowms_app_request_input").keyup(function(Ca){13==Ca.keyCode&&Z("")})}},
qa=v+"request=getfiles&path="+P;c.html('... Reading <a href="'+qa+'">'+qa+"</a> ... ");try{$.ajax({contentType:"application/json",crossDomain:!0,type:"GET",url:qa,success:oa,error:function(sa){console.error("Request failed without jsonp, trying jsonp");oa({result:[]});$.ajax({dataType:"jsonp",contentType:"application/jsonp",crossDomain:!0,type:"GET",url:qa,success:oa,error:function(xa){Y("Unable to do ajax call")}})}})}catch(sa){console.error(sa),Y(sa)}};this.enable=function(){c.html("<div>Initializing...</div>");
Z("")};this.disable=function(){};this.resize=function(P,X){}};try{WMJSExtApplications.AutoWMS=autowms_app}catch(c){};
//# sourceMappingURL=WMJSExt.min.js.map
